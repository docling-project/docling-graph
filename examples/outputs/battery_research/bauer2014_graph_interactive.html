<!doctype html>
            <html lang="en">
            <head>
            <meta charset="utf-8" />
            <meta name="viewport" content="width=device-width, initial-scale=1" />
            <title>CosmoGraph Visualization</title>
            <style>
                html, body {
                height: 100%;
                margin: 0;
                padding: 0;
                }
                body {
                /* Modern, legible system font stack */
                font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif;
                line-height: 1.4;
                background: #111;
                color: #eaeaea;
                }
                /* Full-viewport container for the widget */
                #root {
                position: fixed;
                inset: 0;
                display: grid;
                overflow: hidden;
                }
                /* Make the widget fill the container */
                #widget-host {
                width: 100%;
                height: 100%;
                }
                .wrapper {
                height: 100vh !important;
                }
            </style>

            <!-- RequireJS for the ipywidgets HTML manager -->
            <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"
                    integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA="
                    crossorigin="anonymous"></script>

            <!-- Map the anywidget runtime to a UMD build on a CDN for static embedding -->
            <script>
                (function() {
                if (window.require && window.require.config) {
                    window.require.config({
                    paths: {
                        anywidget: "https://unpkg.com/anywidget@0.9.13/dist/index.umd"
                    }
                    });
                }
                })();
            </script>

            <!-- IPywidgets bundle for embedding (RequireJS embedder for custom widgets) -->
            <script
                data-jupyter-widgets-cdn="https://unpkg.com/"
                data-jupyter-widgets-cdn-only
                src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@*/dist/embed-amd.js"
                crossorigin="anonymous">
            </script>

            <!-- Widget manager state -->
            <script type="application/vnd.jupyter.widget-state+json">
            {"version_major": 2, "version_minor": 0, "state": {"a28c43a752f04f7b8f3424a52ed65de6": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "2.0.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "2.0.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "2.0.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border_bottom": null, "border_left": null, "border_right": null, "border_top": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "2364cf42712a4495adfe7f6d81de13bb": {"model_name": "AnyModel", "model_module": "anywidget", "model_module_version": "~0.9.*", "state": {"_anywidget_id": "cosmograph.widget.Cosmograph", "_css": ".wrapper{overflow:auto;height:450px;display:flex;flex-flow:column;color:#ccc}.wrapper .graph{flex:1;min-height:0;display:flex}.wrapper .timeline{height:75px;min-height:75px;display:none;position:relative;background:var(--cosmograph-timeline-background);width:100%;overflow:hidden}.wrapper .bottom{position:absolute;overflow:hidden;display:flex;bottom:.5rem;left:.5rem;right:.5rem;flex-direction:row;justify-content:space-between;align-items:flex-end;pointer-events:none}.wrapper .bottom .leftLegends{display:flex;flex-direction:column}.wrapper .bottom .rightLegends{display:flex;flex-direction:row;align-items:flex-end;gap:20px}.wrapper .bottom .pointSizeLegend,.wrapper .bottom .linkWidthLegend{width:fit-content;padding-bottom:20px}.wrapper .bottom .pointColorLegend{padding:5px;width:fit-content}.wrapper .bottom .pointTypeColorLegend{padding:6px;border-radius:5px;backdrop-filter:blur(6px);width:fit-content}.wrapper .bottom .linkColorLegend{width:fit-content}.wrapper .bottom .disable{display:none}.wrapper .leftControls{position:absolute;top:.25rem;left:.25rem;display:flex;flex-direction:column}.wrapper .rightControls{position:absolute;top:.25rem;right:.25rem;display:flex;flex-direction:column}.wrapper .leftControls .selectAreaButton,.wrapper .rightControls .selectAreaButton,.wrapper .controls .selectAreaButton,.wrapper .leftControls .fitViewButton,.wrapper .rightControls .fitViewButton,.wrapper .controls .fitViewButton,.wrapper .leftControls .playButton,.wrapper .rightControls .playButton,.wrapper .controls .playButton{width:15px;height:15px;padding:7px}.wrapper .leftControls .zoomInOutButton,.wrapper .rightControls .zoomInOutButton,.wrapper .controls .zoomInOutButton{width:15px;height:30px}.wrapper .controls .zoomInOutButton div{padding:7px}.wrapper .leftControls .settingsButton,.wrapper .rightControls .settingsButton,.wrapper .controls .settingsButton{margin-top:1.9rem;pointer-events:auto;display:flex;align-items:center;justify-content:center}.loading-overlay{position:absolute;inset:0;background:#2d313a;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:1000;color:#fff;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;transition:opacity .3s ease-out}.loading-spinner{width:40px;height:40px;border:4px solid rgba(255,255,255,.3);border-top:4px solid #fff;border-radius:50%;animation:spin 1s linear infinite;margin-bottom:16px}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.cell-output-ipywidget-background{padding:0!important}.settings-panel{position:absolute;top:.5rem;right:3rem;z-index:100;pointer-events:auto;display:none;width:280px;max-height:calc(100% - 1rem);overflow-y:auto;overflow-x:hidden;background:#2d313af2;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:8px;box-shadow:0 8px 24px #0006}.settings-panel::-webkit-scrollbar{width:8px}.settings-panel::-webkit-scrollbar-track{background:#0003;border-radius:4px;margin:4px 0}.settings-panel::-webkit-scrollbar-thumb{background:#ffffff4d;border-radius:4px;transition:background .2s ease}.settings-panel::-webkit-scrollbar-thumb:hover{background:#ffffff80}.settings-panel{scrollbar-width:thin;scrollbar-color:rgba(255,255,255,.3) rgba(0,0,0,.2)}.settings-panel-toggle{background:#ffffff1a;backdrop-filter:blur(10px);border:none;border-radius:6px;color:#fff;cursor:pointer;width:29px;height:29px;min-width:29px;min-height:29px;font-size:15px;display:flex;align-items:center;justify-content:center;transition:all .2s ease;box-sizing:border-box;padding:0;margin:0;flex-shrink:0}.settings-panel-toggle:hover{background:#ffffff26}.settings-panel-content{padding:1rem}.settings-control{margin-bottom:.875rem}.settings-control:last-child{margin-bottom:0}.settings-label{display:flex;justify-content:space-between;margin-bottom:.4rem;font-size:12px;color:#ccc;font-weight:500}.settings-value{color:#fff;font-weight:600}.settings-slider{width:100%;height:4px;background:#fff3;border-radius:2px;outline:none;appearance:none;-webkit-appearance:none}.settings-slider::-webkit-slider-thumb{appearance:none;-webkit-appearance:none;width:14px;height:14px;background:#fff;border-radius:50%;cursor:pointer;transition:all .2s ease}.settings-slider::-webkit-slider-thumb:hover{transform:scale(1.2);box-shadow:0 0 8px #ffffff80}.settings-slider::-moz-range-thumb{width:14px;height:14px;background:#fff;border:none;border-radius:50%;cursor:pointer;transition:all .2s ease}.settings-slider::-moz-range-thumb:hover{transform:scale(1.2);box-shadow:0 0 8px #ffffff80}.settings-toggle-label{display:flex;align-items:center;cursor:pointer;font-size:12px;color:#ccc;font-weight:500;user-select:none}.settings-checkbox{margin-right:.5rem;cursor:pointer;width:16px;height:16px}.settings-checkbox:disabled{cursor:not-allowed;opacity:.5}.settings-section{margin-top:.875rem;padding-top:.875rem;border-top:1px solid rgba(255,255,255,.1)}.settings-section-title{font-size:10px;text-transform:uppercase;color:#ffffff80;font-weight:600;letter-spacing:.5px;margin-bottom:.625rem}.point-info-panel{position:absolute;top:.5rem;left:3rem;z-index:100;pointer-events:auto;display:none;width:240px;max-height:calc(100% - 1rem);background:#2d313af2;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:8px;box-shadow:0 8px 24px #0006;overflow:hidden;display:flex;flex-direction:column}.point-info-content{padding:.75rem 1rem 1rem;flex-shrink:0}.point-info-header{font-size:13px;font-weight:600;color:#fff;padding-bottom:.75rem;border-bottom:1px solid rgba(255,255,255,.1)}.point-info-items{display:flex;flex-direction:column;gap:.75rem;overflow-y:auto;overflow-x:hidden;padding:.75rem 1rem 1rem;max-height:calc(100vh - 10rem)}.point-info-items::-webkit-scrollbar{width:8px}.point-info-items::-webkit-scrollbar-track{background:#0003;border-radius:4px;margin:4px 0}.point-info-items::-webkit-scrollbar-thumb{background:#ffffff4d;border-radius:4px;transition:background .2s ease}.point-info-items::-webkit-scrollbar-thumb:hover{background:#ffffff80}.point-info-items{scrollbar-width:thin;scrollbar-color:rgba(255,255,255,.3) rgba(0,0,0,.2)}.point-info-item{display:flex;flex-direction:column;gap:.3rem}.point-info-label{color:#ffffff80;font-size:10px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.point-info-value{color:#fff;font-size:13px;font-weight:500;word-break:break-word}.point-info-close{position:absolute;top:.75rem;right:.75rem;background:#ffffff1a;border:none;border-radius:4px;color:#fff;cursor:pointer;font-size:16px;line-height:1;padding:0;width:24px;height:24px;display:flex;align-items:center;justify-content:center;transition:all .2s ease;opacity:.7}.point-info-close:hover{background:#ffffff26;opacity:1}\n", "_dom_classes": [], "_esm": "var Fz=Object.defineProperty;var wc=(t,e)=>{for(var i in e)Fz(t,i,{get:e[i],enumerable:!0})};var bw=\"http://www.w3.org/1999/xhtml\",hI={svg:\"http://www.w3.org/2000/svg\",xhtml:bw,xlink:\"http://www.w3.org/1999/xlink\",xml:\"http://www.w3.org/XML/1998/namespace\",xmlns:\"http://www.w3.org/2000/xmlns/\"};function hy(t){var e=t+=\"\",i=e.indexOf(\":\");return i>=0&&(e=t.slice(0,i))!==\"xmlns\"&&(t=t.slice(i+1)),hI.hasOwnProperty(e)?{space:hI[e],local:t}:t}function Uz(t){return function(){var e=this.ownerDocument,i=this.namespaceURI;return i===bw&&e.documentElement.namespaceURI===bw?e.createElement(t):e.createElementNS(i,t)}}function jz(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function a5(t){var e=hy(t);return(e.local?jz:Uz)(e)}function Vz(){}function sS(t){return t==null?Vz:function(){return this.querySelector(t)}}function Wz(t){typeof t!=\"function\"&&(t=sS(t));for(var e=this._groups,i=e.length,n=new Array(i),o=0;o<i;++o)for(var r=e[o],s=r.length,a=n[o]=new Array(s),l,c,u=0;u<s;++u)(l=r[u])&&(c=t.call(l,l.__data__,u,r))&&(\"__data__\"in l&&(c.__data__=l.__data__),a[u]=c);return new zo(n,this._parents)}function Hz(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function $z(){return[]}function l5(t){return t==null?$z:function(){return this.querySelectorAll(t)}}function qz(t){return function(){return Hz(t.apply(this,arguments))}}function Gz(t){typeof t==\"function\"?t=qz(t):t=l5(t);for(var e=this._groups,i=e.length,n=[],o=[],r=0;r<i;++r)for(var s=e[r],a=s.length,l,c=0;c<a;++c)(l=s[c])&&(n.push(t.call(l,l.__data__,c,s)),o.push(l));return new zo(n,o)}function c5(t){return function(){return this.matches(t)}}function u5(t){return function(e){return e.matches(t)}}var Yz=Array.prototype.find;function Qz(t){return function(){return Yz.call(this.children,t)}}function Xz(){return this.firstElementChild}function Kz(t){return this.select(t==null?Xz:Qz(typeof t==\"function\"?t:u5(t)))}var Zz=Array.prototype.filter;function Jz(){return Array.from(this.children)}function eO(t){return function(){return Zz.call(this.children,t)}}function tO(t){return this.selectAll(t==null?Jz:eO(typeof t==\"function\"?t:u5(t)))}function iO(t){typeof t!=\"function\"&&(t=c5(t));for(var e=this._groups,i=e.length,n=new Array(i),o=0;o<i;++o)for(var r=e[o],s=r.length,a=n[o]=[],l,c=0;c<s;++c)(l=r[c])&&t.call(l,l.__data__,c,r)&&a.push(l);return new zo(n,this._parents)}function d5(t){return new Array(t.length)}function nO(){return new zo(this._enter||this._groups.map(d5),this._parents)}function ey(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ey.prototype={constructor:ey,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function oO(t){return function(){return t}}function rO(t,e,i,n,o,r){for(var s=0,a,l=e.length,c=r.length;s<c;++s)(a=e[s])?(a.__data__=r[s],n[s]=a):i[s]=new ey(t,r[s]);for(;s<l;++s)(a=e[s])&&(o[s]=a)}function sO(t,e,i,n,o,r,s){var a,l,c=new Map,u=e.length,d=r.length,h=new Array(u),f;for(a=0;a<u;++a)(l=e[a])&&(h[a]=f=s.call(l,l.__data__,a,e)+\"\",c.has(f)?o[a]=l:c.set(f,l));for(a=0;a<d;++a)f=s.call(t,r[a],a,r)+\"\",(l=c.get(f))?(n[a]=l,l.__data__=r[a],c.delete(f)):i[a]=new ey(t,r[a]);for(a=0;a<u;++a)(l=e[a])&&c.get(h[a])===l&&(o[a]=l)}function aO(t){return t.__data__}function lO(t,e){if(!arguments.length)return Array.from(this,aO);var i=e?sO:rO,n=this._parents,o=this._groups;typeof t!=\"function\"&&(t=oO(t));for(var r=o.length,s=new Array(r),a=new Array(r),l=new Array(r),c=0;c<r;++c){var u=n[c],d=o[c],h=d.length,f=cO(t.call(u,u&&u.__data__,c,n)),v=f.length,L=a[c]=new Array(v),A=s[c]=new Array(v),I=l[c]=new Array(h);i(u,d,L,A,I,f,e);for(var B=0,F=0,k,N;B<v;++B)if(k=L[B]){for(B>=F&&(F=B+1);!(N=A[F])&&++F<v;);k._next=N||null}}return s=new zo(s,n),s._enter=a,s._exit=l,s}function cO(t){return typeof t==\"object\"&&\"length\"in t?t:Array.from(t)}function uO(){return new zo(this._exit||this._groups.map(d5),this._parents)}function dO(t,e,i){var n=this.enter(),o=this,r=this.exit();return typeof t==\"function\"?(n=t(n),n&&(n=n.selection())):n=n.append(t+\"\"),e!=null&&(o=e(o),o&&(o=o.selection())),i==null?r.remove():i(r),n&&o?n.merge(o).order():o}function hO(t){for(var e=t.selection?t.selection():t,i=this._groups,n=e._groups,o=i.length,r=n.length,s=Math.min(o,r),a=new Array(o),l=0;l<s;++l)for(var c=i[l],u=n[l],d=c.length,h=a[l]=new Array(d),f,v=0;v<d;++v)(f=c[v]||u[v])&&(h[v]=f);for(;l<o;++l)a[l]=i[l];return new zo(a,this._parents)}function pO(){for(var t=this._groups,e=-1,i=t.length;++e<i;)for(var n=t[e],o=n.length-1,r=n[o],s;--o>=0;)(s=n[o])&&(r&&s.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(s,r),r=s);return this}function fO(t){t||(t=mO);function e(d,h){return d&&h?t(d.__data__,h.__data__):!d-!h}for(var i=this._groups,n=i.length,o=new Array(n),r=0;r<n;++r){for(var s=i[r],a=s.length,l=o[r]=new Array(a),c,u=0;u<a;++u)(c=s[u])&&(l[u]=c);l.sort(e)}return new zo(o,this._parents).order()}function mO(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function gO(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function _O(){return Array.from(this)}function yO(){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var n=t[e],o=0,r=n.length;o<r;++o){var s=n[o];if(s)return s}return null}function bO(){let t=0;for(let e of this)++t;return t}function vO(){return!this.node()}function xO(t){for(var e=this._groups,i=0,n=e.length;i<n;++i)for(var o=e[i],r=0,s=o.length,a;r<s;++r)(a=o[r])&&t.call(a,a.__data__,r,o);return this}function wO(t){return function(){this.removeAttribute(t)}}function SO(t){return function(){this.removeAttributeNS(t.space,t.local)}}function CO(t,e){return function(){this.setAttribute(t,e)}}function kO(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function EO(t,e){return function(){var i=e.apply(this,arguments);i==null?this.removeAttribute(t):this.setAttribute(t,i)}}function IO(t,e){return function(){var i=e.apply(this,arguments);i==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}}function TO(t,e){var i=hy(t);if(arguments.length<2){var n=this.node();return i.local?n.getAttributeNS(i.space,i.local):n.getAttribute(i)}return this.each((e==null?i.local?SO:wO:typeof e==\"function\"?i.local?IO:EO:i.local?kO:CO)(i,e))}function h5(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function AO(t){return function(){this.style.removeProperty(t)}}function LO(t,e,i){return function(){this.style.setProperty(t,e,i)}}function DO(t,e,i){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(t):this.style.setProperty(t,n,i)}}function PO(t,e,i){return arguments.length>1?this.each((e==null?AO:typeof e==\"function\"?DO:LO)(t,e,i??\"\")):od(this.node(),t)}function od(t,e){return t.style.getPropertyValue(e)||h5(t).getComputedStyle(t,null).getPropertyValue(e)}function RO(t){return function(){delete this[t]}}function MO(t,e){return function(){this[t]=e}}function zO(t,e){return function(){var i=e.apply(this,arguments);i==null?delete this[t]:this[t]=i}}function OO(t,e){return arguments.length>1?this.each((e==null?RO:typeof e==\"function\"?zO:MO)(t,e)):this.node()[t]}function p5(t){return t.trim().split(/^|\\s+/)}function aS(t){return t.classList||new f5(t)}function f5(t){this._node=t,this._names=p5(t.getAttribute(\"class\")||\"\")}f5.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute(\"class\",this._names.join(\" \")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute(\"class\",this._names.join(\" \")))},contains:function(t){return this._names.indexOf(t)>=0}};function m5(t,e){for(var i=aS(t),n=-1,o=e.length;++n<o;)i.add(e[n])}function g5(t,e){for(var i=aS(t),n=-1,o=e.length;++n<o;)i.remove(e[n])}function BO(t){return function(){m5(this,t)}}function NO(t){return function(){g5(this,t)}}function FO(t,e){return function(){(e.apply(this,arguments)?m5:g5)(this,t)}}function UO(t,e){var i=p5(t+\"\");if(arguments.length<2){for(var n=aS(this.node()),o=-1,r=i.length;++o<r;)if(!n.contains(i[o]))return!1;return!0}return this.each((typeof e==\"function\"?FO:e?BO:NO)(i,e))}function jO(){this.textContent=\"\"}function VO(t){return function(){this.textContent=t}}function WO(t){return function(){var e=t.apply(this,arguments);this.textContent=e??\"\"}}function HO(t){return arguments.length?this.each(t==null?jO:(typeof t==\"function\"?WO:VO)(t)):this.node().textContent}function $O(){this.innerHTML=\"\"}function qO(t){return function(){this.innerHTML=t}}function GO(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??\"\"}}function YO(t){return arguments.length?this.each(t==null?$O:(typeof t==\"function\"?GO:qO)(t)):this.node().innerHTML}function QO(){this.nextSibling&&this.parentNode.appendChild(this)}function XO(){return this.each(QO)}function KO(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ZO(){return this.each(KO)}function JO(t){var e=typeof t==\"function\"?t:a5(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function eB(){return null}function tB(t,e){var i=typeof t==\"function\"?t:a5(t),n=e==null?eB:typeof e==\"function\"?e:sS(e);return this.select(function(){return this.insertBefore(i.apply(this,arguments),n.apply(this,arguments)||null)})}function iB(){var t=this.parentNode;t&&t.removeChild(this)}function nB(){return this.each(iB)}function oB(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function rB(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function sB(t){return this.select(t?rB:oB)}function aB(t){return arguments.length?this.property(\"__data__\",t):this.node().__data__}function lB(t){return function(e){t.call(this,e,this.__data__)}}function cB(t){return t.trim().split(/^|\\s+/).map(function(e){var i=\"\",n=e.indexOf(\".\");return n>=0&&(i=e.slice(n+1),e=e.slice(0,n)),{type:e,name:i}})}function uB(t){return function(){var e=this.__on;if(e){for(var i=0,n=-1,o=e.length,r;i<o;++i)r=e[i],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++n]=r;++n?e.length=n:delete this.__on}}}function dB(t,e,i){return function(){var n=this.__on,o,r=lB(e);if(n){for(var s=0,a=n.length;s<a;++s)if((o=n[s]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=r,o.options=i),o.value=e;return}}this.addEventListener(t.type,r,i),o={type:t.type,name:t.name,value:e,listener:r,options:i},n?n.push(o):this.__on=[o]}}function hB(t,e,i){var n=cB(t+\"\"),o,r=n.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(o=0,u=a[l];o<r;++o)if((s=n[o]).type===u.type&&s.name===u.name)return u.value}return}for(a=e?dB:uB,o=0;o<r;++o)this.each(a(n[o],e,i));return this}function _5(t,e,i){var n=h5(t),o=n.CustomEvent;typeof o==\"function\"?o=new o(e,i):(o=n.document.createEvent(\"Event\"),i?(o.initEvent(e,i.bubbles,i.cancelable),o.detail=i.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function pB(t,e){return function(){return _5(this,t,e)}}function fB(t,e){return function(){return _5(this,t,e.apply(this,arguments))}}function mB(t,e){return this.each((typeof e==\"function\"?fB:pB)(t,e))}function*gB(){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var n=t[e],o=0,r=n.length,s;o<r;++o)(s=n[o])&&(yield s)}var y5=[null];function zo(t,e){this._groups=t,this._parents=e}function $p(){return new zo([[document.documentElement]],y5)}function _B(){return this}zo.prototype=$p.prototype={constructor:zo,select:Wz,selectAll:Gz,selectChild:Kz,selectChildren:tO,filter:iO,data:lO,enter:nO,exit:uO,join:dO,merge:hO,selection:_B,order:pO,sort:fO,call:gO,nodes:_O,node:yO,size:bO,empty:vO,each:xO,attr:TO,style:PO,property:OO,classed:UO,text:HO,html:YO,raise:XO,lower:ZO,append:JO,insert:tB,remove:nB,clone:sB,datum:aB,on:hB,dispatch:mB,[Symbol.iterator]:gB};function bn(t){return typeof t==\"string\"?new zo([[document.querySelector(t)]],[document.documentElement]):new zo([[t]],y5)}function yB(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Ks(t,e){if(t=yB(t),e===void 0&&(e=t.currentTarget),e){var i=e.ownerSVGElement||e;if(i.createSVGPoint){var n=i.createSVGPoint();return n.x=t.clientX,n.y=t.clientY,n=n.matrixTransform(e.getScreenCTM().inverse()),[n.x,n.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}var bB={value:()=>{}};function py(){for(var t=0,e=arguments.length,i={},n;t<e;++t){if(!(n=arguments[t]+\"\")||n in i||/[\\s.]/.test(n))throw new Error(\"illegal type: \"+n);i[n]=[]}return new Y_(i)}function Y_(t){this._=t}function vB(t,e){return t.trim().split(/^|\\s+/).map(function(i){var n=\"\",o=i.indexOf(\".\");if(o>=0&&(n=i.slice(o+1),i=i.slice(0,o)),i&&!e.hasOwnProperty(i))throw new Error(\"unknown type: \"+i);return{type:i,name:n}})}Y_.prototype=py.prototype={constructor:Y_,on:function(t,e){var i=this._,n=vB(t+\"\",i),o,r=-1,s=n.length;if(arguments.length<2){for(;++r<s;)if((o=(t=n[r]).type)&&(o=xB(i[o],t.name)))return o;return}if(e!=null&&typeof e!=\"function\")throw new Error(\"invalid callback: \"+e);for(;++r<s;)if(o=(t=n[r]).type)i[o]=pI(i[o],t.name,e);else if(e==null)for(o in i)i[o]=pI(i[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var i in e)t[i]=e[i].slice();return new Y_(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var i=new Array(o),n=0,o,r;n<o;++n)i[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error(\"unknown type: \"+t);for(r=this._[t],n=0,o=r.length;n<o;++n)r[n].value.apply(e,i)},apply:function(t,e,i){if(!this._.hasOwnProperty(t))throw new Error(\"unknown type: \"+t);for(var n=this._[t],o=0,r=n.length;o<r;++o)n[o].value.apply(e,i)}};function xB(t,e){for(var i=0,n=t.length,o;i<n;++i)if((o=t[i]).name===e)return o.value}function pI(t,e,i){for(var n=0,o=t.length;n<o;++n)if(t[n].name===e){t[n]=bB,t=t.slice(0,n).concat(t.slice(n+1));break}return i!=null&&t.push({name:e,value:i}),t}var rd=0,Np=0,Dp=0,b5=1e3,ty,Fp,iy=0,Ec=0,fy=0,jp=typeof performance==\"object\"&&performance.now?performance:Date,v5=typeof window==\"object\"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function lS(){return Ec||(v5(wB),Ec=jp.now()+fy)}function wB(){Ec=0}function ny(){this._call=this._time=this._next=null}ny.prototype=x5.prototype={constructor:ny,restart:function(t,e,i){if(typeof t!=\"function\")throw new TypeError(\"callback is not a function\");i=(i==null?lS():+i)+(e==null?0:+e),!this._next&&Fp!==this&&(Fp?Fp._next=this:ty=this,Fp=this),this._call=t,this._time=i,vw()},stop:function(){this._call&&(this._call=null,this._time=1/0,vw())}};function x5(t,e,i){var n=new ny;return n.restart(t,e,i),n}function SB(){lS(),++rd;for(var t=ty,e;t;)(e=Ec-t._time)>=0&&t._call.call(null,e),t=t._next;--rd}function fI(){Ec=(iy=jp.now())+fy,rd=Np=0;try{SB()}finally{rd=0,kB(),Ec=0}}function CB(){var t=jp.now(),e=t-iy;e>b5&&(fy-=e,iy=t)}function kB(){for(var t,e=ty,i,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(i=e._next,e._next=null,e=t?t._next=i:ty=i);Fp=t,vw(n)}function vw(t){if(!rd){Np&&(Np=clearTimeout(Np));var e=t-Ec;e>24?(t<1/0&&(Np=setTimeout(fI,t-jp.now()-fy)),Dp&&(Dp=clearInterval(Dp))):(Dp||(iy=jp.now(),Dp=setInterval(CB,b5)),rd=1,v5(fI))}}function mI(t,e,i){var n=new ny;return e=e==null?0:+e,n.restart(o=>{n.stop(),t(o+e)},e,i),n}var EB=py(\"start\",\"end\",\"cancel\",\"interrupt\"),IB=[],w5=0,gI=1,xw=2,Q_=3,_I=4,ww=5,X_=6;function my(t,e,i,n,o,r){var s=t.__transition;if(!s)t.__transition={};else if(i in s)return;TB(t,i,{name:e,index:n,group:o,on:EB,tween:IB,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:w5})}function cS(t,e){var i=Rr(t,e);if(i.state>w5)throw new Error(\"too late; already scheduled\");return i}function fs(t,e){var i=Rr(t,e);if(i.state>Q_)throw new Error(\"too late; already running\");return i}function Rr(t,e){var i=t.__transition;if(!i||!(i=i[e]))throw new Error(\"transition not found\");return i}function TB(t,e,i){var n=t.__transition,o;n[e]=i,i.timer=x5(r,0,i.time);function r(c){i.state=gI,i.timer.restart(s,i.delay,i.time),i.delay<=c&&s(c-i.delay)}function s(c){var u,d,h,f;if(i.state!==gI)return l();for(u in n)if(f=n[u],f.name===i.name){if(f.state===Q_)return mI(s);f.state===_I?(f.state=X_,f.timer.stop(),f.on.call(\"interrupt\",t,t.__data__,f.index,f.group),delete n[u]):+u<e&&(f.state=X_,f.timer.stop(),f.on.call(\"cancel\",t,t.__data__,f.index,f.group),delete n[u])}if(mI(function(){i.state===Q_&&(i.state=_I,i.timer.restart(a,i.delay,i.time),a(c))}),i.state=xw,i.on.call(\"start\",t,t.__data__,i.index,i.group),i.state===xw){for(i.state=Q_,o=new Array(h=i.tween.length),u=0,d=-1;u<h;++u)(f=i.tween[u].value.call(t,t.__data__,i.index,i.group))&&(o[++d]=f);o.length=d+1}}function a(c){for(var u=c<i.duration?i.ease.call(null,c/i.duration):(i.timer.restart(l),i.state=ww,1),d=-1,h=o.length;++d<h;)o[d].call(t,u);i.state===ww&&(i.on.call(\"end\",t,t.__data__,i.index,i.group),l())}function l(){i.state=X_,i.timer.stop(),delete n[e];for(var c in n)return;delete t.__transition}}function K_(t,e){var i=t.__transition,n,o,r=!0,s;if(i){e=e==null?null:e+\"\";for(s in i){if((n=i[s]).name!==e){r=!1;continue}o=n.state>xw&&n.state<ww,n.state=X_,n.timer.stop(),n.on.call(o?\"interrupt\":\"cancel\",t,t.__data__,n.index,n.group),delete i[s]}r&&delete t.__transition}}function AB(t){return this.each(function(){K_(this,t)})}function uS(t,e,i){t.prototype=e.prototype=i,i.constructor=t}function S5(t,e){var i=Object.create(t.prototype);for(var n in e)i[n]=e[n];return i}function qp(){}var Vp=.7,oy=1/Vp,id=\"\\\\s*([+-]?\\\\d+)\\\\s*\",Wp=\"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",ps=\"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",LB=/^#([0-9a-f]{3,8})$/,DB=new RegExp(`^rgb\\\\(${id},${id},${id}\\\\)$`),PB=new RegExp(`^rgb\\\\(${ps},${ps},${ps}\\\\)$`),RB=new RegExp(`^rgba\\\\(${id},${id},${id},${Wp}\\\\)$`),MB=new RegExp(`^rgba\\\\(${ps},${ps},${ps},${Wp}\\\\)$`),zB=new RegExp(`^hsl\\\\(${Wp},${ps},${ps}\\\\)$`),OB=new RegExp(`^hsla\\\\(${Wp},${ps},${ps},${Wp}\\\\)$`),yI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};uS(qp,cl,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:bI,formatHex:bI,formatHex8:BB,formatHsl:NB,formatRgb:vI,toString:vI});function bI(){return this.rgb().formatHex()}function BB(){return this.rgb().formatHex8()}function NB(){return C5(this).formatHsl()}function vI(){return this.rgb().formatRgb()}function cl(t){var e,i;return t=(t+\"\").trim().toLowerCase(),(e=LB.exec(t))?(i=e[1].length,e=parseInt(e[1],16),i===6?xI(e):i===3?new vo(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):i===8?U_(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):i===4?U_(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=DB.exec(t))?new vo(e[1],e[2],e[3],1):(e=PB.exec(t))?new vo(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=RB.exec(t))?U_(e[1],e[2],e[3],e[4]):(e=MB.exec(t))?U_(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=zB.exec(t))?CI(e[1],e[2]/100,e[3]/100,1):(e=OB.exec(t))?CI(e[1],e[2]/100,e[3]/100,e[4]):yI.hasOwnProperty(t)?xI(yI[t]):t===\"transparent\"?new vo(NaN,NaN,NaN,0):null}function xI(t){return new vo(t>>16&255,t>>8&255,t&255,1)}function U_(t,e,i,n){return n<=0&&(t=e=i=NaN),new vo(t,e,i,n)}function FB(t){return t instanceof qp||(t=cl(t)),t?(t=t.rgb(),new vo(t.r,t.g,t.b,t.opacity)):new vo}function Sw(t,e,i,n){return arguments.length===1?FB(t):new vo(t,e,i,n??1)}function vo(t,e,i,n){this.r=+t,this.g=+e,this.b=+i,this.opacity=+n}uS(vo,Sw,S5(qp,{brighter(t){return t=t==null?oy:Math.pow(oy,t),new vo(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Vp:Math.pow(Vp,t),new vo(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new vo(Cc(this.r),Cc(this.g),Cc(this.b),ry(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wI,formatHex:wI,formatHex8:UB,formatRgb:SI,toString:SI}));function wI(){return`#${Sc(this.r)}${Sc(this.g)}${Sc(this.b)}`}function UB(){return`#${Sc(this.r)}${Sc(this.g)}${Sc(this.b)}${Sc((isNaN(this.opacity)?1:this.opacity)*255)}`}function SI(){let t=ry(this.opacity);return`${t===1?\"rgb(\":\"rgba(\"}${Cc(this.r)}, ${Cc(this.g)}, ${Cc(this.b)}${t===1?\")\":`, ${t})`}`}function ry(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Cc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Sc(t){return t=Cc(t),(t<16?\"0\":\"\")+t.toString(16)}function CI(t,e,i,n){return n<=0?t=e=i=NaN:i<=0||i>=1?t=e=NaN:e<=0&&(t=NaN),new Lr(t,e,i,n)}function C5(t){if(t instanceof Lr)return new Lr(t.h,t.s,t.l,t.opacity);if(t instanceof qp||(t=cl(t)),!t)return new Lr;if(t instanceof Lr)return t;t=t.rgb();var e=t.r/255,i=t.g/255,n=t.b/255,o=Math.min(e,i,n),r=Math.max(e,i,n),s=NaN,a=r-o,l=(r+o)/2;return a?(e===r?s=(i-n)/a+(i<n)*6:i===r?s=(n-e)/a+2:s=(e-i)/a+4,a/=l<.5?r+o:2-r-o,s*=60):a=l>0&&l<1?0:s,new Lr(s,a,l,t.opacity)}function jB(t,e,i,n){return arguments.length===1?C5(t):new Lr(t,e,i,n??1)}function Lr(t,e,i,n){this.h=+t,this.s=+e,this.l=+i,this.opacity=+n}uS(Lr,jB,S5(qp,{brighter(t){return t=t==null?oy:Math.pow(oy,t),new Lr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Vp:Math.pow(Vp,t),new Lr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,n=i+(i<.5?i:1-i)*e,o=2*i-n;return new vo(lw(t>=240?t-240:t+120,o,n),lw(t,o,n),lw(t<120?t+240:t-120,o,n),this.opacity)},clamp(){return new Lr(kI(this.h),j_(this.s),j_(this.l),ry(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=ry(this.opacity);return`${t===1?\"hsl(\":\"hsla(\"}${kI(this.h)}, ${j_(this.s)*100}%, ${j_(this.l)*100}%${t===1?\")\":`, ${t})`}`}}));function kI(t){return t=(t||0)%360,t<0?t+360:t}function j_(t){return Math.max(0,Math.min(1,t||0))}function lw(t,e,i){return(t<60?e+(i-e)*t/60:t<180?i:t<240?e+(i-e)*(240-t)/60:e)*255}var dS=t=>()=>t;function VB(t,e){return function(i){return t+i*e}}function WB(t,e,i){return t=Math.pow(t,i),e=Math.pow(e,i)-t,i=1/i,function(n){return Math.pow(t+n*e,i)}}function HB(t){return(t=+t)==1?k5:function(e,i){return i-e?WB(e,i,t):dS(isNaN(e)?i:e)}}function k5(t,e){var i=e-t;return i?VB(t,i):dS(isNaN(t)?e:t)}var sy=function t(e){var i=HB(e);function n(o,r){var s=i((o=Sw(o)).r,(r=Sw(r)).r),a=i(o.g,r.g),l=i(o.b,r.b),c=k5(o.opacity,r.opacity);return function(u){return o.r=s(u),o.g=a(u),o.b=l(u),o.opacity=c(u),o+\"\"}}return n.gamma=t,n}(1);function $B(t,e){e||(e=[]);var i=t?Math.min(e.length,t.length):0,n=e.slice(),o;return function(r){for(o=0;o<i;++o)n[o]=t[o]*(1-r)+e[o]*r;return n}}function qB(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function GB(t,e){var i=e?e.length:0,n=t?Math.min(i,t.length):0,o=new Array(n),r=new Array(i),s;for(s=0;s<n;++s)o[s]=hS(t[s],e[s]);for(;s<i;++s)r[s]=e[s];return function(a){for(s=0;s<n;++s)r[s]=o[s](a);return r}}function YB(t,e){var i=new Date;return t=+t,e=+e,function(n){return i.setTime(t*(1-n)+e*n),i}}function Ar(t,e){return t=+t,e=+e,function(i){return t*(1-i)+e*i}}function QB(t,e){var i={},n={},o;(t===null||typeof t!=\"object\")&&(t={}),(e===null||typeof e!=\"object\")&&(e={});for(o in e)o in t?i[o]=hS(t[o],e[o]):n[o]=e[o];return function(r){for(o in i)n[o]=i[o](r);return n}}var Cw=/[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,cw=new RegExp(Cw.source,\"g\");function XB(t){return function(){return t}}function KB(t){return function(e){return t(e)+\"\"}}function E5(t,e){var i=Cw.lastIndex=cw.lastIndex=0,n,o,r,s=-1,a=[],l=[];for(t=t+\"\",e=e+\"\";(n=Cw.exec(t))&&(o=cw.exec(e));)(r=o.index)>i&&(r=e.slice(i,r),a[s]?a[s]+=r:a[++s]=r),(n=n[0])===(o=o[0])?a[s]?a[s]+=o:a[++s]=o:(a[++s]=null,l.push({i:s,x:Ar(n,o)})),i=cw.lastIndex;return i<e.length&&(r=e.slice(i),a[s]?a[s]+=r:a[++s]=r),a.length<2?l[0]?KB(l[0].x):XB(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)a[(d=l[u]).i]=d.x(c);return a.join(\"\")})}function hS(t,e){var i=typeof e,n;return e==null||i===\"boolean\"?dS(e):(i===\"number\"?Ar:i===\"string\"?(n=cl(e))?(e=n,sy):E5:e instanceof cl?sy:e instanceof Date?YB:qB(e)?$B:Array.isArray(e)?GB:typeof e.valueOf!=\"function\"&&typeof e.toString!=\"function\"||isNaN(e)?QB:Ar)(t,e)}function ZB(t,e){return t=+t,e=+e,function(i){return Math.round(t*(1-i)+e*i)}}var EI=180/Math.PI,I5={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function T5(t,e,i,n,o,r){var s,a,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*i+e*n)&&(i-=t*l,n-=e*l),(a=Math.sqrt(i*i+n*n))&&(i/=a,n/=a,l/=a),t*n<e*i&&(t=-t,e=-e,l=-l,s=-s),{translateX:o,translateY:r,rotate:Math.atan2(e,t)*EI,skewX:Math.atan(l)*EI,scaleX:s,scaleY:a}}var V_;function JB(t){let e=new(typeof DOMMatrix==\"function\"?DOMMatrix:WebKitCSSMatrix)(t+\"\");return e.isIdentity?I5:T5(e.a,e.b,e.c,e.d,e.e,e.f)}function eN(t){return t==null||(V_||(V_=document.createElementNS(\"http://www.w3.org/2000/svg\",\"g\")),V_.setAttribute(\"transform\",t),!(t=V_.transform.baseVal.consolidate()))?I5:(t=t.matrix,T5(t.a,t.b,t.c,t.d,t.e,t.f))}function A5(t,e,i,n){function o(c){return c.length?c.pop()+\" \":\"\"}function r(c,u,d,h,f,v){if(c!==d||u!==h){var L=f.push(\"translate(\",null,e,null,i);v.push({i:L-4,x:Ar(c,d)},{i:L-2,x:Ar(u,h)})}else(d||h)&&f.push(\"translate(\"+d+e+h+i)}function s(c,u,d,h){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),h.push({i:d.push(o(d)+\"rotate(\",null,n)-2,x:Ar(c,u)})):u&&d.push(o(d)+\"rotate(\"+u+n)}function a(c,u,d,h){c!==u?h.push({i:d.push(o(d)+\"skewX(\",null,n)-2,x:Ar(c,u)}):u&&d.push(o(d)+\"skewX(\"+u+n)}function l(c,u,d,h,f,v){if(c!==d||u!==h){var L=f.push(o(f)+\"scale(\",null,\",\",null,\")\");v.push({i:L-4,x:Ar(c,d)},{i:L-2,x:Ar(u,h)})}else(d!==1||h!==1)&&f.push(o(f)+\"scale(\"+d+\",\"+h+\")\")}return function(c,u){var d=[],h=[];return c=t(c),u=t(u),r(c.translateX,c.translateY,u.translateX,u.translateY,d,h),s(c.rotate,u.rotate,d,h),a(c.skewX,u.skewX,d,h),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,h),c=u=null,function(f){for(var v=-1,L=h.length,A;++v<L;)d[(A=h[v]).i]=A.x(f);return d.join(\"\")}}}var tN=A5(JB,\"px, \",\"px)\",\"deg)\"),iN=A5(eN,\", \",\")\",\")\"),nN=1e-12;function II(t){return((t=Math.exp(t))+1/t)/2}function oN(t){return((t=Math.exp(t))-1/t)/2}function rN(t){return((t=Math.exp(2*t))-1)/(t+1)}var sN=function t(e,i,n){function o(r,s){var a=r[0],l=r[1],c=r[2],u=s[0],d=s[1],h=s[2],f=u-a,v=d-l,L=f*f+v*v,A,I;if(L<nN)I=Math.log(h/c)/e,A=function(z){return[a+z*f,l+z*v,c*Math.exp(e*z*I)]};else{var B=Math.sqrt(L),F=(h*h-c*c+n*L)/(2*c*i*B),k=(h*h-c*c-n*L)/(2*h*i*B),N=Math.log(Math.sqrt(F*F+1)-F),Y=Math.log(Math.sqrt(k*k+1)-k);I=(Y-N)/e,A=function(z){var ce=z*I,Fe=II(N),$e=c/(i*B)*(Fe*rN(e*ce+N)-oN(N));return[a+$e*f,l+$e*v,c*Fe/II(e*ce+N)]}}return A.duration=I*1e3*e/Math.SQRT2,A}return o.rho=function(r){var s=Math.max(.001,+r),a=s*s,l=a*a;return t(s,a,l)},o}(Math.SQRT2,2,4);function aN(t,e){var i,n;return function(){var o=fs(this,t),r=o.tween;if(r!==i){n=i=r;for(var s=0,a=n.length;s<a;++s)if(n[s].name===e){n=n.slice(),n.splice(s,1);break}}o.tween=n}}function lN(t,e,i){var n,o;if(typeof i!=\"function\")throw new Error;return function(){var r=fs(this,t),s=r.tween;if(s!==n){o=(n=s).slice();for(var a={name:e,value:i},l=0,c=o.length;l<c;++l)if(o[l].name===e){o[l]=a;break}l===c&&o.push(a)}r.tween=o}}function cN(t,e){var i=this._id;if(t+=\"\",arguments.length<2){for(var n=Rr(this.node(),i).tween,o=0,r=n.length,s;o<r;++o)if((s=n[o]).name===t)return s.value;return null}return this.each((e==null?aN:lN)(i,t,e))}function pS(t,e,i){var n=t._id;return t.each(function(){var o=fs(this,n);(o.value||(o.value={}))[e]=i.apply(this,arguments)}),function(o){return Rr(o,n).value[e]}}function L5(t,e){var i;return(typeof e==\"number\"?Ar:e instanceof cl?sy:(i=cl(e))?(e=i,sy):E5)(t,e)}function uN(t){return function(){this.removeAttribute(t)}}function dN(t){return function(){this.removeAttributeNS(t.space,t.local)}}function hN(t,e,i){var n,o=i+\"\",r;return function(){var s=this.getAttribute(t);return s===o?null:s===n?r:r=e(n=s,i)}}function pN(t,e,i){var n,o=i+\"\",r;return function(){var s=this.getAttributeNS(t.space,t.local);return s===o?null:s===n?r:r=e(n=s,i)}}function fN(t,e,i){var n,o,r;return function(){var s,a=i(this),l;return a==null?void this.removeAttribute(t):(s=this.getAttribute(t),l=a+\"\",s===l?null:s===n&&l===o?r:(o=l,r=e(n=s,a)))}}function mN(t,e,i){var n,o,r;return function(){var s,a=i(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),l=a+\"\",s===l?null:s===n&&l===o?r:(o=l,r=e(n=s,a)))}}function gN(t,e){var i=hy(t),n=i===\"transform\"?iN:L5;return this.attrTween(t,typeof e==\"function\"?(i.local?mN:fN)(i,n,pS(this,\"attr.\"+t,e)):e==null?(i.local?dN:uN)(i):(i.local?pN:hN)(i,n,e))}function _N(t,e){return function(i){this.setAttribute(t,e.call(this,i))}}function yN(t,e){return function(i){this.setAttributeNS(t.space,t.local,e.call(this,i))}}function bN(t,e){var i,n;function o(){var r=e.apply(this,arguments);return r!==n&&(i=(n=r)&&yN(t,r)),i}return o._value=e,o}function vN(t,e){var i,n;function o(){var r=e.apply(this,arguments);return r!==n&&(i=(n=r)&&_N(t,r)),i}return o._value=e,o}function xN(t,e){var i=\"attr.\"+t;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!=\"function\")throw new Error;var n=hy(t);return this.tween(i,(n.local?bN:vN)(n,e))}function wN(t,e){return function(){cS(this,t).delay=+e.apply(this,arguments)}}function SN(t,e){return e=+e,function(){cS(this,t).delay=e}}function CN(t){var e=this._id;return arguments.length?this.each((typeof t==\"function\"?wN:SN)(e,t)):Rr(this.node(),e).delay}function kN(t,e){return function(){fs(this,t).duration=+e.apply(this,arguments)}}function EN(t,e){return e=+e,function(){fs(this,t).duration=e}}function IN(t){var e=this._id;return arguments.length?this.each((typeof t==\"function\"?kN:EN)(e,t)):Rr(this.node(),e).duration}function TN(t,e){if(typeof e!=\"function\")throw new Error;return function(){fs(this,t).ease=e}}function AN(t){var e=this._id;return arguments.length?this.each(TN(e,t)):Rr(this.node(),e).ease}function LN(t,e){return function(){var i=e.apply(this,arguments);if(typeof i!=\"function\")throw new Error;fs(this,t).ease=i}}function DN(t){if(typeof t!=\"function\")throw new Error;return this.each(LN(this._id,t))}function PN(t){typeof t!=\"function\"&&(t=c5(t));for(var e=this._groups,i=e.length,n=new Array(i),o=0;o<i;++o)for(var r=e[o],s=r.length,a=n[o]=[],l,c=0;c<s;++c)(l=r[c])&&t.call(l,l.__data__,c,r)&&a.push(l);return new Js(n,this._parents,this._name,this._id)}function RN(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,i=t._groups,n=e.length,o=i.length,r=Math.min(n,o),s=new Array(n),a=0;a<r;++a)for(var l=e[a],c=i[a],u=l.length,d=s[a]=new Array(u),h,f=0;f<u;++f)(h=l[f]||c[f])&&(d[f]=h);for(;a<n;++a)s[a]=e[a];return new Js(s,this._parents,this._name,this._id)}function MN(t){return(t+\"\").trim().split(/^|\\s+/).every(function(e){var i=e.indexOf(\".\");return i>=0&&(e=e.slice(0,i)),!e||e===\"start\"})}function zN(t,e,i){var n,o,r=MN(e)?cS:fs;return function(){var s=r(this,t),a=s.on;a!==n&&(o=(n=a).copy()).on(e,i),s.on=o}}function ON(t,e){var i=this._id;return arguments.length<2?Rr(this.node(),i).on.on(t):this.each(zN(i,t,e))}function BN(t){return function(){var e=this.parentNode;for(var i in this.__transition)if(+i!==t)return;e&&e.removeChild(this)}}function NN(){return this.on(\"end.remove\",BN(this._id))}function FN(t){var e=this._name,i=this._id;typeof t!=\"function\"&&(t=sS(t));for(var n=this._groups,o=n.length,r=new Array(o),s=0;s<o;++s)for(var a=n[s],l=a.length,c=r[s]=new Array(l),u,d,h=0;h<l;++h)(u=a[h])&&(d=t.call(u,u.__data__,h,a))&&(\"__data__\"in u&&(d.__data__=u.__data__),c[h]=d,my(c[h],e,i,h,c,Rr(u,i)));return new Js(r,this._parents,e,i)}function UN(t){var e=this._name,i=this._id;typeof t!=\"function\"&&(t=l5(t));for(var n=this._groups,o=n.length,r=[],s=[],a=0;a<o;++a)for(var l=n[a],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var h=t.call(u,u.__data__,d,l),f,v=Rr(u,i),L=0,A=h.length;L<A;++L)(f=h[L])&&my(f,e,i,L,h,v);r.push(h),s.push(u)}return new Js(r,s,e,i)}var jN=$p.prototype.constructor;function VN(){return new jN(this._groups,this._parents)}function WN(t,e){var i,n,o;return function(){var r=od(this,t),s=(this.style.removeProperty(t),od(this,t));return r===s?null:r===i&&s===n?o:o=e(i=r,n=s)}}function D5(t){return function(){this.style.removeProperty(t)}}function HN(t,e,i){var n,o=i+\"\",r;return function(){var s=od(this,t);return s===o?null:s===n?r:r=e(n=s,i)}}function $N(t,e,i){var n,o,r;return function(){var s=od(this,t),a=i(this),l=a+\"\";return a==null&&(l=a=(this.style.removeProperty(t),od(this,t))),s===l?null:s===n&&l===o?r:(o=l,r=e(n=s,a))}}function qN(t,e){var i,n,o,r=\"style.\"+e,s=\"end.\"+r,a;return function(){var l=fs(this,t),c=l.on,u=l.value[r]==null?a||(a=D5(e)):void 0;(c!==i||o!==u)&&(n=(i=c).copy()).on(s,o=u),l.on=n}}function GN(t,e,i){var n=(t+=\"\")==\"transform\"?tN:L5;return e==null?this.styleTween(t,WN(t,n)).on(\"end.style.\"+t,D5(t)):typeof e==\"function\"?this.styleTween(t,$N(t,n,pS(this,\"style.\"+t,e))).each(qN(this._id,t)):this.styleTween(t,HN(t,n,e),i).on(\"end.style.\"+t,null)}function YN(t,e,i){return function(n){this.style.setProperty(t,e.call(this,n),i)}}function QN(t,e,i){var n,o;function r(){var s=e.apply(this,arguments);return s!==o&&(n=(o=s)&&YN(t,s,i)),n}return r._value=e,r}function XN(t,e,i){var n=\"style.\"+(t+=\"\");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!=\"function\")throw new Error;return this.tween(n,QN(t,e,i??\"\"))}function KN(t){return function(){this.textContent=t}}function ZN(t){return function(){var e=t(this);this.textContent=e??\"\"}}function JN(t){return this.tween(\"text\",typeof t==\"function\"?ZN(pS(this,\"text\",t)):KN(t==null?\"\":t+\"\"))}function eF(t){return function(e){this.textContent=t.call(this,e)}}function tF(t){var e,i;function n(){var o=t.apply(this,arguments);return o!==i&&(e=(i=o)&&eF(o)),e}return n._value=t,n}function iF(t){var e=\"text\";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!=\"function\")throw new Error;return this.tween(e,tF(t))}function nF(){for(var t=this._name,e=this._id,i=P5(),n=this._groups,o=n.length,r=0;r<o;++r)for(var s=n[r],a=s.length,l,c=0;c<a;++c)if(l=s[c]){var u=Rr(l,e);my(l,t,i,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Js(n,this._parents,t,i)}function oF(){var t,e,i=this,n=i._id,o=i.size();return new Promise(function(r,s){var a={value:s},l={value:function(){--o===0&&r()}};i.each(function(){var c=fs(this,n),u=c.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),c.on=e}),o===0&&r()})}var rF=0;function Js(t,e,i,n){this._groups=t,this._parents=e,this._name=i,this._id=n}function P5(){return++rF}var Qs=$p.prototype;Js.prototype={constructor:Js,select:FN,selectAll:UN,selectChild:Qs.selectChild,selectChildren:Qs.selectChildren,filter:PN,merge:RN,selection:VN,transition:nF,call:Qs.call,nodes:Qs.nodes,node:Qs.node,size:Qs.size,empty:Qs.empty,each:Qs.each,on:ON,attr:gN,attrTween:xN,style:GN,styleTween:XN,text:JN,textTween:iF,remove:NN,tween:cN,delay:CN,duration:IN,ease:AN,easeVarying:DN,end:oF,[Symbol.iterator]:Qs[Symbol.iterator]};function sF(t){return t*t}function aF(t){return t*(2-t)}function lF(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function cF(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var uF={time:null,delay:0,duration:250,ease:cF};function dF(t,e){for(var i;!(i=t.__transition)||!(i=i[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return i}function hF(t){var e,i;t instanceof Js?(e=t._id,t=t._name):(e=P5(),(i=uF).time=lS(),t=t==null?null:t+\"\");for(var n=this._groups,o=n.length,r=0;r<o;++r)for(var s=n[r],a=s.length,l,c=0;c<a;++c)(l=s[c])&&my(l,t,e,c,s,i||dF(l,e));return new Js(n,this._parents,t,e)}$p.prototype.interrupt=AB;$p.prototype.transition=hF;function fS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,\"default\")?t.default:t}function pF(t){if(Object.prototype.hasOwnProperty.call(t,\"__esModule\"))return t;var e=t.default;if(typeof e==\"function\"){var i=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,\"__esModule\",{value:!0}),Object.keys(t).forEach(function(n){var o=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(i,n,o.get?o:{enumerable:!0,get:function(){return t[n]}})}),i}var kw={exports:{}},fF=kw.exports,TI;function mF(){return TI||(TI=1,function(t,e){(function(i,n){t.exports=n()})(fF,function(){var i=function(p){return p instanceof Uint8Array||p instanceof Uint16Array||p instanceof Uint32Array||p instanceof Int8Array||p instanceof Int16Array||p instanceof Int32Array||p instanceof Float32Array||p instanceof Float64Array||p instanceof Uint8ClampedArray},n=function(p,g){for(var T=Object.keys(g),Q=0;Q<T.length;++Q)p[T[Q]]=g[T[Q]];return p},o=`\n`;function r(p){return typeof atob<\"u\"?atob(p):\"base64:\"+p}function s(p){var g=new Error(\"(regl) \"+p);throw console.error(g),g}function a(p,g){p||s(g)}function l(p){return p?\": \"+p:\"\"}function c(p,g,T){p in g||s(\"unknown parameter (\"+p+\")\"+l(T)+\". possible values: \"+Object.keys(g).join())}function u(p,g){i(p)||s(\"invalid parameter type\"+l(g)+\". must be a typed array\")}function d(p,g){switch(g){case\"number\":return typeof p==\"number\";case\"object\":return typeof p==\"object\";case\"string\":return typeof p==\"string\";case\"boolean\":return typeof p==\"boolean\";case\"function\":return typeof p==\"function\";case\"undefined\":return typeof p>\"u\";case\"symbol\":return typeof p==\"symbol\"}}function h(p,g,T){d(p,g)||s(\"invalid parameter type\"+l(T)+\". expected \"+g+\", got \"+typeof p)}function f(p,g){p>=0&&(p|0)===p||s(\"invalid parameter type, (\"+p+\")\"+l(g)+\". must be a nonnegative integer\")}function v(p,g,T){g.indexOf(p)<0&&s(\"invalid value\"+l(T)+\". must be one of: \"+g)}var L=[\"gl\",\"canvas\",\"container\",\"attributes\",\"pixelRatio\",\"extensions\",\"optionalExtensions\",\"profile\",\"onDone\"];function A(p){Object.keys(p).forEach(function(g){L.indexOf(g)<0&&s('invalid regl constructor argument \"'+g+'\". must be one of '+L)})}function I(p,g){for(p=p+\"\";p.length<g;)p=\" \"+p;return p}function B(){this.name=\"unknown\",this.lines=[],this.index={},this.hasErrors=!1}function F(p,g){this.number=p,this.line=g,this.errors=[]}function k(p,g,T){this.file=p,this.line=g,this.message=T}function N(){var p=new Error,g=(p.stack||p).toString(),T=/compileProcedure.*\\n\\s*at.*\\((.*)\\)/.exec(g);if(T)return T[1];var Q=/compileProcedure.*\\n\\s*at\\s+(.*)(\\n|$)/.exec(g);return Q?Q[1]:\"unknown\"}function Y(){var p=new Error,g=(p.stack||p).toString(),T=/at REGLCommand.*\\n\\s+at.*\\((.*)\\)/.exec(g);if(T)return T[1];var Q=/at REGLCommand.*\\n\\s+at\\s+(.*)\\n/.exec(g);return Q?Q[1]:\"unknown\"}function z(p,g){var T=p.split(`\n`),Q=1,oe=0,G={unknown:new B,0:new B};G.unknown.name=G[0].name=g||N(),G.unknown.lines.push(new F(0,\"\"));for(var J=0;J<T.length;++J){var pe=T[J],he=/^\\s*#\\s*(\\w+)\\s+(.+)\\s*$/.exec(pe);if(he)switch(he[1]){case\"line\":var ve=/(\\d+)(\\s+\\d+)?/.exec(he[2]);ve&&(Q=ve[1]|0,ve[2]&&(oe=ve[2]|0,oe in G||(G[oe]=new B)));break;case\"define\":var xe=/SHADER_NAME(_B64)?\\s+(.*)$/.exec(he[2]);xe&&(G[oe].name=xe[1]?r(xe[2]):xe[2]);break}G[oe].lines.push(new F(Q++,pe))}return Object.keys(G).forEach(function(be){var Ce=G[be];Ce.lines.forEach(function(fe){Ce.index[fe.number]=fe})}),G}function ce(p){var g=[];return p.split(`\n`).forEach(function(T){if(!(T.length<5)){var Q=/^ERROR:\\s+(\\d+):(\\d+):\\s*(.*)$/.exec(T);Q?g.push(new k(Q[1]|0,Q[2]|0,Q[3].trim())):T.length>0&&g.push(new k(\"unknown\",0,T))}}),g}function Fe(p,g){g.forEach(function(T){var Q=p[T.file];if(Q){var oe=Q.index[T.line];if(oe){oe.errors.push(T),Q.hasErrors=!0;return}}p.unknown.hasErrors=!0,p.unknown.lines[0].errors.push(T)})}function $e(p,g,T,Q,oe){if(!p.getShaderParameter(g,p.COMPILE_STATUS)){var G=p.getShaderInfoLog(g),J=Q===p.FRAGMENT_SHADER?\"fragment\":\"vertex\";ke(T,\"string\",J+\" shader source must be a string\",oe);var pe=z(T,oe),he=ce(G);Fe(pe,he),Object.keys(pe).forEach(function(ve){var xe=pe[ve];if(!xe.hasErrors)return;var be=[\"\"],Ce=[\"\"];function fe(ye,j){be.push(ye),Ce.push(j||\"\")}fe(\"file number \"+ve+\": \"+xe.name+`\n`,\"color:red;text-decoration:underline;font-weight:bold\"),xe.lines.forEach(function(ye){if(ye.errors.length>0){fe(I(ye.number,4)+\"|  \",\"background-color:yellow; font-weight:bold\"),fe(ye.line+o,\"color:red; background-color:yellow; font-weight:bold\");var j=0;ye.errors.forEach(function(Z){var _e=Z.message,ze=/^\\s*'(.*)'\\s*:\\s*(.*)$/.exec(_e);if(ze){var ue=ze[1];switch(_e=ze[2],ue){case\"assign\":ue=\"=\";break}j=Math.max(ye.line.indexOf(ue,j),0)}else j=0;fe(I(\"| \",6)),fe(I(\"^^^\",j+3)+o,\"font-weight:bold\"),fe(I(\"| \",6)),fe(_e+o,\"font-weight:bold\")}),fe(I(\"| \",6)+o)}else fe(I(ye.number,4)+\"|  \"),fe(ye.line+o,\"color:red\")}),typeof document<\"u\"&&!window.chrome?(Ce[0]=be.join(\"%c\"),console.log.apply(console,Ce)):console.log(be.join(\"\"))}),a.raise(\"Error compiling \"+J+\" shader, \"+pe[0].name)}}function K(p,g,T,Q,oe){if(!p.getProgramParameter(g,p.LINK_STATUS)){var G=p.getProgramInfoLog(g),J=z(T,oe),pe=z(Q,oe),he='Error linking program with vertex shader, \"'+pe[0].name+'\", and fragment shader \"'+J[0].name+'\"';typeof document<\"u\"?console.log(\"%c\"+he+o+\"%c\"+G,\"color:red;text-decoration:underline;font-weight:bold\",\"color:red\"):console.log(he+o+G),a.raise(he)}}function Xe(p){p._commandRef=N()}function Be(p,g,T,Q){Xe(p);function oe(he){return he?Q.id(he):0}p._fragId=oe(p.static.frag),p._vertId=oe(p.static.vert);function G(he,ve){Object.keys(ve).forEach(function(xe){he[Q.id(xe)]=!0})}var J=p._uniformSet={};G(J,g.static),G(J,g.dynamic);var pe=p._attributeSet={};G(pe,T.static),G(pe,T.dynamic),p._hasCount=\"count\"in p.static||\"count\"in p.dynamic||\"elements\"in p.static||\"elements\"in p.dynamic}function V(p,g){var T=Y();s(p+\" in command \"+(g||N())+(T===\"unknown\"?\"\":\" called from \"+T))}function Pe(p,g,T){p||V(g,T||N())}function ie(p,g,T,Q){p in g||V(\"unknown parameter (\"+p+\")\"+l(T)+\". possible values: \"+Object.keys(g).join(),Q||N())}function ke(p,g,T,Q){d(p,g)||V(\"invalid parameter type\"+l(T)+\". expected \"+g+\", got \"+typeof p,Q||N())}function Ge(p){p()}function Oe(p,g,T){p.texture?v(p.texture._texture.internalformat,g,\"unsupported texture format for attachment\"):v(p.renderbuffer._renderbuffer.format,T,\"unsupported renderbuffer format for attachment\")}var Ye=33071,Ae=9728,ct=9984,ht=9985,ii=9986,Je=9987,ci=5120,Gt=5121,_i=5122,He=5123,wt=5124,Ut=5125,we=5126,Qt=32819,Mt=32820,mi=33635,Ai=34042,it=36193,Dt={};Dt[ci]=Dt[Gt]=1,Dt[_i]=Dt[He]=Dt[it]=Dt[mi]=Dt[Qt]=Dt[Mt]=2,Dt[wt]=Dt[Ut]=Dt[we]=Dt[Ai]=4;function kn(p,g){return p===Mt||p===Qt||p===mi?2:p===Ai?4:Dt[p]*g}function on(p){return!(p&p-1)&&!!p}function ic(p,g,T){var Q,oe=g.width,G=g.height,J=g.channels;a(oe>0&&oe<=T.maxTextureSize&&G>0&&G<=T.maxTextureSize,\"invalid texture shape\"),(p.wrapS!==Ye||p.wrapT!==Ye)&&a(on(oe)&&on(G),\"incompatible wrap mode for texture, both width and height must be power of 2\"),g.mipmask===1?oe!==1&&G!==1&&a(p.minFilter!==ct&&p.minFilter!==ii&&p.minFilter!==ht&&p.minFilter!==Je,\"min filter requires mipmap\"):(a(on(oe)&&on(G),\"texture must be a square power of 2 to support mipmapping\"),a(g.mipmask===(oe<<1)-1,\"missing or incomplete mipmap data\")),g.type===we&&(T.extensions.indexOf(\"oes_texture_float_linear\")<0&&a(p.minFilter===Ae&&p.magFilter===Ae,\"filter not supported, must enable oes_texture_float_linear\"),a(!p.genMipmaps,\"mipmap generation not supported with float textures\"));var pe=g.images;for(Q=0;Q<16;++Q)if(pe[Q]){var he=oe>>Q,ve=G>>Q;a(g.mipmask&1<<Q,\"missing mipmap data\");var xe=pe[Q];if(a(xe.width===he&&xe.height===ve,\"invalid shape for mip images\"),a(xe.format===g.format&&xe.internalformat===g.internalformat&&xe.type===g.type,\"incompatible type for mip image\"),!xe.compressed)if(xe.data){var be=Math.ceil(kn(xe.type,J)*he/xe.unpackAlignment)*xe.unpackAlignment;a(xe.data.byteLength===be*ve,\"invalid data for image, buffer size is inconsistent with image format\")}else xe.element||xe.copy}else p.genMipmaps||a((g.mipmask&1<<Q)===0,\"extra mipmap data\");g.compressed&&a(!p.genMipmaps,\"mipmap generation for compressed images not supported\")}function Ou(p,g,T,Q){var oe=p.width,G=p.height,J=p.channels;a(oe>0&&oe<=Q.maxTextureSize&&G>0&&G<=Q.maxTextureSize,\"invalid texture shape\"),a(oe===G,\"cube map must be square\"),a(g.wrapS===Ye&&g.wrapT===Ye,\"wrap mode not supported by cube map\");for(var pe=0;pe<T.length;++pe){var he=T[pe];a(he.width===oe&&he.height===G,\"inconsistent cube map face shape\"),g.genMipmaps&&(a(!he.compressed,\"can not generate mipmap for compressed textures\"),a(he.mipmask===1,\"can not specify mipmaps and generate mipmaps\"));for(var ve=he.images,xe=0;xe<16;++xe){var be=ve[xe];if(be){var Ce=oe>>xe,fe=G>>xe;a(he.mipmask&1<<xe,\"missing mipmap data\"),a(be.width===Ce&&be.height===fe,\"invalid shape for mip images\"),a(be.format===p.format&&be.internalformat===p.internalformat&&be.type===p.type,\"incompatible type for mip image\"),be.compressed||(be.data?a(be.data.byteLength===Ce*fe*Math.max(kn(be.type,J),be.unpackAlignment),\"invalid data for image, buffer size is inconsistent with image format\"):be.element||be.copy)}}}}var _=n(a,{optional:Ge,raise:s,commandRaise:V,command:Pe,parameter:c,commandParameter:ie,constructor:A,type:h,commandType:ke,isTypedArray:u,nni:f,oneOf:v,shaderError:$e,linkError:K,callSite:Y,saveCommandRef:Xe,saveDrawInfo:Be,framebufferFormat:Oe,guessCommand:N,texture2D:ic,textureCube:Ou}),xr=0,fo=0,Zn=5,wr=6;function Do(p,g){this.id=xr++,this.type=p,this.data=g}function Ya(p){return p.replace(/\\\\/g,\"\\\\\\\\\").replace(/\"/g,'\\\\\"')}function Ko(p){if(p.length===0)return[];var g=p.charAt(0),T=p.charAt(p.length-1);if(p.length>1&&g===T&&(g==='\"'||g===\"'\"))return['\"'+Ya(p.substr(1,p.length-2))+'\"'];var Q=/\\[(false|true|null|\\d+|'[^']*'|\"[^\"]*\")\\]/.exec(p);if(Q)return Ko(p.substr(0,Q.index)).concat(Ko(Q[1])).concat(Ko(p.substr(Q.index+Q[0].length)));var oe=p.split(\".\");if(oe.length===1)return['\"'+Ya(p)+'\"'];for(var G=[],J=0;J<oe.length;++J)G=G.concat(Ko(oe[J]));return G}function Vs(p){return\"[\"+Ko(p).join(\"][\")+\"]\"}function Ws(p,g){return new Do(p,Vs(g+\"\"))}function Sr(p){return typeof p==\"function\"&&!p._reglType||p instanceof Do}function On(p,g){if(typeof p==\"function\")return new Do(fo,p);if(typeof p==\"number\"||typeof p==\"boolean\")return new Do(Zn,p);if(Array.isArray(p))return new Do(wr,p.map(function(T,Q){return On(T,g+\"[\"+Q+\"]\")}));if(p instanceof Do)return p;_(!1,\"invalid option type in uniform \"+g)}var gi={DynamicVariable:Do,define:Ws,isDynamic:Sr,unbox:On,accessor:Vs},mo={next:typeof requestAnimationFrame==\"function\"?function(p){return requestAnimationFrame(p)}:function(p){return setTimeout(p,16)},cancel:typeof cancelAnimationFrame==\"function\"?function(p){return cancelAnimationFrame(p)}:clearTimeout},ss=typeof performance<\"u\"&&performance.now?function(){return performance.now()}:function(){return+new Date};function nc(){var p={\"\":0},g=[\"\"];return{id:function(T){var Q=p[T];return Q||(Q=p[T]=g.length,g.push(T),Q)},str:function(T){return g[T]}}}function Qa(p,g,T){var Q=document.createElement(\"canvas\");n(Q.style,{border:0,margin:0,padding:0,top:0,left:0,width:\"100%\",height:\"100%\"}),p.appendChild(Q),p===document.body&&(Q.style.position=\"absolute\",n(p.style,{margin:0,padding:0}));function oe(){var pe=window.innerWidth,he=window.innerHeight;if(p!==document.body){var ve=Q.getBoundingClientRect();pe=ve.right-ve.left,he=ve.bottom-ve.top}Q.width=T*pe,Q.height=T*he}var G;p!==document.body&&typeof ResizeObserver==\"function\"?(G=new ResizeObserver(function(){setTimeout(oe)}),G.observe(p)):window.addEventListener(\"resize\",oe,!1);function J(){G?G.disconnect():window.removeEventListener(\"resize\",oe),p.removeChild(Q)}return oe(),{canvas:Q,onDestroy:J}}function Cr(p,g){function T(Q){try{return p.getContext(Q,g)}catch{return null}}return T(\"webgl\")||T(\"experimental-webgl\")||T(\"webgl-experimental\")}function Xa(p){return typeof p.nodeName==\"string\"&&typeof p.appendChild==\"function\"&&typeof p.getBoundingClientRect==\"function\"}function Hs(p){return typeof p.drawArrays==\"function\"||typeof p.drawElements==\"function\"}function as(p){return typeof p==\"string\"?p.split():(_(Array.isArray(p),\"invalid extension array\"),p)}function Bu(p){return typeof p==\"string\"?(_(typeof document<\"u\",\"not supported outside of DOM\"),document.querySelector(p)):p}function Xi(p){var g=p||{},T,Q,oe,G,J={},pe=[],he=[],ve=typeof window>\"u\"?1:window.devicePixelRatio,xe=!1,be=function(ye){ye&&_.raise(ye)},Ce=function(){};if(typeof g==\"string\"?(_(typeof document<\"u\",\"selector queries only supported in DOM enviroments\"),T=document.querySelector(g),_(T,\"invalid query string for element\")):typeof g==\"object\"?Xa(g)?T=g:Hs(g)?(G=g,oe=G.canvas):(_.constructor(g),\"gl\"in g?G=g.gl:\"canvas\"in g?oe=Bu(g.canvas):\"container\"in g&&(Q=Bu(g.container)),\"attributes\"in g&&(J=g.attributes,_.type(J,\"object\",\"invalid context attributes\")),\"extensions\"in g&&(pe=as(g.extensions)),\"optionalExtensions\"in g&&(he=as(g.optionalExtensions)),\"onDone\"in g&&(_.type(g.onDone,\"function\",\"invalid or missing onDone callback\"),be=g.onDone),\"profile\"in g&&(xe=!!g.profile),\"pixelRatio\"in g&&(ve=+g.pixelRatio,_(ve>0,\"invalid pixel ratio\"))):_.raise(\"invalid arguments to regl\"),T&&(T.nodeName.toLowerCase()===\"canvas\"?oe=T:Q=T),!G){if(!oe){_(typeof document<\"u\",\"must manually specify webgl context outside of DOM environments\");var fe=Qa(Q||document.body,be,ve);if(!fe)return null;oe=fe.canvas,Ce=fe.onDestroy}J.premultipliedAlpha===void 0&&(J.premultipliedAlpha=!0),G=Cr(oe,J)}return G?{gl:G,canvas:oe,container:Q,extensions:pe,optionalExtensions:he,pixelRatio:ve,profile:xe,onDone:be,onDestroy:Ce}:(Ce(),be(\"webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org\"),null)}function Ei(p,g){var T={};function Q(J){_.type(J,\"string\",\"extension name must be string\");var pe=J.toLowerCase(),he;try{he=T[pe]=p.getExtension(pe)}catch{}return!!he}for(var oe=0;oe<g.extensions.length;++oe){var G=g.extensions[oe];if(!Q(G))return g.onDestroy(),g.onDone('\"'+G+'\" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return g.optionalExtensions.forEach(Q),{extensions:T,restore:function(){Object.keys(T).forEach(function(J){if(T[J]&&!Q(J))throw new Error(\"(regl): error restoring extension \"+J)})}}}function Ki(p,g){for(var T=Array(p),Q=0;Q<p;++Q)T[Q]=g(Q);return T}var Nu=5120,Ka=5121,Za=5122,oc=5123,Fu=5124,kr=5125,_n=5126;function Zo(p){for(var g=16;g<=1<<28;g*=16)if(p<=g)return g;return 0}function Ja(p){var g,T;return g=(p>65535)<<4,p>>>=g,T=(p>255)<<3,p>>>=T,g|=T,T=(p>15)<<2,p>>>=T,g|=T,T=(p>3)<<1,p>>>=T,g|=T,g|p>>1}function $s(){var p=Ki(8,function(){return[]});function g(G){var J=Zo(G),pe=p[Ja(J)>>2];return pe.length>0?pe.pop():new ArrayBuffer(J)}function T(G){p[Ja(G.byteLength)>>2].push(G)}function Q(G,J){var pe=null;switch(G){case Nu:pe=new Int8Array(g(J),0,J);break;case Ka:pe=new Uint8Array(g(J),0,J);break;case Za:pe=new Int16Array(g(2*J),0,J);break;case oc:pe=new Uint16Array(g(2*J),0,J);break;case Fu:pe=new Int32Array(g(4*J),0,J);break;case kr:pe=new Uint32Array(g(4*J),0,J);break;case _n:pe=new Float32Array(g(4*J),0,J);break;default:return null}return pe.length!==J?pe.subarray(0,J):pe}function oe(G){T(G.buffer)}return{alloc:g,free:T,allocType:Q,freeType:oe}}var yi=$s();yi.zero=$s();var go=3408,_o=3410,rc=3411,sc=3412,ac=3413,Uu=3414,M=3415,le=33901,S=33902,de=3379,Ve=3386,Tt=34921,xi=36347,ri=36348,Ii=35661,Jn=35660,Oi=34930,el=36349,rn=34076,s_=34024,a_=7936,pM=7937,fM=7938,mM=35724,gM=34047,_M=36063,yM=34852,l_=3553,w3=34067,bM=34069,vM=33984,fp=6408,h1=5126,S3=5121,p1=36160,xM=36053,wM=36064,SM=16384,CM=function(p,g){var T=1;g.ext_texture_filter_anisotropic&&(T=p.getParameter(gM));var Q=1,oe=1;g.webgl_draw_buffers&&(Q=p.getParameter(yM),oe=p.getParameter(_M));var G=!!g.oes_texture_float;if(G){var J=p.createTexture();p.bindTexture(l_,J),p.texImage2D(l_,0,fp,1,1,0,fp,h1,null);var pe=p.createFramebuffer();if(p.bindFramebuffer(p1,pe),p.framebufferTexture2D(p1,wM,l_,J,0),p.bindTexture(l_,null),p.checkFramebufferStatus(p1)!==xM)G=!1;else{p.viewport(0,0,1,1),p.clearColor(1,0,0,1),p.clear(SM);var he=yi.allocType(h1,4);p.readPixels(0,0,1,1,fp,h1,he),p.getError()?G=!1:(p.deleteFramebuffer(pe),p.deleteTexture(J),G=he[0]===1),yi.freeType(he)}}var ve=typeof navigator<\"u\"&&(/MSIE/.test(navigator.userAgent)||/Trident\\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),xe=!0;if(!ve){var be=p.createTexture(),Ce=yi.allocType(S3,36);p.activeTexture(vM),p.bindTexture(w3,be),p.texImage2D(bM,0,fp,3,3,0,fp,S3,Ce),yi.freeType(Ce),p.bindTexture(w3,null),p.deleteTexture(be),xe=!p.getError()}return{colorBits:[p.getParameter(_o),p.getParameter(rc),p.getParameter(sc),p.getParameter(ac)],depthBits:p.getParameter(Uu),stencilBits:p.getParameter(M),subpixelBits:p.getParameter(go),extensions:Object.keys(g).filter(function(fe){return!!g[fe]}),maxAnisotropic:T,maxDrawbuffers:Q,maxColorAttachments:oe,pointSizeDims:p.getParameter(le),lineWidthDims:p.getParameter(S),maxViewportDims:p.getParameter(Ve),maxCombinedTextureUnits:p.getParameter(Ii),maxCubeMapSize:p.getParameter(rn),maxRenderbufferSize:p.getParameter(s_),maxTextureUnits:p.getParameter(Oi),maxTextureSize:p.getParameter(de),maxAttributes:p.getParameter(Tt),maxVertexUniforms:p.getParameter(xi),maxVertexTextureUnits:p.getParameter(Jn),maxVaryingVectors:p.getParameter(ri),maxFragmentUniforms:p.getParameter(el),glsl:p.getParameter(mM),renderer:p.getParameter(pM),vendor:p.getParameter(a_),version:p.getParameter(fM),readFloat:G,npotTextureCube:xe}};function Er(p){return!!p&&typeof p==\"object\"&&Array.isArray(p.shape)&&Array.isArray(p.stride)&&typeof p.offset==\"number\"&&p.shape.length===p.stride.length&&(Array.isArray(p.data)||i(p.data))}var Po=function(p){return Object.keys(p).map(function(g){return p[g]})},c_={shape:TM,flatten:IM};function kM(p,g,T){for(var Q=0;Q<g;++Q)T[Q]=p[Q]}function EM(p,g,T,Q){for(var oe=0,G=0;G<g;++G)for(var J=p[G],pe=0;pe<T;++pe)Q[oe++]=J[pe]}function C3(p,g,T,Q,oe,G){for(var J=G,pe=0;pe<g;++pe)for(var he=p[pe],ve=0;ve<T;++ve)for(var xe=he[ve],be=0;be<Q;++be)oe[J++]=xe[be]}function k3(p,g,T,Q,oe){for(var G=1,J=T+1;J<g.length;++J)G*=g[J];var pe=g[T];if(g.length-T===4){var he=g[T+1],ve=g[T+2],xe=g[T+3];for(J=0;J<pe;++J)C3(p[J],he,ve,xe,Q,oe),oe+=G}else for(J=0;J<pe;++J)k3(p[J],g,T+1,Q,oe),oe+=G}function IM(p,g,T,Q){var oe=1;if(g.length)for(var G=0;G<g.length;++G)oe*=g[G];else oe=0;var J=Q||yi.allocType(T,oe);switch(g.length){case 0:break;case 1:kM(p,g[0],J);break;case 2:EM(p,g[0],g[1],J);break;case 3:C3(p,g[0],g[1],g[2],J,0);break;default:k3(p,g,0,J,0)}return J}function TM(p){for(var g=[],T=p;T.length;T=T[0])g.push(T.length);return g}var f1={\"[object Int8Array]\":5120,\"[object Int16Array]\":5122,\"[object Int32Array]\":5124,\"[object Uint8Array]\":5121,\"[object Uint8ClampedArray]\":5121,\"[object Uint16Array]\":5123,\"[object Uint32Array]\":5125,\"[object Float32Array]\":5126,\"[object Float64Array]\":5121,\"[object ArrayBuffer]\":5121},AM=5120,LM=5122,DM=5124,PM=5121,RM=5123,MM=5125,zM=5126,OM=5126,lc={int8:AM,int16:LM,int32:DM,uint8:PM,uint16:RM,uint32:MM,float:zM,float32:OM},BM=35048,NM=35040,u_={dynamic:BM,stream:NM,static:35044},m1=c_.flatten,E3=c_.shape,I3=35044,FM=35040,g1=5121,_1=5126,tl=[];tl[5120]=1,tl[5122]=2,tl[5124]=4,tl[5121]=1,tl[5123]=2,tl[5125]=4,tl[5126]=4;function d_(p){return f1[Object.prototype.toString.call(p)]|0}function T3(p,g){for(var T=0;T<g.length;++T)p[T]=g[T]}function A3(p,g,T,Q,oe,G,J){for(var pe=0,he=0;he<T;++he)for(var ve=0;ve<Q;++ve)p[pe++]=g[oe*he+G*ve+J]}function UM(p,g,T,Q){var oe=0,G={};function J(j){this.id=oe++,this.buffer=p.createBuffer(),this.type=j,this.usage=I3,this.byteLength=0,this.dimension=1,this.dtype=g1,this.persistentData=null,T.profile&&(this.stats={size:0})}J.prototype.bind=function(){p.bindBuffer(this.type,this.buffer)},J.prototype.destroy=function(){Ce(this)};var pe=[];function he(j,Z){var _e=pe.pop();return _e||(_e=new J(j)),_e.bind(),be(_e,Z,FM,0,1,!1),_e}function ve(j){pe.push(j)}function xe(j,Z,_e){j.byteLength=Z.byteLength,p.bufferData(j.type,Z,_e)}function be(j,Z,_e,ze,ue,Re){var Le;if(j.usage=_e,Array.isArray(Z)){if(j.dtype=ze||_1,Z.length>0){var et;if(Array.isArray(Z[0])){Le=E3(Z);for(var re=1,ne=1;ne<Le.length;++ne)re*=Le[ne];j.dimension=re,et=m1(Z,Le,j.dtype),xe(j,et,_e),Re?j.persistentData=et:yi.freeType(et)}else if(typeof Z[0]==\"number\"){j.dimension=ue;var je=yi.allocType(j.dtype,Z.length);T3(je,Z),xe(j,je,_e),Re?j.persistentData=je:yi.freeType(je)}else i(Z[0])?(j.dimension=Z[0].length,j.dtype=ze||d_(Z[0])||_1,et=m1(Z,[Z.length,Z[0].length],j.dtype),xe(j,et,_e),Re?j.persistentData=et:yi.freeType(et)):_.raise(\"invalid buffer data\")}}else if(i(Z))j.dtype=ze||d_(Z),j.dimension=ue,xe(j,Z,_e),Re&&(j.persistentData=new Uint8Array(new Uint8Array(Z.buffer)));else if(Er(Z)){Le=Z.shape;var Ee=Z.stride,ge=Z.offset,Ie=0,Te=0,ft=0,ut=0;Le.length===1?(Ie=Le[0],Te=1,ft=Ee[0],ut=0):Le.length===2?(Ie=Le[0],Te=Le[1],ft=Ee[0],ut=Ee[1]):_.raise(\"invalid shape\"),j.dtype=ze||d_(Z.data)||_1,j.dimension=Te;var De=yi.allocType(j.dtype,Ie*Te);A3(De,Z.data,Ie,Te,ft,ut,ge),xe(j,De,_e),Re?j.persistentData=De:yi.freeType(De)}else Z instanceof ArrayBuffer?(j.dtype=g1,j.dimension=ue,xe(j,Z,_e),Re&&(j.persistentData=new Uint8Array(new Uint8Array(Z)))):_.raise(\"invalid buffer data\")}function Ce(j){g.bufferCount--,Q(j);var Z=j.buffer;_(Z,\"buffer must not be deleted already\"),p.deleteBuffer(Z),j.buffer=null,delete G[j.id]}function fe(j,Z,_e,ze){g.bufferCount++;var ue=new J(Z);G[ue.id]=ue;function Re(re){var ne=I3,je=null,Ee=0,ge=0,Ie=1;return Array.isArray(re)||i(re)||Er(re)||re instanceof ArrayBuffer?je=re:typeof re==\"number\"?Ee=re|0:re&&(_.type(re,\"object\",\"buffer arguments must be an object, a number or an array\"),\"data\"in re&&(_(je===null||Array.isArray(je)||i(je)||Er(je),\"invalid data for buffer\"),je=re.data),\"usage\"in re&&(_.parameter(re.usage,u_,\"invalid buffer usage\"),ne=u_[re.usage]),\"type\"in re&&(_.parameter(re.type,lc,\"invalid buffer type\"),ge=lc[re.type]),\"dimension\"in re&&(_.type(re.dimension,\"number\",\"invalid dimension\"),Ie=re.dimension|0),\"length\"in re&&(_.nni(Ee,\"buffer length must be a nonnegative integer\"),Ee=re.length|0)),ue.bind(),je?be(ue,je,ne,ge,Ie,ze):(Ee&&p.bufferData(ue.type,Ee,ne),ue.dtype=ge||g1,ue.usage=ne,ue.dimension=Ie,ue.byteLength=Ee),T.profile&&(ue.stats.size=ue.byteLength*tl[ue.dtype]),Re}function Le(re,ne){_(ne+re.byteLength<=ue.byteLength,\"invalid buffer subdata call, buffer is too small.  Can't write data of size \"+re.byteLength+\" starting from offset \"+ne+\" to a buffer of size \"+ue.byteLength),p.bufferSubData(ue.type,ne,re)}function et(re,ne){var je=(ne||0)|0,Ee;if(ue.bind(),i(re)||re instanceof ArrayBuffer)Le(re,je);else if(Array.isArray(re)){if(re.length>0)if(typeof re[0]==\"number\"){var ge=yi.allocType(ue.dtype,re.length);T3(ge,re),Le(ge,je),yi.freeType(ge)}else if(Array.isArray(re[0])||i(re[0])){Ee=E3(re);var Ie=m1(re,Ee,ue.dtype);Le(Ie,je),yi.freeType(Ie)}else _.raise(\"invalid buffer data\")}else if(Er(re)){Ee=re.shape;var Te=re.stride,ft=0,ut=0,De=0,Me=0;Ee.length===1?(ft=Ee[0],ut=1,De=Te[0],Me=0):Ee.length===2?(ft=Ee[0],ut=Ee[1],De=Te[0],Me=Te[1]):_.raise(\"invalid shape\");var ot=Array.isArray(re.data)?ue.dtype:d_(re.data),mt=yi.allocType(ot,ft*ut);A3(mt,re.data,ft,ut,De,Me,re.offset),Le(mt,je),yi.freeType(mt)}else _.raise(\"invalid data for buffer subdata\");return Re}return _e||Re(j),Re._reglType=\"buffer\",Re._buffer=ue,Re.subdata=et,T.profile&&(Re.stats=ue.stats),Re.destroy=function(){Ce(ue)},Re}function ye(){Po(G).forEach(function(j){j.buffer=p.createBuffer(),p.bindBuffer(j.type,j.buffer),p.bufferData(j.type,j.persistentData||j.byteLength,j.usage)})}return T.profile&&(g.getTotalBufferSize=function(){var j=0;return Object.keys(G).forEach(function(Z){j+=G[Z].stats.size}),j}),{create:fe,createStream:he,destroyStream:ve,clear:function(){Po(G).forEach(Ce),pe.forEach(Ce)},getBuffer:function(j){return j&&j._buffer instanceof J?j._buffer:null},restore:ye,_initBuffer:be}}var jM=0,VM=0,WM=1,HM=1,$M=4,qM=4,il={points:jM,point:VM,lines:WM,line:HM,triangles:$M,triangle:qM,\"line loop\":2,\"line strip\":3,\"triangle strip\":5,\"triangle fan\":6},GM=0,YM=1,mp=4,QM=5120,ju=5121,L3=5122,Vu=5123,D3=5124,cc=5125,y1=34963,XM=35040,KM=35044;function ZM(p,g,T,Q){var oe={},G=0,J={uint8:ju,uint16:Vu};g.oes_element_index_uint&&(J.uint32=cc);function pe(ye){this.id=G++,oe[this.id]=this,this.buffer=ye,this.primType=mp,this.vertCount=0,this.type=0}pe.prototype.bind=function(){this.buffer.bind()};var he=[];function ve(ye){var j=he.pop();return j||(j=new pe(T.create(null,y1,!0,!1)._buffer)),be(j,ye,XM,-1,-1,0,0),j}function xe(ye){he.push(ye)}function be(ye,j,Z,_e,ze,ue,Re){ye.buffer.bind();var Le;if(j){var et=Re;!Re&&(!i(j)||Er(j)&&!i(j.data))&&(et=g.oes_element_index_uint?cc:Vu),T._initBuffer(ye.buffer,j,Z,et,3)}else p.bufferData(y1,ue,Z),ye.buffer.dtype=Le||ju,ye.buffer.usage=Z,ye.buffer.dimension=3,ye.buffer.byteLength=ue;if(Le=Re,!Re){switch(ye.buffer.dtype){case ju:case QM:Le=ju;break;case Vu:case L3:Le=Vu;break;case cc:case D3:Le=cc;break;default:_.raise(\"unsupported type for element array\")}ye.buffer.dtype=Le}ye.type=Le,_(Le!==cc||!!g.oes_element_index_uint,\"32 bit element buffers not supported, enable oes_element_index_uint first\");var re=ze;re<0&&(re=ye.buffer.byteLength,Le===Vu?re>>=1:Le===cc&&(re>>=2)),ye.vertCount=re;var ne=_e;if(_e<0){ne=mp;var je=ye.buffer.dimension;je===1&&(ne=GM),je===2&&(ne=YM),je===3&&(ne=mp)}ye.primType=ne}function Ce(ye){Q.elementsCount--,_(ye.buffer!==null,\"must not double destroy elements\"),delete oe[ye.id],ye.buffer.destroy(),ye.buffer=null}function fe(ye,j){var Z=T.create(null,y1,!0),_e=new pe(Z._buffer);Q.elementsCount++;function ze(ue){if(!ue)Z(),_e.primType=mp,_e.vertCount=0,_e.type=ju;else if(typeof ue==\"number\")Z(ue),_e.primType=mp,_e.vertCount=ue|0,_e.type=ju;else{var Re=null,Le=KM,et=-1,re=-1,ne=0,je=0;Array.isArray(ue)||i(ue)||Er(ue)?Re=ue:(_.type(ue,\"object\",\"invalid arguments for elements\"),\"data\"in ue&&(Re=ue.data,_(Array.isArray(Re)||i(Re)||Er(Re),\"invalid data for element buffer\")),\"usage\"in ue&&(_.parameter(ue.usage,u_,\"invalid element buffer usage\"),Le=u_[ue.usage]),\"primitive\"in ue&&(_.parameter(ue.primitive,il,\"invalid element buffer primitive\"),et=il[ue.primitive]),\"count\"in ue&&(_(typeof ue.count==\"number\"&&ue.count>=0,\"invalid vertex count for elements\"),re=ue.count|0),\"type\"in ue&&(_.parameter(ue.type,J,\"invalid buffer type\"),je=J[ue.type]),\"length\"in ue?ne=ue.length|0:(ne=re,je===Vu||je===L3?ne*=2:(je===cc||je===D3)&&(ne*=4))),be(_e,Re,Le,et,re,ne,je)}return ze}return ze(ye),ze._reglType=\"elements\",ze._elements=_e,ze.subdata=function(ue,Re){return Z.subdata(ue,Re),ze},ze.destroy=function(){Ce(_e)},ze}return{create:fe,createStream:ve,destroyStream:xe,getElements:function(ye){return typeof ye==\"function\"&&ye._elements instanceof pe?ye._elements:null},clear:function(){Po(oe).forEach(Ce)}}}var P3=new Float32Array(1),JM=new Uint32Array(P3.buffer),e6=5123;function R3(p){for(var g=yi.allocType(e6,p.length),T=0;T<p.length;++T)if(isNaN(p[T]))g[T]=65535;else if(p[T]===1/0)g[T]=31744;else if(p[T]===-1/0)g[T]=64512;else{P3[0]=p[T];var Q=JM[0],oe=Q>>>31<<15,G=(Q<<1>>>24)-127,J=Q>>13&1023;if(G<-24)g[T]=oe;else if(G<-14){var pe=-14-G;g[T]=oe+(J+1024>>pe)}else G>15?g[T]=oe+31744:g[T]=oe+(G+15<<10)+J}return g}function Li(p){return Array.isArray(p)||i(p)}var M3=function(p){return!(p&p-1)&&!!p},t6=34467,ls=3553,b1=34067,h_=34069,uc=6408,v1=6406,p_=6407,gp=6409,f_=6410,z3=32854,x1=32855,O3=36194,i6=32819,n6=32820,o6=33635,r6=34042,w1=6402,m_=34041,S1=35904,C1=35906,Wu=36193,k1=33776,E1=33777,I1=33778,T1=33779,B3=35986,N3=35987,F3=34798,U3=35840,j3=35841,V3=35842,W3=35843,H3=36196,Hu=5121,A1=5123,L1=5125,_p=5126,s6=10242,a6=10243,l6=10497,D1=33071,c6=33648,u6=10240,d6=10241,P1=9728,h6=9729,R1=9984,$3=9985,q3=9986,M1=9987,p6=33170,g_=4352,f6=4353,m6=4354,g6=34046,_6=3317,y6=37440,b6=37441,v6=37443,G3=37444,yp=33984,x6=[R1,q3,$3,M1],__=[0,gp,f_,p_,uc],Jo={};Jo[gp]=Jo[v1]=Jo[w1]=1,Jo[m_]=Jo[f_]=2,Jo[p_]=Jo[S1]=3,Jo[uc]=Jo[C1]=4;function $u(p){return\"[object \"+p+\"]\"}var Y3=$u(\"HTMLCanvasElement\"),Q3=$u(\"OffscreenCanvas\"),X3=$u(\"CanvasRenderingContext2D\"),K3=$u(\"ImageBitmap\"),Z3=$u(\"HTMLImageElement\"),J3=$u(\"HTMLVideoElement\"),w6=Object.keys(f1).concat([Y3,Q3,X3,K3,Z3,J3]),qu=[];qu[Hu]=1,qu[_p]=4,qu[Wu]=2,qu[A1]=2,qu[L1]=4;var En=[];En[z3]=2,En[x1]=2,En[O3]=2,En[m_]=4,En[k1]=.5,En[E1]=.5,En[I1]=1,En[T1]=1,En[B3]=.5,En[N3]=1,En[F3]=1,En[U3]=.5,En[j3]=.25,En[V3]=.5,En[W3]=.25,En[H3]=.5;function eE(p){return Array.isArray(p)&&(p.length===0||typeof p[0]==\"number\")}function tE(p){if(!Array.isArray(p))return!1;var g=p.length;return!(g===0||!Li(p[0]))}function dc(p){return Object.prototype.toString.call(p)}function iE(p){return dc(p)===Y3}function nE(p){return dc(p)===Q3}function S6(p){return dc(p)===X3}function C6(p){return dc(p)===K3}function k6(p){return dc(p)===Z3}function E6(p){return dc(p)===J3}function z1(p){if(!p)return!1;var g=dc(p);return w6.indexOf(g)>=0?!0:eE(p)||tE(p)||Er(p)}function oE(p){return f1[Object.prototype.toString.call(p)]|0}function I6(p,g){var T=g.length;switch(p.type){case Hu:case A1:case L1:case _p:var Q=yi.allocType(p.type,T);Q.set(g),p.data=Q;break;case Wu:p.data=R3(g);break;default:_.raise(\"unsupported texture type, must specify a typed array\")}}function rE(p,g){return yi.allocType(p.type===Wu?_p:p.type,g)}function sE(p,g){p.type===Wu?(p.data=R3(g),yi.freeType(g)):p.data=g}function T6(p,g,T,Q,oe,G){for(var J=p.width,pe=p.height,he=p.channels,ve=J*pe*he,xe=rE(p,ve),be=0,Ce=0;Ce<pe;++Ce)for(var fe=0;fe<J;++fe)for(var ye=0;ye<he;++ye)xe[be++]=g[T*fe+Q*Ce+oe*ye+G];sE(p,xe)}function y_(p,g,T,Q,oe,G){var J;if(typeof En[p]<\"u\"?J=En[p]:J=Jo[p]*qu[g],G&&(J*=6),oe){for(var pe=0,he=T;he>=1;)pe+=J*he*he,he/=2;return pe}else return J*T*Q}function A6(p,g,T,Q,oe,G,J){var pe={\"don't care\":g_,\"dont care\":g_,nice:m6,fast:f6},he={repeat:l6,clamp:D1,mirror:c6},ve={nearest:P1,linear:h6},xe=n({mipmap:M1,\"nearest mipmap nearest\":R1,\"linear mipmap nearest\":$3,\"nearest mipmap linear\":q3,\"linear mipmap linear\":M1},ve),be={none:0,browser:G3},Ce={uint8:Hu,rgba4:i6,rgb565:o6,\"rgb5 a1\":n6},fe={alpha:v1,luminance:gp,\"luminance alpha\":f_,rgb:p_,rgba:uc,rgba4:z3,\"rgb5 a1\":x1,rgb565:O3},ye={};g.ext_srgb&&(fe.srgb=S1,fe.srgba=C1),g.oes_texture_float&&(Ce.float32=Ce.float=_p),g.oes_texture_half_float&&(Ce.float16=Ce[\"half float\"]=Wu),g.webgl_depth_texture&&(n(fe,{depth:w1,\"depth stencil\":m_}),n(Ce,{uint16:A1,uint32:L1,\"depth stencil\":r6})),g.webgl_compressed_texture_s3tc&&n(ye,{\"rgb s3tc dxt1\":k1,\"rgba s3tc dxt1\":E1,\"rgba s3tc dxt3\":I1,\"rgba s3tc dxt5\":T1}),g.webgl_compressed_texture_atc&&n(ye,{\"rgb atc\":B3,\"rgba atc explicit alpha\":N3,\"rgba atc interpolated alpha\":F3}),g.webgl_compressed_texture_pvrtc&&n(ye,{\"rgb pvrtc 4bppv1\":U3,\"rgb pvrtc 2bppv1\":j3,\"rgba pvrtc 4bppv1\":V3,\"rgba pvrtc 2bppv1\":W3}),g.webgl_compressed_texture_etc1&&(ye[\"rgb etc1\"]=H3);var j=Array.prototype.slice.call(p.getParameter(t6));Object.keys(ye).forEach(function(w){var X=ye[w];j.indexOf(X)>=0&&(fe[w]=X)});var Z=Object.keys(fe);T.textureFormats=Z;var _e=[];Object.keys(fe).forEach(function(w){var X=fe[w];_e[X]=w});var ze=[];Object.keys(Ce).forEach(function(w){var X=Ce[w];ze[X]=w});var ue=[];Object.keys(ve).forEach(function(w){var X=ve[w];ue[X]=w});var Re=[];Object.keys(xe).forEach(function(w){var X=xe[w];Re[X]=w});var Le=[];Object.keys(he).forEach(function(w){var X=he[w];Le[X]=w});var et=Z.reduce(function(w,X){var q=fe[X];return q===gp||q===v1||q===gp||q===f_||q===w1||q===m_||g.ext_srgb&&(q===S1||q===C1)?w[q]=q:q===x1||X.indexOf(\"rgba\")>=0?w[q]=uc:w[q]=p_,w},{});function re(){this.internalformat=uc,this.format=uc,this.type=Hu,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=G3,this.width=0,this.height=0,this.channels=0}function ne(w,X){w.internalformat=X.internalformat,w.format=X.format,w.type=X.type,w.compressed=X.compressed,w.premultiplyAlpha=X.premultiplyAlpha,w.flipY=X.flipY,w.unpackAlignment=X.unpackAlignment,w.colorSpace=X.colorSpace,w.width=X.width,w.height=X.height,w.channels=X.channels}function je(w,X){if(!(typeof X!=\"object\"||!X)){if(\"premultiplyAlpha\"in X&&(_.type(X.premultiplyAlpha,\"boolean\",\"invalid premultiplyAlpha\"),w.premultiplyAlpha=X.premultiplyAlpha),\"flipY\"in X&&(_.type(X.flipY,\"boolean\",\"invalid texture flip\"),w.flipY=X.flipY),\"alignment\"in X&&(_.oneOf(X.alignment,[1,2,4,8],\"invalid texture unpack alignment\"),w.unpackAlignment=X.alignment),\"colorSpace\"in X&&(_.parameter(X.colorSpace,be,\"invalid colorSpace\"),w.colorSpace=be[X.colorSpace]),\"type\"in X){var q=X.type;_(g.oes_texture_float||!(q===\"float\"||q===\"float32\"),\"you must enable the OES_texture_float extension in order to use floating point textures.\"),_(g.oes_texture_half_float||!(q===\"half float\"||q===\"float16\"),\"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures.\"),_(g.webgl_depth_texture||!(q===\"uint16\"||q===\"uint32\"||q===\"depth stencil\"),\"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures.\"),_.parameter(q,Ce,\"invalid texture type\"),w.type=Ce[q]}var Ue=w.width,Rt=w.height,y=w.channels,m=!1;\"shape\"in X?(_(Array.isArray(X.shape)&&X.shape.length>=2,\"shape must be an array\"),Ue=X.shape[0],Rt=X.shape[1],X.shape.length===3&&(y=X.shape[2],_(y>0&&y<=4,\"invalid number of channels\"),m=!0),_(Ue>=0&&Ue<=T.maxTextureSize,\"invalid width\"),_(Rt>=0&&Rt<=T.maxTextureSize,\"invalid height\")):(\"radius\"in X&&(Ue=Rt=X.radius,_(Ue>=0&&Ue<=T.maxTextureSize,\"invalid radius\")),\"width\"in X&&(Ue=X.width,_(Ue>=0&&Ue<=T.maxTextureSize,\"invalid width\")),\"height\"in X&&(Rt=X.height,_(Rt>=0&&Rt<=T.maxTextureSize,\"invalid height\")),\"channels\"in X&&(y=X.channels,_(y>0&&y<=4,\"invalid number of channels\"),m=!0)),w.width=Ue|0,w.height=Rt|0,w.channels=y|0;var D=!1;if(\"format\"in X){var U=X.format;_(g.webgl_depth_texture||!(U===\"depth\"||U===\"depth stencil\"),\"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures.\"),_.parameter(U,fe,\"invalid texture format\");var W=w.internalformat=fe[U];w.format=et[W],U in Ce&&(\"type\"in X||(w.type=Ce[U])),U in ye&&(w.compressed=!0),D=!0}!m&&D?w.channels=Jo[w.format]:m&&!D?w.channels!==__[w.format]&&(w.format=w.internalformat=__[w.channels]):D&&m&&_(w.channels===Jo[w.format],\"number of channels inconsistent with specified format\")}}function Ee(w){p.pixelStorei(y6,w.flipY),p.pixelStorei(b6,w.premultiplyAlpha),p.pixelStorei(v6,w.colorSpace),p.pixelStorei(_6,w.unpackAlignment)}function ge(){re.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Ie(w,X){var q=null;if(z1(X)?q=X:X&&(_.type(X,\"object\",\"invalid pixel data type\"),je(w,X),\"x\"in X&&(w.xOffset=X.x|0),\"y\"in X&&(w.yOffset=X.y|0),z1(X.data)&&(q=X.data)),_(!w.compressed||q instanceof Uint8Array,\"compressed texture data must be stored in a uint8array\"),X.copy){_(!q,\"can not specify copy and data field for the same texture\");var Ue=oe.viewportWidth,Rt=oe.viewportHeight;w.width=w.width||Ue-w.xOffset,w.height=w.height||Rt-w.yOffset,w.needsCopy=!0,_(w.xOffset>=0&&w.xOffset<Ue&&w.yOffset>=0&&w.yOffset<Rt&&w.width>0&&w.width<=Ue&&w.height>0&&w.height<=Rt,\"copy texture read out of bounds\")}else if(!q)w.width=w.width||1,w.height=w.height||1,w.channels=w.channels||4;else if(i(q))w.channels=w.channels||4,w.data=q,!(\"type\"in X)&&w.type===Hu&&(w.type=oE(q));else if(eE(q))w.channels=w.channels||4,I6(w,q),w.alignment=1,w.needsFree=!0;else if(Er(q)){var y=q.data;!Array.isArray(y)&&w.type===Hu&&(w.type=oE(y));var m=q.shape,D=q.stride,U,W,R,P,O,b;m.length===3?(R=m[2],b=D[2]):(_(m.length===2,\"invalid ndarray pixel data, must be 2 or 3D\"),R=1,b=1),U=m[0],W=m[1],P=D[0],O=D[1],w.alignment=1,w.width=U,w.height=W,w.channels=R,w.format=w.internalformat=__[R],w.needsFree=!0,T6(w,y,P,O,b,q.offset)}else if(iE(q)||nE(q)||S6(q))iE(q)||nE(q)?w.element=q:w.element=q.canvas,w.width=w.element.width,w.height=w.element.height,w.channels=4;else if(C6(q))w.element=q,w.width=q.width,w.height=q.height,w.channels=4;else if(k6(q))w.element=q,w.width=q.naturalWidth,w.height=q.naturalHeight,w.channels=4;else if(E6(q))w.element=q,w.width=q.videoWidth,w.height=q.videoHeight,w.channels=4;else if(tE(q)){var C=w.width||q[0].length,x=w.height||q.length,$=w.channels;Li(q[0][0])?$=$||q[0][0].length:$=$||1;for(var H=c_.shape(q),te=1,se=0;se<H.length;++se)te*=H[se];var Se=rE(w,te);c_.flatten(q,H,\"\",Se),sE(w,Se),w.alignment=1,w.width=C,w.height=x,w.channels=$,w.format=w.internalformat=__[$],w.needsFree=!0}w.type===_p?_(T.extensions.indexOf(\"oes_texture_float\")>=0,\"oes_texture_float extension not enabled\"):w.type===Wu&&_(T.extensions.indexOf(\"oes_texture_half_float\")>=0,\"oes_texture_half_float extension not enabled\")}function Te(w,X,q){var Ue=w.element,Rt=w.data,y=w.internalformat,m=w.format,D=w.type,U=w.width,W=w.height;Ee(w),Ue?p.texImage2D(X,q,m,m,D,Ue):w.compressed?p.compressedTexImage2D(X,q,y,U,W,0,Rt):w.needsCopy?(Q(),p.copyTexImage2D(X,q,m,w.xOffset,w.yOffset,U,W,0)):p.texImage2D(X,q,m,U,W,0,m,D,Rt||null)}function ft(w,X,q,Ue,Rt){var y=w.element,m=w.data,D=w.internalformat,U=w.format,W=w.type,R=w.width,P=w.height;Ee(w),y?p.texSubImage2D(X,Rt,q,Ue,U,W,y):w.compressed?p.compressedTexSubImage2D(X,Rt,q,Ue,D,R,P,m):w.needsCopy?(Q(),p.copyTexSubImage2D(X,Rt,q,Ue,w.xOffset,w.yOffset,R,P)):p.texSubImage2D(X,Rt,q,Ue,R,P,U,W,m)}var ut=[];function De(){return ut.pop()||new ge}function Me(w){w.needsFree&&yi.freeType(w.data),ge.call(w),ut.push(w)}function ot(){re.call(this),this.genMipmaps=!1,this.mipmapHint=g_,this.mipmask=0,this.images=Array(16)}function mt(w,X,q){var Ue=w.images[0]=De();w.mipmask=1,Ue.width=w.width=X,Ue.height=w.height=q,Ue.channels=w.channels=4}function zt(w,X){var q=null;if(z1(X))q=w.images[0]=De(),ne(q,w),Ie(q,X),w.mipmask=1;else if(je(w,X),Array.isArray(X.mipmap))for(var Ue=X.mipmap,Rt=0;Rt<Ue.length;++Rt)q=w.images[Rt]=De(),ne(q,w),q.width>>=Rt,q.height>>=Rt,Ie(q,Ue[Rt]),w.mipmask|=1<<Rt;else q=w.images[0]=De(),ne(q,w),Ie(q,X),w.mipmask=1;ne(w,w.images[0]),w.compressed&&(w.internalformat===k1||w.internalformat===E1||w.internalformat===I1||w.internalformat===T1)&&_(w.width%4===0&&w.height%4===0,\"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4\")}function Di(w,X){for(var q=w.images,Ue=0;Ue<q.length;++Ue){if(!q[Ue])return;Te(q[Ue],X,Ue)}}var Bi=[];function Bt(){var w=Bi.pop()||new ot;re.call(w),w.mipmask=0;for(var X=0;X<16;++X)w.images[X]=null;return w}function sn(w){for(var X=w.images,q=0;q<X.length;++q)X[q]&&Me(X[q]),X[q]=null;Bi.push(w)}function wi(){this.minFilter=P1,this.magFilter=P1,this.wrapS=D1,this.wrapT=D1,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=g_}function Ji(w,X){if(\"min\"in X){var q=X.min;_.parameter(q,xe),w.minFilter=xe[q],x6.indexOf(w.minFilter)>=0&&!(\"faces\"in X)&&(w.genMipmaps=!0)}if(\"mag\"in X){var Ue=X.mag;_.parameter(Ue,ve),w.magFilter=ve[Ue]}var Rt=w.wrapS,y=w.wrapT;if(\"wrap\"in X){var m=X.wrap;typeof m==\"string\"?(_.parameter(m,he),Rt=y=he[m]):Array.isArray(m)&&(_.parameter(m[0],he),_.parameter(m[1],he),Rt=he[m[0]],y=he[m[1]])}else{if(\"wrapS\"in X){var D=X.wrapS;_.parameter(D,he),Rt=he[D]}if(\"wrapT\"in X){var U=X.wrapT;_.parameter(U,he),y=he[U]}}if(w.wrapS=Rt,w.wrapT=y,\"anisotropic\"in X){var W=X.anisotropic;_(typeof W==\"number\"&&W>=1&&W<=T.maxAnisotropic,\"aniso samples must be between 1 and \"),w.anisotropic=X.anisotropic}if(\"mipmap\"in X){var R=!1;switch(typeof X.mipmap){case\"string\":_.parameter(X.mipmap,pe,\"invalid mipmap hint\"),w.mipmapHint=pe[X.mipmap],w.genMipmaps=!0,R=!0;break;case\"boolean\":R=w.genMipmaps=X.mipmap;break;case\"object\":_(Array.isArray(X.mipmap),\"invalid mipmap type\"),w.genMipmaps=!1,R=!0;break;default:_.raise(\"invalid mipmap type\")}R&&!(\"min\"in X)&&(w.minFilter=R1)}}function an(w,X){p.texParameteri(X,d6,w.minFilter),p.texParameteri(X,u6,w.magFilter),p.texParameteri(X,s6,w.wrapS),p.texParameteri(X,a6,w.wrapT),g.ext_texture_filter_anisotropic&&p.texParameteri(X,g6,w.anisotropic),w.genMipmaps&&(p.hint(p6,w.mipmapHint),p.generateMipmap(X))}var ln=0,yn={},In=T.maxTextureUnits,$i=Array(In).map(function(){return null});function kt(w){re.call(this),this.mipmask=0,this.internalformat=uc,this.id=ln++,this.refCount=1,this.target=w,this.texture=p.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new wi,J.profile&&(this.stats={size:0})}function Tn(w){p.activeTexture(yp),p.bindTexture(w.target,w.texture)}function Jt(){var w=$i[0];w?p.bindTexture(w.target,w.texture):p.bindTexture(ls,null)}function tt(w){var X=w.texture;_(X,\"must not double destroy texture\");var q=w.unit,Ue=w.target;q>=0&&(p.activeTexture(yp+q),p.bindTexture(Ue,null),$i[q]=null),p.deleteTexture(X),w.texture=null,w.params=null,w.pixels=null,w.refCount=0,delete yn[w.id],G.textureCount--}n(kt.prototype,{bind:function(){var w=this;w.bindCount+=1;var X=w.unit;if(X<0){for(var q=0;q<In;++q){var Ue=$i[q];if(Ue){if(Ue.bindCount>0)continue;Ue.unit=-1}$i[q]=w,X=q;break}X>=In&&_.raise(\"insufficient number of texture units\"),J.profile&&G.maxTextureUnits<X+1&&(G.maxTextureUnits=X+1),w.unit=X,p.activeTexture(yp+X),p.bindTexture(w.target,w.texture)}return X},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&tt(this)}});function Ot(w,X){var q=new kt(ls);yn[q.id]=q,G.textureCount++;function Ue(m,D){var U=q.texInfo;wi.call(U);var W=Bt();return typeof m==\"number\"?typeof D==\"number\"?mt(W,m|0,D|0):mt(W,m|0,m|0):m?(_.type(m,\"object\",\"invalid arguments to regl.texture\"),Ji(U,m),zt(W,m)):mt(W,1,1),U.genMipmaps&&(W.mipmask=(W.width<<1)-1),q.mipmask=W.mipmask,ne(q,W),_.texture2D(U,W,T),q.internalformat=W.internalformat,Ue.width=W.width,Ue.height=W.height,Tn(q),Di(W,ls),an(U,ls),Jt(),sn(W),J.profile&&(q.stats.size=y_(q.internalformat,q.type,W.width,W.height,U.genMipmaps,!1)),Ue.format=_e[q.internalformat],Ue.type=ze[q.type],Ue.mag=ue[U.magFilter],Ue.min=Re[U.minFilter],Ue.wrapS=Le[U.wrapS],Ue.wrapT=Le[U.wrapT],Ue}function Rt(m,D,U,W){_(!!m,\"must specify image data\");var R=D|0,P=U|0,O=W|0,b=De();return ne(b,q),b.width=0,b.height=0,Ie(b,m),b.width=b.width||(q.width>>O)-R,b.height=b.height||(q.height>>O)-P,_(q.type===b.type&&q.format===b.format&&q.internalformat===b.internalformat,\"incompatible format for texture.subimage\"),_(R>=0&&P>=0&&R+b.width<=q.width&&P+b.height<=q.height,\"texture.subimage write out of bounds\"),_(q.mipmask&1<<O,\"missing mipmap data\"),_(b.data||b.element||b.needsCopy,\"missing image data\"),Tn(q),ft(b,ls,R,P,O),Jt(),Me(b),Ue}function y(m,D){var U=m|0,W=D|0||U;if(U===q.width&&W===q.height)return Ue;Ue.width=q.width=U,Ue.height=q.height=W,Tn(q);for(var R=0;q.mipmask>>R;++R){var P=U>>R,O=W>>R;if(!P||!O)break;p.texImage2D(ls,R,q.format,P,O,0,q.format,q.type,null)}return Jt(),J.profile&&(q.stats.size=y_(q.internalformat,q.type,U,W,!1,!1)),Ue}return Ue(w,X),Ue.subimage=Rt,Ue.resize=y,Ue._reglType=\"texture2d\",Ue._texture=q,J.profile&&(Ue.stats=q.stats),Ue.destroy=function(){q.decRef()},Ue}function Ht(w,X,q,Ue,Rt,y){var m=new kt(b1);yn[m.id]=m,G.cubeCount++;var D=new Array(6);function U(P,O,b,C,x,$){var H,te=m.texInfo;for(wi.call(te),H=0;H<6;++H)D[H]=Bt();if(typeof P==\"number\"||!P){var se=P|0||1;for(H=0;H<6;++H)mt(D[H],se,se)}else if(typeof P==\"object\")if(O)zt(D[0],P),zt(D[1],O),zt(D[2],b),zt(D[3],C),zt(D[4],x),zt(D[5],$);else if(Ji(te,P),je(m,P),\"faces\"in P){var Se=P.faces;for(_(Array.isArray(Se)&&Se.length===6,\"cube faces must be a length 6 array\"),H=0;H<6;++H)_(typeof Se[H]==\"object\"&&!!Se[H],\"invalid input for cube map face\"),ne(D[H],m),zt(D[H],Se[H])}else for(H=0;H<6;++H)zt(D[H],P);else _.raise(\"invalid arguments to cube map\");for(ne(m,D[0]),_.optional(function(){T.npotTextureCube||_(M3(m.width)&&M3(m.height),\"your browser does not support non power or two texture dimensions\")}),te.genMipmaps?m.mipmask=(D[0].width<<1)-1:m.mipmask=D[0].mipmask,_.textureCube(m,te,D,T),m.internalformat=D[0].internalformat,U.width=D[0].width,U.height=D[0].height,Tn(m),H=0;H<6;++H)Di(D[H],h_+H);for(an(te,b1),Jt(),J.profile&&(m.stats.size=y_(m.internalformat,m.type,U.width,U.height,te.genMipmaps,!0)),U.format=_e[m.internalformat],U.type=ze[m.type],U.mag=ue[te.magFilter],U.min=Re[te.minFilter],U.wrapS=Le[te.wrapS],U.wrapT=Le[te.wrapT],H=0;H<6;++H)sn(D[H]);return U}function W(P,O,b,C,x){_(!!O,\"must specify image data\"),_(typeof P==\"number\"&&P===(P|0)&&P>=0&&P<6,\"invalid face\");var $=b|0,H=C|0,te=x|0,se=De();return ne(se,m),se.width=0,se.height=0,Ie(se,O),se.width=se.width||(m.width>>te)-$,se.height=se.height||(m.height>>te)-H,_(m.type===se.type&&m.format===se.format&&m.internalformat===se.internalformat,\"incompatible format for texture.subimage\"),_($>=0&&H>=0&&$+se.width<=m.width&&H+se.height<=m.height,\"texture.subimage write out of bounds\"),_(m.mipmask&1<<te,\"missing mipmap data\"),_(se.data||se.element||se.needsCopy,\"missing image data\"),Tn(m),ft(se,h_+P,$,H,te),Jt(),Me(se),U}function R(P){var O=P|0;if(O!==m.width){U.width=m.width=O,U.height=m.height=O,Tn(m);for(var b=0;b<6;++b)for(var C=0;m.mipmask>>C;++C)p.texImage2D(h_+b,C,m.format,O>>C,O>>C,0,m.format,m.type,null);return Jt(),J.profile&&(m.stats.size=y_(m.internalformat,m.type,U.width,U.height,!1,!0)),U}}return U(w,X,q,Ue,Rt,y),U.subimage=W,U.resize=R,U._reglType=\"textureCube\",U._texture=m,J.profile&&(U.stats=m.stats),U.destroy=function(){m.decRef()},U}function qi(){for(var w=0;w<In;++w)p.activeTexture(yp+w),p.bindTexture(ls,null),$i[w]=null;Po(yn).forEach(tt),G.cubeCount=0,G.textureCount=0}J.profile&&(G.getTotalTextureSize=function(){var w=0;return Object.keys(yn).forEach(function(X){w+=yn[X].stats.size}),w});function us(){for(var w=0;w<In;++w){var X=$i[w];X&&(X.bindCount=0,X.unit=-1,$i[w]=null)}Po(yn).forEach(function(q){q.texture=p.createTexture(),p.bindTexture(q.target,q.texture);for(var Ue=0;Ue<32;++Ue)if(q.mipmask&1<<Ue)if(q.target===ls)p.texImage2D(ls,Ue,q.internalformat,q.width>>Ue,q.height>>Ue,0,q.internalformat,q.type,null);else for(var Rt=0;Rt<6;++Rt)p.texImage2D(h_+Rt,Ue,q.internalformat,q.width>>Ue,q.height>>Ue,0,q.internalformat,q.type,null);an(q.texInfo,q.target)})}function yc(){for(var w=0;w<In;++w){var X=$i[w];X&&(X.bindCount=0,X.unit=-1,$i[w]=null),p.activeTexture(yp+w),p.bindTexture(ls,null),p.bindTexture(b1,null)}}return{create2D:Ot,createCube:Ht,clear:qi,getTexture:function(w){return null},restore:us,refresh:yc}}var nl=36161,b_=32854,aE=32855,lE=36194,cE=33189,uE=36168,dE=34041,hE=35907,pE=34836,fE=34842,mE=34843,Ir=[];Ir[b_]=2,Ir[aE]=2,Ir[lE]=2,Ir[cE]=2,Ir[uE]=1,Ir[dE]=4,Ir[hE]=4,Ir[pE]=16,Ir[fE]=8,Ir[mE]=6;function gE(p,g,T){return Ir[p]*g*T}var L6=function(p,g,T,Q,oe){var G={rgba4:b_,rgb565:lE,\"rgb5 a1\":aE,depth:cE,stencil:uE,\"depth stencil\":dE};g.ext_srgb&&(G.srgba=hE),g.ext_color_buffer_half_float&&(G.rgba16f=fE,G.rgb16f=mE),g.webgl_color_buffer_float&&(G.rgba32f=pE);var J=[];Object.keys(G).forEach(function(fe){var ye=G[fe];J[ye]=fe});var pe=0,he={};function ve(fe){this.id=pe++,this.refCount=1,this.renderbuffer=fe,this.format=b_,this.width=0,this.height=0,oe.profile&&(this.stats={size:0})}ve.prototype.decRef=function(){--this.refCount<=0&&xe(this)};function xe(fe){var ye=fe.renderbuffer;_(ye,\"must not double destroy renderbuffer\"),p.bindRenderbuffer(nl,null),p.deleteRenderbuffer(ye),fe.renderbuffer=null,fe.refCount=0,delete he[fe.id],Q.renderbufferCount--}function be(fe,ye){var j=new ve(p.createRenderbuffer());he[j.id]=j,Q.renderbufferCount++;function Z(ze,ue){var Re=0,Le=0,et=b_;if(typeof ze==\"object\"&&ze){var re=ze;if(\"shape\"in re){var ne=re.shape;_(Array.isArray(ne)&&ne.length>=2,\"invalid renderbuffer shape\"),Re=ne[0]|0,Le=ne[1]|0}else\"radius\"in re&&(Re=Le=re.radius|0),\"width\"in re&&(Re=re.width|0),\"height\"in re&&(Le=re.height|0);\"format\"in re&&(_.parameter(re.format,G,\"invalid renderbuffer format\"),et=G[re.format])}else typeof ze==\"number\"?(Re=ze|0,typeof ue==\"number\"?Le=ue|0:Le=Re):ze?_.raise(\"invalid arguments to renderbuffer constructor\"):Re=Le=1;if(_(Re>0&&Le>0&&Re<=T.maxRenderbufferSize&&Le<=T.maxRenderbufferSize,\"invalid renderbuffer size\"),!(Re===j.width&&Le===j.height&&et===j.format))return Z.width=j.width=Re,Z.height=j.height=Le,j.format=et,p.bindRenderbuffer(nl,j.renderbuffer),p.renderbufferStorage(nl,et,Re,Le),_(p.getError()===0,\"invalid render buffer format\"),oe.profile&&(j.stats.size=gE(j.format,j.width,j.height)),Z.format=J[j.format],Z}function _e(ze,ue){var Re=ze|0,Le=ue|0||Re;return Re===j.width&&Le===j.height||(_(Re>0&&Le>0&&Re<=T.maxRenderbufferSize&&Le<=T.maxRenderbufferSize,\"invalid renderbuffer size\"),Z.width=j.width=Re,Z.height=j.height=Le,p.bindRenderbuffer(nl,j.renderbuffer),p.renderbufferStorage(nl,j.format,Re,Le),_(p.getError()===0,\"invalid render buffer format\"),oe.profile&&(j.stats.size=gE(j.format,j.width,j.height))),Z}return Z(fe,ye),Z.resize=_e,Z._reglType=\"renderbuffer\",Z._renderbuffer=j,oe.profile&&(Z.stats=j.stats),Z.destroy=function(){j.decRef()},Z}oe.profile&&(Q.getTotalRenderbufferSize=function(){var fe=0;return Object.keys(he).forEach(function(ye){fe+=he[ye].stats.size}),fe});function Ce(){Po(he).forEach(function(fe){fe.renderbuffer=p.createRenderbuffer(),p.bindRenderbuffer(nl,fe.renderbuffer),p.renderbufferStorage(nl,fe.format,fe.width,fe.height)}),p.bindRenderbuffer(nl,null)}return{create:be,clear:function(){Po(he).forEach(xe)},restore:Ce}},qs=36160,O1=36161,hc=3553,v_=34069,_E=36064,yE=36096,bE=36128,vE=33306,xE=36053,D6=36054,P6=36055,R6=36057,M6=36061,z6=36193,O6=5121,B6=5126,wE=6407,SE=6408,N6=6402,F6=[wE,SE],B1=[];B1[SE]=4,B1[wE]=3;var x_=[];x_[O6]=1,x_[B6]=4,x_[z6]=2;var U6=32854,j6=32855,V6=36194,W6=33189,H6=36168,CE=34041,$6=35907,q6=34836,G6=34842,Y6=34843,Q6=[U6,j6,V6,$6,G6,Y6,q6],Gu={};Gu[xE]=\"complete\",Gu[D6]=\"incomplete attachment\",Gu[R6]=\"incomplete dimensions\",Gu[P6]=\"incomplete, missing attachment\",Gu[M6]=\"unsupported\";function X6(p,g,T,Q,oe,G){var J={cur:null,next:null,dirty:!1,setFBO:null},pe=[\"rgba\"],he=[\"rgba4\",\"rgb565\",\"rgb5 a1\"];g.ext_srgb&&he.push(\"srgba\"),g.ext_color_buffer_half_float&&he.push(\"rgba16f\",\"rgb16f\"),g.webgl_color_buffer_float&&he.push(\"rgba32f\");var ve=[\"uint8\"];g.oes_texture_half_float&&ve.push(\"half float\",\"float16\"),g.oes_texture_float&&ve.push(\"float\",\"float32\");function xe(ge,Ie,Te){this.target=ge,this.texture=Ie,this.renderbuffer=Te;var ft=0,ut=0;Ie?(ft=Ie.width,ut=Ie.height):Te&&(ft=Te.width,ut=Te.height),this.width=ft,this.height=ut}function be(ge){ge&&(ge.texture&&ge.texture._texture.decRef(),ge.renderbuffer&&ge.renderbuffer._renderbuffer.decRef())}function Ce(ge,Ie,Te){if(ge)if(ge.texture){var ft=ge.texture._texture,ut=Math.max(1,ft.width),De=Math.max(1,ft.height);_(ut===Ie&&De===Te,\"inconsistent width/height for supplied texture\"),ft.refCount+=1}else{var Me=ge.renderbuffer._renderbuffer;_(Me.width===Ie&&Me.height===Te,\"inconsistent width/height for renderbuffer\"),Me.refCount+=1}}function fe(ge,Ie){Ie&&(Ie.texture?p.framebufferTexture2D(qs,ge,Ie.target,Ie.texture._texture.texture,0):p.framebufferRenderbuffer(qs,ge,O1,Ie.renderbuffer._renderbuffer.renderbuffer))}function ye(ge){var Ie=hc,Te=null,ft=null,ut=ge;typeof ge==\"object\"&&(ut=ge.data,\"target\"in ge&&(Ie=ge.target|0)),_.type(ut,\"function\",\"invalid attachment data\");var De=ut._reglType;return De===\"texture2d\"?(Te=ut,_(Ie===hc)):De===\"textureCube\"?(Te=ut,_(Ie>=v_&&Ie<v_+6,\"invalid cube map target\")):De===\"renderbuffer\"?(ft=ut,Ie=O1):_.raise(\"invalid regl object for attachment\"),new xe(Ie,Te,ft)}function j(ge,Ie,Te,ft,ut){if(Te){var De=Q.create2D({width:ge,height:Ie,format:ft,type:ut});return De._texture.refCount=0,new xe(hc,De,null)}else{var Me=oe.create({width:ge,height:Ie,format:ft});return Me._renderbuffer.refCount=0,new xe(O1,null,Me)}}function Z(ge){return ge&&(ge.texture||ge.renderbuffer)}function _e(ge,Ie,Te){ge&&(ge.texture?ge.texture.resize(Ie,Te):ge.renderbuffer&&ge.renderbuffer.resize(Ie,Te),ge.width=Ie,ge.height=Te)}var ze=0,ue={};function Re(){this.id=ze++,ue[this.id]=this,this.framebuffer=p.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Le(ge){ge.colorAttachments.forEach(be),be(ge.depthAttachment),be(ge.stencilAttachment),be(ge.depthStencilAttachment)}function et(ge){var Ie=ge.framebuffer;_(Ie,\"must not double destroy framebuffer\"),p.deleteFramebuffer(Ie),ge.framebuffer=null,G.framebufferCount--,delete ue[ge.id]}function re(ge){var Ie;p.bindFramebuffer(qs,ge.framebuffer);var Te=ge.colorAttachments;for(Ie=0;Ie<Te.length;++Ie)fe(_E+Ie,Te[Ie]);for(Ie=Te.length;Ie<T.maxColorAttachments;++Ie)p.framebufferTexture2D(qs,_E+Ie,hc,null,0);p.framebufferTexture2D(qs,vE,hc,null,0),p.framebufferTexture2D(qs,yE,hc,null,0),p.framebufferTexture2D(qs,bE,hc,null,0),fe(yE,ge.depthAttachment),fe(bE,ge.stencilAttachment),fe(vE,ge.depthStencilAttachment);var ft=p.checkFramebufferStatus(qs);!p.isContextLost()&&ft!==xE&&_.raise(\"framebuffer configuration not supported, status = \"+Gu[ft]),p.bindFramebuffer(qs,J.next?J.next.framebuffer:null),J.cur=J.next,p.getError()}function ne(ge,Ie){var Te=new Re;G.framebufferCount++;function ft(De,Me){var ot;_(J.next!==Te,\"can not update framebuffer which is currently in use\");var mt=0,zt=0,Di=!0,Bi=!0,Bt=null,sn=!0,wi=\"rgba\",Ji=\"uint8\",an=1,ln=null,yn=null,In=null,$i=!1;if(typeof De==\"number\")mt=De|0,zt=Me|0||mt;else if(!De)mt=zt=1;else{_.type(De,\"object\",\"invalid arguments for framebuffer\");var kt=De;if(\"shape\"in kt){var Tn=kt.shape;_(Array.isArray(Tn)&&Tn.length>=2,\"invalid shape for framebuffer\"),mt=Tn[0],zt=Tn[1]}else\"radius\"in kt&&(mt=zt=kt.radius),\"width\"in kt&&(mt=kt.width),\"height\"in kt&&(zt=kt.height);(\"color\"in kt||\"colors\"in kt)&&(Bt=kt.color||kt.colors,Array.isArray(Bt)&&_(Bt.length===1||g.webgl_draw_buffers,\"multiple render targets not supported\")),Bt||(\"colorCount\"in kt&&(an=kt.colorCount|0,_(an>0,\"invalid color buffer count\")),\"colorTexture\"in kt&&(sn=!!kt.colorTexture,wi=\"rgba4\"),\"colorType\"in kt&&(Ji=kt.colorType,sn?(_(g.oes_texture_float||!(Ji===\"float\"||Ji===\"float32\"),\"you must enable OES_texture_float in order to use floating point framebuffer objects\"),_(g.oes_texture_half_float||!(Ji===\"half float\"||Ji===\"float16\"),\"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects\")):Ji===\"half float\"||Ji===\"float16\"?(_(g.ext_color_buffer_half_float,\"you must enable EXT_color_buffer_half_float to use 16-bit render buffers\"),wi=\"rgba16f\"):(Ji===\"float\"||Ji===\"float32\")&&(_(g.webgl_color_buffer_float,\"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers\"),wi=\"rgba32f\"),_.oneOf(Ji,ve,\"invalid color type\")),\"colorFormat\"in kt&&(wi=kt.colorFormat,pe.indexOf(wi)>=0?sn=!0:he.indexOf(wi)>=0?sn=!1:_.optional(function(){sn?_.oneOf(kt.colorFormat,pe,\"invalid color format for texture\"):_.oneOf(kt.colorFormat,he,\"invalid color format for renderbuffer\")}))),(\"depthTexture\"in kt||\"depthStencilTexture\"in kt)&&($i=!!(kt.depthTexture||kt.depthStencilTexture),_(!$i||g.webgl_depth_texture,\"webgl_depth_texture extension not supported\")),\"depth\"in kt&&(typeof kt.depth==\"boolean\"?Di=kt.depth:(ln=kt.depth,Bi=!1)),\"stencil\"in kt&&(typeof kt.stencil==\"boolean\"?Bi=kt.stencil:(yn=kt.stencil,Di=!1)),\"depthStencil\"in kt&&(typeof kt.depthStencil==\"boolean\"?Di=Bi=kt.depthStencil:(In=kt.depthStencil,Di=!1,Bi=!1))}var Jt=null,tt=null,Ot=null,Ht=null;if(Array.isArray(Bt))Jt=Bt.map(ye);else if(Bt)Jt=[ye(Bt)];else for(Jt=new Array(an),ot=0;ot<an;++ot)Jt[ot]=j(mt,zt,sn,wi,Ji);_(g.webgl_draw_buffers||Jt.length<=1,\"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers.\"),_(Jt.length<=T.maxColorAttachments,\"too many color attachments, not supported\"),mt=mt||Jt[0].width,zt=zt||Jt[0].height,ln?tt=ye(ln):Di&&!Bi&&(tt=j(mt,zt,$i,\"depth\",\"uint32\")),yn?Ot=ye(yn):Bi&&!Di&&(Ot=j(mt,zt,!1,\"stencil\",\"uint8\")),In?Ht=ye(In):!ln&&!yn&&Bi&&Di&&(Ht=j(mt,zt,$i,\"depth stencil\",\"depth stencil\")),_(!!ln+!!yn+!!In<=1,\"invalid framebuffer configuration, can specify exactly one depth/stencil attachment\");var qi=null;for(ot=0;ot<Jt.length;++ot)if(Ce(Jt[ot],mt,zt),_(!Jt[ot]||Jt[ot].texture&&F6.indexOf(Jt[ot].texture._texture.format)>=0||Jt[ot].renderbuffer&&Q6.indexOf(Jt[ot].renderbuffer._renderbuffer.format)>=0,\"framebuffer color attachment \"+ot+\" is invalid\"),Jt[ot]&&Jt[ot].texture){var us=B1[Jt[ot].texture._texture.format]*x_[Jt[ot].texture._texture.type];qi===null?qi=us:_(qi===us,\"all color attachments much have the same number of bits per pixel.\")}return Ce(tt,mt,zt),_(!tt||tt.texture&&tt.texture._texture.format===N6||tt.renderbuffer&&tt.renderbuffer._renderbuffer.format===W6,\"invalid depth attachment for framebuffer object\"),Ce(Ot,mt,zt),_(!Ot||Ot.renderbuffer&&Ot.renderbuffer._renderbuffer.format===H6,\"invalid stencil attachment for framebuffer object\"),Ce(Ht,mt,zt),_(!Ht||Ht.texture&&Ht.texture._texture.format===CE||Ht.renderbuffer&&Ht.renderbuffer._renderbuffer.format===CE,\"invalid depth-stencil attachment for framebuffer object\"),Le(Te),Te.width=mt,Te.height=zt,Te.colorAttachments=Jt,Te.depthAttachment=tt,Te.stencilAttachment=Ot,Te.depthStencilAttachment=Ht,ft.color=Jt.map(Z),ft.depth=Z(tt),ft.stencil=Z(Ot),ft.depthStencil=Z(Ht),ft.width=Te.width,ft.height=Te.height,re(Te),ft}function ut(De,Me){_(J.next!==Te,\"can not resize a framebuffer which is currently in use\");var ot=Math.max(De|0,1),mt=Math.max(Me|0||ot,1);if(ot===Te.width&&mt===Te.height)return ft;for(var zt=Te.colorAttachments,Di=0;Di<zt.length;++Di)_e(zt[Di],ot,mt);return _e(Te.depthAttachment,ot,mt),_e(Te.stencilAttachment,ot,mt),_e(Te.depthStencilAttachment,ot,mt),Te.width=ft.width=ot,Te.height=ft.height=mt,re(Te),ft}return ft(ge,Ie),n(ft,{resize:ut,_reglType:\"framebuffer\",_framebuffer:Te,destroy:function(){et(Te),Le(Te)},use:function(De){J.setFBO({framebuffer:ft},De)}})}function je(ge){var Ie=Array(6);function Te(ut){var De;_(Ie.indexOf(J.next)<0,\"can not update framebuffer which is currently in use\");var Me={color:null},ot=0,mt=null,zt=\"rgba\",Di=\"uint8\",Bi=1;if(typeof ut==\"number\")ot=ut|0;else if(!ut)ot=1;else{_.type(ut,\"object\",\"invalid arguments for framebuffer\");var Bt=ut;if(\"shape\"in Bt){var sn=Bt.shape;_(Array.isArray(sn)&&sn.length>=2,\"invalid shape for framebuffer\"),_(sn[0]===sn[1],\"cube framebuffer must be square\"),ot=sn[0]}else\"radius\"in Bt&&(ot=Bt.radius|0),\"width\"in Bt?(ot=Bt.width|0,\"height\"in Bt&&_(Bt.height===ot,\"must be square\")):\"height\"in Bt&&(ot=Bt.height|0);(\"color\"in Bt||\"colors\"in Bt)&&(mt=Bt.color||Bt.colors,Array.isArray(mt)&&_(mt.length===1||g.webgl_draw_buffers,\"multiple render targets not supported\")),mt||(\"colorCount\"in Bt&&(Bi=Bt.colorCount|0,_(Bi>0,\"invalid color buffer count\")),\"colorType\"in Bt&&(_.oneOf(Bt.colorType,ve,\"invalid color type\"),Di=Bt.colorType),\"colorFormat\"in Bt&&(zt=Bt.colorFormat,_.oneOf(Bt.colorFormat,pe,\"invalid color format for texture\"))),\"depth\"in Bt&&(Me.depth=Bt.depth),\"stencil\"in Bt&&(Me.stencil=Bt.stencil),\"depthStencil\"in Bt&&(Me.depthStencil=Bt.depthStencil)}var wi;if(mt)if(Array.isArray(mt))for(wi=[],De=0;De<mt.length;++De)wi[De]=mt[De];else wi=[mt];else{wi=Array(Bi);var Ji={radius:ot,format:zt,type:Di};for(De=0;De<Bi;++De)wi[De]=Q.createCube(Ji)}for(Me.color=Array(wi.length),De=0;De<wi.length;++De){var an=wi[De];_(typeof an==\"function\"&&an._reglType===\"textureCube\",\"invalid cube map\"),ot=ot||an.width,_(an.width===ot&&an.height===ot,\"invalid cube map shape\"),Me.color[De]={target:v_,data:wi[De]}}for(De=0;De<6;++De){for(var ln=0;ln<wi.length;++ln)Me.color[ln].target=v_+De;De>0&&(Me.depth=Ie[0].depth,Me.stencil=Ie[0].stencil,Me.depthStencil=Ie[0].depthStencil),Ie[De]?Ie[De](Me):Ie[De]=ne(Me)}return n(Te,{width:ot,height:ot,color:wi})}function ft(ut){var De,Me=ut|0;if(_(Me>0&&Me<=T.maxCubeMapSize,\"invalid radius for cube fbo\"),Me===Te.width)return Te;var ot=Te.color;for(De=0;De<ot.length;++De)ot[De].resize(Me);for(De=0;De<6;++De)Ie[De].resize(Me);return Te.width=Te.height=Me,Te}return Te(ge),n(Te,{faces:Ie,resize:ft,_reglType:\"framebufferCube\",destroy:function(){Ie.forEach(function(ut){ut.destroy()})}})}function Ee(){J.cur=null,J.next=null,J.dirty=!0,Po(ue).forEach(function(ge){ge.framebuffer=p.createFramebuffer(),re(ge)})}return n(J,{getFramebuffer:function(ge){if(typeof ge==\"function\"&&ge._reglType===\"framebuffer\"){var Ie=ge._framebuffer;if(Ie instanceof Re)return Ie}return null},create:ne,createCube:je,clear:function(){Po(ue).forEach(et)},restore:Ee})}var K6=5126,kE=34962,w_=34963,EE=[\"attributes\",\"elements\",\"offset\",\"count\",\"primitive\",\"instances\"];function N1(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=K6,this.offset=0,this.stride=0,this.divisor=0}function Z6(p,g,T,Q,oe,G,J){for(var pe=T.maxAttributes,he=new Array(pe),ve=0;ve<pe;++ve)he[ve]=new N1;var xe=0,be={},Ce={Record:N1,scope:{},state:he,currentVAO:null,targetVAO:null,restore:ye()?Le:function(){},createVAO:et,getVAO:Z,destroyBuffer:fe,setVAO:ye()?_e:ze,clear:ye()?ue:function(){}};function fe(re){for(var ne=0;ne<he.length;++ne){var je=he[ne];je.buffer===re&&(p.disableVertexAttribArray(ne),je.buffer=null)}}function ye(){return g.oes_vertex_array_object}function j(){return g.angle_instanced_arrays}function Z(re){return typeof re==\"function\"&&re._vao?re._vao:null}function _e(re){if(re!==Ce.currentVAO){var ne=ye();re?ne.bindVertexArrayOES(re.vao):ne.bindVertexArrayOES(null),Ce.currentVAO=re}}function ze(re){if(re!==Ce.currentVAO){if(re)re.bindAttrs();else{for(var ne=j(),je=0;je<he.length;++je){var Ee=he[je];Ee.buffer?(p.enableVertexAttribArray(je),Ee.buffer.bind(),p.vertexAttribPointer(je,Ee.size,Ee.type,Ee.normalized,Ee.stride,Ee.offfset),ne&&Ee.divisor&&ne.vertexAttribDivisorANGLE(je,Ee.divisor)):(p.disableVertexAttribArray(je),p.vertexAttrib4f(je,Ee.x,Ee.y,Ee.z,Ee.w))}J.elements?p.bindBuffer(w_,J.elements.buffer.buffer):p.bindBuffer(w_,null)}Ce.currentVAO=re}}function ue(){Po(be).forEach(function(re){re.destroy()})}function Re(){this.id=++xe,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var re=ye();re?this.vao=re.createVertexArrayOES():this.vao=null,be[this.id]=this,this.buffers=[]}Re.prototype.bindAttrs=function(){for(var re=j(),ne=this.attributes,je=0;je<ne.length;++je){var Ee=ne[je];Ee.buffer?(p.enableVertexAttribArray(je),p.bindBuffer(kE,Ee.buffer.buffer),p.vertexAttribPointer(je,Ee.size,Ee.type,Ee.normalized,Ee.stride,Ee.offset),re&&Ee.divisor&&re.vertexAttribDivisorANGLE(je,Ee.divisor)):(p.disableVertexAttribArray(je),p.vertexAttrib4f(je,Ee.x,Ee.y,Ee.z,Ee.w))}for(var ge=ne.length;ge<pe;++ge)p.disableVertexAttribArray(ge);var Ie=G.getElements(this.elements);Ie?p.bindBuffer(w_,Ie.buffer.buffer):p.bindBuffer(w_,null)},Re.prototype.refresh=function(){var re=ye();re&&(re.bindVertexArrayOES(this.vao),this.bindAttrs(),Ce.currentVAO=null,re.bindVertexArrayOES(null))},Re.prototype.destroy=function(){if(this.vao){var re=ye();this===Ce.currentVAO&&(Ce.currentVAO=null,re.bindVertexArrayOES(null)),re.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),be[this.id]&&(delete be[this.id],Q.vaoCount-=1)};function Le(){var re=ye();re&&Po(be).forEach(function(ne){ne.refresh()})}function et(re){var ne=new Re;Q.vaoCount+=1;function je(Ee){var ge;if(Array.isArray(Ee))ge=Ee,ne.elements&&ne.ownsElements&&ne.elements.destroy(),ne.elements=null,ne.ownsElements=!1,ne.offset=0,ne.count=0,ne.instances=-1,ne.primitive=4;else{if(_(typeof Ee==\"object\",\"invalid arguments for create vao\"),_(\"attributes\"in Ee,\"must specify attributes for vao\"),Ee.elements){var Ie=Ee.elements;ne.ownsElements?typeof Ie==\"function\"&&Ie._reglType===\"elements\"?(ne.elements.destroy(),ne.ownsElements=!1):(ne.elements(Ie),ne.ownsElements=!1):G.getElements(Ee.elements)?(ne.elements=Ee.elements,ne.ownsElements=!1):(ne.elements=G.create(Ee.elements),ne.ownsElements=!0)}else ne.elements=null,ne.ownsElements=!1;ge=Ee.attributes,ne.offset=0,ne.count=-1,ne.instances=-1,ne.primitive=4,ne.elements&&(ne.count=ne.elements._elements.vertCount,ne.primitive=ne.elements._elements.primType),\"offset\"in Ee&&(ne.offset=Ee.offset|0),\"count\"in Ee&&(ne.count=Ee.count|0),\"instances\"in Ee&&(ne.instances=Ee.instances|0),\"primitive\"in Ee&&(_(Ee.primitive in il,\"bad primitive type: \"+Ee.primitive),ne.primitive=il[Ee.primitive]),_.optional(()=>{for(var Di=Object.keys(Ee),Bi=0;Bi<Di.length;++Bi)_(EE.indexOf(Di[Bi])>=0,'invalid option for vao: \"'+Di[Bi]+'\" valid options are '+EE)}),_(Array.isArray(ge),\"attributes must be an array\")}_(ge.length<pe,\"too many attributes\"),_(ge.length>0,\"must specify at least one attribute\");var Te={},ft=ne.attributes;ft.length=ge.length;for(var ut=0;ut<ge.length;++ut){var De=ge[ut],Me=ft[ut]=new N1,ot=De.data||De;if(Array.isArray(ot)||i(ot)||Er(ot)){var mt;ne.buffers[ut]&&(mt=ne.buffers[ut],i(ot)&&mt._buffer.byteLength>=ot.byteLength?mt.subdata(ot):(mt.destroy(),ne.buffers[ut]=null)),ne.buffers[ut]||(mt=ne.buffers[ut]=oe.create(De,kE,!1,!0)),Me.buffer=oe.getBuffer(mt),Me.size=Me.buffer.dimension|0,Me.normalized=!1,Me.type=Me.buffer.dtype,Me.offset=0,Me.stride=0,Me.divisor=0,Me.state=1,Te[ut]=1}else oe.getBuffer(De)?(Me.buffer=oe.getBuffer(De),Me.size=Me.buffer.dimension|0,Me.normalized=!1,Me.type=Me.buffer.dtype,Me.offset=0,Me.stride=0,Me.divisor=0,Me.state=1):oe.getBuffer(De.buffer)?(Me.buffer=oe.getBuffer(De.buffer),Me.size=(+De.size||Me.buffer.dimension)|0,Me.normalized=!!De.normalized||!1,\"type\"in De?(_.parameter(De.type,lc,\"invalid buffer type\"),Me.type=lc[De.type]):Me.type=Me.buffer.dtype,Me.offset=(De.offset||0)|0,Me.stride=(De.stride||0)|0,Me.divisor=(De.divisor||0)|0,Me.state=1,_(Me.size>=1&&Me.size<=4,\"size must be between 1 and 4\"),_(Me.offset>=0,\"invalid offset\"),_(Me.stride>=0&&Me.stride<=255,\"stride must be between 0 and 255\"),_(Me.divisor>=0,\"divisor must be positive\"),_(!Me.divisor||!!g.angle_instanced_arrays,\"ANGLE_instanced_arrays must be enabled to use divisor\")):\"x\"in De?(_(ut>0,\"first attribute must not be a constant\"),Me.x=+De.x||0,Me.y=+De.y||0,Me.z=+De.z||0,Me.w=+De.w||0,Me.state=2):_(!1,\"invalid attribute spec for location \"+ut)}for(var zt=0;zt<ne.buffers.length;++zt)!Te[zt]&&ne.buffers[zt]&&(ne.buffers[zt].destroy(),ne.buffers[zt]=null);return ne.refresh(),je}return je.destroy=function(){for(var Ee=0;Ee<ne.buffers.length;++Ee)ne.buffers[Ee]&&ne.buffers[Ee].destroy();ne.buffers.length=0,ne.ownsElements&&(ne.elements.destroy(),ne.elements=null,ne.ownsElements=!1),ne.destroy()},je._vao=ne,je._reglType=\"vao\",je(re)}return Ce}var IE=35632,J6=35633,ez=35718,tz=35721;function iz(p,g,T,Q){var oe={},G={};function J(j,Z,_e,ze){this.name=j,this.id=Z,this.location=_e,this.info=ze}function pe(j,Z){for(var _e=0;_e<j.length;++_e)if(j[_e].id===Z.id){j[_e].location=Z.location;return}j.push(Z)}function he(j,Z,_e){var ze=j===IE?oe:G,ue=ze[Z];if(!ue){var Re=g.str(Z);ue=p.createShader(j),p.shaderSource(ue,Re),p.compileShader(ue),_.shaderError(p,ue,Re,j,_e),ze[Z]=ue}return ue}var ve={},xe=[],be=0;function Ce(j,Z){this.id=be++,this.fragId=j,this.vertId=Z,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,Q.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function fe(j,Z,_e){var ze,ue,Re=he(IE,j.fragId),Le=he(J6,j.vertId),et=j.program=p.createProgram();if(p.attachShader(et,Re),p.attachShader(et,Le),_e)for(ze=0;ze<_e.length;++ze){var re=_e[ze];p.bindAttribLocation(et,re[0],re[1])}p.linkProgram(et),_.linkError(p,et,g.str(j.fragId),g.str(j.vertId),Z);var ne=p.getProgramParameter(et,ez);Q.profile&&(j.stats.uniformsCount=ne);var je=j.uniforms;for(ze=0;ze<ne;++ze)if(ue=p.getActiveUniform(et,ze),ue){if(ue.size>1)for(var Ee=0;Ee<ue.size;++Ee){var ge=ue.name.replace(\"[0]\",\"[\"+Ee+\"]\");pe(je,new J(ge,g.id(ge),p.getUniformLocation(et,ge),ue))}var Ie=ue.name;ue.size>1&&(Ie=Ie.replace(\"[0]\",\"\")),pe(je,new J(Ie,g.id(Ie),p.getUniformLocation(et,Ie),ue))}var Te=p.getProgramParameter(et,tz);Q.profile&&(j.stats.attributesCount=Te);var ft=j.attributes;for(ze=0;ze<Te;++ze)ue=p.getActiveAttrib(et,ze),ue&&pe(ft,new J(ue.name,g.id(ue.name),p.getAttribLocation(et,ue.name),ue))}Q.profile&&(T.getMaxUniformsCount=function(){var j=0;return xe.forEach(function(Z){Z.stats.uniformsCount>j&&(j=Z.stats.uniformsCount)}),j},T.getMaxAttributesCount=function(){var j=0;return xe.forEach(function(Z){Z.stats.attributesCount>j&&(j=Z.stats.attributesCount)}),j});function ye(){oe={},G={};for(var j=0;j<xe.length;++j)fe(xe[j],null,xe[j].attributes.map(function(Z){return[Z.location,Z.name]}))}return{clear:function(){var j=p.deleteShader.bind(p);Po(oe).forEach(j),oe={},Po(G).forEach(j),G={},xe.forEach(function(Z){p.deleteProgram(Z.program)}),xe.length=0,ve={},T.shaderCount=0},program:function(j,Z,_e,ze){_.command(j>=0,\"missing vertex shader\",_e),_.command(Z>=0,\"missing fragment shader\",_e);var ue=ve[Z];ue||(ue=ve[Z]={});var Re=ue[j];if(Re&&(Re.refCount++,!ze))return Re;var Le=new Ce(Z,j);return T.shaderCount++,fe(Le,_e,ze),Re||(ue[j]=Le),xe.push(Le),n(Le,{destroy:function(){if(Le.refCount--,Le.refCount<=0){p.deleteProgram(Le.program);var et=xe.indexOf(Le);xe.splice(et,1),T.shaderCount--}ue[Le.vertId].refCount<=0&&(p.deleteShader(G[Le.vertId]),delete G[Le.vertId],delete ve[Le.fragId][Le.vertId]),Object.keys(ve[Le.fragId]).length||(p.deleteShader(oe[Le.fragId]),delete oe[Le.fragId],delete ve[Le.fragId])}})},restore:ye,shader:he,frag:-1,vert:-1}}var nz=6408,bp=5121,oz=3333,S_=5126;function rz(p,g,T,Q,oe,G,J){function pe(xe){var be;g.next===null?(_(oe.preserveDrawingBuffer,'you must create a webgl context with \"preserveDrawingBuffer\":true in order to read pixels from the drawing buffer'),be=bp):(_(g.next.colorAttachments[0].texture!==null,\"You cannot read from a renderbuffer\"),be=g.next.colorAttachments[0].texture._texture.type,_.optional(function(){G.oes_texture_float?(_(be===bp||be===S_,\"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'\"),be===S_&&_(J.readFloat,\"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float\")):_(be===bp,\"Reading from a framebuffer is only allowed for the type 'uint8'\")}));var Ce=0,fe=0,ye=Q.framebufferWidth,j=Q.framebufferHeight,Z=null;i(xe)?Z=xe:xe&&(_.type(xe,\"object\",\"invalid arguments to regl.read()\"),Ce=xe.x|0,fe=xe.y|0,_(Ce>=0&&Ce<Q.framebufferWidth,\"invalid x offset for regl.read\"),_(fe>=0&&fe<Q.framebufferHeight,\"invalid y offset for regl.read\"),ye=(xe.width||Q.framebufferWidth-Ce)|0,j=(xe.height||Q.framebufferHeight-fe)|0,Z=xe.data||null),Z&&(be===bp?_(Z instanceof Uint8Array,\"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'\"):be===S_&&_(Z instanceof Float32Array,\"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'\")),_(ye>0&&ye+Ce<=Q.framebufferWidth,\"invalid width for read pixels\"),_(j>0&&j+fe<=Q.framebufferHeight,\"invalid height for read pixels\"),T();var _e=ye*j*4;return Z||(be===bp?Z=new Uint8Array(_e):be===S_&&(Z=Z||new Float32Array(_e))),_.isTypedArray(Z,\"data buffer for regl.read() must be a typedarray\"),_(Z.byteLength>=_e,\"data buffer for regl.read() too small\"),p.pixelStorei(oz,4),p.readPixels(Ce,fe,ye,j,nz,be,Z),Z}function he(xe){var be;return g.setFBO({framebuffer:xe.framebuffer},function(){be=pe(xe)}),be}function ve(xe){return!xe||!(\"framebuffer\"in xe)?pe(xe):he(xe)}return ve}function Yu(p){return Array.prototype.slice.call(p)}function Qu(p){return Yu(p).join(\"\")}function sz(){var p=0,g=[],T=[];function Q(be){for(var Ce=0;Ce<T.length;++Ce)if(T[Ce]===be)return g[Ce];var fe=\"g\"+p++;return g.push(fe),T.push(be),fe}function oe(){var be=[];function Ce(){be.push.apply(be,Yu(arguments))}var fe=[];function ye(){var j=\"v\"+p++;return fe.push(j),arguments.length>0&&(be.push(j,\"=\"),be.push.apply(be,Yu(arguments)),be.push(\";\")),j}return n(Ce,{def:ye,toString:function(){return Qu([fe.length>0?\"var \"+fe.join(\",\")+\";\":\"\",Qu(be)])}})}function G(){var be=oe(),Ce=oe(),fe=be.toString,ye=Ce.toString;function j(Z,_e){Ce(Z,_e,\"=\",be.def(Z,_e),\";\")}return n(function(){be.apply(be,Yu(arguments))},{def:be.def,entry:be,exit:Ce,save:j,set:function(Z,_e,ze){j(Z,_e),be(Z,_e,\"=\",ze,\";\")},toString:function(){return fe()+ye()}})}function J(){var be=Qu(arguments),Ce=G(),fe=G(),ye=Ce.toString,j=fe.toString;return n(Ce,{then:function(){return Ce.apply(Ce,Yu(arguments)),this},else:function(){return fe.apply(fe,Yu(arguments)),this},toString:function(){var Z=j();return Z&&(Z=\"else{\"+Z+\"}\"),Qu([\"if(\",be,\"){\",ye(),\"}\",Z])}})}var pe=oe(),he={};function ve(be,Ce){var fe=[];function ye(){var ue=\"a\"+fe.length;return fe.push(ue),ue}Ce=Ce||0;for(var j=0;j<Ce;++j)ye();var Z=G(),_e=Z.toString,ze=he[be]=n(Z,{arg:ye,toString:function(){return Qu([\"function(\",fe.join(),\"){\",_e(),\"}\"])}});return ze}function xe(){var be=['\"use strict\";',pe,\"return {\"];Object.keys(he).forEach(function(ye){be.push('\"',ye,'\":',he[ye].toString(),\",\")}),be.push(\"}\");var Ce=Qu(be).replace(/;/g,`;\n`).replace(/}/g,`}\n`).replace(/{/g,`{\n`),fe=Function.apply(null,g.concat(Ce));return fe.apply(null,T)}return{global:pe,link:Q,block:oe,proc:ve,scope:G,cond:J,compile:xe}}var Xu=\"xyzw\".split(\"\"),TE=5121,Ku=1,F1=2,U1=0,j1=1,V1=2,W1=3,C_=4,AE=5,LE=6,DE=\"dither\",PE=\"blend.enable\",RE=\"blend.color\",H1=\"blend.equation\",$1=\"blend.func\",ME=\"depth.enable\",zE=\"depth.func\",OE=\"depth.range\",BE=\"depth.mask\",q1=\"colorMask\",NE=\"cull.enable\",FE=\"cull.face\",G1=\"frontFace\",Y1=\"lineWidth\",UE=\"polygonOffset.enable\",Q1=\"polygonOffset.offset\",jE=\"sample.alpha\",VE=\"sample.enable\",X1=\"sample.coverage\",WE=\"stencil.enable\",HE=\"stencil.mask\",K1=\"stencil.func\",Z1=\"stencil.opFront\",vp=\"stencil.opBack\",$E=\"scissor.enable\",k_=\"scissor.box\",Gs=\"viewport\",xp=\"profile\",pc=\"framebuffer\",wp=\"vert\",Sp=\"frag\",fc=\"elements\",mc=\"primitive\",gc=\"count\",E_=\"offset\",I_=\"instances\",Cp=\"vao\",J1=\"Width\",ew=\"Height\",Zu=pc+J1,Ju=pc+ew,az=Gs+J1,lz=Gs+ew,qE=\"drawingBuffer\",GE=qE+J1,YE=qE+ew,cz=[$1,H1,K1,Z1,vp,X1,Gs,k_,Q1],ed=34962,tw=34963,uz=35632,dz=35633,QE=3553,hz=34067,pz=2884,fz=3042,mz=3024,gz=2960,_z=2929,yz=3089,bz=32823,vz=32926,xz=32928,iw=5126,T_=35664,A_=35665,L_=35666,nw=5124,D_=35667,P_=35668,R_=35669,ow=35670,M_=35671,z_=35672,O_=35673,kp=35674,Ep=35675,Ip=35676,Tp=35678,Ap=35680,rw=4,Lp=1028,_c=1029,XE=2304,sw=2305,wz=32775,Sz=32776,Cz=519,ol=7680,KE=0,ZE=1,JE=32774,kz=513,eI=36160,Ez=36064,cs={0:0,1:1,zero:0,one:1,\"src color\":768,\"one minus src color\":769,\"src alpha\":770,\"one minus src alpha\":771,\"dst color\":774,\"one minus dst color\":775,\"dst alpha\":772,\"one minus dst alpha\":773,\"constant color\":32769,\"one minus constant color\":32770,\"constant alpha\":32771,\"one minus constant alpha\":32772,\"src alpha saturate\":776},tI=[\"constant color, constant alpha\",\"one minus constant color, constant alpha\",\"constant color, one minus constant alpha\",\"one minus constant color, one minus constant alpha\",\"constant alpha, constant color\",\"constant alpha, one minus constant color\",\"one minus constant alpha, constant color\",\"one minus constant alpha, one minus constant color\"],td={never:512,less:513,\"<\":513,equal:514,\"=\":514,\"==\":514,\"===\":514,lequal:515,\"<=\":515,greater:516,\">\":516,notequal:517,\"!=\":517,\"!==\":517,gequal:518,\">=\":518,always:519},rl={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,\"increment wrap\":34055,\"decrement wrap\":34056,invert:5386},iI={frag:uz,vert:dz},aw={cw:XE,ccw:sw};function B_(p){return Array.isArray(p)||i(p)||Er(p)}function nI(p){return p.sort(function(g,T){return g===Gs?-1:T===Gs?1:g<T?-1:1})}function un(p,g,T,Q){this.thisDep=p,this.contextDep=g,this.propDep=T,this.append=Q}function sl(p){return p&&!(p.thisDep||p.contextDep||p.propDep)}function Zi(p){return new un(!1,!1,!1,p)}function yo(p,g){var T=p.type;if(T===U1){var Q=p.data.length;return new un(!0,Q>=1,Q>=2,g)}else if(T===C_){var oe=p.data;return new un(oe.thisDep,oe.contextDep,oe.propDep,g)}else{if(T===AE)return new un(!1,!1,!1,g);if(T===LE){for(var G=!1,J=!1,pe=!1,he=0;he<p.data.length;++he){var ve=p.data[he];if(ve.type===j1)pe=!0;else if(ve.type===V1)J=!0;else if(ve.type===W1)G=!0;else if(ve.type===U1){G=!0;var xe=ve.data;xe>=1&&(J=!0),xe>=2&&(pe=!0)}else ve.type===C_&&(G=G||ve.data.thisDep,J=J||ve.data.contextDep,pe=pe||ve.data.propDep)}return new un(G,J,pe,g)}else return new un(T===W1,T===V1,T===j1,g)}}var oI=new un(!1,!1,!1,function(){});function Iz(p,g,T,Q,oe,G,J,pe,he,ve,xe,be,Ce,fe,ye){var j=ve.Record,Z={add:32774,subtract:32778,\"reverse subtract\":32779};T.ext_blend_minmax&&(Z.min=wz,Z.max=Sz);var _e=T.angle_instanced_arrays,ze=T.webgl_draw_buffers,ue=T.oes_vertex_array_object,Re={dirty:!0,profile:ye.profile},Le={},et=[],re={},ne={};function je(y){return y.replace(\".\",\"_\")}function Ee(y,m,D){var U=je(y);et.push(y),Le[U]=Re[U]=!!D,re[U]=m}function ge(y,m,D){var U=je(y);et.push(y),Array.isArray(D)?(Re[U]=D.slice(),Le[U]=D.slice()):Re[U]=Le[U]=D,ne[U]=m}Ee(DE,mz),Ee(PE,fz),ge(RE,\"blendColor\",[0,0,0,0]),ge(H1,\"blendEquationSeparate\",[JE,JE]),ge($1,\"blendFuncSeparate\",[ZE,KE,ZE,KE]),Ee(ME,_z,!0),ge(zE,\"depthFunc\",kz),ge(OE,\"depthRange\",[0,1]),ge(BE,\"depthMask\",!0),ge(q1,q1,[!0,!0,!0,!0]),Ee(NE,pz),ge(FE,\"cullFace\",_c),ge(G1,G1,sw),ge(Y1,Y1,1),Ee(UE,bz),ge(Q1,\"polygonOffset\",[0,0]),Ee(jE,vz),Ee(VE,xz),ge(X1,\"sampleCoverage\",[1,!1]),Ee(WE,gz),ge(HE,\"stencilMask\",-1),ge(K1,\"stencilFunc\",[Cz,0,-1]),ge(Z1,\"stencilOpSeparate\",[Lp,ol,ol,ol]),ge(vp,\"stencilOpSeparate\",[_c,ol,ol,ol]),Ee($E,yz),ge(k_,\"scissor\",[0,0,p.drawingBufferWidth,p.drawingBufferHeight]),ge(Gs,Gs,[0,0,p.drawingBufferWidth,p.drawingBufferHeight]);var Ie={gl:p,context:Ce,strings:g,next:Le,current:Re,draw:be,elements:G,buffer:oe,shader:xe,attributes:ve.state,vao:ve,uniforms:he,framebuffer:pe,extensions:T,timer:fe,isBufferArgs:B_},Te={primTypes:il,compareFuncs:td,blendFuncs:cs,blendEquations:Z,stencilOps:rl,glTypes:lc,orientationType:aw};_.optional(function(){Ie.isArrayLike=Li}),ze&&(Te.backBuffer=[_c],Te.drawBuffer=Ki(Q.maxDrawbuffers,function(y){return y===0?[0]:Ki(y,function(m){return Ez+m})}));var ft=0;function ut(){var y=sz(),m=y.link,D=y.global;y.id=ft++,y.batchId=\"0\";var U=m(Ie),W=y.shared={props:\"a0\"};Object.keys(Ie).forEach(function(C){W[C]=D.def(U,\".\",C)}),_.optional(function(){y.CHECK=m(_),y.commandStr=_.guessCommand(),y.command=m(y.commandStr),y.assert=function(C,x,$){C(\"if(!(\",x,\"))\",this.CHECK,\".commandRaise(\",m($),\",\",this.command,\");\")},Te.invalidBlendCombinations=tI});var R=y.next={},P=y.current={};Object.keys(ne).forEach(function(C){Array.isArray(Re[C])&&(R[C]=D.def(W.next,\".\",C),P[C]=D.def(W.current,\".\",C))});var O=y.constants={};Object.keys(Te).forEach(function(C){O[C]=D.def(JSON.stringify(Te[C]))}),y.invoke=function(C,x){switch(x.type){case U1:var $=[\"this\",W.context,W.props,y.batchId];return C.def(m(x.data),\".call(\",$.slice(0,Math.max(x.data.length+1,4)),\")\");case j1:return C.def(W.props,x.data);case V1:return C.def(W.context,x.data);case W1:return C.def(\"this\",x.data);case C_:return x.data.append(y,C),x.data.ref;case AE:return x.data.toString();case LE:return x.data.map(function(H){return y.invoke(C,H)})}},y.attribCache={};var b={};return y.scopeAttrib=function(C){var x=g.id(C);if(x in b)return b[x];var $=ve.scope[x];$||($=ve.scope[x]=new j);var H=b[x]=m($);return H},y}function De(y){var m=y.static,D=y.dynamic,U;if(xp in m){var W=!!m[xp];U=Zi(function(P,O){return W}),U.enable=W}else if(xp in D){var R=D[xp];U=yo(R,function(P,O){return P.invoke(O,R)})}return U}function Me(y,m){var D=y.static,U=y.dynamic;if(pc in D){var W=D[pc];return W?(W=pe.getFramebuffer(W),_.command(W,\"invalid framebuffer object\"),Zi(function(P,O){var b=P.link(W),C=P.shared;O.set(C.framebuffer,\".next\",b);var x=C.context;return O.set(x,\".\"+Zu,b+\".width\"),O.set(x,\".\"+Ju,b+\".height\"),b})):Zi(function(P,O){var b=P.shared;O.set(b.framebuffer,\".next\",\"null\");var C=b.context;return O.set(C,\".\"+Zu,C+\".\"+GE),O.set(C,\".\"+Ju,C+\".\"+YE),\"null\"})}else if(pc in U){var R=U[pc];return yo(R,function(P,O){var b=P.invoke(O,R),C=P.shared,x=C.framebuffer,$=O.def(x,\".getFramebuffer(\",b,\")\");_.optional(function(){P.assert(O,\"!\"+b+\"||\"+$,\"invalid framebuffer object\")}),O.set(x,\".next\",$);var H=C.context;return O.set(H,\".\"+Zu,$+\"?\"+$+\".width:\"+H+\".\"+GE),O.set(H,\".\"+Ju,$+\"?\"+$+\".height:\"+H+\".\"+YE),$})}else return null}function ot(y,m,D){var U=y.static,W=y.dynamic;function R(b){if(b in U){var C=U[b];_.commandType(C,\"object\",\"invalid \"+b,D.commandStr);var x=!0,$=C.x|0,H=C.y|0,te,se;return\"width\"in C?(te=C.width|0,_.command(te>=0,\"invalid \"+b,D.commandStr)):x=!1,\"height\"in C?(se=C.height|0,_.command(se>=0,\"invalid \"+b,D.commandStr)):x=!1,new un(!x&&m&&m.thisDep,!x&&m&&m.contextDep,!x&&m&&m.propDep,function(Ze,Ne){var ae=Ze.shared.context,ee=te;\"width\"in C||(ee=Ne.def(ae,\".\",Zu,\"-\",$));var qe=se;return\"height\"in C||(qe=Ne.def(ae,\".\",Ju,\"-\",H)),[$,H,ee,qe]})}else if(b in W){var Se=W[b],st=yo(Se,function(Ze,Ne){var ae=Ze.invoke(Ne,Se);_.optional(function(){Ze.assert(Ne,ae+\"&&typeof \"+ae+'===\"object\"',\"invalid \"+b)});var ee=Ze.shared.context,qe=Ne.def(ae,\".x|0\"),We=Ne.def(ae,\".y|0\"),rt=Ne.def('\"width\" in ',ae,\"?\",ae,\".width|0:\",\"(\",ee,\".\",Zu,\"-\",qe,\")\"),ni=Ne.def('\"height\" in ',ae,\"?\",ae,\".height|0:\",\"(\",ee,\".\",Ju,\"-\",We,\")\");return _.optional(function(){Ze.assert(Ne,rt+\">=0&&\"+ni+\">=0\",\"invalid \"+b)}),[qe,We,rt,ni]});return m&&(st.thisDep=st.thisDep||m.thisDep,st.contextDep=st.contextDep||m.contextDep,st.propDep=st.propDep||m.propDep),st}else return m?new un(m.thisDep,m.contextDep,m.propDep,function(Ze,Ne){var ae=Ze.shared.context;return[0,0,Ne.def(ae,\".\",Zu),Ne.def(ae,\".\",Ju)]}):null}var P=R(Gs);if(P){var O=P;P=new un(P.thisDep,P.contextDep,P.propDep,function(b,C){var x=O.append(b,C),$=b.shared.context;return C.set($,\".\"+az,x[2]),C.set($,\".\"+lz,x[3]),x})}return{viewport:P,scissor_box:R(k_)}}function mt(y,m){var D=y.static,U=typeof D[Sp]==\"string\"&&typeof D[wp]==\"string\";if(U){if(Object.keys(m.dynamic).length>0)return null;var W=m.static,R=Object.keys(W);if(R.length>0&&typeof W[R[0]]==\"number\"){for(var P=[],O=0;O<R.length;++O)_(typeof W[R[O]]==\"number\",\"must specify all vertex attribute locations when using vaos\"),P.push([W[R[O]]|0,R[O]]);return P}}return null}function zt(y,m,D){var U=y.static,W=y.dynamic;function R(x){if(x in U){var $=g.id(U[x]);_.optional(function(){xe.shader(iI[x],$,_.guessCommand())});var H=Zi(function(){return $});return H.id=$,H}else if(x in W){var te=W[x];return yo(te,function(se,Se){var st=se.invoke(Se,te),Ze=Se.def(se.shared.strings,\".id(\",st,\")\");return _.optional(function(){Se(se.shared.shader,\".shader(\",iI[x],\",\",Ze,\",\",se.command,\");\")}),Ze})}return null}var P=R(Sp),O=R(wp),b=null,C;return sl(P)&&sl(O)?(b=xe.program(O.id,P.id,null,D),C=Zi(function(x,$){return x.link(b)})):C=new un(P&&P.thisDep||O&&O.thisDep,P&&P.contextDep||O&&O.contextDep,P&&P.propDep||O&&O.propDep,function(x,$){var H=x.shared.shader,te;P?te=P.append(x,$):te=$.def(H,\".\",Sp);var se;O?se=O.append(x,$):se=$.def(H,\".\",wp);var Se=H+\".program(\"+se+\",\"+te;return _.optional(function(){Se+=\",\"+x.command}),$.def(Se+\")\")}),{frag:P,vert:O,progVar:C,program:b}}function Di(y,m){var D=y.static,U=y.dynamic,W={},R=!1;function P(){if(Cp in D){var Ne=D[Cp];return Ne!==null&&ve.getVAO(Ne)===null&&(Ne=ve.createVAO(Ne)),R=!0,W.vao=Ne,Zi(function(ee){var qe=ve.getVAO(Ne);return qe?ee.link(qe):\"null\"})}else if(Cp in U){R=!0;var ae=U[Cp];return yo(ae,function(ee,qe){var We=ee.invoke(qe,ae);return qe.def(ee.shared.vao+\".getVAO(\"+We+\")\")})}return null}var O=P(),b=!1;function C(){if(fc in D){var Ne=D[fc];if(W.elements=Ne,B_(Ne)){var ae=W.elements=G.create(Ne,!0);Ne=G.getElements(ae),b=!0}else Ne&&(Ne=G.getElements(Ne),b=!0,_.command(Ne,\"invalid elements\",m.commandStr));var ee=Zi(function(We,rt){if(Ne){var ni=We.link(Ne);return We.ELEMENTS=ni,ni}return We.ELEMENTS=null,null});return ee.value=Ne,ee}else if(fc in U){b=!0;var qe=U[fc];return yo(qe,function(We,rt){var ni=We.shared,An=ni.isBufferArgs,bc=ni.elements,Ys=We.invoke(rt,qe),ds=rt.def(\"null\"),al=rt.def(An,\"(\",Ys,\")\"),vc=We.cond(al).then(ds,\"=\",bc,\".createStream(\",Ys,\");\").else(ds,\"=\",bc,\".getElements(\",Ys,\");\");return _.optional(function(){We.assert(vc.else,\"!\"+Ys+\"||\"+ds,\"invalid elements\")}),rt.entry(vc),rt.exit(We.cond(al).then(bc,\".destroyStream(\",ds,\");\")),We.ELEMENTS=ds,ds})}else if(R)return new un(O.thisDep,O.contextDep,O.propDep,function(We,rt){return rt.def(We.shared.vao+\".currentVAO?\"+We.shared.elements+\".getElements(\"+We.shared.vao+\".currentVAO.elements):null\")});return null}var x=C();function $(){if(mc in D){var Ne=D[mc];return W.primitive=Ne,_.commandParameter(Ne,il,\"invalid primitve\",m.commandStr),Zi(function(ee,qe){return il[Ne]})}else if(mc in U){var ae=U[mc];return yo(ae,function(ee,qe){var We=ee.constants.primTypes,rt=ee.invoke(qe,ae);return _.optional(function(){ee.assert(qe,rt+\" in \"+We,\"invalid primitive, must be one of \"+Object.keys(il))}),qe.def(We,\"[\",rt,\"]\")})}else{if(b)return sl(x)?x.value?Zi(function(ee,qe){return qe.def(ee.ELEMENTS,\".primType\")}):Zi(function(){return rw}):new un(x.thisDep,x.contextDep,x.propDep,function(ee,qe){var We=ee.ELEMENTS;return qe.def(We,\"?\",We,\".primType:\",rw)});if(R)return new un(O.thisDep,O.contextDep,O.propDep,function(ee,qe){return qe.def(ee.shared.vao+\".currentVAO?\"+ee.shared.vao+\".currentVAO.primitive:\"+rw)})}return null}function H(Ne,ae){if(Ne in D){var ee=D[Ne]|0;return ae?W.offset=ee:W.instances=ee,_.command(!ae||ee>=0,\"invalid \"+Ne,m.commandStr),Zi(function(We,rt){return ae&&(We.OFFSET=ee),ee})}else if(Ne in U){var qe=U[Ne];return yo(qe,function(We,rt){var ni=We.invoke(rt,qe);return ae&&(We.OFFSET=ni,_.optional(function(){We.assert(rt,ni+\">=0\",\"invalid \"+Ne)})),ni})}else if(ae){if(b)return Zi(function(We,rt){return We.OFFSET=0,0});if(R)return new un(O.thisDep,O.contextDep,O.propDep,function(We,rt){return rt.def(We.shared.vao+\".currentVAO?\"+We.shared.vao+\".currentVAO.offset:0\")})}else if(R)return new un(O.thisDep,O.contextDep,O.propDep,function(We,rt){return rt.def(We.shared.vao+\".currentVAO?\"+We.shared.vao+\".currentVAO.instances:-1\")});return null}var te=H(E_,!0);function se(){if(gc in D){var Ne=D[gc]|0;return W.count=Ne,_.command(typeof Ne==\"number\"&&Ne>=0,\"invalid vertex count\",m.commandStr),Zi(function(){return Ne})}else if(gc in U){var ae=U[gc];return yo(ae,function(rt,ni){var An=rt.invoke(ni,ae);return _.optional(function(){rt.assert(ni,\"typeof \"+An+'===\"number\"&&'+An+\">=0&&\"+An+\"===(\"+An+\"|0)\",\"invalid vertex count\")}),An})}else if(b)if(sl(x)){if(x)return te?new un(te.thisDep,te.contextDep,te.propDep,function(rt,ni){var An=ni.def(rt.ELEMENTS,\".vertCount-\",rt.OFFSET);return _.optional(function(){rt.assert(ni,An+\">=0\",\"invalid vertex offset/element buffer too small\")}),An}):Zi(function(rt,ni){return ni.def(rt.ELEMENTS,\".vertCount\")});var ee=Zi(function(){return-1});return _.optional(function(){ee.MISSING=!0}),ee}else{var qe=new un(x.thisDep||te.thisDep,x.contextDep||te.contextDep,x.propDep||te.propDep,function(rt,ni){var An=rt.ELEMENTS;return rt.OFFSET?ni.def(An,\"?\",An,\".vertCount-\",rt.OFFSET,\":-1\"):ni.def(An,\"?\",An,\".vertCount:-1\")});return _.optional(function(){qe.DYNAMIC=!0}),qe}else if(R){var We=new un(O.thisDep,O.contextDep,O.propDep,function(rt,ni){return ni.def(rt.shared.vao,\".currentVAO?\",rt.shared.vao,\".currentVAO.count:-1\")});return We}return null}var Se=$(),st=se(),Ze=H(I_,!1);return{elements:x,primitive:Se,count:st,instances:Ze,offset:te,vao:O,vaoActive:R,elementsActive:b,static:W}}function Bi(y,m){var D=y.static,U=y.dynamic,W={};return et.forEach(function(R){var P=je(R);function O(b,C){if(R in D){var x=b(D[R]);W[P]=Zi(function(){return x})}else if(R in U){var $=U[R];W[P]=yo($,function(H,te){return C(H,te,H.invoke(te,$))})}}switch(R){case NE:case PE:case DE:case WE:case ME:case $E:case UE:case jE:case VE:case BE:return O(function(b){return _.commandType(b,\"boolean\",R,m.commandStr),b},function(b,C,x){return _.optional(function(){b.assert(C,\"typeof \"+x+'===\"boolean\"',\"invalid flag \"+R,b.commandStr)}),x});case zE:return O(function(b){return _.commandParameter(b,td,\"invalid \"+R,m.commandStr),td[b]},function(b,C,x){var $=b.constants.compareFuncs;return _.optional(function(){b.assert(C,x+\" in \"+$,\"invalid \"+R+\", must be one of \"+Object.keys(td))}),C.def($,\"[\",x,\"]\")});case OE:return O(function(b){return _.command(Li(b)&&b.length===2&&typeof b[0]==\"number\"&&typeof b[1]==\"number\"&&b[0]<=b[1],\"depth range is 2d array\",m.commandStr),b},function(b,C,x){_.optional(function(){b.assert(C,b.shared.isArrayLike+\"(\"+x+\")&&\"+x+\".length===2&&typeof \"+x+'[0]===\"number\"&&typeof '+x+'[1]===\"number\"&&'+x+\"[0]<=\"+x+\"[1]\",\"depth range must be a 2d array\")});var $=C.def(\"+\",x,\"[0]\"),H=C.def(\"+\",x,\"[1]\");return[$,H]});case $1:return O(function(b){_.commandType(b,\"object\",\"blend.func\",m.commandStr);var C=\"srcRGB\"in b?b.srcRGB:b.src,x=\"srcAlpha\"in b?b.srcAlpha:b.src,$=\"dstRGB\"in b?b.dstRGB:b.dst,H=\"dstAlpha\"in b?b.dstAlpha:b.dst;return _.commandParameter(C,cs,P+\".srcRGB\",m.commandStr),_.commandParameter(x,cs,P+\".srcAlpha\",m.commandStr),_.commandParameter($,cs,P+\".dstRGB\",m.commandStr),_.commandParameter(H,cs,P+\".dstAlpha\",m.commandStr),_.command(tI.indexOf(C+\", \"+$)===-1,\"unallowed blending combination (srcRGB, dstRGB) = (\"+C+\", \"+$+\")\",m.commandStr),[cs[C],cs[$],cs[x],cs[H]]},function(b,C,x){var $=b.constants.blendFuncs;_.optional(function(){b.assert(C,x+\"&&typeof \"+x+'===\"object\"',\"invalid blend func, must be an object\")});function H(ae,ee){var qe=C.def('\"',ae,ee,'\" in ',x,\"?\",x,\".\",ae,ee,\":\",x,\".\",ae);return _.optional(function(){b.assert(C,qe+\" in \"+$,\"invalid \"+R+\".\"+ae+ee+\", must be one of \"+Object.keys(cs))}),qe}var te=H(\"src\",\"RGB\"),se=H(\"dst\",\"RGB\");_.optional(function(){var ae=b.constants.invalidBlendCombinations;b.assert(C,ae+\".indexOf(\"+te+'+\", \"+'+se+\") === -1 \",\"unallowed blending combination for (srcRGB, dstRGB)\")});var Se=C.def($,\"[\",te,\"]\"),st=C.def($,\"[\",H(\"src\",\"Alpha\"),\"]\"),Ze=C.def($,\"[\",se,\"]\"),Ne=C.def($,\"[\",H(\"dst\",\"Alpha\"),\"]\");return[Se,Ze,st,Ne]});case H1:return O(function(b){if(typeof b==\"string\")return _.commandParameter(b,Z,\"invalid \"+R,m.commandStr),[Z[b],Z[b]];if(typeof b==\"object\")return _.commandParameter(b.rgb,Z,R+\".rgb\",m.commandStr),_.commandParameter(b.alpha,Z,R+\".alpha\",m.commandStr),[Z[b.rgb],Z[b.alpha]];_.commandRaise(\"invalid blend.equation\",m.commandStr)},function(b,C,x){var $=b.constants.blendEquations,H=C.def(),te=C.def(),se=b.cond(\"typeof \",x,'===\"string\"');return _.optional(function(){function Se(st,Ze,Ne){b.assert(st,Ne+\" in \"+$,\"invalid \"+Ze+\", must be one of \"+Object.keys(Z))}Se(se.then,R,x),b.assert(se.else,x+\"&&typeof \"+x+'===\"object\"',\"invalid \"+R),Se(se.else,R+\".rgb\",x+\".rgb\"),Se(se.else,R+\".alpha\",x+\".alpha\")}),se.then(H,\"=\",te,\"=\",$,\"[\",x,\"];\"),se.else(H,\"=\",$,\"[\",x,\".rgb];\",te,\"=\",$,\"[\",x,\".alpha];\"),C(se),[H,te]});case RE:return O(function(b){return _.command(Li(b)&&b.length===4,\"blend.color must be a 4d array\",m.commandStr),Ki(4,function(C){return+b[C]})},function(b,C,x){return _.optional(function(){b.assert(C,b.shared.isArrayLike+\"(\"+x+\")&&\"+x+\".length===4\",\"blend.color must be a 4d array\")}),Ki(4,function($){return C.def(\"+\",x,\"[\",$,\"]\")})});case HE:return O(function(b){return _.commandType(b,\"number\",P,m.commandStr),b|0},function(b,C,x){return _.optional(function(){b.assert(C,\"typeof \"+x+'===\"number\"',\"invalid stencil.mask\")}),C.def(x,\"|0\")});case K1:return O(function(b){_.commandType(b,\"object\",P,m.commandStr);var C=b.cmp||\"keep\",x=b.ref||0,$=\"mask\"in b?b.mask:-1;return _.commandParameter(C,td,R+\".cmp\",m.commandStr),_.commandType(x,\"number\",R+\".ref\",m.commandStr),_.commandType($,\"number\",R+\".mask\",m.commandStr),[td[C],x,$]},function(b,C,x){var $=b.constants.compareFuncs;_.optional(function(){function Se(){b.assert(C,Array.prototype.join.call(arguments,\"\"),\"invalid stencil.func\")}Se(x+\"&&typeof \",x,'===\"object\"'),Se('!(\"cmp\" in ',x,\")||(\",x,\".cmp in \",$,\")\")});var H=C.def('\"cmp\" in ',x,\"?\",$,\"[\",x,\".cmp]\",\":\",ol),te=C.def(x,\".ref|0\"),se=C.def('\"mask\" in ',x,\"?\",x,\".mask|0:-1\");return[H,te,se]});case Z1:case vp:return O(function(b){_.commandType(b,\"object\",P,m.commandStr);var C=b.fail||\"keep\",x=b.zfail||\"keep\",$=b.zpass||\"keep\";return _.commandParameter(C,rl,R+\".fail\",m.commandStr),_.commandParameter(x,rl,R+\".zfail\",m.commandStr),_.commandParameter($,rl,R+\".zpass\",m.commandStr),[R===vp?_c:Lp,rl[C],rl[x],rl[$]]},function(b,C,x){var $=b.constants.stencilOps;_.optional(function(){b.assert(C,x+\"&&typeof \"+x+'===\"object\"',\"invalid \"+R)});function H(te){return _.optional(function(){b.assert(C,'!(\"'+te+'\" in '+x+\")||(\"+x+\".\"+te+\" in \"+$+\")\",\"invalid \"+R+\".\"+te+\", must be one of \"+Object.keys(rl))}),C.def('\"',te,'\" in ',x,\"?\",$,\"[\",x,\".\",te,\"]:\",ol)}return[R===vp?_c:Lp,H(\"fail\"),H(\"zfail\"),H(\"zpass\")]});case Q1:return O(function(b){_.commandType(b,\"object\",P,m.commandStr);var C=b.factor|0,x=b.units|0;return _.commandType(C,\"number\",P+\".factor\",m.commandStr),_.commandType(x,\"number\",P+\".units\",m.commandStr),[C,x]},function(b,C,x){_.optional(function(){b.assert(C,x+\"&&typeof \"+x+'===\"object\"',\"invalid \"+R)});var $=C.def(x,\".factor|0\"),H=C.def(x,\".units|0\");return[$,H]});case FE:return O(function(b){var C=0;return b===\"front\"?C=Lp:b===\"back\"&&(C=_c),_.command(!!C,P,m.commandStr),C},function(b,C,x){return _.optional(function(){b.assert(C,x+'===\"front\"||'+x+'===\"back\"',\"invalid cull.face\")}),C.def(x,'===\"front\"?',Lp,\":\",_c)});case Y1:return O(function(b){return _.command(typeof b==\"number\"&&b>=Q.lineWidthDims[0]&&b<=Q.lineWidthDims[1],\"invalid line width, must be a positive number between \"+Q.lineWidthDims[0]+\" and \"+Q.lineWidthDims[1],m.commandStr),b},function(b,C,x){return _.optional(function(){b.assert(C,\"typeof \"+x+'===\"number\"&&'+x+\">=\"+Q.lineWidthDims[0]+\"&&\"+x+\"<=\"+Q.lineWidthDims[1],\"invalid line width\")}),x});case G1:return O(function(b){return _.commandParameter(b,aw,P,m.commandStr),aw[b]},function(b,C,x){return _.optional(function(){b.assert(C,x+'===\"cw\"||'+x+'===\"ccw\"',\"invalid frontFace, must be one of cw,ccw\")}),C.def(x+'===\"cw\"?'+XE+\":\"+sw)});case q1:return O(function(b){return _.command(Li(b)&&b.length===4,\"color.mask must be length 4 array\",m.commandStr),b.map(function(C){return!!C})},function(b,C,x){return _.optional(function(){b.assert(C,b.shared.isArrayLike+\"(\"+x+\")&&\"+x+\".length===4\",\"invalid color.mask\")}),Ki(4,function($){return\"!!\"+x+\"[\"+$+\"]\"})});case X1:return O(function(b){_.command(typeof b==\"object\"&&b,P,m.commandStr);var C=\"value\"in b?b.value:1,x=!!b.invert;return _.command(typeof C==\"number\"&&C>=0&&C<=1,\"sample.coverage.value must be a number between 0 and 1\",m.commandStr),[C,x]},function(b,C,x){_.optional(function(){b.assert(C,x+\"&&typeof \"+x+'===\"object\"',\"invalid sample.coverage\")});var $=C.def('\"value\" in ',x,\"?+\",x,\".value:1\"),H=C.def(\"!!\",x,\".invert\");return[$,H]})}}),W}function Bt(y,m){var D=y.static,U=y.dynamic,W={};return Object.keys(D).forEach(function(R){var P=D[R],O;if(typeof P==\"number\"||typeof P==\"boolean\")O=Zi(function(){return P});else if(typeof P==\"function\"){var b=P._reglType;b===\"texture2d\"||b===\"textureCube\"?O=Zi(function(C){return C.link(P)}):b===\"framebuffer\"||b===\"framebufferCube\"?(_.command(P.color.length>0,'missing color attachment for framebuffer sent to uniform \"'+R+'\"',m.commandStr),O=Zi(function(C){return C.link(P.color[0])})):_.commandRaise('invalid data for uniform \"'+R+'\"',m.commandStr)}else Li(P)?O=Zi(function(C){var x=C.global.def(\"[\",Ki(P.length,function($){return _.command(typeof P[$]==\"number\"||typeof P[$]==\"boolean\",\"invalid uniform \"+R,C.commandStr),P[$]}),\"]\");return x}):_.commandRaise('invalid or missing data for uniform \"'+R+'\"',m.commandStr);O.value=P,W[R]=O}),Object.keys(U).forEach(function(R){var P=U[R];W[R]=yo(P,function(O,b){return O.invoke(b,P)})}),W}function sn(y,m){var D=y.static,U=y.dynamic,W={};return Object.keys(D).forEach(function(R){var P=D[R],O=g.id(R),b=new j;if(B_(P))b.state=Ku,b.buffer=oe.getBuffer(oe.create(P,ed,!1,!0)),b.type=0;else{var C=oe.getBuffer(P);if(C)b.state=Ku,b.buffer=C,b.type=0;else if(_.command(typeof P==\"object\"&&P,\"invalid data for attribute \"+R,m.commandStr),\"constant\"in P){var x=P.constant;b.buffer=\"null\",b.state=F1,typeof x==\"number\"?b.x=x:(_.command(Li(x)&&x.length>0&&x.length<=4,\"invalid constant for attribute \"+R,m.commandStr),Xu.forEach(function(Ze,Ne){Ne<x.length&&(b[Ze]=x[Ne])}))}else{B_(P.buffer)?C=oe.getBuffer(oe.create(P.buffer,ed,!1,!0)):C=oe.getBuffer(P.buffer),_.command(!!C,'missing buffer for attribute \"'+R+'\"',m.commandStr);var $=P.offset|0;_.command($>=0,'invalid offset for attribute \"'+R+'\"',m.commandStr);var H=P.stride|0;_.command(H>=0&&H<256,'invalid stride for attribute \"'+R+'\", must be integer betweeen [0, 255]',m.commandStr);var te=P.size|0;_.command(!(\"size\"in P)||te>0&&te<=4,'invalid size for attribute \"'+R+'\", must be 1,2,3,4',m.commandStr);var se=!!P.normalized,Se=0;\"type\"in P&&(_.commandParameter(P.type,lc,\"invalid type for attribute \"+R,m.commandStr),Se=lc[P.type]);var st=P.divisor|0;_.optional(function(){\"divisor\"in P&&(_.command(st===0||_e,'cannot specify divisor for attribute \"'+R+'\", instancing not supported',m.commandStr),_.command(st>=0,'invalid divisor for attribute \"'+R+'\"',m.commandStr));var Ze=m.commandStr,Ne=[\"buffer\",\"offset\",\"divisor\",\"normalized\",\"type\",\"size\",\"stride\"];Object.keys(P).forEach(function(ae){_.command(Ne.indexOf(ae)>=0,'unknown parameter \"'+ae+'\" for attribute pointer \"'+R+'\" (valid parameters are '+Ne+\")\",Ze)})}),b.buffer=C,b.state=Ku,b.size=te,b.normalized=se,b.type=Se||C.dtype,b.offset=$,b.stride=H,b.divisor=st}}W[R]=Zi(function(Ze,Ne){var ae=Ze.attribCache;if(O in ae)return ae[O];var ee={isStream:!1};return Object.keys(b).forEach(function(qe){ee[qe]=b[qe]}),b.buffer&&(ee.buffer=Ze.link(b.buffer),ee.type=ee.type||ee.buffer+\".dtype\"),ae[O]=ee,ee})}),Object.keys(U).forEach(function(R){var P=U[R];function O(b,C){var x=b.invoke(C,P),$=b.shared,H=b.constants,te=$.isBufferArgs,se=$.buffer;_.optional(function(){b.assert(C,x+\"&&(typeof \"+x+'===\"object\"||typeof '+x+'===\"function\")&&('+te+\"(\"+x+\")||\"+se+\".getBuffer(\"+x+\")||\"+se+\".getBuffer(\"+x+\".buffer)||\"+te+\"(\"+x+'.buffer)||(\"constant\" in '+x+\"&&(typeof \"+x+'.constant===\"number\"||'+$.isArrayLike+\"(\"+x+\".constant))))\",'invalid dynamic attribute \"'+R+'\"')});var Se={isStream:C.def(!1)},st=new j;st.state=Ku,Object.keys(st).forEach(function(ee){Se[ee]=C.def(\"\"+st[ee])});var Ze=Se.buffer,Ne=Se.type;C(\"if(\",te,\"(\",x,\")){\",Se.isStream,\"=true;\",Ze,\"=\",se,\".createStream(\",ed,\",\",x,\");\",Ne,\"=\",Ze,\".dtype;\",\"}else{\",Ze,\"=\",se,\".getBuffer(\",x,\");\",\"if(\",Ze,\"){\",Ne,\"=\",Ze,\".dtype;\",'}else if(\"constant\" in ',x,\"){\",Se.state,\"=\",F1,\";\",\"if(typeof \"+x+'.constant === \"number\"){',Se[Xu[0]],\"=\",x,\".constant;\",Xu.slice(1).map(function(ee){return Se[ee]}).join(\"=\"),\"=0;\",\"}else{\",Xu.map(function(ee,qe){return Se[ee]+\"=\"+x+\".constant.length>\"+qe+\"?\"+x+\".constant[\"+qe+\"]:0;\"}).join(\"\"),\"}}else{\",\"if(\",te,\"(\",x,\".buffer)){\",Ze,\"=\",se,\".createStream(\",ed,\",\",x,\".buffer);\",\"}else{\",Ze,\"=\",se,\".getBuffer(\",x,\".buffer);\",\"}\",Ne,'=\"type\" in ',x,\"?\",H.glTypes,\"[\",x,\".type]:\",Ze,\".dtype;\",Se.normalized,\"=!!\",x,\".normalized;\");function ae(ee){C(Se[ee],\"=\",x,\".\",ee,\"|0;\")}return ae(\"size\"),ae(\"offset\"),ae(\"stride\"),ae(\"divisor\"),C(\"}}\"),C.exit(\"if(\",Se.isStream,\"){\",se,\".destroyStream(\",Ze,\");\",\"}\"),Se}W[R]=yo(P,O)}),W}function wi(y){var m=y.static,D=y.dynamic,U={};return Object.keys(m).forEach(function(W){var R=m[W];U[W]=Zi(function(P,O){return typeof R==\"number\"||typeof R==\"boolean\"?\"\"+R:P.link(R)})}),Object.keys(D).forEach(function(W){var R=D[W];U[W]=yo(R,function(P,O){return P.invoke(O,R)})}),U}function Ji(y,m,D,U,W){var R=y.static,P=y.dynamic;_.optional(function(){var ae=[pc,wp,Sp,fc,mc,E_,gc,I_,xp,Cp].concat(et);function ee(qe){Object.keys(qe).forEach(function(We){_.command(ae.indexOf(We)>=0,'unknown parameter \"'+We+'\"',W.commandStr)})}ee(R),ee(P)});var O=mt(y,m),b=Me(y),C=ot(y,b,W),x=Di(y,W),$=Bi(y,W),H=zt(y,W,O);function te(ae){var ee=C[ae];ee&&($[ae]=ee)}te(Gs),te(je(k_));var se=Object.keys($).length>0,Se={framebuffer:b,draw:x,shader:H,state:$,dirty:se,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Se.profile=De(y),Se.uniforms=Bt(D,W),Se.drawVAO=Se.scopeVAO=x.vao,!Se.drawVAO&&H.program&&!O&&T.angle_instanced_arrays&&x.static.elements){var st=!0,Ze=H.program.attributes.map(function(ae){var ee=m.static[ae];return st=st&&!!ee,ee});if(st&&Ze.length>0){var Ne=ve.getVAO(ve.createVAO({attributes:Ze,elements:x.static.elements}));Se.drawVAO=new un(null,null,null,function(ae,ee){return ae.link(Ne)}),Se.useVAO=!0}}return O?Se.useVAO=!0:Se.attributes=sn(m,W),Se.context=wi(U),Se}function an(y,m,D){var U=y.shared,W=U.context,R=y.scope();Object.keys(D).forEach(function(P){m.save(W,\".\"+P);var O=D[P],b=O.append(y,m);Array.isArray(b)?R(W,\".\",P,\"=[\",b.join(),\"];\"):R(W,\".\",P,\"=\",b,\";\")}),m(R)}function ln(y,m,D,U){var W=y.shared,R=W.gl,P=W.framebuffer,O;ze&&(O=m.def(W.extensions,\".webgl_draw_buffers\"));var b=y.constants,C=b.drawBuffer,x=b.backBuffer,$;D?$=D.append(y,m):$=m.def(P,\".next\"),U||m(\"if(\",$,\"!==\",P,\".cur){\"),m(\"if(\",$,\"){\",R,\".bindFramebuffer(\",eI,\",\",$,\".framebuffer);\"),ze&&m(O,\".drawBuffersWEBGL(\",C,\"[\",$,\".colorAttachments.length]);\"),m(\"}else{\",R,\".bindFramebuffer(\",eI,\",null);\"),ze&&m(O,\".drawBuffersWEBGL(\",x,\");\"),m(\"}\",P,\".cur=\",$,\";\"),U||m(\"}\")}function yn(y,m,D){var U=y.shared,W=U.gl,R=y.current,P=y.next,O=U.current,b=U.next,C=y.cond(O,\".dirty\");et.forEach(function(x){var $=je(x);if(!($ in D.state)){var H,te;if($ in P){H=P[$],te=R[$];var se=Ki(Re[$].length,function(st){return C.def(H,\"[\",st,\"]\")});C(y.cond(se.map(function(st,Ze){return st+\"!==\"+te+\"[\"+Ze+\"]\"}).join(\"||\")).then(W,\".\",ne[$],\"(\",se,\");\",se.map(function(st,Ze){return te+\"[\"+Ze+\"]=\"+st}).join(\";\"),\";\"))}else{H=C.def(b,\".\",$);var Se=y.cond(H,\"!==\",O,\".\",$);C(Se),$ in re?Se(y.cond(H).then(W,\".enable(\",re[$],\");\").else(W,\".disable(\",re[$],\");\"),O,\".\",$,\"=\",H,\";\"):Se(W,\".\",ne[$],\"(\",H,\");\",O,\".\",$,\"=\",H,\";\")}}}),Object.keys(D.state).length===0&&C(O,\".dirty=false;\"),m(C)}function In(y,m,D,U){var W=y.shared,R=y.current,P=W.current,O=W.gl;nI(Object.keys(D)).forEach(function(b){var C=D[b];if(!(U&&!U(C))){var x=C.append(y,m);if(re[b]){var $=re[b];sl(C)?x?m(O,\".enable(\",$,\");\"):m(O,\".disable(\",$,\");\"):m(y.cond(x).then(O,\".enable(\",$,\");\").else(O,\".disable(\",$,\");\")),m(P,\".\",b,\"=\",x,\";\")}else if(Li(x)){var H=R[b];m(O,\".\",ne[b],\"(\",x,\");\",x.map(function(te,se){return H+\"[\"+se+\"]=\"+te}).join(\";\"),\";\")}else m(O,\".\",ne[b],\"(\",x,\");\",P,\".\",b,\"=\",x,\";\")}})}function $i(y,m){_e&&(y.instancing=m.def(y.shared.extensions,\".angle_instanced_arrays\"))}function kt(y,m,D,U,W){var R=y.shared,P=y.stats,O=R.current,b=R.timer,C=D.profile;function x(){return typeof performance>\"u\"?\"Date.now()\":\"performance.now()\"}var $,H;function te(ae){$=m.def(),ae($,\"=\",x(),\";\"),typeof W==\"string\"?ae(P,\".count+=\",W,\";\"):ae(P,\".count++;\"),fe&&(U?(H=m.def(),ae(H,\"=\",b,\".getNumPendingQueries();\")):ae(b,\".beginQuery(\",P,\");\"))}function se(ae){ae(P,\".cpuTime+=\",x(),\"-\",$,\";\"),fe&&(U?ae(b,\".pushScopeStats(\",H,\",\",b,\".getNumPendingQueries(),\",P,\");\"):ae(b,\".endQuery();\"))}function Se(ae){var ee=m.def(O,\".profile\");m(O,\".profile=\",ae,\";\"),m.exit(O,\".profile=\",ee,\";\")}var st;if(C){if(sl(C)){C.enable?(te(m),se(m.exit),Se(\"true\")):Se(\"false\");return}st=C.append(y,m),Se(st)}else st=m.def(O,\".profile\");var Ze=y.block();te(Ze),m(\"if(\",st,\"){\",Ze,\"}\");var Ne=y.block();se(Ne),m.exit(\"if(\",st,\"){\",Ne,\"}\")}function Tn(y,m,D,U,W){var R=y.shared;function P(b){switch(b){case T_:case D_:case M_:return 2;case A_:case P_:case z_:return 3;case L_:case R_:case O_:return 4;default:return 1}}function O(b,C,x){var $=R.gl,H=m.def(b,\".location\"),te=m.def(R.attributes,\"[\",H,\"]\"),se=x.state,Se=x.buffer,st=[x.x,x.y,x.z,x.w],Ze=[\"buffer\",\"normalized\",\"offset\",\"stride\"];function Ne(){m(\"if(!\",te,\".buffer){\",$,\".enableVertexAttribArray(\",H,\");}\");var ee=x.type,qe;if(x.size?qe=m.def(x.size,\"||\",C):qe=C,m(\"if(\",te,\".type!==\",ee,\"||\",te,\".size!==\",qe,\"||\",Ze.map(function(rt){return te+\".\"+rt+\"!==\"+x[rt]}).join(\"||\"),\"){\",$,\".bindBuffer(\",ed,\",\",Se,\".buffer);\",$,\".vertexAttribPointer(\",[H,qe,ee,x.normalized,x.stride,x.offset],\");\",te,\".type=\",ee,\";\",te,\".size=\",qe,\";\",Ze.map(function(rt){return te+\".\"+rt+\"=\"+x[rt]+\";\"}).join(\"\"),\"}\"),_e){var We=x.divisor;m(\"if(\",te,\".divisor!==\",We,\"){\",y.instancing,\".vertexAttribDivisorANGLE(\",[H,We],\");\",te,\".divisor=\",We,\";}\")}}function ae(){m(\"if(\",te,\".buffer){\",$,\".disableVertexAttribArray(\",H,\");\",te,\".buffer=null;\",\"}if(\",Xu.map(function(ee,qe){return te+\".\"+ee+\"!==\"+st[qe]}).join(\"||\"),\"){\",$,\".vertexAttrib4f(\",H,\",\",st,\");\",Xu.map(function(ee,qe){return te+\".\"+ee+\"=\"+st[qe]+\";\"}).join(\"\"),\"}\")}se===Ku?Ne():se===F1?ae():(m(\"if(\",se,\"===\",Ku,\"){\"),Ne(),m(\"}else{\"),ae(),m(\"}\"))}U.forEach(function(b){var C=b.name,x=D.attributes[C],$;if(x){if(!W(x))return;$=x.append(y,m)}else{if(!W(oI))return;var H=y.scopeAttrib(C);_.optional(function(){y.assert(m,H+\".state\",\"missing attribute \"+C)}),$={},Object.keys(new j).forEach(function(te){$[te]=m.def(H,\".\",te)})}O(y.link(b),P(b.info.type),$)})}function Jt(y,m,D,U,W,R){for(var P=y.shared,O=P.gl,b={},C,x=0;x<U.length;++x){var $=U[x],H=$.name,te=$.info.type,se=$.info.size,Se=D.uniforms[H];if(se>1){if(!Se)continue;var st=H.replace(\"[0]\",\"\");if(b[st])continue;b[st]=1}var Ze=y.link($),Ne=Ze+\".location\",ae;if(Se){if(!W(Se))continue;if(sl(Se)){var ee=Se.value;if(_.command(ee!==null&&typeof ee<\"u\",'missing uniform \"'+H+'\"',y.commandStr),te===Tp||te===Ap){_.command(typeof ee==\"function\"&&(te===Tp&&(ee._reglType===\"texture2d\"||ee._reglType===\"framebuffer\")||te===Ap&&(ee._reglType===\"textureCube\"||ee._reglType===\"framebufferCube\")),\"invalid texture for uniform \"+H,y.commandStr);var qe=y.link(ee._texture||ee.color[0]._texture);m(O,\".uniform1i(\",Ne,\",\",qe+\".bind());\"),m.exit(qe,\".unbind();\")}else if(te===kp||te===Ep||te===Ip){_.optional(function(){_.command(Li(ee),\"invalid matrix for uniform \"+H,y.commandStr),_.command(te===kp&&ee.length===4||te===Ep&&ee.length===9||te===Ip&&ee.length===16,\"invalid length for matrix uniform \"+H,y.commandStr)});var We=y.global.def(\"new Float32Array([\"+Array.prototype.slice.call(ee)+\"])\"),rt=2;te===Ep?rt=3:te===Ip&&(rt=4),m(O,\".uniformMatrix\",rt,\"fv(\",Ne,\",false,\",We,\");\")}else{switch(te){case iw:se===1?_.commandType(ee,\"number\",\"uniform \"+H,y.commandStr):_.command(Li(ee)&&ee.length===se,\"uniform \"+H,y.commandStr),C=\"1f\";break;case T_:_.command(Li(ee)&&ee.length&&ee.length%2===0&&ee.length<=se*2,\"uniform \"+H,y.commandStr),C=\"2f\";break;case A_:_.command(Li(ee)&&ee.length&&ee.length%3===0&&ee.length<=se*3,\"uniform \"+H,y.commandStr),C=\"3f\";break;case L_:_.command(Li(ee)&&ee.length&&ee.length%4===0&&ee.length<=se*4,\"uniform \"+H,y.commandStr),C=\"4f\";break;case ow:se===1?_.commandType(ee,\"boolean\",\"uniform \"+H,y.commandStr):_.command(Li(ee)&&ee.length===se,\"uniform \"+H,y.commandStr),C=\"1i\";break;case nw:se===1?_.commandType(ee,\"number\",\"uniform \"+H,y.commandStr):_.command(Li(ee)&&ee.length===se,\"uniform \"+H,y.commandStr),C=\"1i\";break;case M_:_.command(Li(ee)&&ee.length&&ee.length%2===0&&ee.length<=se*2,\"uniform \"+H,y.commandStr),C=\"2i\";break;case D_:_.command(Li(ee)&&ee.length&&ee.length%2===0&&ee.length<=se*2,\"uniform \"+H,y.commandStr),C=\"2i\";break;case z_:_.command(Li(ee)&&ee.length&&ee.length%3===0&&ee.length<=se*3,\"uniform \"+H,y.commandStr),C=\"3i\";break;case P_:_.command(Li(ee)&&ee.length&&ee.length%3===0&&ee.length<=se*3,\"uniform \"+H,y.commandStr),C=\"3i\";break;case O_:_.command(Li(ee)&&ee.length&&ee.length%4===0&&ee.length<=se*4,\"uniform \"+H,y.commandStr),C=\"4i\";break;case R_:_.command(Li(ee)&&ee.length&&ee.length%4===0&&ee.length<=se*4,\"uniform \"+H,y.commandStr),C=\"4i\";break}se>1?(C+=\"v\",ee=y.global.def(\"[\"+Array.prototype.slice.call(ee)+\"]\")):ee=Li(ee)?Array.prototype.slice.call(ee):ee,m(O,\".uniform\",C,\"(\",Ne,\",\",ee,\");\")}continue}else ae=Se.append(y,m)}else{if(!W(oI))continue;ae=m.def(P.uniforms,\"[\",g.id(H),\"]\")}te===Tp?(_(!Array.isArray(ae),\"must specify a scalar prop for textures\"),m(\"if(\",ae,\"&&\",ae,'._reglType===\"framebuffer\"){',ae,\"=\",ae,\".color[0];\",\"}\")):te===Ap&&(_(!Array.isArray(ae),\"must specify a scalar prop for cube maps\"),m(\"if(\",ae,\"&&\",ae,'._reglType===\"framebufferCube\"){',ae,\"=\",ae,\".color[0];\",\"}\")),_.optional(function(){function Ro(bo,N_){y.assert(m,bo,'bad data or missing for uniform \"'+H+'\".  '+N_)}function xc(bo,N_){N_===1&&_(!Array.isArray(ae),\"must not specify an array type for uniform\"),Ro(\"Array.isArray(\"+ae+\") && typeof \"+ae+'[0]===\" '+bo+'\" || typeof '+ae+'===\"'+bo+'\"',\"invalid type, expected \"+bo)}function er(bo,N_,F_){Array.isArray(ae)?_(ae.length&&ae.length%bo===0&&ae.length<=bo*F_,\"must have length of \"+(F_===1?\"\":\"n * \")+bo):Ro(P.isArrayLike+\"(\"+ae+\")&&\"+ae+\".length && \"+ae+\".length % \"+bo+\" === 0 && \"+ae+\".length<=\"+bo*F_,\"invalid vector, should have length of \"+(F_===1?\"\":\"n * \")+bo,y.commandStr)}function dI(bo){_(!Array.isArray(ae),\"must not specify a value type\"),Ro(\"typeof \"+ae+'===\"function\"&&'+ae+'._reglType===\"texture'+(bo===QE?\"2d\":\"Cube\")+'\"',\"invalid texture type\",y.commandStr)}switch(te){case nw:xc(\"number\",se);break;case D_:er(2,\"number\",se);break;case P_:er(3,\"number\",se);break;case R_:er(4,\"number\",se);break;case iw:xc(\"number\",se);break;case T_:er(2,\"number\",se);break;case A_:er(3,\"number\",se);break;case L_:er(4,\"number\",se);break;case ow:xc(\"boolean\",se);break;case M_:er(2,\"boolean\",se);break;case z_:er(3,\"boolean\",se);break;case O_:er(4,\"boolean\",se);break;case kp:er(4,\"number\",se);break;case Ep:er(9,\"number\",se);break;case Ip:er(16,\"number\",se);break;case Tp:dI(QE);break;case Ap:dI(hz);break}});var ni=1;switch(te){case Tp:case Ap:var An=m.def(ae,\"._texture\");m(O,\".uniform1i(\",Ne,\",\",An,\".bind());\"),m.exit(An,\".unbind();\");continue;case nw:case ow:C=\"1i\";break;case D_:case M_:C=\"2i\",ni=2;break;case P_:case z_:C=\"3i\",ni=3;break;case R_:case O_:C=\"4i\",ni=4;break;case iw:C=\"1f\";break;case T_:C=\"2f\",ni=2;break;case A_:C=\"3f\",ni=3;break;case L_:C=\"4f\",ni=4;break;case kp:C=\"Matrix2fv\";break;case Ep:C=\"Matrix3fv\";break;case Ip:C=\"Matrix4fv\";break}if(C.indexOf(\"Matrix\")===-1&&se>1&&(C+=\"v\",ni=1),C.charAt(0)===\"M\"){m(O,\".uniform\",C,\"(\",Ne,\",\");var bc=Math.pow(te-kp+2,2),Ys=y.global.def(\"new Float32Array(\",bc,\")\");Array.isArray(ae)?m(\"false,(\",Ki(bc,function(Ro){return Ys+\"[\"+Ro+\"]=\"+ae[Ro]}),\",\",Ys,\")\"):m(\"false,(Array.isArray(\",ae,\")||\",ae,\" instanceof Float32Array)?\",ae,\":(\",Ki(bc,function(Ro){return Ys+\"[\"+Ro+\"]=\"+ae+\"[\"+Ro+\"]\"}),\",\",Ys,\")\"),m(\");\")}else if(ni>1){for(var ds=[],al=[],vc=0;vc<ni;++vc)Array.isArray(ae)?al.push(ae[vc]):al.push(m.def(ae+\"[\"+vc+\"]\")),R&&ds.push(m.def());R&&m(\"if(!\",y.batchId,\"||\",ds.map(function(Ro,xc){return Ro+\"!==\"+al[xc]}).join(\"||\"),\"){\",ds.map(function(Ro,xc){return Ro+\"=\"+al[xc]+\";\"}).join(\"\")),m(O,\".uniform\",C,\"(\",Ne,\",\",al.join(\",\"),\");\"),R&&m(\"}\")}else{if(_(!Array.isArray(ae),\"uniform value must not be an array\"),R){var uI=m.def();m(\"if(!\",y.batchId,\"||\",uI,\"!==\",ae,\"){\",uI,\"=\",ae,\";\")}m(O,\".uniform\",C,\"(\",Ne,\",\",ae,\");\"),R&&m(\"}\")}}}function tt(y,m,D,U){var W=y.shared,R=W.gl,P=W.draw,O=U.draw;function b(){var qe=O.elements,We,rt=m;return qe?((qe.contextDep&&U.contextDynamic||qe.propDep)&&(rt=D),We=qe.append(y,rt),O.elementsActive&&rt(\"if(\"+We+\")\"+R+\".bindBuffer(\"+tw+\",\"+We+\".buffer.buffer);\")):(We=rt.def(),rt(We,\"=\",P,\".\",fc,\";\",\"if(\",We,\"){\",R,\".bindBuffer(\",tw,\",\",We,\".buffer.buffer);}\",\"else if(\",W.vao,\".currentVAO){\",We,\"=\",y.shared.elements+\".getElements(\"+W.vao,\".currentVAO.elements);\",ue?\"\":\"if(\"+We+\")\"+R+\".bindBuffer(\"+tw+\",\"+We+\".buffer.buffer);\",\"}\")),We}function C(){var qe=O.count,We,rt=m;return qe?((qe.contextDep&&U.contextDynamic||qe.propDep)&&(rt=D),We=qe.append(y,rt),_.optional(function(){qe.MISSING&&y.assert(m,\"false\",\"missing vertex count\"),qe.DYNAMIC&&y.assert(rt,We+\">=0\",\"missing vertex count\")})):(We=rt.def(P,\".\",gc),_.optional(function(){y.assert(rt,We+\">=0\",\"missing vertex count\")})),We}var x=b();function $(qe){var We=O[qe];return We?We.contextDep&&U.contextDynamic||We.propDep?We.append(y,D):We.append(y,m):m.def(P,\".\",qe)}var H=$(mc),te=$(E_),se=C();if(typeof se==\"number\"){if(se===0)return}else D(\"if(\",se,\"){\"),D.exit(\"}\");var Se,st;_e&&(Se=$(I_),st=y.instancing);var Ze=x+\".type\",Ne=O.elements&&sl(O.elements)&&!O.vaoActive;function ae(){function qe(){D(st,\".drawElementsInstancedANGLE(\",[H,se,Ze,te+\"<<((\"+Ze+\"-\"+TE+\")>>1)\",Se],\");\")}function We(){D(st,\".drawArraysInstancedANGLE(\",[H,te,se,Se],\");\")}x&&x!==\"null\"?Ne?qe():(D(\"if(\",x,\"){\"),qe(),D(\"}else{\"),We(),D(\"}\")):We()}function ee(){function qe(){D(R+\".drawElements(\"+[H,se,Ze,te+\"<<((\"+Ze+\"-\"+TE+\")>>1)\"]+\");\")}function We(){D(R+\".drawArrays(\"+[H,te,se]+\");\")}x&&x!==\"null\"?Ne?qe():(D(\"if(\",x,\"){\"),qe(),D(\"}else{\"),We(),D(\"}\")):We()}_e&&(typeof Se!=\"number\"||Se>=0)?typeof Se==\"string\"?(D(\"if(\",Se,\">0){\"),ae(),D(\"}else if(\",Se,\"<0){\"),ee(),D(\"}\")):ae():ee()}function Ot(y,m,D,U,W){var R=ut(),P=R.proc(\"body\",W);return _.optional(function(){R.commandStr=m.commandStr,R.command=R.link(m.commandStr)}),_e&&(R.instancing=P.def(R.shared.extensions,\".angle_instanced_arrays\")),y(R,P,D,U),R.compile().body}function Ht(y,m,D,U){$i(y,m),D.useVAO?D.drawVAO?m(y.shared.vao,\".setVAO(\",D.drawVAO.append(y,m),\");\"):m(y.shared.vao,\".setVAO(\",y.shared.vao,\".targetVAO);\"):(m(y.shared.vao,\".setVAO(null);\"),Tn(y,m,D,U.attributes,function(){return!0})),Jt(y,m,D,U.uniforms,function(){return!0},!1),tt(y,m,m,D)}function qi(y,m){var D=y.proc(\"draw\",1);$i(y,D),an(y,D,m.context),ln(y,D,m.framebuffer),yn(y,D,m),In(y,D,m.state),kt(y,D,m,!1,!0);var U=m.shader.progVar.append(y,D);if(D(y.shared.gl,\".useProgram(\",U,\".program);\"),m.shader.program)Ht(y,D,m,m.shader.program);else{D(y.shared.vao,\".setVAO(null);\");var W=y.global.def(\"{}\"),R=D.def(U,\".id\"),P=D.def(W,\"[\",R,\"]\");D(y.cond(P).then(P,\".call(this,a0);\").else(P,\"=\",W,\"[\",R,\"]=\",y.link(function(O){return Ot(Ht,y,m,O,1)}),\"(\",U,\");\",P,\".call(this,a0);\"))}Object.keys(m.state).length>0&&D(y.shared.current,\".dirty=true;\"),y.shared.vao&&D(y.shared.vao,\".setVAO(null);\")}function us(y,m,D,U){y.batchId=\"a1\",$i(y,m);function W(){return!0}Tn(y,m,D,U.attributes,W),Jt(y,m,D,U.uniforms,W,!1),tt(y,m,m,D)}function yc(y,m,D,U){$i(y,m);var W=D.contextDep,R=m.def(),P=\"a0\",O=\"a1\",b=m.def();y.shared.props=b,y.batchId=R;var C=y.scope(),x=y.scope();m(C.entry,\"for(\",R,\"=0;\",R,\"<\",O,\";++\",R,\"){\",b,\"=\",P,\"[\",R,\"];\",x,\"}\",C.exit);function $(Ze){return Ze.contextDep&&W||Ze.propDep}function H(Ze){return!$(Ze)}if(D.needsContext&&an(y,x,D.context),D.needsFramebuffer&&ln(y,x,D.framebuffer),In(y,x,D.state,$),D.profile&&$(D.profile)&&kt(y,x,D,!1,!0),U)D.useVAO?D.drawVAO?$(D.drawVAO)?x(y.shared.vao,\".setVAO(\",D.drawVAO.append(y,x),\");\"):C(y.shared.vao,\".setVAO(\",D.drawVAO.append(y,C),\");\"):C(y.shared.vao,\".setVAO(\",y.shared.vao,\".targetVAO);\"):(C(y.shared.vao,\".setVAO(null);\"),Tn(y,C,D,U.attributes,H),Tn(y,x,D,U.attributes,$)),Jt(y,C,D,U.uniforms,H,!1),Jt(y,x,D,U.uniforms,$,!0),tt(y,C,x,D);else{var te=y.global.def(\"{}\"),se=D.shader.progVar.append(y,x),Se=x.def(se,\".id\"),st=x.def(te,\"[\",Se,\"]\");x(y.shared.gl,\".useProgram(\",se,\".program);\",\"if(!\",st,\"){\",st,\"=\",te,\"[\",Se,\"]=\",y.link(function(Ze){return Ot(us,y,D,Ze,2)}),\"(\",se,\");}\",st,\".call(this,a0[\",R,\"],\",R,\");\")}}function w(y,m){var D=y.proc(\"batch\",2);y.batchId=\"0\",$i(y,D);var U=!1,W=!0;Object.keys(m.context).forEach(function(te){U=U||m.context[te].propDep}),U||(an(y,D,m.context),W=!1);var R=m.framebuffer,P=!1;R?(R.propDep?U=P=!0:R.contextDep&&U&&(P=!0),P||ln(y,D,R)):ln(y,D,null),m.state.viewport&&m.state.viewport.propDep&&(U=!0);function O(te){return te.contextDep&&U||te.propDep}yn(y,D,m),In(y,D,m.state,function(te){return!O(te)}),(!m.profile||!O(m.profile))&&kt(y,D,m,!1,\"a1\"),m.contextDep=U,m.needsContext=W,m.needsFramebuffer=P;var b=m.shader.progVar;if(b.contextDep&&U||b.propDep)yc(y,D,m,null);else{var C=b.append(y,D);if(D(y.shared.gl,\".useProgram(\",C,\".program);\"),m.shader.program)yc(y,D,m,m.shader.program);else{D(y.shared.vao,\".setVAO(null);\");var x=y.global.def(\"{}\"),$=D.def(C,\".id\"),H=D.def(x,\"[\",$,\"]\");D(y.cond(H).then(H,\".call(this,a0,a1);\").else(H,\"=\",x,\"[\",$,\"]=\",y.link(function(te){return Ot(yc,y,m,te,2)}),\"(\",C,\");\",H,\".call(this,a0,a1);\"))}}Object.keys(m.state).length>0&&D(y.shared.current,\".dirty=true;\"),y.shared.vao&&D(y.shared.vao,\".setVAO(null);\")}function X(y,m){var D=y.proc(\"scope\",3);y.batchId=\"a2\";var U=y.shared,W=U.current;an(y,D,m.context),m.framebuffer&&m.framebuffer.append(y,D),nI(Object.keys(m.state)).forEach(function(P){var O=m.state[P],b=O.append(y,D);Li(b)?b.forEach(function(C,x){D.set(y.next[P],\"[\"+x+\"]\",C)}):D.set(U.next,\".\"+P,b)}),kt(y,D,m,!0,!0),[fc,E_,gc,I_,mc].forEach(function(P){var O=m.draw[P];O&&D.set(U.draw,\".\"+P,\"\"+O.append(y,D))}),Object.keys(m.uniforms).forEach(function(P){var O=m.uniforms[P].append(y,D);Array.isArray(O)&&(O=\"[\"+O.join()+\"]\"),D.set(U.uniforms,\"[\"+g.id(P)+\"]\",O)}),Object.keys(m.attributes).forEach(function(P){var O=m.attributes[P].append(y,D),b=y.scopeAttrib(P);Object.keys(new j).forEach(function(C){D.set(b,\".\"+C,O[C])})}),m.scopeVAO&&D.set(U.vao,\".targetVAO\",m.scopeVAO.append(y,D));function R(P){var O=m.shader[P];O&&D.set(U.shader,\".\"+P,O.append(y,D))}R(wp),R(Sp),Object.keys(m.state).length>0&&(D(W,\".dirty=true;\"),D.exit(W,\".dirty=true;\")),D(\"a1(\",y.shared.context,\",a0,\",y.batchId,\");\")}function q(y){if(!(typeof y!=\"object\"||Li(y))){for(var m=Object.keys(y),D=0;D<m.length;++D)if(gi.isDynamic(y[m[D]]))return!0;return!1}}function Ue(y,m,D){var U=m.static[D];if(!U||!q(U))return;var W=y.global,R=Object.keys(U),P=!1,O=!1,b=!1,C=y.global.def(\"{}\");R.forEach(function($){var H=U[$];if(gi.isDynamic(H)){typeof H==\"function\"&&(H=U[$]=gi.unbox(H));var te=yo(H,null);P=P||te.thisDep,b=b||te.propDep,O=O||te.contextDep}else{switch(W(C,\".\",$,\"=\"),typeof H){case\"number\":W(H);break;case\"string\":W('\"',H,'\"');break;case\"object\":Array.isArray(H)&&W(\"[\",H.join(),\"]\");break;default:W(y.link(H));break}W(\";\")}});function x($,H){R.forEach(function(te){var se=U[te];if(gi.isDynamic(se)){var Se=$.invoke(H,se);H(C,\".\",te,\"=\",Se,\";\")}})}m.dynamic[D]=new gi.DynamicVariable(C_,{thisDep:P,contextDep:O,propDep:b,ref:C,append:x}),delete m.static[D]}function Rt(y,m,D,U,W){var R=ut();R.stats=R.link(W),Object.keys(m.static).forEach(function(O){Ue(R,m,O)}),cz.forEach(function(O){Ue(R,y,O)});var P=Ji(y,m,D,U,R);return qi(R,P),X(R,P),w(R,P),n(R.compile(),{destroy:function(){P.shader.program.destroy()}})}return{next:Le,current:Re,procs:function(){var y=ut(),m=y.proc(\"poll\"),D=y.proc(\"refresh\"),U=y.block();m(U),D(U);var W=y.shared,R=W.gl,P=W.next,O=W.current;U(O,\".dirty=false;\"),ln(y,m),ln(y,D,null,!0);var b;_e&&(b=y.link(_e)),T.oes_vertex_array_object&&D(y.link(T.oes_vertex_array_object),\".bindVertexArrayOES(null);\");for(var C=0;C<Q.maxAttributes;++C){var x=D.def(W.attributes,\"[\",C,\"]\"),$=y.cond(x,\".buffer\");$.then(R,\".enableVertexAttribArray(\",C,\");\",R,\".bindBuffer(\",ed,\",\",x,\".buffer.buffer);\",R,\".vertexAttribPointer(\",C,\",\",x,\".size,\",x,\".type,\",x,\".normalized,\",x,\".stride,\",x,\".offset);\").else(R,\".disableVertexAttribArray(\",C,\");\",R,\".vertexAttrib4f(\",C,\",\",x,\".x,\",x,\".y,\",x,\".z,\",x,\".w);\",x,\".buffer=null;\"),D($),_e&&D(b,\".vertexAttribDivisorANGLE(\",C,\",\",x,\".divisor);\")}return D(y.shared.vao,\".currentVAO=null;\",y.shared.vao,\".setVAO(\",y.shared.vao,\".targetVAO);\"),Object.keys(re).forEach(function(H){var te=re[H],se=U.def(P,\".\",H),Se=y.block();Se(\"if(\",se,\"){\",R,\".enable(\",te,\")}else{\",R,\".disable(\",te,\")}\",O,\".\",H,\"=\",se,\";\"),D(Se),m(\"if(\",se,\"!==\",O,\".\",H,\"){\",Se,\"}\")}),Object.keys(ne).forEach(function(H){var te=ne[H],se=Re[H],Se,st,Ze=y.block();if(Ze(R,\".\",te,\"(\"),Li(se)){var Ne=se.length;Se=y.global.def(P,\".\",H),st=y.global.def(O,\".\",H),Ze(Ki(Ne,function(ae){return Se+\"[\"+ae+\"]\"}),\");\",Ki(Ne,function(ae){return st+\"[\"+ae+\"]=\"+Se+\"[\"+ae+\"];\"}).join(\"\")),m(\"if(\",Ki(Ne,function(ae){return Se+\"[\"+ae+\"]!==\"+st+\"[\"+ae+\"]\"}).join(\"||\"),\"){\",Ze,\"}\")}else Se=U.def(P,\".\",H),st=U.def(O,\".\",H),Ze(Se,\");\",O,\".\",H,\"=\",Se,\";\"),m(\"if(\",Se,\"!==\",st,\"){\",Ze,\"}\");D(Ze)}),y.compile()}(),compile:Rt}}function Tz(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var Az=34918,Lz=34919,rI=35007,Dz=function(p,g){if(!g.ext_disjoint_timer_query)return null;var T=[];function Q(){return T.pop()||g.ext_disjoint_timer_query.createQueryEXT()}function oe(_e){T.push(_e)}var G=[];function J(_e){var ze=Q();g.ext_disjoint_timer_query.beginQueryEXT(rI,ze),G.push(ze),fe(G.length-1,G.length,_e)}function pe(){g.ext_disjoint_timer_query.endQueryEXT(rI)}function he(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var ve=[];function xe(){return ve.pop()||new he}function be(_e){ve.push(_e)}var Ce=[];function fe(_e,ze,ue){var Re=xe();Re.startQueryIndex=_e,Re.endQueryIndex=ze,Re.sum=0,Re.stats=ue,Ce.push(Re)}var ye=[],j=[];function Z(){var _e,ze,ue=G.length;if(ue!==0){j.length=Math.max(j.length,ue+1),ye.length=Math.max(ye.length,ue+1),ye[0]=0,j[0]=0;var Re=0;for(_e=0,ze=0;ze<G.length;++ze){var Le=G[ze];g.ext_disjoint_timer_query.getQueryObjectEXT(Le,Lz)?(Re+=g.ext_disjoint_timer_query.getQueryObjectEXT(Le,Az),oe(Le)):G[_e++]=Le,ye[ze+1]=Re,j[ze+1]=_e}for(G.length=_e,_e=0,ze=0;ze<Ce.length;++ze){var et=Ce[ze],re=et.startQueryIndex,ne=et.endQueryIndex;et.sum+=ye[ne]-ye[re];var je=j[re],Ee=j[ne];Ee===je?(et.stats.gpuTime+=et.sum/1e6,be(et)):(et.startQueryIndex=je,et.endQueryIndex=Ee,Ce[_e++]=et)}Ce.length=_e}}return{beginQuery:J,endQuery:pe,pushScopeStats:fe,update:Z,getNumPendingQueries:function(){return G.length},clear:function(){T.push.apply(T,G);for(var _e=0;_e<T.length;_e++)g.ext_disjoint_timer_query.deleteQueryEXT(T[_e]);G.length=0,T.length=0},restore:function(){G.length=0,T.length=0}}},Pz=16384,Rz=256,Mz=1024,zz=34962,sI=\"webglcontextlost\",aI=\"webglcontextrestored\",lI=1,Oz=2,Bz=3;function cI(p,g){for(var T=0;T<p.length;++T)if(p[T]===g)return T;return-1}function Nz(p){var g=Xi(p);if(!g)return null;var T=g.gl,Q=T.getContextAttributes(),oe=T.isContextLost(),G=Ei(T,g);if(!G)return null;var J=nc(),pe=Tz(),he=G.extensions,ve=Dz(T,he),xe=ss(),be=T.drawingBufferWidth,Ce=T.drawingBufferHeight,fe={tick:0,time:0,viewportWidth:be,viewportHeight:Ce,framebufferWidth:be,framebufferHeight:Ce,drawingBufferWidth:be,drawingBufferHeight:Ce,pixelRatio:g.pixelRatio},ye={},j={elements:null,primitive:4,count:-1,offset:0,instances:-1},Z=CM(T,he),_e=UM(T,pe,g,Re),ze=ZM(T,he,_e,pe),ue=Z6(T,he,Z,pe,_e,ze,j);function Re(tt){return ue.destroyBuffer(tt)}var Le=iz(T,J,pe,g),et=A6(T,he,Z,function(){je.procs.poll()},fe,pe,g),re=L6(T,he,Z,pe,g),ne=X6(T,he,Z,et,re,pe),je=Iz(T,J,he,Z,_e,ze,et,ne,ye,ue,Le,j,fe,ve,g),Ee=rz(T,ne,je.procs.poll,fe,Q,he,Z),ge=je.next,Ie=T.canvas,Te=[],ft=[],ut=[],De=[g.onDestroy],Me=null;function ot(){if(Te.length===0){ve&&ve.update(),Me=null;return}Me=mo.next(ot),In();for(var tt=Te.length-1;tt>=0;--tt){var Ot=Te[tt];Ot&&Ot(fe,null,0)}T.flush(),ve&&ve.update()}function mt(){!Me&&Te.length>0&&(Me=mo.next(ot))}function zt(){Me&&(mo.cancel(ot),Me=null)}function Di(tt){tt.preventDefault(),oe=!0,zt(),ft.forEach(function(Ot){Ot()})}function Bi(tt){T.getError(),oe=!1,G.restore(),Le.restore(),_e.restore(),et.restore(),re.restore(),ne.restore(),ue.restore(),ve&&ve.restore(),je.procs.refresh(),mt(),ut.forEach(function(Ot){Ot()})}Ie&&(Ie.addEventListener(sI,Di,!1),Ie.addEventListener(aI,Bi,!1));function Bt(){Te.length=0,zt(),Ie&&(Ie.removeEventListener(sI,Di),Ie.removeEventListener(aI,Bi)),Le.clear(),ne.clear(),re.clear(),ue.clear(),et.clear(),ze.clear(),_e.clear(),ve&&ve.clear(),De.forEach(function(tt){tt()})}function sn(tt){_(!!tt,\"invalid args to regl({...})\"),_.type(tt,\"object\",\"invalid args to regl({...})\");function Ot(W){var R=n({},W);delete R.uniforms,delete R.attributes,delete R.context,delete R.vao,\"stencil\"in R&&R.stencil.op&&(R.stencil.opBack=R.stencil.opFront=R.stencil.op,delete R.stencil.op);function P(O){if(O in R){var b=R[O];delete R[O],Object.keys(b).forEach(function(C){R[O+\".\"+C]=b[C]})}}return P(\"blend\"),P(\"depth\"),P(\"cull\"),P(\"stencil\"),P(\"polygonOffset\"),P(\"scissor\"),P(\"sample\"),\"vao\"in W&&(R.vao=W.vao),R}function Ht(W,R){var P={},O={};return Object.keys(W).forEach(function(b){var C=W[b];if(gi.isDynamic(C)){O[b]=gi.unbox(C,b);return}else if(R&&Array.isArray(C)){for(var x=0;x<C.length;++x)if(gi.isDynamic(C[x])){O[b]=gi.unbox(C,b);return}}P[b]=C}),{dynamic:O,static:P}}var qi=Ht(tt.context||{},!0),us=Ht(tt.uniforms||{},!0),yc=Ht(tt.attributes||{},!1),w=Ht(Ot(tt),!1),X={gpuTime:0,cpuTime:0,count:0},q=je.compile(w,yc,us,qi,X),Ue=q.draw,Rt=q.batch,y=q.scope,m=[];function D(W){for(;m.length<W;)m.push(null);return m}function U(W,R){var P;if(oe&&_.raise(\"context lost\"),typeof W==\"function\")return y.call(this,null,W,0);if(typeof R==\"function\")if(typeof W==\"number\")for(P=0;P<W;++P)y.call(this,null,R,P);else if(Array.isArray(W))for(P=0;P<W.length;++P)y.call(this,W[P],R,P);else return y.call(this,W,R,0);else if(typeof W==\"number\"){if(W>0)return Rt.call(this,D(W|0),W|0)}else if(Array.isArray(W)){if(W.length)return Rt.call(this,W,W.length)}else return Ue.call(this,W)}return n(U,{stats:X,destroy:function(){q.destroy()}})}var wi=ne.setFBO=sn({framebuffer:gi.define.call(null,lI,\"framebuffer\")});function Ji(tt,Ot){var Ht=0;je.procs.poll();var qi=Ot.color;qi&&(T.clearColor(+qi[0]||0,+qi[1]||0,+qi[2]||0,+qi[3]||0),Ht|=Pz),\"depth\"in Ot&&(T.clearDepth(+Ot.depth),Ht|=Rz),\"stencil\"in Ot&&(T.clearStencil(Ot.stencil|0),Ht|=Mz),_(!!Ht,\"called regl.clear with no buffer specified\"),T.clear(Ht)}function an(tt){if(_(typeof tt==\"object\"&&tt,\"regl.clear() takes an object as input\"),\"framebuffer\"in tt)if(tt.framebuffer&&tt.framebuffer_reglType===\"framebufferCube\")for(var Ot=0;Ot<6;++Ot)wi(n({framebuffer:tt.framebuffer.faces[Ot]},tt),Ji);else wi(tt,Ji);else Ji(null,tt)}function ln(tt){_.type(tt,\"function\",\"regl.frame() callback must be a function\"),Te.push(tt);function Ot(){var Ht=cI(Te,tt);_(Ht>=0,\"cannot cancel a frame twice\");function qi(){var us=cI(Te,qi);Te[us]=Te[Te.length-1],Te.length-=1,Te.length<=0&&zt()}Te[Ht]=qi}return mt(),{cancel:Ot}}function yn(){var tt=ge.viewport,Ot=ge.scissor_box;tt[0]=tt[1]=Ot[0]=Ot[1]=0,fe.viewportWidth=fe.framebufferWidth=fe.drawingBufferWidth=tt[2]=Ot[2]=T.drawingBufferWidth,fe.viewportHeight=fe.framebufferHeight=fe.drawingBufferHeight=tt[3]=Ot[3]=T.drawingBufferHeight}function In(){fe.tick+=1,fe.time=kt(),yn(),je.procs.poll()}function $i(){et.refresh(),yn(),je.procs.refresh(),ve&&ve.update()}function kt(){return(ss()-xe)/1e3}$i();function Tn(tt,Ot){_.type(Ot,\"function\",\"listener callback must be a function\");var Ht;switch(tt){case\"frame\":return ln(Ot);case\"lost\":Ht=ft;break;case\"restore\":Ht=ut;break;case\"destroy\":Ht=De;break;default:_.raise(\"invalid event, must be one of frame,lost,restore,destroy\")}return Ht.push(Ot),{cancel:function(){for(var qi=0;qi<Ht.length;++qi)if(Ht[qi]===Ot){Ht[qi]=Ht[Ht.length-1],Ht.pop();return}}}}var Jt=n(sn,{clear:an,prop:gi.define.bind(null,lI),context:gi.define.bind(null,Oz),this:gi.define.bind(null,Bz),draw:sn({}),buffer:function(tt){return _e.create(tt,zz,!1,!1)},elements:function(tt){return ze.create(tt,!1)},texture:et.create2D,cube:et.createCube,renderbuffer:re.create,framebuffer:ne.create,framebufferCube:ne.createCube,vao:ue.createVAO,attributes:Q,frame:ln,on:Tn,limits:Z,hasExtension:function(tt){return Z.extensions.indexOf(tt.toLowerCase())>=0},read:Ee,destroy:Bt,_gl:T,_refresh:$i,poll:function(){In(),ve&&ve.update()},now:kt,stats:pe});return g.onDone(null,Jt),Jt}return Nz})}(kw)),kw.exports}var gF=mF(),_F=fS(gF),yF=\"#b3b3b3\",bF=void 0,Ew=void 0,vF=1,xF=4,wF=\"#666666\",SF=.1,CF=1,kF=1,R5=\"#222222\",at={enableSimulation:!0,spaceSize:8192,pointSizeScale:1,linkWidthScale:1,linkArrowsSizeScale:1,renderLinks:!0,curvedLinks:!1,curvedLinkSegments:19,curvedLinkWeight:.8,curvedLinkControlPointDistance:.5,linkArrows:!1,linkVisibilityDistanceRange:[50,150],linkVisibilityMinTransparency:.25,hoveredPointCursor:\"auto\",hoveredLinkCursor:\"auto\",renderHoveredPointRing:!1,hoveredPointRingColor:\"white\",hoveredLinkColor:void 0,hoveredLinkWidthIncrease:5,focusedPointRingColor:\"white\",focusedPointIndex:void 0,useClassicQuadtree:!1,simulation:{decay:5e3,gravity:.25,center:0,repulsion:1,repulsionTheta:1.15,repulsionQuadtreeLevels:12,linkSpring:1,linkDistance:10,linkDistRandomVariationRange:[1,1.2],repulsionFromMouse:2,friction:.85,cluster:.1},showFPSMonitor:!1,pixelRatio:2,scalePointsOnZoom:!1,scaleLinksOnZoom:!1,enableZoom:!0,enableSimulationDuringZoom:!1,enableDrag:!1,fitViewOnInit:!0,fitViewDelay:250,fitViewPadding:.1,fitViewDuration:250,pointSamplingDistance:150,attribution:\"\",rescalePositions:void 0,enableRightClickRepulsion:!1},EF=.7,IF=.95,TF=3;var{entries:M5,setPrototypeOf:AI,isFrozen:AF,getPrototypeOf:LF,getOwnPropertyDescriptor:DF}=Object,{freeze:to,seal:ir,create:z5}=Object,{apply:Iw,construct:Tw}=typeof Reflect<\"u\"&&Reflect;to||(to=function(t){return t});ir||(ir=function(t){return t});Iw||(Iw=function(t,e,i){return t.apply(e,i)});Tw||(Tw=function(t,e){return new t(...e)});var W_=io(Array.prototype.forEach),PF=io(Array.prototype.lastIndexOf),LI=io(Array.prototype.pop),Pp=io(Array.prototype.push),RF=io(Array.prototype.splice),Z_=io(String.prototype.toLowerCase),uw=io(String.prototype.toString),DI=io(String.prototype.match),Rp=io(String.prototype.replace),MF=io(String.prototype.indexOf),zF=io(String.prototype.trim),Tr=io(Object.prototype.hasOwnProperty),eo=io(RegExp.prototype.test),Mp=OF(TypeError);function io(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return Iw(t,e,n)}}function OF(t){return function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return Tw(t,i)}}function Xt(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Z_;AI&&AI(t,null);let n=e.length;for(;n--;){let o=e[n];if(typeof o==\"string\"){let r=i(o);r!==o&&(AF(e)||(e[n]=r),o=r)}t[o]=!0}return t}function BF(t){for(let e=0;e<t.length;e++)Tr(t,e)||(t[e]=null);return t}function Xs(t){let e=z5(null);for(let[i,n]of M5(t))Tr(t,i)&&(Array.isArray(n)?e[i]=BF(n):n&&typeof n==\"object\"&&n.constructor===Object?e[i]=Xs(n):e[i]=n);return e}function zp(t,e){for(;t!==null;){let n=DF(t,e);if(n){if(n.get)return io(n.get);if(typeof n.value==\"function\")return io(n.value)}t=LF(t)}function i(){return null}return i}var PI=to([\"a\",\"abbr\",\"acronym\",\"address\",\"area\",\"article\",\"aside\",\"audio\",\"b\",\"bdi\",\"bdo\",\"big\",\"blink\",\"blockquote\",\"body\",\"br\",\"button\",\"canvas\",\"caption\",\"center\",\"cite\",\"code\",\"col\",\"colgroup\",\"content\",\"data\",\"datalist\",\"dd\",\"decorator\",\"del\",\"details\",\"dfn\",\"dialog\",\"dir\",\"div\",\"dl\",\"dt\",\"element\",\"em\",\"fieldset\",\"figcaption\",\"figure\",\"font\",\"footer\",\"form\",\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\",\"head\",\"header\",\"hgroup\",\"hr\",\"html\",\"i\",\"img\",\"input\",\"ins\",\"kbd\",\"label\",\"legend\",\"li\",\"main\",\"map\",\"mark\",\"marquee\",\"menu\",\"menuitem\",\"meter\",\"nav\",\"nobr\",\"ol\",\"optgroup\",\"option\",\"output\",\"p\",\"picture\",\"pre\",\"progress\",\"q\",\"rp\",\"rt\",\"ruby\",\"s\",\"samp\",\"section\",\"select\",\"shadow\",\"small\",\"source\",\"spacer\",\"span\",\"strike\",\"strong\",\"style\",\"sub\",\"summary\",\"sup\",\"table\",\"tbody\",\"td\",\"template\",\"textarea\",\"tfoot\",\"th\",\"thead\",\"time\",\"tr\",\"track\",\"tt\",\"u\",\"ul\",\"var\",\"video\",\"wbr\"]),dw=to([\"svg\",\"a\",\"altglyph\",\"altglyphdef\",\"altglyphitem\",\"animatecolor\",\"animatemotion\",\"animatetransform\",\"circle\",\"clippath\",\"defs\",\"desc\",\"ellipse\",\"filter\",\"font\",\"g\",\"glyph\",\"glyphref\",\"hkern\",\"image\",\"line\",\"lineargradient\",\"marker\",\"mask\",\"metadata\",\"mpath\",\"path\",\"pattern\",\"polygon\",\"polyline\",\"radialgradient\",\"rect\",\"stop\",\"style\",\"switch\",\"symbol\",\"text\",\"textpath\",\"title\",\"tref\",\"tspan\",\"view\",\"vkern\"]),hw=to([\"feBlend\",\"feColorMatrix\",\"feComponentTransfer\",\"feComposite\",\"feConvolveMatrix\",\"feDiffuseLighting\",\"feDisplacementMap\",\"feDistantLight\",\"feDropShadow\",\"feFlood\",\"feFuncA\",\"feFuncB\",\"feFuncG\",\"feFuncR\",\"feGaussianBlur\",\"feImage\",\"feMerge\",\"feMergeNode\",\"feMorphology\",\"feOffset\",\"fePointLight\",\"feSpecularLighting\",\"feSpotLight\",\"feTile\",\"feTurbulence\"]),NF=to([\"animate\",\"color-profile\",\"cursor\",\"discard\",\"font-face\",\"font-face-format\",\"font-face-name\",\"font-face-src\",\"font-face-uri\",\"foreignobject\",\"hatch\",\"hatchpath\",\"mesh\",\"meshgradient\",\"meshpatch\",\"meshrow\",\"missing-glyph\",\"script\",\"set\",\"solidcolor\",\"unknown\",\"use\"]),pw=to([\"math\",\"menclose\",\"merror\",\"mfenced\",\"mfrac\",\"mglyph\",\"mi\",\"mlabeledtr\",\"mmultiscripts\",\"mn\",\"mo\",\"mover\",\"mpadded\",\"mphantom\",\"mroot\",\"mrow\",\"ms\",\"mspace\",\"msqrt\",\"mstyle\",\"msub\",\"msup\",\"msubsup\",\"mtable\",\"mtd\",\"mtext\",\"mtr\",\"munder\",\"munderover\",\"mprescripts\"]),FF=to([\"maction\",\"maligngroup\",\"malignmark\",\"mlongdiv\",\"mscarries\",\"mscarry\",\"msgroup\",\"mstack\",\"msline\",\"msrow\",\"semantics\",\"annotation\",\"annotation-xml\",\"mprescripts\",\"none\"]),RI=to([\"#text\"]),MI=to([\"accept\",\"action\",\"align\",\"alt\",\"autocapitalize\",\"autocomplete\",\"autopictureinpicture\",\"autoplay\",\"background\",\"bgcolor\",\"border\",\"capture\",\"cellpadding\",\"cellspacing\",\"checked\",\"cite\",\"class\",\"clear\",\"color\",\"cols\",\"colspan\",\"controls\",\"controlslist\",\"coords\",\"crossorigin\",\"datetime\",\"decoding\",\"default\",\"dir\",\"disabled\",\"disablepictureinpicture\",\"disableremoteplayback\",\"download\",\"draggable\",\"enctype\",\"enterkeyhint\",\"face\",\"for\",\"headers\",\"height\",\"hidden\",\"high\",\"href\",\"hreflang\",\"id\",\"inputmode\",\"integrity\",\"ismap\",\"kind\",\"label\",\"lang\",\"list\",\"loading\",\"loop\",\"low\",\"max\",\"maxlength\",\"media\",\"method\",\"min\",\"minlength\",\"multiple\",\"muted\",\"name\",\"nonce\",\"noshade\",\"novalidate\",\"nowrap\",\"open\",\"optimum\",\"pattern\",\"placeholder\",\"playsinline\",\"popover\",\"popovertarget\",\"popovertargetaction\",\"poster\",\"preload\",\"pubdate\",\"radiogroup\",\"readonly\",\"rel\",\"required\",\"rev\",\"reversed\",\"role\",\"rows\",\"rowspan\",\"spellcheck\",\"scope\",\"selected\",\"shape\",\"size\",\"sizes\",\"span\",\"srclang\",\"start\",\"src\",\"srcset\",\"step\",\"style\",\"summary\",\"tabindex\",\"title\",\"translate\",\"type\",\"usemap\",\"valign\",\"value\",\"width\",\"wrap\",\"xmlns\",\"slot\"]),fw=to([\"accent-height\",\"accumulate\",\"additive\",\"alignment-baseline\",\"amplitude\",\"ascent\",\"attributename\",\"attributetype\",\"azimuth\",\"basefrequency\",\"baseline-shift\",\"begin\",\"bias\",\"by\",\"class\",\"clip\",\"clippathunits\",\"clip-path\",\"clip-rule\",\"color\",\"color-interpolation\",\"color-interpolation-filters\",\"color-profile\",\"color-rendering\",\"cx\",\"cy\",\"d\",\"dx\",\"dy\",\"diffuseconstant\",\"direction\",\"display\",\"divisor\",\"dur\",\"edgemode\",\"elevation\",\"end\",\"exponent\",\"fill\",\"fill-opacity\",\"fill-rule\",\"filter\",\"filterunits\",\"flood-color\",\"flood-opacity\",\"font-family\",\"font-size\",\"font-size-adjust\",\"font-stretch\",\"font-style\",\"font-variant\",\"font-weight\",\"fx\",\"fy\",\"g1\",\"g2\",\"glyph-name\",\"glyphref\",\"gradientunits\",\"gradienttransform\",\"height\",\"href\",\"id\",\"image-rendering\",\"in\",\"in2\",\"intercept\",\"k\",\"k1\",\"k2\",\"k3\",\"k4\",\"kerning\",\"keypoints\",\"keysplines\",\"keytimes\",\"lang\",\"lengthadjust\",\"letter-spacing\",\"kernelmatrix\",\"kernelunitlength\",\"lighting-color\",\"local\",\"marker-end\",\"marker-mid\",\"marker-start\",\"markerheight\",\"markerunits\",\"markerwidth\",\"maskcontentunits\",\"maskunits\",\"max\",\"mask\",\"media\",\"method\",\"mode\",\"min\",\"name\",\"numoctaves\",\"offset\",\"operator\",\"opacity\",\"order\",\"orient\",\"orientation\",\"origin\",\"overflow\",\"paint-order\",\"path\",\"pathlength\",\"patterncontentunits\",\"patterntransform\",\"patternunits\",\"points\",\"preservealpha\",\"preserveaspectratio\",\"primitiveunits\",\"r\",\"rx\",\"ry\",\"radius\",\"refx\",\"refy\",\"repeatcount\",\"repeatdur\",\"restart\",\"result\",\"rotate\",\"scale\",\"seed\",\"shape-rendering\",\"slope\",\"specularconstant\",\"specularexponent\",\"spreadmethod\",\"startoffset\",\"stddeviation\",\"stitchtiles\",\"stop-color\",\"stop-opacity\",\"stroke-dasharray\",\"stroke-dashoffset\",\"stroke-linecap\",\"stroke-linejoin\",\"stroke-miterlimit\",\"stroke-opacity\",\"stroke\",\"stroke-width\",\"style\",\"surfacescale\",\"systemlanguage\",\"tabindex\",\"tablevalues\",\"targetx\",\"targety\",\"transform\",\"transform-origin\",\"text-anchor\",\"text-decoration\",\"text-rendering\",\"textlength\",\"type\",\"u1\",\"u2\",\"unicode\",\"values\",\"viewbox\",\"visibility\",\"version\",\"vert-adv-y\",\"vert-origin-x\",\"vert-origin-y\",\"width\",\"word-spacing\",\"wrap\",\"writing-mode\",\"xchannelselector\",\"ychannelselector\",\"x\",\"x1\",\"x2\",\"xmlns\",\"y\",\"y1\",\"y2\",\"z\",\"zoomandpan\"]),zI=to([\"accent\",\"accentunder\",\"align\",\"bevelled\",\"close\",\"columnsalign\",\"columnlines\",\"columnspan\",\"denomalign\",\"depth\",\"dir\",\"display\",\"displaystyle\",\"encoding\",\"fence\",\"frame\",\"height\",\"href\",\"id\",\"largeop\",\"length\",\"linethickness\",\"lspace\",\"lquote\",\"mathbackground\",\"mathcolor\",\"mathsize\",\"mathvariant\",\"maxsize\",\"minsize\",\"movablelimits\",\"notation\",\"numalign\",\"open\",\"rowalign\",\"rowlines\",\"rowspacing\",\"rowspan\",\"rspace\",\"rquote\",\"scriptlevel\",\"scriptminsize\",\"scriptsizemultiplier\",\"selection\",\"separator\",\"separators\",\"stretchy\",\"subscriptshift\",\"supscriptshift\",\"symmetric\",\"voffset\",\"width\",\"xmlns\"]),H_=to([\"xlink:href\",\"xml:id\",\"xlink:title\",\"xml:space\",\"xmlns:xlink\"]),UF=ir(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm),jF=ir(/<%[\\w\\W]*|[\\w\\W]*%>/gm),VF=ir(/\\$\\{[\\w\\W]*/gm),WF=ir(/^data-[\\-\\w.\\u00B7-\\uFFFF]+$/),HF=ir(/^aria-[\\-\\w]+$/),O5=ir(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i),$F=ir(/^(?:\\w+script|data):/i),qF=ir(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g),B5=ir(/^html$/i),GF=ir(/^[a-z][.\\w]*(-[.\\w]+)+$/i),OI=Object.freeze({__proto__:null,ARIA_ATTR:HF,ATTR_WHITESPACE:qF,CUSTOM_ELEMENT:GF,DATA_ATTR:WF,DOCTYPE_NAME:B5,ERB_EXPR:jF,IS_ALLOWED_URI:O5,IS_SCRIPT_OR_DATA:$F,MUSTACHE_EXPR:UF,TMPLIT_EXPR:VF}),Op={element:1,text:3,progressingInstruction:7,comment:8,document:9},YF=function(){return typeof window>\"u\"?null:window},QF=function(t,e){if(typeof t!=\"object\"||typeof t.createPolicy!=\"function\")return null;let i=null,n=\"data-tt-policy-suffix\";e&&e.hasAttribute(n)&&(i=e.getAttribute(n));let o=\"dompurify\"+(i?\"#\"+i:\"\");try{return t.createPolicy(o,{createHTML(r){return r},createScriptURL(r){return r}})}catch{return console.warn(\"TrustedTypes policy \"+o+\" could not be created.\"),null}},BI=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function N5(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:YF(),e=M=>N5(M);if(e.version=\"3.2.6\",e.removed=[],!t||!t.document||t.document.nodeType!==Op.document||!t.Element)return e.isSupported=!1,e;let{document:i}=t,n=i,o=n.currentScript,{DocumentFragment:r,HTMLTemplateElement:s,Node:a,Element:l,NodeFilter:c,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:d,DOMParser:h,trustedTypes:f}=t,v=l.prototype,L=zp(v,\"cloneNode\"),A=zp(v,\"remove\"),I=zp(v,\"nextSibling\"),B=zp(v,\"childNodes\"),F=zp(v,\"parentNode\");if(typeof s==\"function\"){let M=i.createElement(\"template\");M.content&&M.content.ownerDocument&&(i=M.content.ownerDocument)}let k,N=\"\",{implementation:Y,createNodeIterator:z,createDocumentFragment:ce,getElementsByTagName:Fe}=i,{importNode:$e}=n,K=BI();e.isSupported=typeof M5==\"function\"&&typeof F==\"function\"&&Y&&Y.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:Xe,ERB_EXPR:Be,TMPLIT_EXPR:V,DATA_ATTR:Pe,ARIA_ATTR:ie,IS_SCRIPT_OR_DATA:ke,ATTR_WHITESPACE:Ge,CUSTOM_ELEMENT:Oe}=OI,{IS_ALLOWED_URI:Ye}=OI,Ae=null,ct=Xt({},[...PI,...dw,...hw,...pw,...RI]),ht=null,ii=Xt({},[...MI,...fw,...zI,...H_]),Je=Object.seal(z5(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ci=null,Gt=null,_i=!0,He=!0,wt=!1,Ut=!0,we=!1,Qt=!0,Mt=!1,mi=!1,Ai=!1,it=!1,Dt=!1,kn=!1,on=!0,ic=!1,Ou=\"user-content-\",_=!0,xr=!1,fo={},Zn=null,wr=Xt({},[\"annotation-xml\",\"audio\",\"colgroup\",\"desc\",\"foreignobject\",\"head\",\"iframe\",\"math\",\"mi\",\"mn\",\"mo\",\"ms\",\"mtext\",\"noembed\",\"noframes\",\"noscript\",\"plaintext\",\"script\",\"style\",\"svg\",\"template\",\"thead\",\"title\",\"video\",\"xmp\"]),Do=null,Ya=Xt({},[\"audio\",\"video\",\"img\",\"source\",\"image\",\"track\"]),Ko=null,Vs=Xt({},[\"alt\",\"class\",\"for\",\"id\",\"label\",\"name\",\"pattern\",\"placeholder\",\"role\",\"summary\",\"title\",\"value\",\"style\",\"xmlns\"]),Ws=\"http://www.w3.org/1998/Math/MathML\",Sr=\"http://www.w3.org/2000/svg\",On=\"http://www.w3.org/1999/xhtml\",gi=On,mo=!1,ss=null,nc=Xt({},[Ws,Sr,On],uw),Qa=Xt({},[\"mi\",\"mo\",\"mn\",\"ms\",\"mtext\"]),Cr=Xt({},[\"annotation-xml\"]),Xa=Xt({},[\"title\",\"style\",\"font\",\"a\",\"script\"]),Hs=null,as=[\"application/xhtml+xml\",\"text/html\"],Bu=\"text/html\",Xi=null,Ei=null,Ki=i.createElement(\"form\"),Nu=function(M){return M instanceof RegExp||M instanceof Function},Ka=function(){let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ei&&Ei===M)){if((!M||typeof M!=\"object\")&&(M={}),M=Xs(M),Hs=as.indexOf(M.PARSER_MEDIA_TYPE)===-1?Bu:M.PARSER_MEDIA_TYPE,Xi=Hs===\"application/xhtml+xml\"?uw:Z_,Ae=Tr(M,\"ALLOWED_TAGS\")?Xt({},M.ALLOWED_TAGS,Xi):ct,ht=Tr(M,\"ALLOWED_ATTR\")?Xt({},M.ALLOWED_ATTR,Xi):ii,ss=Tr(M,\"ALLOWED_NAMESPACES\")?Xt({},M.ALLOWED_NAMESPACES,uw):nc,Ko=Tr(M,\"ADD_URI_SAFE_ATTR\")?Xt(Xs(Vs),M.ADD_URI_SAFE_ATTR,Xi):Vs,Do=Tr(M,\"ADD_DATA_URI_TAGS\")?Xt(Xs(Ya),M.ADD_DATA_URI_TAGS,Xi):Ya,Zn=Tr(M,\"FORBID_CONTENTS\")?Xt({},M.FORBID_CONTENTS,Xi):wr,ci=Tr(M,\"FORBID_TAGS\")?Xt({},M.FORBID_TAGS,Xi):Xs({}),Gt=Tr(M,\"FORBID_ATTR\")?Xt({},M.FORBID_ATTR,Xi):Xs({}),fo=Tr(M,\"USE_PROFILES\")?M.USE_PROFILES:!1,_i=M.ALLOW_ARIA_ATTR!==!1,He=M.ALLOW_DATA_ATTR!==!1,wt=M.ALLOW_UNKNOWN_PROTOCOLS||!1,Ut=M.ALLOW_SELF_CLOSE_IN_ATTR!==!1,we=M.SAFE_FOR_TEMPLATES||!1,Qt=M.SAFE_FOR_XML!==!1,Mt=M.WHOLE_DOCUMENT||!1,it=M.RETURN_DOM||!1,Dt=M.RETURN_DOM_FRAGMENT||!1,kn=M.RETURN_TRUSTED_TYPE||!1,Ai=M.FORCE_BODY||!1,on=M.SANITIZE_DOM!==!1,ic=M.SANITIZE_NAMED_PROPS||!1,_=M.KEEP_CONTENT!==!1,xr=M.IN_PLACE||!1,Ye=M.ALLOWED_URI_REGEXP||O5,gi=M.NAMESPACE||On,Qa=M.MATHML_TEXT_INTEGRATION_POINTS||Qa,Cr=M.HTML_INTEGRATION_POINTS||Cr,Je=M.CUSTOM_ELEMENT_HANDLING||{},M.CUSTOM_ELEMENT_HANDLING&&Nu(M.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Je.tagNameCheck=M.CUSTOM_ELEMENT_HANDLING.tagNameCheck),M.CUSTOM_ELEMENT_HANDLING&&Nu(M.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Je.attributeNameCheck=M.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),M.CUSTOM_ELEMENT_HANDLING&&typeof M.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements==\"boolean\"&&(Je.allowCustomizedBuiltInElements=M.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),we&&(He=!1),Dt&&(it=!0),fo&&(Ae=Xt({},RI),ht=[],fo.html===!0&&(Xt(Ae,PI),Xt(ht,MI)),fo.svg===!0&&(Xt(Ae,dw),Xt(ht,fw),Xt(ht,H_)),fo.svgFilters===!0&&(Xt(Ae,hw),Xt(ht,fw),Xt(ht,H_)),fo.mathMl===!0&&(Xt(Ae,pw),Xt(ht,zI),Xt(ht,H_))),M.ADD_TAGS&&(Ae===ct&&(Ae=Xs(Ae)),Xt(Ae,M.ADD_TAGS,Xi)),M.ADD_ATTR&&(ht===ii&&(ht=Xs(ht)),Xt(ht,M.ADD_ATTR,Xi)),M.ADD_URI_SAFE_ATTR&&Xt(Ko,M.ADD_URI_SAFE_ATTR,Xi),M.FORBID_CONTENTS&&(Zn===wr&&(Zn=Xs(Zn)),Xt(Zn,M.FORBID_CONTENTS,Xi)),_&&(Ae[\"#text\"]=!0),Mt&&Xt(Ae,[\"html\",\"head\",\"body\"]),Ae.table&&(Xt(Ae,[\"tbody\"]),delete ci.tbody),M.TRUSTED_TYPES_POLICY){if(typeof M.TRUSTED_TYPES_POLICY.createHTML!=\"function\")throw Mp('TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.');if(typeof M.TRUSTED_TYPES_POLICY.createScriptURL!=\"function\")throw Mp('TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.');k=M.TRUSTED_TYPES_POLICY,N=k.createHTML(\"\")}else k===void 0&&(k=QF(f,o)),k!==null&&typeof N==\"string\"&&(N=k.createHTML(\"\"));to&&to(M),Ei=M}},Za=Xt({},[...dw,...hw,...NF]),oc=Xt({},[...pw,...FF]),Fu=function(M){let le=F(M);(!le||!le.tagName)&&(le={namespaceURI:gi,tagName:\"template\"});let S=Z_(M.tagName),de=Z_(le.tagName);return ss[M.namespaceURI]?M.namespaceURI===Sr?le.namespaceURI===On?S===\"svg\":le.namespaceURI===Ws?S===\"svg\"&&(de===\"annotation-xml\"||Qa[de]):!!Za[S]:M.namespaceURI===Ws?le.namespaceURI===On?S===\"math\":le.namespaceURI===Sr?S===\"math\"&&Cr[de]:!!oc[S]:M.namespaceURI===On?le.namespaceURI===Sr&&!Cr[de]||le.namespaceURI===Ws&&!Qa[de]?!1:!oc[S]&&(Xa[S]||!Za[S]):!!(Hs===\"application/xhtml+xml\"&&ss[M.namespaceURI]):!1},kr=function(M){Pp(e.removed,{element:M});try{F(M).removeChild(M)}catch{A(M)}},_n=function(M,le){try{Pp(e.removed,{attribute:le.getAttributeNode(M),from:le})}catch{Pp(e.removed,{attribute:null,from:le})}if(le.removeAttribute(M),M===\"is\")if(it||Dt)try{kr(le)}catch{}else try{le.setAttribute(M,\"\")}catch{}},Zo=function(M){let le=null,S=null;if(Ai)M=\"<remove></remove>\"+M;else{let Tt=DI(M,/^[\\r\\n\\t ]+/);S=Tt&&Tt[0]}Hs===\"application/xhtml+xml\"&&gi===On&&(M='<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>'+M+\"</body></html>\");let de=k?k.createHTML(M):M;if(gi===On)try{le=new h().parseFromString(de,Hs)}catch{}if(!le||!le.documentElement){le=Y.createDocument(gi,\"template\",null);try{le.documentElement.innerHTML=mo?N:de}catch{}}let Ve=le.body||le.documentElement;return M&&S&&Ve.insertBefore(i.createTextNode(S),Ve.childNodes[0]||null),gi===On?Fe.call(le,Mt?\"html\":\"body\")[0]:Mt?le.documentElement:Ve},Ja=function(M){return z.call(M.ownerDocument||M,M,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},$s=function(M){return M instanceof d&&(typeof M.nodeName!=\"string\"||typeof M.textContent!=\"string\"||typeof M.removeChild!=\"function\"||!(M.attributes instanceof u)||typeof M.removeAttribute!=\"function\"||typeof M.setAttribute!=\"function\"||typeof M.namespaceURI!=\"string\"||typeof M.insertBefore!=\"function\"||typeof M.hasChildNodes!=\"function\")},yi=function(M){return typeof a==\"function\"&&M instanceof a};function go(M,le,S){W_(M,de=>{de.call(e,le,S,Ei)})}let _o=function(M){let le=null;if(go(K.beforeSanitizeElements,M,null),$s(M))return kr(M),!0;let S=Xi(M.nodeName);if(go(K.uponSanitizeElement,M,{tagName:S,allowedTags:Ae}),Qt&&M.hasChildNodes()&&!yi(M.firstElementChild)&&eo(/<[/\\w!]/g,M.innerHTML)&&eo(/<[/\\w!]/g,M.textContent)||M.nodeType===Op.progressingInstruction||Qt&&M.nodeType===Op.comment&&eo(/<[/\\w]/g,M.data))return kr(M),!0;if(!Ae[S]||ci[S]){if(!ci[S]&&sc(S)&&(Je.tagNameCheck instanceof RegExp&&eo(Je.tagNameCheck,S)||Je.tagNameCheck instanceof Function&&Je.tagNameCheck(S)))return!1;if(_&&!Zn[S]){let de=F(M)||M.parentNode,Ve=B(M)||M.childNodes;if(Ve&&de){let Tt=Ve.length;for(let xi=Tt-1;xi>=0;--xi){let ri=L(Ve[xi],!0);ri.__removalCount=(M.__removalCount||0)+1,de.insertBefore(ri,I(M))}}}return kr(M),!0}return M instanceof l&&!Fu(M)||(S===\"noscript\"||S===\"noembed\"||S===\"noframes\")&&eo(/<\\/no(script|embed|frames)/i,M.innerHTML)?(kr(M),!0):(we&&M.nodeType===Op.text&&(le=M.textContent,W_([Xe,Be,V],de=>{le=Rp(le,de,\" \")}),M.textContent!==le&&(Pp(e.removed,{element:M.cloneNode()}),M.textContent=le)),go(K.afterSanitizeElements,M,null),!1)},rc=function(M,le,S){if(on&&(le===\"id\"||le===\"name\")&&(S in i||S in Ki))return!1;if(!(He&&!Gt[le]&&eo(Pe,le))&&!(_i&&eo(ie,le))){if(!ht[le]||Gt[le]){if(!(sc(M)&&(Je.tagNameCheck instanceof RegExp&&eo(Je.tagNameCheck,M)||Je.tagNameCheck instanceof Function&&Je.tagNameCheck(M))&&(Je.attributeNameCheck instanceof RegExp&&eo(Je.attributeNameCheck,le)||Je.attributeNameCheck instanceof Function&&Je.attributeNameCheck(le))||le===\"is\"&&Je.allowCustomizedBuiltInElements&&(Je.tagNameCheck instanceof RegExp&&eo(Je.tagNameCheck,S)||Je.tagNameCheck instanceof Function&&Je.tagNameCheck(S))))return!1}else if(!Ko[le]&&!eo(Ye,Rp(S,Ge,\"\"))&&!((le===\"src\"||le===\"xlink:href\"||le===\"href\")&&M!==\"script\"&&MF(S,\"data:\")===0&&Do[M])&&!(wt&&!eo(ke,Rp(S,Ge,\"\")))&&S)return!1}return!0},sc=function(M){return M!==\"annotation-xml\"&&DI(M,Oe)},ac=function(M){go(K.beforeSanitizeAttributes,M,null);let{attributes:le}=M;if(!le||$s(M))return;let S={attrName:\"\",attrValue:\"\",keepAttr:!0,allowedAttributes:ht,forceKeepAttr:void 0},de=le.length;for(;de--;){let Ve=le[de],{name:Tt,namespaceURI:xi,value:ri}=Ve,Ii=Xi(Tt),Jn=ri,Oi=Tt===\"value\"?Jn:zF(Jn);if(S.attrName=Ii,S.attrValue=Oi,S.keepAttr=!0,S.forceKeepAttr=void 0,go(K.uponSanitizeAttribute,M,S),Oi=S.attrValue,ic&&(Ii===\"id\"||Ii===\"name\")&&(_n(Tt,M),Oi=Ou+Oi),Qt&&eo(/((--!?|])>)|<\\/(style|title)/i,Oi)){_n(Tt,M);continue}if(S.forceKeepAttr)continue;if(!S.keepAttr){_n(Tt,M);continue}if(!Ut&&eo(/\\/>/i,Oi)){_n(Tt,M);continue}we&&W_([Xe,Be,V],rn=>{Oi=Rp(Oi,rn,\" \")});let el=Xi(M.nodeName);if(!rc(el,Ii,Oi)){_n(Tt,M);continue}if(k&&typeof f==\"object\"&&typeof f.getAttributeType==\"function\"&&!xi)switch(f.getAttributeType(el,Ii)){case\"TrustedHTML\":{Oi=k.createHTML(Oi);break}case\"TrustedScriptURL\":{Oi=k.createScriptURL(Oi);break}}if(Oi!==Jn)try{xi?M.setAttributeNS(xi,Tt,Oi):M.setAttribute(Tt,Oi),$s(M)?kr(M):LI(e.removed)}catch{_n(Tt,M)}}go(K.afterSanitizeAttributes,M,null)},Uu=function M(le){let S=null,de=Ja(le);for(go(K.beforeSanitizeShadowDOM,le,null);S=de.nextNode();)go(K.uponSanitizeShadowNode,S,null),_o(S),ac(S),S.content instanceof r&&M(S.content);go(K.afterSanitizeShadowDOM,le,null)};return e.sanitize=function(M){let le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S=null,de=null,Ve=null,Tt=null;if(mo=!M,mo&&(M=\"<!-->\"),typeof M!=\"string\"&&!yi(M))if(typeof M.toString==\"function\"){if(M=M.toString(),typeof M!=\"string\")throw Mp(\"dirty is not a string, aborting\")}else throw Mp(\"toString is not a function\");if(!e.isSupported)return M;if(mi||Ka(le),e.removed=[],typeof M==\"string\"&&(xr=!1),xr){if(M.nodeName){let Ii=Xi(M.nodeName);if(!Ae[Ii]||ci[Ii])throw Mp(\"root node is forbidden and cannot be sanitized in-place\")}}else if(M instanceof a)S=Zo(\"<!---->\"),de=S.ownerDocument.importNode(M,!0),de.nodeType===Op.element&&de.nodeName===\"BODY\"||de.nodeName===\"HTML\"?S=de:S.appendChild(de);else{if(!it&&!we&&!Mt&&M.indexOf(\"<\")===-1)return k&&kn?k.createHTML(M):M;if(S=Zo(M),!S)return it?null:kn?N:\"\"}S&&Ai&&kr(S.firstChild);let xi=Ja(xr?M:S);for(;Ve=xi.nextNode();)_o(Ve),ac(Ve),Ve.content instanceof r&&Uu(Ve.content);if(xr)return M;if(it){if(Dt)for(Tt=ce.call(S.ownerDocument);S.firstChild;)Tt.appendChild(S.firstChild);else Tt=S;return(ht.shadowroot||ht.shadowrootmode)&&(Tt=$e.call(n,Tt,!0)),Tt}let ri=Mt?S.outerHTML:S.innerHTML;return Mt&&Ae[\"!doctype\"]&&S.ownerDocument&&S.ownerDocument.doctype&&S.ownerDocument.doctype.name&&eo(B5,S.ownerDocument.doctype.name)&&(ri=\"<!DOCTYPE \"+S.ownerDocument.doctype.name+`>\n`+ri),we&&W_([Xe,Be,V],Ii=>{ri=Rp(ri,Ii,\" \")}),k&&kn?k.createHTML(ri):ri},e.setConfig=function(){let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ka(M),mi=!0},e.clearConfig=function(){Ei=null,mi=!1},e.isValidAttribute=function(M,le,S){Ei||Ka({});let de=Xi(M),Ve=Xi(le);return rc(de,Ve,S)},e.addHook=function(M,le){typeof le==\"function\"&&Pp(K[M],le)},e.removeHook=function(M,le){if(le!==void 0){let S=PF(K[M],le);return S===-1?void 0:RF(K[M],S,1)[0]}return LI(K[M])},e.removeHooks=function(M){K[M]=[]},e.removeAllHooks=function(){K=BI()},e}var XF=N5(),KF=t=>typeof t==\"function\",F5=t=>Array.isArray(t),ZF=t=>t instanceof Object,JF=t=>t instanceof Object?t.constructor.name!==\"Function\"&&t.constructor.name!==\"Object\":!1,NI=t=>ZF(t)&&!F5(t)&&!KF(t)&&!JF(t);function ll(t){let e;if(F5(t))e=t;else{let i=cl(t),n=i?.rgb();e=[n?.r||0,n?.g||0,n?.b||0,i?.opacity??1]}return[e[0]/255,e[1]/255,e[2]/255,e[3]]}function e8(t,e,i){return .2126*t+.7152*e+.0722*i}function Mo(t,e){let i=new Float32Array;return t({framebuffer:e})(()=>{i=t.read()}),i}function t8(t,e,i){return Math.min(Math.max(t,e),i)}function tr(t){return t!=null&&!Number.isNaN(t)}function i8(t,e){return XF.sanitize(t,{ALLOWED_TAGS:[\"a\",\"b\",\"i\",\"em\",\"strong\",\"span\",\"div\",\"p\",\"br\"],ALLOWED_ATTR:[\"href\",\"target\",\"class\",\"id\",\"style\"],ALLOW_DATA_ATTR:!1,...e})}var Aw=class{constructor(){this.enableSimulation=at.enableSimulation,this.backgroundColor=R5,this.spaceSize=at.spaceSize,this.pointColor=yF,this.pointGreyoutOpacity=bF,this.pointGreyoutColor=Ew,this.pointSize=xF,this.pointOpacity=vF,this.pointSizeScale=at.pointSizeScale,this.hoveredPointCursor=at.hoveredPointCursor,this.hoveredLinkCursor=at.hoveredLinkCursor,this.renderHoveredPointRing=at.renderHoveredPointRing,this.hoveredPointRingColor=at.hoveredPointRingColor,this.focusedPointRingColor=at.focusedPointRingColor,this.focusedPointIndex=at.focusedPointIndex,this.linkColor=wF,this.linkOpacity=CF,this.linkGreyoutOpacity=SF,this.linkWidth=kF,this.linkWidthScale=at.linkWidthScale,this.hoveredLinkColor=at.hoveredLinkColor,this.hoveredLinkWidthIncrease=at.hoveredLinkWidthIncrease,this.renderLinks=at.renderLinks,this.curvedLinks=at.curvedLinks,this.curvedLinkSegments=at.curvedLinkSegments,this.curvedLinkWeight=at.curvedLinkWeight,this.curvedLinkControlPointDistance=at.curvedLinkControlPointDistance,this.linkArrows=at.linkArrows,this.linkArrowsSizeScale=at.linkArrowsSizeScale,this.scaleLinksOnZoom=at.scaleLinksOnZoom,this.linkVisibilityDistanceRange=at.linkVisibilityDistanceRange,this.linkVisibilityMinTransparency=at.linkVisibilityMinTransparency,this.useClassicQuadtree=at.useClassicQuadtree,this.simulationDecay=at.simulation.decay,this.simulationGravity=at.simulation.gravity,this.simulationCenter=at.simulation.center,this.simulationRepulsion=at.simulation.repulsion,this.simulationRepulsionTheta=at.simulation.repulsionTheta,this.simulationRepulsionQuadtreeLevels=at.simulation.repulsionQuadtreeLevels,this.simulationLinkSpring=at.simulation.linkSpring,this.simulationLinkDistance=at.simulation.linkDistance,this.simulationLinkDistRandomVariationRange=at.simulation.linkDistRandomVariationRange,this.simulationRepulsionFromMouse=at.simulation.repulsionFromMouse,this.enableRightClickRepulsion=at.enableRightClickRepulsion,this.simulationFriction=at.simulation.friction,this.simulationCluster=at.simulation.cluster,this.onSimulationStart=void 0,this.onSimulationTick=void 0,this.onSimulationEnd=void 0,this.onSimulationPause=void 0,this.onSimulationRestart=void 0,this.onSimulationUnpause=void 0,this.onClick=void 0,this.onPointClick=void 0,this.onLinkClick=void 0,this.onBackgroundClick=void 0,this.onMouseMove=void 0,this.onPointMouseOver=void 0,this.onPointMouseOut=void 0,this.onLinkMouseOver=void 0,this.onLinkMouseOut=void 0,this.onZoomStart=void 0,this.onZoom=void 0,this.onZoomEnd=void 0,this.onDragStart=void 0,this.onDrag=void 0,this.onDragEnd=void 0,this.showFPSMonitor=at.showFPSMonitor,this.pixelRatio=at.pixelRatio,this.scalePointsOnZoom=at.scalePointsOnZoom,this.initialZoomLevel=void 0,this.enableZoom=at.enableZoom,this.enableSimulationDuringZoom=at.enableSimulationDuringZoom,this.enableDrag=at.enableDrag,this.fitViewOnInit=at.fitViewOnInit,this.fitViewDelay=at.fitViewDelay,this.fitViewPadding=at.fitViewPadding,this.fitViewDuration=at.fitViewDuration,this.fitViewByPointsInRect=void 0,this.fitViewByPointIndices=void 0,this.randomSeed=void 0,this.pointSamplingDistance=at.pointSamplingDistance,this.attribution=at.attribution,this.rescalePositions=at.rescalePositions}init(e){Object.keys(e).forEach(i=>{this.deepMergeConfig(this.getConfig(),e,i)})}deepMergeConfig(e,i,n){NI(e[n])&&NI(i[n])?Object.keys(i[n]).forEach(o=>{this.deepMergeConfig(e[n],i[n],o)}):e[n]=i[n]}getConfig(){return this}},Dr=class{constructor(e,i,n,o,r){this._debugRandomNumber=Math.floor(Math.random()*1e3),this.reglInstance=e,this.config=i,this.store=n,this.data=o,r&&(this.points=r)}},n8=`#ifdef GL_ES\nprecision highp float;\n#endif\n\nvarying vec4 rgba;\n\nvoid main() {\n  gl_FragColor = rgba;\n}`,o8=`#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D positionsTexture;\nuniform float pointsTextureSize;\n\nattribute vec2 pointIndices;\n\nvarying vec4 rgba;\n\nvoid main() {\n  vec4 pointPosition = texture2D(positionsTexture, pointIndices / pointsTextureSize);\n  rgba = vec4(pointPosition.xy, 1.0, 0.0);\n\n  gl_Position = vec4(0.0, 0.0, 0.0, 1.0);\n  gl_PointSize = 1.0;\n}`,r8=`#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D positionsTexture;\nuniform sampler2D centermassTexture;\nuniform float centerForce;\nuniform float alpha;\n\nvarying vec2 textureCoords;\n\nvoid main() {\n  vec4 pointPosition = texture2D(positionsTexture, textureCoords);\n  vec4 velocity = vec4(0.0);\n  vec4 centermassValues = texture2D(centermassTexture, vec2(0.0));\n  vec2 centermassPosition = centermassValues.xy / centermassValues.b;\n  vec2 distVector = centermassPosition - pointPosition.xy;\n  float dist = sqrt(dot(distVector, distVector));\n  if (dist > 0.0) {\n    float angle = atan(distVector.y, distVector.x);\n    float addV = alpha * centerForce * dist * 0.01;\n    velocity.rg += addV * vec2(cos(angle), sin(angle));\n  }\n\n  gl_FragColor = velocity;\n}`;function cn(t){return{buffer:t.buffer(new Float32Array([-1,-1,1,-1,-1,1,1,1])),size:2}}function kc(t){let e=new Float32Array(t*t*2);for(let i=0;i<t;i++)for(let n=0;n<t;n++){let o=i*t*2+n*2;e[o+0]=n,e[o+1]=i}return e}var Ic=`#ifdef GL_ES\nprecision highp float;\n#endif\n\nvoid main() {\n  gl_FragColor = vec4(0.0);\n}`,dn=`#ifdef GL_ES\nprecision highp float;\n#endif\n\nattribute vec2 vertexCoord; \nvarying vec2 textureCoords; \n\nvoid main() {\n    \n    textureCoords = (vertexCoord + 1.0) / 2.0;\n    gl_Position = vec4(vertexCoord, 0, 1);\n}`,Lw=class extends Dr{create(){let{reglInstance:e,store:i}=this;this.centermassTexture||(this.centermassTexture=e.texture()),this.centermassTexture({data:new Float32Array(4).fill(0),shape:[1,1,4],type:\"float\"}),this.centermassFbo||(this.centermassFbo=e.framebuffer()),this.centermassFbo({color:this.centermassTexture,depth:!1,stencil:!1}),this.pointIndices||(this.pointIndices=e.buffer(0)),this.pointIndices(kc(i.pointsTextureSize))}initPrograms(){let{reglInstance:e,config:i,store:n,data:o,points:r}=this;this.clearCentermassCommand||(this.clearCentermassCommand=e({frag:Ic,vert:dn,framebuffer:()=>this.centermassFbo,primitive:\"triangle strip\",count:4,attributes:{vertexCoord:cn(e)}})),this.calculateCentermassCommand||(this.calculateCentermassCommand=e({frag:n8,vert:o8,framebuffer:()=>this.centermassFbo,primitive:\"points\",count:()=>o.pointsNumber??0,attributes:{pointIndices:{buffer:this.pointIndices,size:2}},uniforms:{positionsTexture:()=>r?.previousPositionFbo,pointsTextureSize:()=>n.pointsTextureSize},blend:{enable:!0,func:{src:\"one\",dst:\"one\"},equation:{rgb:\"add\",alpha:\"add\"}},depth:{enable:!1,mask:!1},stencil:{enable:!1}})),this.runCommand||(this.runCommand=e({frag:r8,vert:dn,framebuffer:()=>r?.velocityFbo,primitive:\"triangle strip\",count:4,attributes:{vertexCoord:cn(e)},uniforms:{positionsTexture:()=>r?.previousPositionFbo,centermassTexture:()=>this.centermassFbo,centerForce:()=>i.simulationCenter,alpha:()=>n.alpha}}))}run(){var e,i,n;(e=this.clearCentermassCommand)==null||e.call(this),(i=this.calculateCentermassCommand)==null||i.call(this),(n=this.runCommand)==null||n.call(this)}},s8=`#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D positionsTexture;\nuniform float gravity;\nuniform float spaceSize;\nuniform float alpha;\n\nvarying vec2 textureCoords;\n\nvoid main() {\n  vec4 pointPosition = texture2D(positionsTexture, textureCoords);\n\n  vec4 velocity = vec4(0.0);\n\n  vec2 centerPosition = vec2(spaceSize / 2.0);\n  vec2 distVector = centerPosition - pointPosition.rg;\n  float dist = sqrt(dot(distVector, distVector));\n  if (dist > 0.0) {\n    float angle = atan(distVector.y, distVector.x);\n    float additionalVelocity = alpha * gravity * dist * 0.1;\n    velocity.rg += additionalVelocity * vec2(cos(angle), sin(angle));\n  }\n\n  gl_FragColor = velocity;\n}`,Dw=class extends Dr{initPrograms(){let{reglInstance:e,config:i,store:n,points:o}=this;this.runCommand||(this.runCommand=e({frag:s8,vert:dn,framebuffer:()=>o?.velocityFbo,primitive:\"triangle strip\",count:4,attributes:{vertexCoord:cn(e)},uniforms:{positionsTexture:()=>o?.previousPositionFbo,gravity:()=>i.simulationGravity,spaceSize:()=>n.adjustedSpaceSize,alpha:()=>n.alpha}}))}run(){var e;(e=this.runCommand)==null||e.call(this)}};function a8(t){return`\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D positionsTexture;\nuniform float linkSpring;\nuniform float linkDistance;\nuniform vec2 linkDistRandomVariationRange;\n\nuniform sampler2D linkInfoTexture; // Texture storing first link indices and amount\nuniform sampler2D linkIndicesTexture;\nuniform sampler2D linkPropertiesTexture; // Texture storing link bias and strength\nuniform sampler2D linkRandomDistanceTexture;\n\nuniform float pointsTextureSize;\nuniform float linksTextureSize;\nuniform float alpha;\n\nvarying vec2 textureCoords;\n\nconst float MAX_LINKS = ${t}.0;\n\nvoid main() {\n  vec4 pointPosition = texture2D(positionsTexture, textureCoords);\n  vec4 velocity = vec4(0.0);\n\n  vec4 linkInfo = texture2D(linkInfoTexture, textureCoords);\n  float iCount = linkInfo.r;\n  float jCount = linkInfo.g;\n  float linkAmount = linkInfo.b;\n  if (linkAmount > 0.0) {\n    for (float i = 0.0; i < MAX_LINKS; i += 1.0) {\n      if (i < linkAmount) {\n        if (iCount >= linksTextureSize) {\n          iCount = 0.0;\n          jCount += 1.0;\n        }\n        vec2 linkTextureIndex = (vec2(iCount, jCount) + 0.5) / linksTextureSize;\n        vec4 connectedPointIndex = texture2D(linkIndicesTexture, linkTextureIndex);\n        vec4 biasAndStrength = texture2D(linkPropertiesTexture, linkTextureIndex);\n        vec4 randomMinDistance = texture2D(linkRandomDistanceTexture, linkTextureIndex);\n        float bias = biasAndStrength.r;\n        float strength = biasAndStrength.g;\n        float randomMinLinkDist = randomMinDistance.r * (linkDistRandomVariationRange.g - linkDistRandomVariationRange.r) + linkDistRandomVariationRange.r;\n        randomMinLinkDist *= linkDistance;\n\n        iCount += 1.0;\n\n        vec4 connectedPointPosition = texture2D(positionsTexture, (connectedPointIndex.rg + 0.5) / pointsTextureSize);\n        float x = connectedPointPosition.x - (pointPosition.x + velocity.x);\n        float y = connectedPointPosition.y - (pointPosition.y + velocity.y);\n        float l = sqrt(x * x + y * y);\n\n        // Apply the link force\n        l = max(l, randomMinLinkDist * 0.99);\n        l = (l - randomMinLinkDist) / l;\n        l *= linkSpring * alpha;\n        l *= strength;\n        l *= bias;\n        x *= l;\n        y *= l;\n        velocity.x += x;\n        velocity.y += y;\n      }\n    }\n  }\n\n  gl_FragColor = vec4(velocity.rg, 0.0, 0.0);\n}\n  `}var Pw=(t=>(t.OUTGOING=\"outgoing\",t.INCOMING=\"incoming\",t))(Pw||{}),ay=class extends Dr{constructor(){super(...arguments),this.linkFirstIndicesAndAmount=new Float32Array,this.indices=new Float32Array,this.maxPointDegree=0}create(e){let{reglInstance:i,store:{pointsTextureSize:n,linksTextureSize:o},data:r}=this;if(!n||!o)return;this.linkFirstIndicesAndAmount=new Float32Array(n*n*4),this.indices=new Float32Array(o*o*4);let s=new Float32Array(o*o*4),a=new Float32Array(o*o*4),l=e===\"incoming\"?r.sourceIndexToTargetIndices:r.targetIndexToSourceIndices;this.maxPointDegree=0;let c=0;l?.forEach((u,d)=>{u&&(this.linkFirstIndicesAndAmount[d*4+0]=c%o,this.linkFirstIndicesAndAmount[d*4+1]=Math.floor(c/o),this.linkFirstIndicesAndAmount[d*4+2]=u.length??0,u.forEach(([h,f])=>{var v,L,A;this.indices[c*4+0]=h%n,this.indices[c*4+1]=Math.floor(h/n);let I=((v=r.degree)==null?void 0:v[h])??0,B=((L=r.degree)==null?void 0:L[d])??0,F=I+B,k=F!==0?I/F:.5,N=Math.min(I,B),Y=((A=r.linkStrength)==null?void 0:A[f])??1/Math.max(N,1);Y=Math.sqrt(Y),s[c*4+0]=k,s[c*4+1]=Y,a[c*4]=this.store.getRandomFloat(0,1),c+=1}),this.maxPointDegree=Math.max(this.maxPointDegree,u.length??0))}),this.linkFirstIndicesAndAmountTexture||(this.linkFirstIndicesAndAmountTexture=i.texture()),this.linkFirstIndicesAndAmountTexture({data:this.linkFirstIndicesAndAmount,shape:[n,n,4],type:\"float\"}),this.linkFirstIndicesAndAmountFbo||(this.linkFirstIndicesAndAmountFbo=i.framebuffer()),this.linkFirstIndicesAndAmountFbo({color:this.linkFirstIndicesAndAmountTexture,depth:!1,stencil:!1}),this.indicesTexture||(this.indicesTexture=i.texture()),this.indicesTexture({data:this.indices,shape:[o,o,4],type:\"float\"}),this.indicesFbo||(this.indicesFbo=i.framebuffer()),this.indicesFbo({color:this.indicesTexture,depth:!1,stencil:!1}),this.biasAndStrengthTexture||(this.biasAndStrengthTexture=i.texture()),this.biasAndStrengthTexture({data:s,shape:[o,o,4],type:\"float\"}),this.biasAndStrengthFbo||(this.biasAndStrengthFbo=i.framebuffer()),this.biasAndStrengthFbo({color:this.biasAndStrengthTexture,depth:!1,stencil:!1}),this.randomDistanceTexture||(this.randomDistanceTexture=i.texture()),this.randomDistanceTexture({data:a,shape:[o,o,4],type:\"float\"}),this.randomDistanceFbo||(this.randomDistanceFbo=i.framebuffer()),this.randomDistanceFbo({color:this.randomDistanceTexture,depth:!1,stencil:!1})}initPrograms(){let{reglInstance:e,config:i,store:n,points:o}=this;this.runCommand||(this.runCommand=e({frag:()=>a8(this.maxPointDegree),vert:dn,framebuffer:()=>o?.velocityFbo,primitive:\"triangle strip\",count:4,attributes:{vertexCoord:cn(e)},uniforms:{positionsTexture:()=>o?.previousPositionFbo,linkSpring:()=>i.simulationLinkSpring,linkDistance:()=>i.simulationLinkDistance,linkDistRandomVariationRange:()=>i.simulationLinkDistRandomVariationRange,linkInfoTexture:()=>this.linkFirstIndicesAndAmountFbo,linkIndicesTexture:()=>this.indicesFbo,linkPropertiesTexture:()=>this.biasAndStrengthFbo,linkRandomDistanceTexture:()=>this.randomDistanceFbo,pointsTextureSize:()=>n.pointsTextureSize,linksTextureSize:()=>n.linksTextureSize,alpha:()=>n.alpha}}))}run(){var e;(e=this.runCommand)==null||e.call(this)}},U5=`#ifdef GL_ES\nprecision highp float;\n#endif\n\nvarying vec4 rgba;\n\nvoid main() {\n  gl_FragColor = rgba;\n}`,j5=`#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D positionsTexture;\nuniform float pointsTextureSize;\nuniform float levelTextureSize;\nuniform float cellSize;\n\nattribute vec2 pointIndices;\n\nvarying vec4 rgba;\n\nvoid main() {\n  vec4 pointPosition = texture2D(positionsTexture, pointIndices / pointsTextureSize);\n  rgba = vec4(pointPosition.rg, 1.0, 0.0);\n\n  float n = floor(pointPosition.x / cellSize);\n  float m = floor(pointPosition.y / cellSize);\n  \n  vec2 levelPosition = 2.0 * (vec2(n, m) + 0.5) / levelTextureSize - 1.0;\n\n  gl_Position = vec4(levelPosition, 0.0, 1.0);\n  gl_PointSize = 1.0;\n}`,l8=`#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D positionsTexture;\nuniform sampler2D levelFbo;\n\nuniform float level;\nuniform float levels;\nuniform float levelTextureSize;\nuniform float repulsion;\nuniform float alpha;\nuniform float spaceSize;\nuniform float theta;\n\nvarying vec2 textureCoords;\n\nconst float MAX_LEVELS_NUM = 14.0;\n\nvec2 calculateAdditionalVelocity (vec2 ij, vec2 pp) {\n  vec2 add = vec2(0.0);\n  vec4 centermass = texture2D(levelFbo, ij);\n  if (centermass.r > 0.0 && centermass.g > 0.0 && centermass.b > 0.0) {\n    vec2 centermassPosition = vec2(centermass.rg / centermass.b);\n    vec2 distVector = pp - centermassPosition;\n    float l = dot(distVector, distVector);\n    float dist = sqrt(l);\n    if (l > 0.0) {\n      float c = alpha * repulsion * centermass.b;\n\n      float distanceMin2 = 1.0;\n      if (l < distanceMin2) l = sqrt(distanceMin2 * l);\n      float addV = c / sqrt(l);\n      add = addV * normalize(distVector);\n    }\n  }\n  return add;\n}\n\nvoid main() {\n  vec4 pointPosition = texture2D(positionsTexture, textureCoords);\n  float x = pointPosition.x;\n  float y = pointPosition.y;\n\n  float left = 0.0;\n  float top = 0.0;\n  float right = spaceSize;\n  float bottom = spaceSize;\n\n  float n_left = 0.0;\n  float n_top = 0.0;\n  float n_right = 0.0;\n  float n_bottom = 0.0;\n\n  float cellSize = 0.0;\n\n  \n  for (float i = 0.0; i < MAX_LEVELS_NUM; i += 1.0) {\n    if (i <= level) {\n      left += cellSize * n_left;\n      top += cellSize * n_top;\n      right -= cellSize * n_right;\n      bottom -= cellSize * n_bottom;\n\n      cellSize = pow(2.0 , levels - i - 1.0);\n\n      float dist_left = x - left;\n      n_left = max(0.0, floor(dist_left / cellSize - theta));\n\n      float dist_top = y - top;\n      n_top = max(0.0, floor(dist_top / cellSize - theta));\n      \n      float dist_right = right - x;\n      n_right = max(0.0, floor(dist_right / cellSize - theta));\n\n      float dist_bottom = bottom - y;\n      n_bottom = max(0.0, floor(dist_bottom / cellSize - theta));\n\n    }\n  }\n\n  vec4 velocity = vec4(vec2(0.0), 1.0, 0.0);\n\n  \n  for (float i = 0.0; i < 12.0; i += 1.0) {\n    for (float j = 0.0; j < 4.0; j += 1.0) {\n      float n = left + cellSize * j;\n      float m = top + cellSize * n_top + cellSize * i;\n\n      if (n < (left + n_left * cellSize) && m < bottom) {\n        velocity.xy += calculateAdditionalVelocity(vec2(n / cellSize, m / cellSize) / levelTextureSize, pointPosition.xy);\n      }\n\n      n = left + cellSize * i;\n      m = top + cellSize * j;\n\n      if (n < (right - n_right * cellSize) && m < (top + n_top * cellSize)) {\n        velocity.xy += calculateAdditionalVelocity(vec2(n / cellSize, m / cellSize) / levelTextureSize, pointPosition.xy);\n      }\n\n      n = right - n_right * cellSize + cellSize * j;\n      m = top + cellSize * i;\n\n      if (n < right && m < (bottom - n_bottom * cellSize)) {\n        velocity.xy += calculateAdditionalVelocity(vec2(n / cellSize, m / cellSize) / levelTextureSize, pointPosition.xy);\n      }\n\n      n = left + n_left * cellSize + cellSize * i;\n      m = bottom - n_bottom * cellSize + cellSize * j;\n\n      if (n < right && m < bottom) {\n        velocity.xy += calculateAdditionalVelocity(vec2(n / cellSize, m / cellSize) / levelTextureSize, pointPosition.xy);\n      }\n    }\n  }\n\n  gl_FragColor = velocity;\n}`,c8=`#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D positionsTexture;\nuniform sampler2D levelFbo;\nuniform sampler2D randomValues;\n\nuniform float levelTextureSize;\nuniform float repulsion;\nuniform float alpha;\n\nvarying vec2 textureCoords;\n\nvec2 calculateAdditionalVelocity (vec2 ij, vec2 pp) {\n  vec2 add = vec2(0.0);\n  vec4 centermass = texture2D(levelFbo, ij);\n  if (centermass.r > 0.0 && centermass.g > 0.0 && centermass.b > 0.0) {\n    vec2 centermassPosition = vec2(centermass.rg / centermass.b);\n    vec2 distVector = pp - centermassPosition;\n    float l = dot(distVector, distVector);\n    float dist = sqrt(l);\n    if (l > 0.0) {\n      float angle = atan(distVector.y, distVector.x);\n      float c = alpha * repulsion * centermass.b;\n\n      float distanceMin2 = 1.0;\n      if (l < distanceMin2) l = sqrt(distanceMin2 * l);\n      float addV = c / sqrt(l);\n      add = addV * vec2(cos(angle), sin(angle));\n    }\n  }\n  return add;\n}\n\nvoid main() {\n  vec4 pointPosition = texture2D(positionsTexture, textureCoords);\n  vec4 random = texture2D(randomValues, textureCoords);\n\n  vec4 velocity = vec4(0.0);\n\n  \n  velocity.xy += calculateAdditionalVelocity(pointPosition.xy / levelTextureSize, pointPosition.xy);\n  \n  velocity.xy += velocity.xy * random.rg;\n\n  gl_FragColor = velocity;\n}`,Rw=class extends Dr{constructor(){super(...arguments),this.levelsFbos=new Map,this.quadtreeLevels=0}create(){let{reglInstance:e,store:i}=this;if(!i.pointsTextureSize)return;this.quadtreeLevels=Math.log2(i.adjustedSpaceSize);for(let o=0;o<this.quadtreeLevels;o+=1){let r=Math.pow(2,o+1);this.levelsFbos.has(`level[${o}]`)||this.levelsFbos.set(`level[${o}]`,e.framebuffer());let s=this.levelsFbos.get(`level[${o}]`);s&&s({shape:[r,r],colorType:\"float\",depth:!1,stencil:!1})}let n=new Float32Array(i.pointsTextureSize*i.pointsTextureSize*4);for(let o=0;o<i.pointsTextureSize*i.pointsTextureSize;++o)n[o*4]=i.getRandomFloat(-1,1)*1e-5,n[o*4+1]=i.getRandomFloat(-1,1)*1e-5;this.randomValuesTexture||(this.randomValuesTexture=e.texture()),this.randomValuesTexture({data:n,shape:[i.pointsTextureSize,i.pointsTextureSize,4],type:\"float\"}),this.randomValuesFbo||(this.randomValuesFbo=e.framebuffer()),this.randomValuesFbo({color:this.randomValuesTexture,depth:!1,stencil:!1}),this.pointIndices||(this.pointIndices=e.buffer(0)),this.pointIndices(kc(i.pointsTextureSize))}initPrograms(){let{reglInstance:e,config:i,store:n,data:o,points:r}=this;this.clearLevelsCommand||(this.clearLevelsCommand=e({frag:Ic,vert:dn,framebuffer:(s,a)=>a.levelFbo,primitive:\"triangle strip\",count:4,attributes:{vertexCoord:cn(e)}})),this.calculateLevelsCommand||(this.calculateLevelsCommand=e({frag:U5,vert:j5,framebuffer:(s,a)=>a.levelFbo,primitive:\"points\",count:()=>o.pointsNumber??0,attributes:{pointIndices:{buffer:this.pointIndices,size:2}},uniforms:{positionsTexture:()=>r?.previousPositionFbo,pointsTextureSize:()=>n.pointsTextureSize,levelTextureSize:(s,a)=>a.levelTextureSize,cellSize:(s,a)=>a.cellSize},blend:{enable:!0,func:{src:\"one\",dst:\"one\"},equation:{rgb:\"add\",alpha:\"add\"}},depth:{enable:!1,mask:!1},stencil:{enable:!1}})),this.forceCommand||(this.forceCommand=e({frag:l8,vert:dn,framebuffer:()=>r?.velocityFbo,primitive:\"triangle strip\",count:4,attributes:{vertexCoord:cn(e)},uniforms:{positionsTexture:()=>r?.previousPositionFbo,level:(s,a)=>a.level,levels:this.quadtreeLevels,levelFbo:(s,a)=>a.levelFbo,levelTextureSize:(s,a)=>a.levelTextureSize,alpha:()=>n.alpha,repulsion:()=>i.simulationRepulsion,spaceSize:()=>n.adjustedSpaceSize,theta:()=>i.simulationRepulsionTheta},blend:{enable:!0,func:{src:\"one\",dst:\"one\"},equation:{rgb:\"add\",alpha:\"add\"}},depth:{enable:!1,mask:!1},stencil:{enable:!1}})),this.forceFromItsOwnCentermassCommand||(this.forceFromItsOwnCentermassCommand=e({frag:c8,vert:dn,framebuffer:()=>r?.velocityFbo,primitive:\"triangle strip\",count:4,attributes:{vertexCoord:cn(e)},uniforms:{positionsTexture:()=>r?.previousPositionFbo,randomValues:()=>this.randomValuesFbo,levelFbo:(s,a)=>a.levelFbo,levelTextureSize:(s,a)=>a.levelTextureSize,alpha:()=>n.alpha,repulsion:()=>i.simulationRepulsion,spaceSize:()=>n.adjustedSpaceSize},blend:{enable:!0,func:{src:\"one\",dst:\"one\"},equation:{rgb:\"add\",alpha:\"add\"}},depth:{enable:!1,mask:!1},stencil:{enable:!1}})),this.clearVelocityCommand||(this.clearVelocityCommand=e({frag:Ic,vert:dn,framebuffer:()=>r?.velocityFbo,primitive:\"triangle strip\",count:4,attributes:{vertexCoord:cn(e)}}))}run(){var e,i,n,o,r;let{store:s}=this;for(let a=0;a<this.quadtreeLevels;a+=1){(e=this.clearLevelsCommand)==null||e.call(this,{levelFbo:this.levelsFbos.get(`level[${a}]`)});let l=Math.pow(2,a+1),c=s.adjustedSpaceSize/l;(i=this.calculateLevelsCommand)==null||i.call(this,{levelFbo:this.levelsFbos.get(`level[${a}]`),levelTextureSize:l,cellSize:c})}(n=this.clearVelocityCommand)==null||n.call(this);for(let a=0;a<this.quadtreeLevels;a+=1){let l=Math.pow(2,a+1);(o=this.forceCommand)==null||o.call(this,{levelFbo:this.levelsFbos.get(`level[${a}]`),levelTextureSize:l,level:a}),a===this.quadtreeLevels-1&&((r=this.forceFromItsOwnCentermassCommand)==null||r.call(this,{levelFbo:this.levelsFbos.get(`level[${a}]`),levelTextureSize:l,level:a}))}}};function u8(t,e){t=Math.min(t,e);let i=e-t,n=`\n    float dist = sqrt(l);\n    if (dist > 0.0) {\n      float c = alpha * repulsion * centermass.b;\n      addVelocity += calcAdd(vec2(x, y), l, c);\n      addVelocity += addVelocity * random.rg;\n    }\n  `;function o(r){if(r>=e)return n;{let s=Math.pow(2,r+1),a=new Array(r+1-i).fill(0).map((c,u)=>`pow(2.0, ${r-(u+i)}.0) * i${u+i}`).join(\"+\"),l=new Array(r+1-i).fill(0).map((c,u)=>`pow(2.0, ${r-(u+i)}.0) * j${u+i}`).join(\"+\");return`\n      for (float ij${r} = 0.0; ij${r} < 4.0; ij${r} += 1.0) {\n        float i${r} = 0.0;\n        float j${r} = 0.0;\n        if (ij${r} == 1.0 || ij${r} == 3.0) i${r} = 1.0;\n        if (ij${r} == 2.0 || ij${r} == 3.0) j${r} = 1.0;\n        float i = pow(2.0, ${t}.0) * n / width${r+1} + ${a};\n        float j = pow(2.0, ${t}.0) * m / width${r+1} + ${l};\n        float groupPosX = (i + 0.5) / ${s}.0;\n        float groupPosY = (j + 0.5) / ${s}.0;\n        \n        vec4 centermass = texture2D(level[${r}], vec2(groupPosX, groupPosY));\n        if (centermass.r > 0.0 && centermass.g > 0.0 && centermass.b > 0.0) {\n          float x = centermass.r / centermass.b - pointPosition.r;\n          float y = centermass.g / centermass.b - pointPosition.g;\n          float l = x * x + y * y;\n          if ((width${r+1} * width${r+1}) / theta < l) {\n            ${n}\n          } else {\n            ${o(r+1)}\n          }\n        }\n      }\n      `}}return`\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D positionsTexture;\nuniform sampler2D randomValues;\nuniform float spaceSize;\nuniform float repulsion;\nuniform float theta;\nuniform float alpha;\nuniform sampler2D level[${e}];\nvarying vec2 textureCoords;\n\nvec2 calcAdd(vec2 xy, float l, float c) {\n  float distanceMin2 = 1.0;\n  if (l < distanceMin2) l = sqrt(distanceMin2 * l);\n  float add = c / l;\n  return add * xy;\n}\n\nvoid main() {\n  vec4 pointPosition = texture2D(positionsTexture, textureCoords);\n  vec4 random = texture2D(randomValues, textureCoords);\n\n  float width0 = spaceSize;\n\n  vec2 velocity = vec2(0.0);\n  vec2 addVelocity = vec2(0.0);\n\n  ${new Array(e).fill(0).map((r,s)=>`float width${s+1} = width${s} / 2.0;`).join(`\n`)}\n\n  for (float n = 0.0; n < pow(2.0, ${i}.0); n += 1.0) {\n    for (float m = 0.0; m < pow(2.0, ${i}.0); m += 1.0) {\n      ${o(i)}\n    }\n  }\n\n  velocity -= addVelocity;\n\n  gl_FragColor = vec4(velocity, 0.0, 0.0);\n}\n`}var Mw=class extends Dr{constructor(){super(...arguments),this.levelsTextures=new Map,this.levelsFbos=new Map,this.quadtreeLevels=0}create(){let{reglInstance:e,store:i}=this;if(!i.pointsTextureSize)return;this.quadtreeLevels=Math.log2(i.adjustedSpaceSize);for(let o=0;o<this.quadtreeLevels;o+=1){let r=Math.pow(2,o+1),s=`level[${o}]`;this.levelsTextures.has(s)||this.levelsTextures.set(s,e.texture());let a=this.levelsTextures.get(s);a&&a({data:new Float32Array(r*r*4),shape:[r,r,4],type:\"float\"}),this.levelsFbos.has(s)||this.levelsFbos.set(s,e.framebuffer());let l=this.levelsFbos.get(s);l&&l({color:this.levelsTextures.get(s),depth:!1,stencil:!1})}let n=new Float32Array(i.pointsTextureSize*i.pointsTextureSize*4);for(let o=0;o<i.pointsTextureSize*i.pointsTextureSize;++o)n[o*4]=i.getRandomFloat(-1,1)*1e-5,n[o*4+1]=i.getRandomFloat(-1,1)*1e-5;this.randomValuesTexture||(this.randomValuesTexture=e.texture()),this.randomValuesTexture({data:n,shape:[i.pointsTextureSize,i.pointsTextureSize,4],type:\"float\"}),this.randomValuesFbo||(this.randomValuesFbo=e.framebuffer()),this.randomValuesFbo({color:this.randomValuesTexture,depth:!1,stencil:!1}),this.pointIndices||(this.pointIndices=e.buffer(0)),this.pointIndices(kc(i.pointsTextureSize))}initPrograms(){let{reglInstance:e,config:i,store:n,data:o,points:r}=this;this.clearLevelsCommand||(this.clearLevelsCommand=e({frag:Ic,vert:dn,framebuffer:(s,a)=>a.levelFbo,primitive:\"triangle strip\",count:4,attributes:{vertexCoord:cn(e)}})),this.calculateLevelsCommand||(this.calculateLevelsCommand=e({frag:U5,vert:j5,framebuffer:(s,a)=>a.levelFbo,primitive:\"points\",count:()=>o.pointsNumber??0,attributes:{pointIndices:{buffer:this.pointIndices,size:2}},uniforms:{positionsTexture:()=>r?.previousPositionFbo,pointsTextureSize:()=>n.pointsTextureSize,levelTextureSize:(s,a)=>a.levelTextureSize,cellSize:(s,a)=>a.cellSize},blend:{enable:!0,func:{src:\"one\",dst:\"one\"},equation:{rgb:\"add\",alpha:\"add\"}},depth:{enable:!1,mask:!1},stencil:{enable:!1}})),this.quadtreeCommand=e({frag:u8(i.simulationRepulsionQuadtreeLevels??this.quadtreeLevels,this.quadtreeLevels),vert:dn,framebuffer:()=>r?.velocityFbo,primitive:\"triangle strip\",count:4,attributes:{vertexCoord:cn(e)},uniforms:{positionsTexture:()=>r?.previousPositionFbo,randomValues:()=>this.randomValuesFbo,spaceSize:()=>n.adjustedSpaceSize,repulsion:()=>i.simulationRepulsion,theta:()=>i.simulationRepulsionTheta,alpha:()=>n.alpha,...Object.fromEntries(this.levelsFbos)}})}run(){var e,i,n;let{store:o}=this;for(let r=0;r<this.quadtreeLevels;r+=1){(e=this.clearLevelsCommand)==null||e.call(this,{levelFbo:this.levelsFbos.get(`level[${r}]`)});let s=Math.pow(2,r+1),a=o.adjustedSpaceSize/s;(i=this.calculateLevelsCommand)==null||i.call(this,{levelFbo:this.levelsFbos.get(`level[${r}]`),levelTextureSize:s,cellSize:a})}(n=this.quadtreeCommand)==null||n.call(this)}},d8=`#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D positionsTexture;\nuniform float repulsion;\nuniform vec2 mousePos;\n\nvarying vec2 textureCoords;\n\nvoid main() {  \n  vec4 pointPosition = texture2D(positionsTexture, textureCoords);\n  vec4 velocity = vec4(0.0);\n  vec2 mouse = mousePos;\n  \n  vec2 distVector = mouse - pointPosition.rg;\n  float dist = sqrt(dot(distVector, distVector));\n  dist = max(dist, 10.0);\n  float angle = atan(distVector.y, distVector.x);\n  float addV = 100.0 * repulsion / (dist * dist);\n  velocity.rg -= addV * vec2(cos(angle), sin(angle));\n\n  gl_FragColor = velocity;\n}`,zw=class extends Dr{initPrograms(){let{reglInstance:e,config:i,store:n,points:o}=this;this.runCommand||(this.runCommand=e({frag:d8,vert:dn,framebuffer:()=>o?.velocityFbo,primitive:\"triangle strip\",count:4,attributes:{vertexCoord:cn(e)},uniforms:{positionsTexture:()=>o?.previousPositionFbo,mousePos:()=>n.mousePosition,repulsion:()=>i.simulationRepulsionFromMouse}}))}run(){var e;(e=this.runCommand)==null||e.call(this)}},h8=`#ifdef GL_ES\nprecision highp float;\n#endif\n\nvarying vec4 rgba;\n\nvoid main() {\n  gl_FragColor = rgba;\n}`,p8=`#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D positionsTexture;\nuniform sampler2D clusterTexture;\nuniform float pointsTextureSize;\nuniform float clustersTextureSize;\n\nattribute vec2 pointIndices;\n\nvarying vec4 rgba;\n\nvoid main() {\n  vec4 pointPosition = texture2D(positionsTexture, pointIndices / pointsTextureSize);\n  rgba = vec4(pointPosition.xy, 1.0, 0.0);\n\n  vec4 pointClusterIndices = texture2D(clusterTexture, pointIndices / pointsTextureSize);\n  vec2 xy = vec2(0.0);\n  if (pointClusterIndices.x >= 0.0 && pointClusterIndices.y >= 0.0) {\n    xy = 2.0 * (pointClusterIndices.xy + 0.5) / clustersTextureSize - 1.0;\n  }\n  \n  gl_Position = vec4(xy, 0.0, 1.0);\n  gl_PointSize = 1.0;\n}`,f8=`#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D positionsTexture;\nuniform sampler2D centermassTexture;\nuniform sampler2D clusterTexture;\nuniform sampler2D clusterPositionsTexture;\nuniform sampler2D clusterForceCoefficient;\nuniform float alpha;\nuniform float clustersTextureSize;\nuniform float clusterCoefficient;\n\nvarying vec2 textureCoords;\n\nvoid main() {\n  vec4 pointPosition = texture2D(positionsTexture, textureCoords);\n  vec4 velocity = vec4(0.0);\n  vec4 pointClusterIndices = texture2D(clusterTexture, textureCoords);\n  \n  if (pointClusterIndices.x >= 0.0 && pointClusterIndices.y >= 0.0) {\n    \n    vec2 clusterPositions = texture2D(clusterPositionsTexture, pointClusterIndices.xy / clustersTextureSize).xy;\n    if (clusterPositions.x < 0.0 || clusterPositions.y < 0.0) {\n      vec4 centermassValues = texture2D(centermassTexture, pointClusterIndices.xy / clustersTextureSize);\n      clusterPositions = centermassValues.xy / centermassValues.b;\n    }\n    vec4 clusterCustomCoeff = texture2D(clusterForceCoefficient, textureCoords);\n    vec2 distVector = clusterPositions.xy - pointPosition.xy;\n    float dist = length(distVector);\n    if (dist > 0.0) {\n      float addV = alpha * dist * clusterCoefficient * clusterCustomCoeff.r;\n      velocity.rg += addV * normalize(distVector);\n    }\n  }\n\n  gl_FragColor = velocity;\n}`,Ow=class extends Dr{create(){var e;let{reglInstance:i,store:n,data:o}=this,{pointsTextureSize:r}=n;if(o.pointsNumber===void 0||!o.pointClusters&&!o.clusterPositions)return;this.clusterCount=(o.pointClusters??[]).reduce((c,u)=>u===void 0||u<0?c:Math.max(c,u),0)+1,this.clustersTextureSize=Math.ceil(Math.sqrt(this.clusterCount));let s=new Float32Array(r*r*4),a=new Float32Array(this.clustersTextureSize*this.clustersTextureSize*4).fill(-1),l=new Float32Array(r*r*4).fill(1);if(o.clusterPositions)for(let c=0;c<this.clusterCount;++c)a[c*4+0]=o.clusterPositions[c*2+0]??-1,a[c*4+1]=o.clusterPositions[c*2+1]??-1;for(let c=0;c<o.pointsNumber;++c){let u=(e=o.pointClusters)==null?void 0:e[c];u===void 0?(s[c*4+0]=-1,s[c*4+1]=-1):(s[c*4+0]=u%this.clustersTextureSize,s[c*4+1]=Math.floor(u/this.clustersTextureSize)),o.clusterStrength&&(l[c*4+0]=o.clusterStrength[c]??1)}this.clusterTexture||(this.clusterTexture=i.texture()),this.clusterTexture({data:s,shape:[r,r,4],type:\"float\"}),this.clusterFbo||(this.clusterFbo=i.framebuffer()),this.clusterFbo({color:this.clusterTexture,depth:!1,stencil:!1}),this.clusterPositionsTexture||(this.clusterPositionsTexture=i.texture()),this.clusterPositionsTexture({data:a,shape:[this.clustersTextureSize,this.clustersTextureSize,4],type:\"float\"}),this.clusterPositionsFbo||(this.clusterPositionsFbo=i.framebuffer()),this.clusterPositionsFbo({color:this.clusterPositionsTexture,depth:!1,stencil:!1}),this.clusterForceCoefficientTexture||(this.clusterForceCoefficientTexture=i.texture()),this.clusterForceCoefficientTexture({data:l,shape:[r,r,4],type:\"float\"}),this.clusterForceCoefficientFbo||(this.clusterForceCoefficientFbo=i.framebuffer()),this.clusterForceCoefficientFbo({color:this.clusterForceCoefficientTexture,depth:!1,stencil:!1}),this.centermassTexture||(this.centermassTexture=i.texture()),this.centermassTexture({data:new Float32Array(this.clustersTextureSize*this.clustersTextureSize*4).fill(0),shape:[this.clustersTextureSize,this.clustersTextureSize,4],type:\"float\"}),this.centermassFbo||(this.centermassFbo=i.framebuffer()),this.centermassFbo({color:this.centermassTexture,depth:!1,stencil:!1}),this.pointIndices||(this.pointIndices=i.buffer(0)),this.pointIndices(kc(n.pointsTextureSize))}initPrograms(){let{reglInstance:e,store:i,data:n,points:o}=this;n.pointClusters!==void 0&&(this.clearCentermassCommand||(this.clearCentermassCommand=e({frag:Ic,vert:dn,framebuffer:()=>this.centermassFbo,primitive:\"triangle strip\",count:4,attributes:{vertexCoord:cn(e)}})),this.calculateCentermassCommand||(this.calculateCentermassCommand=e({frag:h8,vert:p8,framebuffer:()=>this.centermassFbo,primitive:\"points\",count:()=>n.pointsNumber??0,attributes:{pointIndices:{buffer:this.pointIndices,size:2}},uniforms:{positionsTexture:()=>o?.previousPositionFbo,pointsTextureSize:()=>i.pointsTextureSize,clusterTexture:()=>this.clusterFbo,clustersTextureSize:()=>this.clustersTextureSize},blend:{enable:!0,func:{src:\"one\",dst:\"one\"},equation:{rgb:\"add\",alpha:\"add\"}},depth:{enable:!1,mask:!1},stencil:{enable:!1}})),this.applyForcesCommand||(this.applyForcesCommand=e({frag:f8,vert:dn,framebuffer:()=>o?.velocityFbo,primitive:\"triangle strip\",count:4,attributes:{vertexCoord:cn(e)},uniforms:{positionsTexture:()=>o?.previousPositionFbo,clusterTexture:()=>this.clusterFbo,centermassTexture:()=>this.centermassFbo,clusterPositionsTexture:()=>this.clusterPositionsFbo,clusterForceCoefficient:()=>this.clusterForceCoefficientFbo,alpha:()=>i.alpha,clustersTextureSize:()=>this.clustersTextureSize,clusterCoefficient:()=>this.config.simulationCluster}})))}calculateCentermass(){var e,i;(e=this.clearCentermassCommand)==null||e.call(this),(i=this.calculateCentermassCommand)==null||i.call(this)}run(){var e;!this.data.pointClusters&&!this.data.clusterPositions||(this.calculateCentermass(),(e=this.applyForcesCommand)==null||e.call(this))}},Bw={exports:{}},m8=Bw.exports,FI;function g8(){return FI||(FI=1,function(t,e){(function(i,n){t.exports=n()})(m8,function(){var i=`<div class=\"gl-box\">\n  <svg viewBox=\"0 0 55 60\">\n    <text x=\"27\" y=\"56\" class=\"gl-fps\">00 FPS</text>\n    <text x=\"28\" y=\"8\" class=\"gl-mem\"></text>\n    <rect x=\"0\" y=\"14\" rx=\"4\" ry=\"4\" width=\"55\" height=\"32\"></rect>\n    <polyline class=\"gl-chart\"></polyline>\n  </svg>\n  <svg viewBox=\"0 0 14 60\" class=\"gl-cpu-svg\">\n    <line x1=\"7\" y1=\"38\" x2=\"7\" y2=\"11\" class=\"opacity\"/>\n    <line x1=\"7\" y1=\"38\" x2=\"7\" y2=\"11\" class=\"gl-cpu\" stroke-dasharray=\"0 27\"/>\n    <path d=\"M5.35 43c-.464 0-.812.377-.812.812v1.16c-.783.1972-1.421.812-1.595 1.624h-1.16c-.435 0-.812.348-.812.812s.348.812.812.812h1.102v1.653H1.812c-.464 0-.812.377-.812.812 0 .464.377.812.812.812h1.131c.1943.783.812 1.392 1.595 1.595v1.131c0 .464.377.812.812.812.464 0 .812-.377.812-.812V53.15h1.653v1.073c0 .464.377.812.812.812.464 0 .812-.377.812-.812v-1.131c.783-.1943 1.392-.812 1.595-1.595h1.131c.464 0 .812-.377.812-.812 0-.464-.377-.812-.812-.812h-1.073V48.22h1.102c.435 0 .812-.348.812-.812s-.348-.812-.812-.812h-1.16c-.1885-.783-.812-1.421-1.595-1.624v-1.131c0-.464-.377-.812-.812-.812-.464 0-.812.377-.812.812v1.073H6.162v-1.073c0-.464-.377-.812-.812-.812zm.58 3.48h2.088c.754 0 1.363.609 1.363 1.363v2.088c0 .754-.609 1.363-1.363 1.363H5.93c-.754 0-1.363-.609-1.363-1.363v-2.088c0-.754.609-1.363 1.363-1.363z\"/>\n  </svg>\n  <svg viewBox=\"0 0 14 60\" class=\"gl-gpu-svg\">\n    <line x1=\"7\" y1=\"38\" x2=\"7\" y2=\"11\" class=\"opacity\"/>\n    <line x1=\"7\" y1=\"38\" x2=\"7\" y2=\"11\" class=\"gl-gpu\" stroke-dasharray=\"0 27\"/>\n    <path d=\"M1.94775 43.3772a.736.736 0 10-.00416 1.472c.58535.00231.56465.1288.6348.3197.07015.18975.04933.43585.04933.43585l-.00653.05405v8.671a.736.736 0 101.472 0v-1.4145c.253.09522.52785.1495.81765.1495h5.267c1.2535 0 2.254-.9752 2.254-2.185v-3.105c0-1.2075-1.00625-2.185-2.254-2.185h-5.267c-.28865 0-.5635.05405-.8165.1495.01806-.16445.04209-.598-.1357-1.0787-.22425-.6072-.9499-1.2765-2.0125-1.2765zm2.9095 3.6455c.42435 0 .7659.36225.7659.8119v2.9785c0 .44965-.34155.8119-.7659.8119s-.7659-.36225-.7659-.8119v-2.9785c0-.44965.34155-.8119.7659-.8119zm4.117 0a2.3 2.3 0 012.3 2.3 2.3 2.3 0 01-2.3 2.3 2.3 2.3 0 01-2.3-2.3 2.3 2.3 0 012.3-2.3z\"/>\n  </svg>\n</div>`,n=`#gl-bench {\n  position:absolute;\n  left:0;\n  top:0;\n  z-index:1000;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n}\n\n#gl-bench div {\n  position: relative;\n  display: block;\n  margin: 4px;\n  padding: 0 7px 0 10px;\n  background: #6c6;\n  border-radius: 15px;\n  cursor: pointer;\n  opacity: 0.9;\n}\n\n#gl-bench svg {\n  height: 60px;\n  margin: 0 -1px;\n}\n\n#gl-bench text {\n  font-size: 12px;\n  font-family: Helvetica,Arial,sans-serif;\n  font-weight: 700;\n  dominant-baseline: middle;\n  text-anchor: middle;\n}\n\n#gl-bench .gl-mem {\n  font-size: 9px;\n}\n\n#gl-bench line {\n  stroke-width: 5;\n  stroke: #112211;\n  stroke-linecap: round;\n}\n\n#gl-bench polyline {\n  fill: none;\n  stroke: #112211;\n  stroke-linecap: round;\n  stroke-linejoin: round;\n  stroke-width: 3.5;\n}\n\n#gl-bench rect {\n  fill: #448844;\n}\n\n#gl-bench .opacity {\n  stroke: #448844;\n}\n`;class o{constructor(s,a={}){this.css=n,this.svg=i,this.paramLogger=()=>{},this.chartLogger=()=>{},this.chartLen=20,this.chartHz=20,this.names=[],this.cpuAccums=[],this.gpuAccums=[],this.activeAccums=[],this.chart=new Array(this.chartLen),this.now=()=>performance&&performance.now?performance.now():Date.now(),this.updateUI=()=>{[].forEach.call(this.nodes[\"gl-gpu-svg\"],h=>{h.style.display=this.trackGPU?\"inline\":\"none\"})},Object.assign(this,a),this.detected=0,this.finished=[],this.isFramebuffer=0,this.frameId=0;let l,c=0,u,d=h=>{++c<20?l=requestAnimationFrame(d):(this.detected=Math.ceil(1e3*c/(h-u)/70),cancelAnimationFrame(l)),u||(u=h)};if(requestAnimationFrame(d),s){let h=async(v,L)=>Promise.resolve(setTimeout(()=>{s.getError();let A=this.now()-v;L.forEach((I,B)=>{I&&(this.gpuAccums[B]+=A)})},0)),f=(v,L,A)=>function(){let I=L.now();v.apply(A,arguments),L.trackGPU&&L.finished.push(h(I,L.activeAccums.slice(0)))};[\"drawArrays\",\"drawElements\",\"drawArraysInstanced\",\"drawBuffers\",\"drawElementsInstanced\",\"drawRangeElements\"].forEach(v=>{s[v]&&(s[v]=f(s[v],this,s))}),s.getExtension=((v,L)=>function(){let A=v.apply(s,arguments);return A&&[\"drawElementsInstancedANGLE\",\"drawBuffersWEBGL\"].forEach(I=>{A[I]&&(A[I]=f(A[I],L,A))}),A})(s.getExtension,this)}if(!this.withoutUI){this.dom||(this.dom=document.body);let h=document.createElement(\"div\");h.id=\"gl-bench\",this.dom.appendChild(h),this.dom.insertAdjacentHTML(\"afterbegin\",'<style id=\"gl-bench-style\">'+this.css+\"</style>\"),this.dom=h,this.dom.addEventListener(\"click\",()=>{this.trackGPU=!this.trackGPU,this.updateUI()}),this.paramLogger=((f,v,L)=>{let A=[\"gl-cpu\",\"gl-gpu\",\"gl-mem\",\"gl-fps\",\"gl-gpu-svg\",\"gl-chart\"],I=Object.assign({},A);return A.forEach(B=>I[B]=v.getElementsByClassName(B)),this.nodes=I,(B,F,k,N,Y,z,ce)=>{I[\"gl-cpu\"][B].style.strokeDasharray=(F*.27).toFixed(0)+\" 100\",I[\"gl-gpu\"][B].style.strokeDasharray=(k*.27).toFixed(0)+\" 100\",I[\"gl-mem\"][B].innerHTML=L[B]?L[B]:N?\"mem: \"+N.toFixed(0)+\"mb\":\"\",I[\"gl-fps\"][B].innerHTML=Y.toFixed(0)+\" FPS\",f(L[B],F,k,N,Y,z,ce)}})(this.paramLogger,this.dom,this.names),this.chartLogger=((f,v)=>{let L={\"gl-chart\":v.getElementsByClassName(\"gl-chart\")};return(A,I,B)=>{let F=\"\",k=I.length;for(let N=0;N<k;N++){let Y=(B+N+1)%k;I[Y]!=null&&(F=F+\" \"+(55*N/(k-1)).toFixed(1)+\",\"+(45-I[Y]*22/60/this.detected).toFixed(1))}L[\"gl-chart\"][A].setAttribute(\"points\",F),f(this.names[A],I,B)}})(this.chartLogger,this.dom)}}addUI(s){this.names.indexOf(s)==-1&&(this.names.push(s),this.dom&&(this.dom.insertAdjacentHTML(\"beforeend\",this.svg),this.updateUI()),this.cpuAccums.push(0),this.gpuAccums.push(0),this.activeAccums.push(!1))}nextFrame(s){this.frameId++;let a=s||this.now();if(this.frameId<=1)this.paramFrame=this.frameId,this.paramTime=a;else{let l=a-this.paramTime;if(l>=1e3){let c=this.frameId-this.paramFrame,u=c/l*1e3;for(let d=0;d<this.names.length;d++){let h=this.cpuAccums[d]/l*100,f=this.gpuAccums[d]/l*100,v=performance&&performance.memory?performance.memory.usedJSHeapSize/(1<<20):0;this.paramLogger(d,h,f,v,u,l,c),this.cpuAccums[d]=0,Promise.all(this.finished).then(()=>{this.gpuAccums[d]=0,this.finished=[]})}this.paramFrame=this.frameId,this.paramTime=a}}if(!this.detected||!this.chartFrame)this.chartFrame=this.frameId,this.chartTime=a,this.circularId=0;else{let l=a-this.chartTime,c=this.chartHz*l/1e3;for(;--c>0&&this.detected;){let u=(this.frameId-this.chartFrame)/l*1e3;this.chart[this.circularId%this.chartLen]=u;for(let d=0;d<this.names.length;d++)this.chartLogger(d,this.chart,this.circularId);this.circularId++,this.chartFrame=this.frameId,this.chartTime=a}}}begin(s){this.updateAccums(s)}end(s){this.updateAccums(s)}updateAccums(s){let a=this.names.indexOf(s);a==-1&&(a=this.names.length,this.addUI(s));let l=this.now(),c=l-this.t0;for(let u=0;u<a+1;u++)this.activeAccums[u]&&(this.cpuAccums[u]+=c);this.activeAccums[a]=!this.activeAccums[a],this.t0=l}}return o})}(Bw)),Bw.exports}var _8=g8(),y8=fS(_8),b8=`\n  #gl-bench {\n    position:absolute;\n    right:0;\n    top:0;\n    z-index:1000;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  #gl-bench div {\n    position: relative;\n    display: block;\n    margin: 4px;\n    padding: 0 7px 0 10px;\n    background: #5f69de;\n    border-radius: 15px;\n    cursor: pointer;\n    opacity: 0.9;\n  }\n  #gl-bench svg {\n    height: 60px;\n    margin: 0 -1px;\n  }\n  #gl-bench text {\n    font-size: 12px;\n    font-family: Helvetica,Arial,sans-serif;\n    font-weight: 700;\n    dominant-baseline: middle;\n    text-anchor: middle;\n  }\n  #gl-bench .gl-mem {\n    font-size: 9px;\n  }\n  #gl-bench line {\n    stroke-width: 5;\n    stroke: #112211;\n    stroke-linecap: round;\n  }\n  #gl-bench polyline {\n    fill: none;\n    stroke: #112211;\n    stroke-linecap: round;\n    stroke-linejoin: round;\n    stroke-width: 3.5;\n  }\n  #gl-bench rect {\n    fill: #8288e4;\n  }\n  #gl-bench .opacity {\n    stroke: #8288e4;\n  }\n`,ly=class{constructor(e){this.destroy();let i=e.getContext(\"webgl\")||e.getContext(\"experimental-webgl\");this.bench=new y8(i,{css:b8})}begin(){var e;(e=this.bench)==null||e.begin(\"frame\")}end(e){var i,n;(i=this.bench)==null||i.end(\"frame\"),(n=this.bench)==null||n.nextFrame(e)}destroy(){this.bench=void 0,bn(\"#gl-bench\").remove()}};var Nw=class{constructor(e){this._config=e}get pointsNumber(){return this.pointPositions&&this.pointPositions.length/2}get linksNumber(){return this.links&&this.links.length/2}updatePoints(){this.pointPositions=this.inputPointPositions}updatePointColor(){if(this.pointsNumber===void 0){this.pointColors=void 0;return}let e=ll(this._config.pointColor);if(this.inputPointColors===void 0||this.inputPointColors.length/4!==this.pointsNumber){this.pointColors=new Float32Array(this.pointsNumber*4);for(let i=0;i<this.pointColors.length/4;i++)this.pointColors[i*4]=e[0],this.pointColors[i*4+1]=e[1],this.pointColors[i*4+2]=e[2],this.pointColors[i*4+3]=e[3]}else{this.pointColors=this.inputPointColors;for(let i=0;i<this.pointColors.length/4;i++)tr(this.pointColors[i*4])||(this.pointColors[i*4]=e[0]),tr(this.pointColors[i*4+1])||(this.pointColors[i*4+1]=e[1]),tr(this.pointColors[i*4+2])||(this.pointColors[i*4+2]=e[2]),tr(this.pointColors[i*4+3])||(this.pointColors[i*4+3]=e[3])}}updatePointSize(){if(this.pointsNumber===void 0){this.pointSizes=void 0;return}if(this.inputPointSizes===void 0||this.inputPointSizes.length!==this.pointsNumber)this.pointSizes=new Float32Array(this.pointsNumber).fill(this._config.pointSize);else{this.pointSizes=this.inputPointSizes;for(let e=0;e<this.pointSizes.length;e++)tr(this.pointSizes[e])||(this.pointSizes[e]=this._config.pointSize)}}updatePointShape(){if(this.pointsNumber===void 0){this.pointShapes=void 0;return}let e=0;if(this.inputPointShapes===void 0||this.inputPointShapes.length!==this.pointsNumber)this.pointShapes=new Float32Array(this.pointsNumber).fill(e);else{this.pointShapes=new Float32Array(this.inputPointShapes);let i=this.pointShapes;for(let n=0;n<i.length;n++){let o=i[n];(o==null||!tr(o)||o<0||o>8)&&(i[n]=e)}}}updatePointImageIndices(){if(this.pointsNumber===void 0){this.pointImageIndices=void 0;return}if(this.inputPointImageIndices===void 0||this.inputPointImageIndices.length!==this.pointsNumber)this.pointImageIndices=new Float32Array(this.pointsNumber).fill(-1);else{let e=new Float32Array(this.inputPointImageIndices);for(let i=0;i<e.length;i++){let n=e[i],o=n===void 0?NaN:n;!Number.isFinite(o)||o<0?e[i]=-1:e[i]=Math.trunc(o)}this.pointImageIndices=e}}updatePointImageSizes(){var e;if(this.pointsNumber===void 0){this.pointImageSizes=void 0;return}if(this.inputPointImageSizes===void 0||this.inputPointImageSizes.length!==this.pointsNumber)this.pointImageSizes=this.pointSizes?new Float32Array(this.pointSizes):new Float32Array(this.pointsNumber).fill(this._config.pointSize);else{this.pointImageSizes=new Float32Array(this.inputPointImageSizes);for(let i=0;i<this.pointImageSizes.length;i++)tr(this.pointImageSizes[i])||(this.pointImageSizes[i]=((e=this.pointSizes)==null?void 0:e[i])??this._config.pointSize)}}updateLinks(){this.links=this.inputLinks}updateLinkColor(){if(this.linksNumber===void 0){this.linkColors=void 0;return}let e=ll(this._config.linkColor);if(this.inputLinkColors===void 0||this.inputLinkColors.length/4!==this.linksNumber){this.linkColors=new Float32Array(this.linksNumber*4);for(let i=0;i<this.linkColors.length/4;i++)this.linkColors[i*4]=e[0],this.linkColors[i*4+1]=e[1],this.linkColors[i*4+2]=e[2],this.linkColors[i*4+3]=e[3]}else{this.linkColors=this.inputLinkColors;for(let i=0;i<this.linkColors.length/4;i++)tr(this.linkColors[i*4])||(this.linkColors[i*4]=e[0]),tr(this.linkColors[i*4+1])||(this.linkColors[i*4+1]=e[1]),tr(this.linkColors[i*4+2])||(this.linkColors[i*4+2]=e[2]),tr(this.linkColors[i*4+3])||(this.linkColors[i*4+3]=e[3])}}updateLinkWidth(){if(this.linksNumber===void 0){this.linkWidths=void 0;return}if(this.inputLinkWidths===void 0||this.inputLinkWidths.length!==this.linksNumber)this.linkWidths=new Float32Array(this.linksNumber).fill(this._config.linkWidth);else{this.linkWidths=this.inputLinkWidths;for(let e=0;e<this.linkWidths.length;e++)tr(this.linkWidths[e])||(this.linkWidths[e]=this._config.linkWidth)}}updateArrows(){if(this.linksNumber===void 0){this.linkArrows=void 0;return}this.linkArrowsBoolean===void 0||this.linkArrowsBoolean.length!==this.linksNumber?this.linkArrows=new Array(this.linksNumber).fill(+this._config.linkArrows):this.linkArrows=this.linkArrowsBoolean.map(e=>+e)}updateLinkStrength(){this.linksNumber===void 0&&(this.linkStrength=void 0),this.inputLinkStrength===void 0||this.inputLinkStrength.length!==this.linksNumber?this.linkStrength=void 0:this.linkStrength=this.inputLinkStrength}updateClusters(){if(this.pointsNumber===void 0){this.pointClusters=void 0,this.clusterPositions=void 0;return}this.inputPointClusters===void 0||this.inputPointClusters.length!==this.pointsNumber?this.pointClusters=void 0:this.pointClusters=this.inputPointClusters,this.inputClusterPositions===void 0?this.clusterPositions=void 0:this.clusterPositions=this.inputClusterPositions,this.inputClusterStrength===void 0||this.inputClusterStrength.length!==this.pointsNumber?this.clusterStrength=void 0:this.clusterStrength=this.inputClusterStrength}update(){this.updatePoints(),this.updatePointColor(),this.updatePointSize(),this.updatePointShape(),this.updatePointImageIndices(),this.updatePointImageSizes(),this.updateLinks(),this.updateLinkColor(),this.updateLinkWidth(),this.updateArrows(),this.updateLinkStrength(),this.updateClusters(),this._createAdjacencyLists(),this._calculateDegrees()}getAdjacentIndices(e){var i,n,o,r;return[...((n=(i=this.sourceIndexToTargetIndices)==null?void 0:i[e])==null?void 0:n.map(s=>s[0]))||[],...((r=(o=this.targetIndexToSourceIndices)==null?void 0:o[e])==null?void 0:r.map(s=>s[0]))||[]]}_createAdjacencyLists(){var e,i;if(this.linksNumber===void 0||this.links===void 0){this.sourceIndexToTargetIndices=void 0,this.targetIndexToSourceIndices=void 0;return}this.sourceIndexToTargetIndices=new Array(this.pointsNumber).fill(void 0),this.targetIndexToSourceIndices=new Array(this.pointsNumber).fill(void 0);for(let n=0;n<this.linksNumber;n++){let o=this.links[n*2],r=this.links[n*2+1];o!==void 0&&r!==void 0&&(this.sourceIndexToTargetIndices[o]===void 0&&(this.sourceIndexToTargetIndices[o]=[]),(e=this.sourceIndexToTargetIndices[o])==null||e.push([r,n]),this.targetIndexToSourceIndices[r]===void 0&&(this.targetIndexToSourceIndices[r]=[]),(i=this.targetIndexToSourceIndices[r])==null||i.push([o,n]))}}_calculateDegrees(){var e,i,n,o;if(this.pointsNumber===void 0){this.degree=void 0,this.inDegree=void 0,this.outDegree=void 0;return}this.degree=new Array(this.pointsNumber).fill(0),this.inDegree=new Array(this.pointsNumber).fill(0),this.outDegree=new Array(this.pointsNumber).fill(0);for(let r=0;r<this.pointsNumber;r++)this.inDegree[r]=((i=(e=this.targetIndexToSourceIndices)==null?void 0:e[r])==null?void 0:i.length)??0,this.outDegree[r]=((o=(n=this.sourceIndexToTargetIndices)==null?void 0:n[r])==null?void 0:o.length)??0,this.degree[r]=(this.inDegree[r]??0)+(this.outDegree[r]??0)}},v8=`precision highp float;\n\nvarying vec4 rgbaColor;\nvarying vec2 pos;\nvarying float arrowLength;\nvarying float useArrow;\nvarying float smoothing;\nvarying float arrowWidthFactor;\nvarying float linkIndex;\n\nuniform float renderMode;\n\nfloat map(float value, float min1, float max1, float min2, float max2) {\n  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);\n}\n\nvoid main() {\n  float opacity = 1.0;\n  vec3 color = rgbaColor.rgb;\n\n  if (useArrow > 0.5) {\n    float end_arrow = 0.5 + arrowLength / 2.0;\n    float start_arrow = end_arrow - arrowLength;\n    float arrowWidthDelta = arrowWidthFactor / 2.0;\n    float linkOpacity = rgbaColor.a * smoothstep(0.5 - arrowWidthDelta, 0.5 - arrowWidthDelta - smoothing / 2.0, abs(pos.y));\n    float arrowOpacity = 1.0;\n    if (pos.x > start_arrow && pos.x < start_arrow + arrowLength) {\n      float xmapped = map(pos.x, start_arrow, end_arrow, 0.0, 1.0);\n      arrowOpacity = rgbaColor.a * smoothstep(xmapped - smoothing, xmapped, map(abs(pos.y), 0.5, 0.0, 0.0, 1.0));\n      if (linkOpacity != arrowOpacity) {\n        linkOpacity = max(linkOpacity, arrowOpacity);\n      }\n    }\n    opacity = linkOpacity;\n  } else opacity = rgbaColor.a * smoothstep(0.5, 0.5 - smoothing, abs(pos.y));\n  \n  if (renderMode > 0.0) {\n    if (opacity > 0.0) {\n      gl_FragColor = vec4(linkIndex, 0.0, 0.0, 1.0);\n    } else {\n      gl_FragColor = vec4(-1.0, 0.0, 0.0, 0.0);\n    }\n  } else gl_FragColor = vec4(color, opacity);\n\n}`,x8=`precision highp float;\n\nattribute vec2 position, pointA, pointB;\nattribute vec4 color;\nattribute float width;\nattribute float arrow;\nattribute float linkIndices;\n\nuniform sampler2D positionsTexture;\nuniform sampler2D pointGreyoutStatus;\nuniform mat3 transformationMatrix;\nuniform float pointsTextureSize;\nuniform float widthScale;\nuniform float linkArrowsSizeScale;\nuniform float spaceSize;\nuniform vec2 screenSize;\nuniform vec2 linkVisibilityDistanceRange;\nuniform float linkVisibilityMinTransparency;\nuniform float linkOpacity;\nuniform float greyoutOpacity;\nuniform float curvedWeight;\nuniform float curvedLinkControlPointDistance;\nuniform float curvedLinkSegments;\nuniform bool scaleLinksOnZoom;\nuniform float maxPointSize;\n\nuniform float renderMode;\nuniform float hoveredLinkIndex;\nuniform vec4 hoveredLinkColor;\nuniform float hoveredLinkWidthIncrease;\n\nvarying vec4 rgbaColor;\nvarying vec2 pos;\nvarying float arrowLength;\nvarying float useArrow;\nvarying float smoothing;\nvarying float arrowWidthFactor;\nvarying float linkIndex;\n\nfloat map(float value, float min1, float max1, float min2, float max2) {\n  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);\n}\n\nvec2 conicParametricCurve(vec2 A, vec2 B, vec2 ControlPoint, float t, float w) {\n  vec2 divident = (1.0 - t) * (1.0 - t) * A + 2.0 * (1.0 - t) * t * w * ControlPoint + t * t * B;\n  float divisor = (1.0 - t) * (1.0 - t) + 2.0 * (1.0 - t) * t * w + t * t;\n  return divident / divisor;\n}\n\nfloat calculateLinkWidth(float width) {\n  float linkWidth;\n  if (scaleLinksOnZoom) {\n    \n    linkWidth = width;\n  } else {\n    \n    linkWidth = width / transformationMatrix[0][0];\n    \n    linkWidth *= min(5.0, max(1.0, transformationMatrix[0][0] * 0.01));\n  }\n  \n  if (useArrow > 0.5) {\n    return min(linkWidth, (maxPointSize * 2.0) / transformationMatrix[0][0]);\n  } else {\n    return min(linkWidth, maxPointSize / transformationMatrix[0][0]);\n  }\n}\n\nfloat calculateArrowWidth(float arrowWidth) {\n  if (scaleLinksOnZoom) {\n    return arrowWidth;\n  } else {\n    \n    arrowWidth = arrowWidth / transformationMatrix[0][0];\n    \n    arrowWidth *= min(5.0, max(1.0, transformationMatrix[0][0] * 0.01));\n    return arrowWidth;\n  }\n}\n\nvoid main() {\n  pos = position;\n  linkIndex = linkIndices;\n\n  vec2 pointTexturePosA = (pointA + 0.5) / pointsTextureSize;\n  vec2 pointTexturePosB = (pointB + 0.5) / pointsTextureSize;\n  \n  vec4 greyoutStatusA = texture2D(pointGreyoutStatus, pointTexturePosA);\n  vec4 greyoutStatusB = texture2D(pointGreyoutStatus, pointTexturePosB);\n  \n  vec4 pointPositionA = texture2D(positionsTexture, pointTexturePosA);\n  vec4 pointPositionB = texture2D(positionsTexture, pointTexturePosB);\n  vec2 a = pointPositionA.xy;\n  vec2 b = pointPositionB.xy;\n  \n  \n  vec2 xBasis = b - a;\n  vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));\n\n  \n  float linkDist = length(xBasis);\n  float h = curvedLinkControlPointDistance;\n  vec2 controlPoint = (a + b) / 2.0 + yBasis * linkDist * h;\n\n  \n  float linkDistPx = linkDist * transformationMatrix[0][0];\n  \n  \n  float linkWidth = width * widthScale;\n  float k = 2.0;\n  \n  float arrowWidth = linkWidth * k;\n  arrowWidth *= linkArrowsSizeScale;\n\n  \n  float arrowWidthDifference = max(0.0, arrowWidth - linkWidth);\n\n  \n  float arrowWidthPx = calculateArrowWidth(arrowWidth);\n\n  \n  \n  \n  arrowLength = min(0.3, (0.866 * arrowWidthPx * 2.0) / linkDist);\n\n  useArrow = arrow;\n  if (useArrow > 0.5) {\n    linkWidth += arrowWidthDifference;\n  }\n\n  arrowWidthFactor = arrowWidthDifference / linkWidth;\n\n  \n  float linkWidthPx = calculateLinkWidth(linkWidth);\n    \n  if (renderMode > 0.0) {\n    \n    linkWidthPx += 5.0 / transformationMatrix[0][0];\n  } else {\n      \n    if (hoveredLinkIndex == linkIndex) {\n      linkWidthPx += hoveredLinkWidthIncrease / transformationMatrix[0][0];\n    }\n  }\n  float smoothingPx = 0.5 / transformationMatrix[0][0];\n  smoothing = smoothingPx / linkWidthPx;\n  linkWidthPx += smoothingPx;\n\n  \n  vec3 rgbColor = color.rgb;\n  \n  float opacity = color.a * linkOpacity * max(linkVisibilityMinTransparency, map(linkDistPx, linkVisibilityDistanceRange.g, linkVisibilityDistanceRange.r, 0.0, 1.0));\n\n  \n  if (greyoutStatusA.r > 0.0 || greyoutStatusB.r > 0.0) {\n    opacity *= greyoutOpacity;\n  }\n\n  \n  rgbaColor = vec4(rgbColor, opacity);\n\n  \n  if (hoveredLinkIndex == linkIndex && hoveredLinkColor.a > -0.5) {\n    \n    rgbaColor.rgb = hoveredLinkColor.rgb;\n    rgbaColor.a *= hoveredLinkColor.a;\n  }\n\n  \n  float t = position.x;\n  float w = curvedWeight;\n  \n  float tPrev = t - 1.0 / curvedLinkSegments;\n  float tNext = t + 1.0 / curvedLinkSegments;\n  \n  vec2 pointCurr = conicParametricCurve(a, b, controlPoint, t, w);\n  \n  vec2 pointPrev = conicParametricCurve(a, b, controlPoint, max(0.0, tPrev), w);\n  vec2 pointNext = conicParametricCurve(a, b, controlPoint, min(tNext, 1.0), w);\n  \n  vec2 xBasisCurved = pointNext - pointPrev;\n  vec2 yBasisCurved = normalize(vec2(-xBasisCurved.y, xBasisCurved.x));\n  \n  pointCurr += yBasisCurved * linkWidthPx * position.y;\n  \n  \n  vec2 p = 2.0 * pointCurr / spaceSize - 1.0;\n  p *= spaceSize / screenSize;\n  vec3 final = transformationMatrix * vec3(p, 1);\n  \n  gl_Position = vec4(final.rg, 0, 1);\n}`,w8=`precision highp float;\n\nuniform sampler2D linkIndexTexture;\nuniform vec2 mousePosition;\nuniform vec2 screenSize;\n\nvarying vec2 vTexCoord;\n\nvoid main() {\n  \n  vec2 texCoord = mousePosition / screenSize;\n  \n  \n  vec4 linkIndexData = texture2D(linkIndexTexture, texCoord);\n  \n  \n  float linkIndex = linkIndexData.r;\n  \n  \n  if (linkIndexData.a > 0.0 && linkIndex >= 0.0) {\n    \n    gl_FragColor = vec4(linkIndex, 0.0, 0.0, 1.0);\n  } else {\n    \n    gl_FragColor = vec4(-1.0, 0.0, 0.0, 0.0);\n  }\n}`,S8=`attribute vec2 position;\n\nvarying vec2 vTexCoord;\n\nvoid main() {\n  vTexCoord = position * 0.5 + 0.5;\n  gl_Position = vec4(position, 0.0, 1.0);\n}`;function J_(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function C8(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function V5(t){let e,i,n;t.length!==2?(e=J_,i=(a,l)=>J_(t(a),l),n=(a,l)=>t(a)-l):(e=t===J_||t===C8?t:k8,i=t,n=t);function o(a,l,c=0,u=a.length){if(c<u){if(e(l,l)!==0)return u;do{let d=c+u>>>1;i(a[d],l)<0?c=d+1:u=d}while(c<u)}return c}function r(a,l,c=0,u=a.length){if(c<u){if(e(l,l)!==0)return u;do{let d=c+u>>>1;i(a[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function s(a,l,c=0,u=a.length){let d=o(a,l,c,u-1);return d>c&&n(a[d-1],l)>-n(a[d],l)?d-1:d}return{left:o,center:s,right:r}}function k8(){return 0}function E8(t){return t===null?NaN:+t}var I8=V5(J_),T8=I8.right;V5(E8).center;function UI(t,e){let i,n;for(let o of t)o!=null&&(i===void 0?o>=o&&(i=n=o):(i>o&&(i=o),n<o&&(n=o)));return[i,n]}var Fw=Math.sqrt(50),Uw=Math.sqrt(10),jw=Math.sqrt(2);function A8(t,e,i){var n,o=-1,r,s,a;if(e=+e,t=+t,i=+i,t===e&&i>0)return[t];if((n=e<t)&&(r=t,t=e,e=r),(a=W5(t,e,i))===0||!isFinite(a))return[];if(a>0){let l=Math.round(t/a),c=Math.round(e/a);for(l*a<t&&++l,c*a>e&&--c,s=new Array(r=c-l+1);++o<r;)s[o]=(l+o)*a}else{a=-a;let l=Math.round(t*a),c=Math.round(e*a);for(l/a<t&&++l,c/a>e&&--c,s=new Array(r=c-l+1);++o<r;)s[o]=(l+o)/a}return n&&s.reverse(),s}function W5(t,e,i){var n=(e-t)/Math.max(0,i),o=Math.floor(Math.log(n)/Math.LN10),r=n/Math.pow(10,o);return o>=0?(r>=Fw?10:r>=Uw?5:r>=jw?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(r>=Fw?10:r>=Uw?5:r>=jw?2:1)}function L8(t,e,i){var n=Math.abs(e-t)/Math.max(0,i),o=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),r=n/o;return r>=Fw?o*=10:r>=Uw?o*=5:r>=jw&&(o*=2),e<t?-o:o}function D8(t,e,i){t=+t,e=+e,i=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+i;for(var n=-1,o=Math.max(0,Math.ceil((e-t)/i))|0,r=new Array(o);++n<o;)r[n]=t+n*i;return r}function H5(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function P8(t){return function(){return t}}function R8(t){return+t}var jI=[0,1];function hs(t){return t}function Vw(t,e){return(e-=t=+t)?function(i){return(i-t)/e}:P8(isNaN(e)?NaN:.5)}function M8(t,e){var i;return t>e&&(i=t,t=e,e=i),function(n){return Math.max(t,Math.min(e,n))}}function z8(t,e,i){var n=t[0],o=t[1],r=e[0],s=e[1];return o<n?(n=Vw(o,n),r=i(s,r)):(n=Vw(n,o),r=i(r,s)),function(a){return r(n(a))}}function O8(t,e,i){var n=Math.min(t.length,e.length)-1,o=new Array(n),r=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)o[s]=Vw(t[s],t[s+1]),r[s]=i(e[s],e[s+1]);return function(a){var l=T8(t,a,1,n)-1;return r[l](o[l](a))}}function $5(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function q5(){var t=jI,e=jI,i=hS,n,o,r,s=hs,a,l,c;function u(){var h=Math.min(t.length,e.length);return s!==hs&&(s=M8(t[0],t[h-1])),a=h>2?O8:z8,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?r:(l||(l=a(t.map(n),e,i)))(n(s(h)))}return d.invert=function(h){return s(o((c||(c=a(e,t.map(n),Ar)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,R8),u()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),i=ZB,u()},d.clamp=function(h){return arguments.length?(s=h?!0:hs,u()):s!==hs},d.interpolate=function(h){return arguments.length?(i=h,u()):i},d.unknown=function(h){return arguments.length?(r=h,d):r},function(h,f){return n=h,o=f,u()}}function B8(){return q5()(hs,hs)}function N8(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString(\"en\").replace(/,/g,\"\"):t.toString(10)}function cy(t,e){if((i=(t=e?t.toExponential(e-1):t.toExponential()).indexOf(\"e\"))<0)return null;var i,n=t.slice(0,i);return[n.length>1?n[0]+n.slice(2):n,+t.slice(i+1)]}function sd(t){return t=cy(Math.abs(t)),t?t[1]:NaN}function F8(t,e){return function(i,n){for(var o=i.length,r=[],s=0,a=t[0],l=0;o>0&&a>0&&(l+a+1>n&&(a=Math.max(1,n-l)),r.push(i.substring(o-=a,o+a)),!((l+=a+1)>n));)a=t[s=(s+1)%t.length];return r.reverse().join(e)}}function U8(t){return function(e){return e.replace(/[0-9]/g,function(i){return t[+i]})}}var j8=/^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;function uy(t){if(!(e=j8.exec(t)))throw new Error(\"invalid format: \"+t);var e;return new mS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}uy.prototype=mS.prototype;function mS(t){this.fill=t.fill===void 0?\" \":t.fill+\"\",this.align=t.align===void 0?\">\":t.align+\"\",this.sign=t.sign===void 0?\"-\":t.sign+\"\",this.symbol=t.symbol===void 0?\"\":t.symbol+\"\",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?\"\":t.type+\"\"}mS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?\"0\":\"\")+(this.width===void 0?\"\":Math.max(1,this.width|0))+(this.comma?\",\":\"\")+(this.precision===void 0?\"\":\".\"+Math.max(0,this.precision|0))+(this.trim?\"~\":\"\")+this.type};function V8(t){e:for(var e=t.length,i=1,n=-1,o;i<e;++i)switch(t[i]){case\".\":n=o=i;break;case\"0\":n===0&&(n=i),o=i;break;default:if(!+t[i])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(o+1):t}var G5;function W8(t,e){var i=cy(t,e);if(!i)return t+\"\";var n=i[0],o=i[1],r=o-(G5=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,s=n.length;return r===s?n:r>s?n+new Array(r-s+1).join(\"0\"):r>0?n.slice(0,r)+\".\"+n.slice(r):\"0.\"+new Array(1-r).join(\"0\")+cy(t,Math.max(0,e+r-1))[0]}function VI(t,e){var i=cy(t,e);if(!i)return t+\"\";var n=i[0],o=i[1];return o<0?\"0.\"+new Array(-o).join(\"0\")+n:n.length>o+1?n.slice(0,o+1)+\".\"+n.slice(o+1):n+new Array(o-n.length+2).join(\"0\")}var WI={\"%\":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+\"\",d:N8,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>VI(t*100,e),r:VI,s:W8,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function HI(t){return t}var $I=Array.prototype.map,qI=[\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\\xB5\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];function H8(t){var e=t.grouping===void 0||t.thousands===void 0?HI:F8($I.call(t.grouping,Number),t.thousands+\"\"),i=t.currency===void 0?\"\":t.currency[0]+\"\",n=t.currency===void 0?\"\":t.currency[1]+\"\",o=t.decimal===void 0?\".\":t.decimal+\"\",r=t.numerals===void 0?HI:U8($I.call(t.numerals,String)),s=t.percent===void 0?\"%\":t.percent+\"\",a=t.minus===void 0?\"\\u2212\":t.minus+\"\",l=t.nan===void 0?\"NaN\":t.nan+\"\";function c(d){d=uy(d);var h=d.fill,f=d.align,v=d.sign,L=d.symbol,A=d.zero,I=d.width,B=d.comma,F=d.precision,k=d.trim,N=d.type;N===\"n\"?(B=!0,N=\"g\"):WI[N]||(F===void 0&&(F=12),k=!0,N=\"g\"),(A||h===\"0\"&&f===\"=\")&&(A=!0,h=\"0\",f=\"=\");var Y=L===\"$\"?i:L===\"#\"&&/[boxX]/.test(N)?\"0\"+N.toLowerCase():\"\",z=L===\"$\"?n:/[%p]/.test(N)?s:\"\",ce=WI[N],Fe=/[defgprs%]/.test(N);F=F===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,F)):Math.max(0,Math.min(20,F));function $e(K){var Xe=Y,Be=z,V,Pe,ie;if(N===\"c\")Be=ce(K)+Be,K=\"\";else{K=+K;var ke=K<0||1/K<0;if(K=isNaN(K)?l:ce(Math.abs(K),F),k&&(K=V8(K)),ke&&+K==0&&v!==\"+\"&&(ke=!1),Xe=(ke?v===\"(\"?v:a:v===\"-\"||v===\"(\"?\"\":v)+Xe,Be=(N===\"s\"?qI[8+G5/3]:\"\")+Be+(ke&&v===\"(\"?\")\":\"\"),Fe){for(V=-1,Pe=K.length;++V<Pe;)if(ie=K.charCodeAt(V),48>ie||ie>57){Be=(ie===46?o+K.slice(V+1):K.slice(V))+Be,K=K.slice(0,V);break}}}B&&!A&&(K=e(K,1/0));var Ge=Xe.length+K.length+Be.length,Oe=Ge<I?new Array(I-Ge+1).join(h):\"\";switch(B&&A&&(K=e(Oe+K,Oe.length?I-Be.length:1/0),Oe=\"\"),f){case\"<\":K=Xe+K+Be+Oe;break;case\"=\":K=Xe+Oe+K+Be;break;case\"^\":K=Oe.slice(0,Ge=Oe.length>>1)+Xe+K+Be+Oe.slice(Ge);break;default:K=Oe+Xe+K+Be;break}return r(K)}return $e.toString=function(){return d+\"\"},$e}function u(d,h){var f=c((d=uy(d),d.type=\"f\",d)),v=Math.max(-8,Math.min(8,Math.floor(sd(h)/3)))*3,L=Math.pow(10,-v),A=qI[8+v/3];return function(I){return f(L*I)+A}}return{format:c,formatPrefix:u}}var $_,Y5,Q5;$8({thousands:\",\",grouping:[3],currency:[\"$\",\"\"]});function $8(t){return $_=H8(t),Y5=$_.format,Q5=$_.formatPrefix,$_}function q8(t){return Math.max(0,-sd(Math.abs(t)))}function G8(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(sd(e)/3)))*3-sd(Math.abs(t)))}function Y8(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,sd(e)-sd(t))+1}function Q8(t,e,i,n){var o=L8(t,e,i),r;switch(n=uy(n??\",f\"),n.type){case\"s\":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(r=G8(o,s))&&(n.precision=r),Q5(n,s)}case\"\":case\"e\":case\"g\":case\"p\":case\"r\":{n.precision==null&&!isNaN(r=Y8(o,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=r-(n.type===\"e\"));break}case\"f\":case\"%\":{n.precision==null&&!isNaN(r=q8(o))&&(n.precision=r-(n.type===\"%\")*2);break}}return Y5(n)}function X5(t){var e=t.domain;return t.ticks=function(i){var n=e();return A8(n[0],n[n.length-1],i??10)},t.tickFormat=function(i,n){var o=e();return Q8(o[0],o[o.length-1],i??10,n)},t.nice=function(i){i==null&&(i=10);var n=e(),o=0,r=n.length-1,s=n[o],a=n[r],l,c,u=10;for(a<s&&(c=s,s=a,a=c,c=o,o=r,r=c);u-- >0;){if(c=W5(s,a,i),c===l)return n[o]=s,n[r]=a,e(n);if(c>0)s=Math.floor(s/c)*c,a=Math.ceil(a/c)*c;else if(c<0)s=Math.ceil(s*c)/c,a=Math.floor(a*c)/c;else break;l=c}return t},t}function Ww(){var t=B8();return t.copy=function(){return $5(t,Ww())},H5.apply(t,arguments),X5(t)}function GI(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function X8(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function K8(t){return t<0?-t*t:t*t}function Z8(t){var e=t(hs,hs),i=1;function n(){return i===1?t(hs,hs):i===.5?t(X8,K8):t(GI(i),GI(1/i))}return e.exponent=function(o){return arguments.length?(i=+o,n()):i},X5(e)}function K5(){var t=Z8(q5());return t.copy=function(){return $5(t,K5()).exponent(t.exponent())},H5.apply(t,arguments),t}var J8=t=>{let e=K5().exponent(2).range([0,1]).domain([-1,1]),i=D8(0,t).map(o=>-.5+o/t);i.push(.5);let n=new Array(i.length*2);return i.forEach((o,r)=>{n[r*2]=[e(o*2),.5],n[r*2+1]=[e(o*2),-.5]}),n},Hw=class extends Dr{initPrograms(){let{reglInstance:e,config:i,store:n}=this;this.updateLinkIndexFbo(),this.hoveredLineIndexFbo||(this.hoveredLineIndexFbo=e.framebuffer({color:e.texture({width:1,height:1,format:\"rgba\",type:\"float\"}),depth:!1,stencil:!1})),this.drawCurveCommand||(this.drawCurveCommand=e({vert:x8,frag:v8,attributes:{position:{buffer:()=>this.curveLineBuffer,divisor:0},pointA:{buffer:()=>this.pointsBuffer,divisor:1,offset:Float32Array.BYTES_PER_ELEMENT*0,stride:Float32Array.BYTES_PER_ELEMENT*4},pointB:{buffer:()=>this.pointsBuffer,divisor:1,offset:Float32Array.BYTES_PER_ELEMENT*2,stride:Float32Array.BYTES_PER_ELEMENT*4},color:{buffer:()=>this.colorBuffer,divisor:1,offset:Float32Array.BYTES_PER_ELEMENT*0,stride:Float32Array.BYTES_PER_ELEMENT*4},width:{buffer:()=>this.widthBuffer,divisor:1,offset:Float32Array.BYTES_PER_ELEMENT*0,stride:Float32Array.BYTES_PER_ELEMENT*1},arrow:{buffer:()=>this.arrowBuffer,divisor:1,offset:Float32Array.BYTES_PER_ELEMENT*0,stride:Float32Array.BYTES_PER_ELEMENT*1},linkIndices:{buffer:()=>this.linkIndexBuffer,divisor:1,offset:Float32Array.BYTES_PER_ELEMENT*0,stride:Float32Array.BYTES_PER_ELEMENT*1}},uniforms:{positionsTexture:()=>{var o;return(o=this.points)==null?void 0:o.currentPositionFbo},pointGreyoutStatus:()=>{var o;return(o=this.points)==null?void 0:o.greyoutStatusFbo},transformationMatrix:()=>n.transform,pointsTextureSize:()=>n.pointsTextureSize,widthScale:()=>i.linkWidthScale,linkArrowsSizeScale:()=>i.linkArrowsSizeScale,spaceSize:()=>n.adjustedSpaceSize,screenSize:()=>n.screenSize,linkVisibilityDistanceRange:()=>i.linkVisibilityDistanceRange,linkVisibilityMinTransparency:()=>i.linkVisibilityMinTransparency,linkOpacity:()=>i.linkOpacity,greyoutOpacity:()=>i.linkGreyoutOpacity,scaleLinksOnZoom:()=>i.scaleLinksOnZoom,maxPointSize:()=>n.maxPointSize,curvedWeight:()=>i.curvedLinkWeight,curvedLinkControlPointDistance:()=>i.curvedLinkControlPointDistance,curvedLinkSegments:()=>i.curvedLinks?i.curvedLinkSegments??at.curvedLinkSegments:1,hoveredLinkIndex:()=>n.hoveredLinkIndex??-1,hoveredLinkColor:()=>n.hoveredLinkColor,hoveredLinkWidthIncrease:()=>i.hoveredLinkWidthIncrease,renderMode:e.prop(\"renderMode\")},cull:{enable:!0,face:\"back\"},blend:{enable:!0,func:{dstRGB:\"one minus src alpha\",srcRGB:\"src alpha\",dstAlpha:\"one minus src alpha\",srcAlpha:\"one\"},equation:{rgb:\"add\",alpha:\"add\"}},depth:{enable:!1,mask:!1},framebuffer:e.prop(\"framebuffer\"),count:()=>{var o;return((o=this.curveLineGeometry)==null?void 0:o.length)??0},instances:()=>this.data.linksNumber??0,primitive:\"triangle strip\"})),this.hoveredLineIndexCommand||(this.hoveredLineIndexCommand=e({vert:S8,frag:w8,attributes:{position:{buffer:()=>this.quadBuffer}},uniforms:{linkIndexTexture:()=>this.linkIndexFbo,mousePosition:()=>n.screenMousePosition,screenSize:()=>n.screenSize},framebuffer:this.hoveredLineIndexFbo,count:4,primitive:\"triangle strip\"})),this.quadBuffer||(this.quadBuffer=e.buffer([-1,-1,1,-1,-1,1,1,1]))}draw(){var e;this.pointsBuffer&&(this.colorBuffer||this.updateColor(),this.widthBuffer||this.updateWidth(),this.arrowBuffer||this.updateArrow(),this.curveLineGeometry||this.updateCurveLineGeometry(),(e=this.drawCurveCommand)==null||e.call(this,{framebuffer:null,renderMode:0}))}updateLinkIndexFbo(){let{reglInstance:e,store:i}=this;this.store.isLinkHoveringEnabled&&(this.linkIndexFbo||(this.linkIndexFbo=e.framebuffer()),this.linkIndexFbo({color:e.texture({width:i.screenSize[0],height:i.screenSize[1],format:\"rgba\",type:\"float\"}),depth:!1,stencil:!1}))}updatePointsBuffer(){let{reglInstance:e,data:i,store:n}=this;if(i.linksNumber===void 0||i.links===void 0)return;let o=new Float32Array(i.linksNumber*4);for(let s=0;s<i.linksNumber;s++){let a=i.links[s*2],l=i.links[s*2+1],c=a%n.pointsTextureSize,u=Math.floor(a/n.pointsTextureSize),d=l%n.pointsTextureSize,h=Math.floor(l/n.pointsTextureSize),f=s*4;o[f]=c,o[f+1]=u,o[f+2]=d,o[f+3]=h}this.pointsBuffer||(this.pointsBuffer=e.buffer(0)),this.pointsBuffer(o);let r=new Float32Array(i.linksNumber);for(let s=0;s<i.linksNumber;s++)r[s]=s;this.linkIndexBuffer||(this.linkIndexBuffer=e.buffer(0)),this.linkIndexBuffer(r)}updateColor(){let{reglInstance:e,data:i}=this;this.colorBuffer||(this.colorBuffer=e.buffer(0)),this.colorBuffer(i.linkColors??new Float32Array)}updateWidth(){let{reglInstance:e,data:i}=this;this.widthBuffer||(this.widthBuffer=e.buffer(0)),this.widthBuffer(i.linkWidths??new Float32Array)}updateArrow(){let{reglInstance:e,data:i}=this;this.arrowBuffer||(this.arrowBuffer=e.buffer(0)),this.arrowBuffer(i.linkArrows??new Float32Array)}updateCurveLineGeometry(){let{reglInstance:e,config:{curvedLinks:i,curvedLinkSegments:n}}=this;this.curveLineGeometry=J8(i?n??at.curvedLinkSegments:1),this.curveLineBuffer||(this.curveLineBuffer=e.buffer(0)),this.curveLineBuffer(this.curveLineGeometry)}findHoveredLine(){var e,i;!this.data.linksNumber||!this.store.isLinkHoveringEnabled||(this.linkIndexFbo||this.updateLinkIndexFbo(),this.reglInstance.clear({framebuffer:this.linkIndexFbo,color:[0,0,0,0]}),(e=this.drawCurveCommand)==null||e.call(this,{framebuffer:this.linkIndexFbo,renderMode:1}),(i=this.hoveredLineIndexCommand)==null||i.call(this))}},e9=`#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform float greyoutOpacity;\nuniform float pointOpacity;\nuniform sampler2D imageAtlasTexture;\nuniform bool isDarkenGreyout;\nuniform vec4 backgroundColor;\n\nvarying float pointShape;\nvarying float isGreyedOut;\nvarying vec4 shapeColor;\nvarying vec4 imageAtlasUV;\nvarying float shapeSize;\nvarying float imageSizeVarying;\nvarying float overallSize;\n\nconst float smoothing = 0.9;\n\nconst float CIRCLE = 0.0;\nconst float SQUARE = 1.0;\nconst float TRIANGLE = 2.0;\nconst float DIAMOND = 3.0;\nconst float PENTAGON = 4.0;\nconst float HEXAGON = 5.0;\nconst float STAR = 6.0;\nconst float CROSS = 7.0;\nconst float NONE = 8.0;\n\nfloat circleDistance(vec2 p) {\n    return dot(p, p);\n}\n\nvec4 applyGreyoutToImage(vec4 imageColor) {\n    vec3 finalColor = imageColor.rgb;\n    float finalAlpha = imageColor.a;\n    \n    if (isGreyedOut > 0.0) {\n        float blendFactor = 0.65; \n        \n        if (isDarkenGreyout) {\n            finalColor = mix(finalColor, vec3(0.2), blendFactor);\n        } else {\n            finalColor = mix(finalColor, max(backgroundColor.rgb, vec3(0.8)), blendFactor);\n        }\n    }\n    \n    return vec4(finalColor, finalAlpha);\n}\n\nfloat squareDistance(vec2 p) {\n    vec2 d = abs(p) - vec2(0.8);\n    return length(max(d, 0.0)) + min(max(d.x, d.y), 0.0);\n}\n\nfloat triangleDistance(vec2 p) {\n    const float k = sqrt(3.0);   \n    p.x = abs(p.x) - 0.9;        \n    p.y = p.y + 0.55;             \n\n    \n    if (p.x + k * p.y > 0.0)\n        p = vec2(p.x - k * p.y,  -k * p.x - p.y) / 2.0;\n\n    p.x -= clamp(p.x, -1.0, 0.0); \n\n    \n    return -length(p) * sign(p.y);\n}\n\nfloat diamondDistance(vec2 p) {\n    \n    const float aspect = 1.2;\n    return abs(p.x) + abs(p.y) / aspect - 0.8;\n}\n\nfloat pentagonDistance(vec2 p) {\n    \n    const vec3 k = vec3(0.809016994, 0.587785252, 0.726542528);\n    p.x = abs(p.x);\n\n    \n    p -= 2.0 * min(dot(vec2(-k.x, k.y), p), 0.0) * vec2(-k.x, k.y);\n    p -= 2.0 * min(dot(vec2( k.x, k.y), p), 0.0) * vec2( k.x, k.y);\n\n    \n    p -= vec2(clamp(p.x, -k.z * k.x, k.z * k.x), k.z);\n\n    \n    return length(p) * sign(p.y);\n}\n\nfloat hexagonDistance(vec2 p) {\n    const vec3 k = vec3(-0.866025404, 0.5, 0.577350269);\n    p = abs(p);\n    p -= 2.0 * min(dot(k.xy, p), 0.0) * k.xy;\n    p -= vec2(clamp(p.x, -k.z * 0.8, k.z * 0.8), 0.8);\n    return length(p) * sign(p.y);\n}\n\nfloat starDistance(vec2 p) {\n    \n    \n    const float r  = 0.9;\n    const float rf = 0.45;\n\n    \n    const vec2 k1 = vec2(0.809016994, -0.587785252);\n    const vec2 k2 = vec2(-k1.x, k1.y);\n\n    \n    p.x = abs(p.x);\n    p -= 2.0 * max(dot(k1, p), 0.0) * k1;\n    p -= 2.0 * max(dot(k2, p), 0.0) * k2;\n    p.x = abs(p.x);\n\n    \n    p.y -= r;\n\n    \n    vec2 ba = rf * vec2(-k1.y, k1.x) - vec2(0.0, 1.0);\n    \n    float h = clamp(dot(p, ba) / dot(ba, ba), 0.0, r);\n\n    \n    return length(p - ba * h) * sign(p.y * ba.x - p.x * ba.y);\n}\n\nfloat crossDistance(vec2 p) {\n    \n    \n    \n    p = abs(p);\n    if (p.y > p.x) p = p.yx;       \n\n    vec2 q = p - vec2(0.8, 0.3);   \n\n    \n    return length(max(q, 0.0)) + min(max(q.x, q.y), 0.0);\n}\n\nfloat getShapeDistance(vec2 p, float shape) {\n    if (shape == SQUARE) return squareDistance(p);\n    else if (shape == TRIANGLE) return triangleDistance(p);\n    else if (shape == DIAMOND) return diamondDistance(p);\n    else if (shape == PENTAGON) return pentagonDistance(p);\n    else if (shape == HEXAGON) return hexagonDistance(p);\n    else if (shape == STAR) return starDistance(p);\n    else if (shape == CROSS) return crossDistance(p);\n    else return circleDistance(p); \n}\n\nvoid main() {\n    \n    if (shapeColor.a == 0.0 && imageAtlasUV.x == -1.0) {\n        discard;\n    }\n\n    \n    if (pointShape == NONE && imageAtlasUV.x == -1.0) {\n        discard;\n    }\n\n    \n    vec2 pointCoord = 2.0 * gl_PointCoord - 1.0;\n\n    vec4 finalShapeColor = vec4(0.0);\n    vec4 finalImageColor = vec4(0.0);\n    \n    \n    if (pointShape != NONE) {\n        \n        vec2 shapeCoord = pointCoord;\n        if (overallSize > shapeSize && shapeSize > 0.0) {\n            \n            float scale = shapeSize / overallSize;\n            shapeCoord = pointCoord / scale;\n        }\n        \n        float opacity;\n        if (pointShape == CIRCLE) {\n            \n            float pointCenterDistance = dot(shapeCoord, shapeCoord);\n            opacity = 1.0 - smoothstep(smoothing, 1.0, pointCenterDistance);\n        } else {\n            \n            float shapeDistance = getShapeDistance(shapeCoord, pointShape);\n            opacity = 1.0 - smoothstep(-0.01, 0.01, shapeDistance);\n        }\n        opacity *= shapeColor.a;\n\n        finalShapeColor = vec4(shapeColor.rgb, opacity);\n    }\n\n    \n    if (imageAtlasUV.x != -1.0) {\n        \n        vec2 imageCoord = pointCoord;\n        if (overallSize > imageSizeVarying && imageSizeVarying > 0.0) {\n            \n            float scale = imageSizeVarying / overallSize;\n            imageCoord = pointCoord / scale;\n            \n            \n            if (abs(imageCoord.x) > 1.0 || abs(imageCoord.y) > 1.0) {\n                \n                finalImageColor = vec4(0.0);\n            } else {\n                \n                vec2 atlasUV = mix(imageAtlasUV.xy, imageAtlasUV.zw, (imageCoord + 1.0) * 0.5);\n                vec4 imageColor = texture2D(imageAtlasTexture, atlasUV);\n                finalImageColor = applyGreyoutToImage(imageColor);\n            }\n        } else {\n            \n            \n            vec2 atlasUV = mix(imageAtlasUV.xy, imageAtlasUV.zw, (imageCoord + 1.0) * 0.5);\n            vec4 imageColor = texture2D(imageAtlasTexture, atlasUV);\n            finalImageColor = applyGreyoutToImage(imageColor);\n        }\n    }\n\n    float finalPointAlpha = max(finalShapeColor.a, finalImageColor.a);\n    if (isGreyedOut > 0.0 && greyoutOpacity != -1.0) {\n        finalPointAlpha *= greyoutOpacity;\n    } else {\n        finalPointAlpha *= pointOpacity;\n    }\n\n    \n    gl_FragColor = vec4(\n        mix(finalShapeColor.rgb, finalImageColor.rgb, finalImageColor.a),\n        finalPointAlpha\n    );\n}`,t9=`#ifdef GL_ES\nprecision highp float;\n#endif\n\nattribute vec2 pointIndices;\nattribute float size;\nattribute vec4 color;\nattribute float shape;\nattribute float imageIndex;\nattribute float imageSize;\n\nuniform sampler2D positionsTexture;\nuniform sampler2D pointGreyoutStatus;\nuniform sampler2D imageAtlasCoords;\nuniform float ratio;\nuniform mat3 transformationMatrix;\nuniform float pointsTextureSize;\nuniform float sizeScale;\nuniform float spaceSize;\nuniform vec2 screenSize;\n\nuniform vec4 greyoutColor;\nuniform vec4 backgroundColor;\nuniform bool scalePointsOnZoom;\nuniform float maxPointSize;\nuniform bool isDarkenGreyout;\nuniform bool skipSelected;\nuniform bool skipUnselected;\nuniform bool hasImages;\nuniform float imageCount;\nuniform float imageAtlasCoordsTextureSize;\n\nvarying float pointShape;\nvarying float isGreyedOut;\nvarying vec4 shapeColor;\nvarying vec4 imageAtlasUV;\nvarying float shapeSize;\nvarying float imageSizeVarying;\nvarying float overallSize;\n\nfloat calculatePointSize(float size) {\n  float pSize;\n  if (scalePointsOnZoom) { \n    pSize = size * ratio * transformationMatrix[0][0];\n  } else {\n    pSize = size * ratio * min(5.0, max(1.0, transformationMatrix[0][0] * 0.01));\n  }\n\n  return min(pSize, maxPointSize * ratio);\n}\n\nvoid main() {    \n  \n  vec4 greyoutStatus = texture2D(pointGreyoutStatus, (pointIndices + 0.5) / pointsTextureSize);\n  isGreyedOut = greyoutStatus.r;\n  bool isSelected = greyoutStatus.r == 0.0;\n  \n  \n  if (skipSelected && isSelected) {\n    gl_Position = vec4(2.0, 2.0, 2.0, 1.0); \n    gl_PointSize = 0.0;\n    return;\n  }\n  if (skipUnselected && !isSelected) {\n    gl_Position = vec4(2.0, 2.0, 2.0, 1.0); \n    gl_PointSize = 0.0;\n    return;\n  }\n  \n  \n  vec4 pointPosition = texture2D(positionsTexture, (pointIndices + 0.5) / pointsTextureSize);\n  vec2 point = pointPosition.rg;\n\n  \n  vec2 normalizedPosition = 2.0 * point / spaceSize - 1.0;\n  normalizedPosition *= spaceSize / screenSize;\n  vec3 finalPosition = transformationMatrix * vec3(normalizedPosition, 1);\n  gl_Position = vec4(finalPosition.rg, 0, 1);\n\n  \n  float shapeSizeValue = calculatePointSize(size * sizeScale);\n  float imageSizeValue = calculatePointSize(imageSize * sizeScale);\n  \n  \n  float overallSizeValue = max(shapeSizeValue, imageSizeValue);\n  gl_PointSize = overallSizeValue;\n\n  \n  shapeSize = shapeSizeValue;\n  imageSizeVarying = imageSizeValue;\n  overallSize = overallSizeValue;\n\n  shapeColor = color;\n  pointShape = shape;\n\n  \n  if (isGreyedOut > 0.0) {\n    if (greyoutColor[0] != -1.0) {\n      shapeColor = greyoutColor;\n    } else {\n      \n      float blendFactor = 0.65; \n      \n      if (isDarkenGreyout) {\n        \n        shapeColor.rgb = mix(shapeColor.rgb, vec3(0.2), blendFactor);\n      } else {\n        \n        shapeColor.rgb = mix(shapeColor.rgb, max(backgroundColor.rgb, vec3(0.8)), blendFactor);\n      }\n    }\n  }\n\n  if (!hasImages || imageIndex < 0.0 || imageIndex >= imageCount) {\n    imageAtlasUV = vec4(-1.0);\n    return;\n  }\n  \n  float atlasCoordIndex = imageIndex;\n  \n  float texX = mod(atlasCoordIndex, imageAtlasCoordsTextureSize);\n  float texY = floor(atlasCoordIndex / imageAtlasCoordsTextureSize);\n  \n  vec2 atlasCoordTexCoord = (vec2(texX, texY) + 0.5) / imageAtlasCoordsTextureSize;\n  vec4 atlasCoords = texture2D(imageAtlasCoords, atlasCoordTexCoord);\n  imageAtlasUV = atlasCoords;\n}`,i9=`#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D positionsTexture;\nuniform sampler2D pointSize;\nuniform float sizeScale;\nuniform float spaceSize;\nuniform vec2 screenSize;\nuniform float ratio;\nuniform mat3 transformationMatrix;\nuniform vec2 selection0;\nuniform vec2 selection1;\nuniform bool scalePointsOnZoom;\nuniform float maxPointSize;\n\nvarying vec2 textureCoords;\n\nfloat pointSizeF(float size) {\n  float pSize;\n  if (scalePointsOnZoom) { \n    pSize = size * ratio * transformationMatrix[0][0];\n  } else {\n    pSize = size * ratio * min(5.0, max(1.0, transformationMatrix[0][0] * 0.01));\n  }\n  return min(pSize, maxPointSize * ratio);\n}\n\nvoid main() {\n  vec4 pointPosition = texture2D(positionsTexture, textureCoords);\n  vec2 p = 2.0 * pointPosition.rg / spaceSize - 1.0;\n  p *= spaceSize / screenSize;\n  vec3 final = transformationMatrix * vec3(p, 1);\n\n  vec4 pSize = texture2D(pointSize, textureCoords);\n  float size = pSize.r * sizeScale;\n\n  float left = 2.0 * (selection0.x - 0.5 * pointSizeF(size)) / screenSize.x - 1.0;\n  float right = 2.0 * (selection1.x + 0.5 * pointSizeF(size)) / screenSize.x - 1.0;\n  float top =  2.0 * (selection0.y - 0.5 * pointSizeF(size)) / screenSize.y - 1.0;\n  float bottom =  2.0 * (selection1.y + 0.5 * pointSizeF(size)) / screenSize.y - 1.0;\n\n  gl_FragColor = vec4(0.0, 0.0, pointPosition.rg);\n  if (final.x >= left && final.x <= right && final.y >= top && final.y <= bottom) {\n    gl_FragColor.r = 1.0;\n  }\n}`,n9=`#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D positionsTexture;\nuniform sampler2D polygonPathTexture; \nuniform int polygonPathLength;\nuniform float spaceSize;\nuniform vec2 screenSize;\nuniform mat3 transformationMatrix;\n\nvarying vec2 textureCoords;\n\nvec2 getPolygonPoint(sampler2D pathTexture, int index, int pathLength) {\n  if (index >= pathLength) return vec2(0.0);\n  \n  \n  int textureSize = int(ceil(sqrt(float(pathLength))));\n  int x = index - (index / textureSize) * textureSize;\n  int y = index / textureSize;\n  \n  vec2 texCoord = (vec2(float(x), float(y)) + 0.5) / float(textureSize);\n  vec4 pathData = texture2D(pathTexture, texCoord);\n  \n  return pathData.xy;\n}\n\nbool pointInPolygon(vec2 point, sampler2D pathTexture, int pathLength) {\n  bool inside = false;\n  \n  for (int i = 0; i < 2048; i++) {\n    if (i >= pathLength) break;\n    \n    int j = int(mod(float(i + 1), float(pathLength)));\n    \n    vec2 pi = getPolygonPoint(pathTexture, i, pathLength);\n    vec2 pj = getPolygonPoint(pathTexture, j, pathLength);\n    \n    if (((pi.y > point.y) != (pj.y > point.y)) &&\n        (point.x < (pj.x - pi.x) * (point.y - pi.y) / (pj.y - pi.y) + pi.x)) {\n      inside = !inside;\n    }\n  }\n  \n  return inside;\n}\n\nvoid main() {\n  vec4 pointPosition = texture2D(positionsTexture, textureCoords);\n  vec2 p = 2.0 * pointPosition.rg / spaceSize - 1.0;\n  p *= spaceSize / screenSize;\n  vec3 final = transformationMatrix * vec3(p, 1);\n\n  \n  vec2 screenPos = (final.xy + 1.0) * screenSize / 2.0;\n  \n  gl_FragColor = vec4(0.0, 0.0, pointPosition.rg);\n  \n  \n  if (pointInPolygon(screenPos, polygonPathTexture, polygonPathLength)) {\n    gl_FragColor.r = 1.0;\n  }\n}`,o9=`precision mediump float;\n\nuniform float width;\n\nvarying vec2 vertexPosition;\nvarying float pointOpacity;\nvarying vec3 rgbColor;\n\nconst float smoothing = 1.05;\n\nvoid main () {\n  float r = dot(vertexPosition, vertexPosition);\n  float opacity = smoothstep(r, r * smoothing, 1.0);\n  float stroke = smoothstep(width, width * smoothing, r);\n  gl_FragColor = vec4(rgbColor, opacity * stroke * pointOpacity);\n}`,r9=`precision mediump float;\n\nattribute vec2 vertexCoord;\n\nuniform sampler2D positionsTexture;\nuniform sampler2D pointGreyoutStatusTexture;\nuniform float size;\nuniform mat3 transformationMatrix;\nuniform float pointsTextureSize;\nuniform float sizeScale;\nuniform float spaceSize;\nuniform vec2 screenSize;\nuniform bool scalePointsOnZoom;\nuniform float pointIndex;\nuniform float maxPointSize;\nuniform vec4 color;\nuniform float universalPointOpacity;\nuniform float greyoutOpacity;\nuniform bool isDarkenGreyout;\nuniform vec4 backgroundColor;\nuniform vec4 greyoutColor;\nvarying vec2 vertexPosition;\nvarying float pointOpacity;\nvarying vec3 rgbColor;\n\nfloat calculatePointSize(float size) {\n  float pSize;\n  if (scalePointsOnZoom) { \n    pSize = size * transformationMatrix[0][0];\n  } else {\n    pSize = size * min(5.0, max(1.0, transformationMatrix[0][0] * 0.01));\n  }\n  return min(pSize, maxPointSize);\n}\n\nconst float relativeRingRadius = 1.3;\n\nvoid main () {\n  vertexPosition = vertexCoord;\n\n  vec2 textureCoordinates = vec2(mod(pointIndex, pointsTextureSize), floor(pointIndex / pointsTextureSize)) + 0.5;\n  vec4 pointPosition = texture2D(positionsTexture, textureCoordinates / pointsTextureSize);\n\n  rgbColor = color.rgb;\n  pointOpacity = color.a * universalPointOpacity;\n  vec4 greyoutStatus = texture2D(pointGreyoutStatusTexture, textureCoordinates / pointsTextureSize);\n  if (greyoutStatus.r > 0.0) {\n    if (greyoutColor[0] != -1.0) {\n      rgbColor = greyoutColor.rgb;\n      pointOpacity = greyoutColor.a;\n    } else {\n      \n      float blendFactor = 0.65; \n      \n      if (isDarkenGreyout) {\n        \n        rgbColor = mix(rgbColor, vec3(0.2), blendFactor);\n      } else {\n        \n        rgbColor = mix(rgbColor, max(backgroundColor.rgb, vec3(0.8)), blendFactor);\n      }\n    }\n\n    if (greyoutOpacity != -1.0) {\n      pointOpacity *= greyoutOpacity;\n    }\n  }\n\n  \n  float pointSize = (calculatePointSize(size * sizeScale) * relativeRingRadius) / transformationMatrix[0][0];\n  float radius = pointSize * 0.5;\n\n  \n  vec2 a = pointPosition.xy;\n  vec2 b = pointPosition.xy + vec2(0.0, radius);\n  vec2 xBasis = b - a;\n  vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));\n  vec2 pointPositionInScreenSpace = a + xBasis * vertexCoord.x + yBasis * radius * vertexCoord.y;\n\n  \n  vec2 p = 2.0 * pointPositionInScreenSpace / spaceSize - 1.0;\n  p *= spaceSize / screenSize;\n  vec3 final =  transformationMatrix * vec3(p, 1);\n  \n  gl_Position = vec4(final.rg, 0, 1);\n}`,s9=`#ifdef GL_ES\nprecision highp float;\n#endif\n\nvarying vec4 rgba;\n\nvoid main() {\n  gl_FragColor = rgba;\n}`,a9=`#ifdef GL_ES\nprecision highp float;\n#endif\n\nattribute float size;\n\nuniform sampler2D positionsTexture;\nuniform float pointsTextureSize;\nuniform float sizeScale;\nuniform float spaceSize;\nuniform vec2 screenSize;\nuniform float ratio;\nuniform mat3 transformationMatrix;\nuniform vec2 mousePosition;\nuniform bool scalePointsOnZoom;\nuniform float maxPointSize;\n\nattribute vec2 pointIndices;\n\nvarying vec4 rgba;\n\nfloat calculatePointSize(float size) {\n  float pSize;\n  if (scalePointsOnZoom) { \n    pSize = size * ratio * transformationMatrix[0][0];\n  } else {\n    pSize = size * ratio * min(5.0, max(1.0, transformationMatrix[0][0] * 0.01));\n  }\n  return min(pSize, maxPointSize * ratio);\n}\n\nfloat euclideanDistance (float x1, float x2, float y1, float y2) {\n  return sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));\n}\n\nvoid main() {\n  vec4 pointPosition = texture2D(positionsTexture, (pointIndices + 0.5) / pointsTextureSize);\n\n  \n  vec2 normalizedPoint = 2.0 * pointPosition.rg / spaceSize - 1.0;\n  normalizedPoint *= spaceSize / screenSize;\n  vec3 finalPosition = transformationMatrix * vec3(normalizedPoint, 1);\n\n  float pointRadius = 0.5 * calculatePointSize(size * sizeScale);\n\n  vec2 pointScreenPosition = (finalPosition.xy + 1.0) * screenSize / 2.0;\n  rgba = vec4(0.0);\n  gl_Position = vec4(0.5, 0.5, 0.0, 1.0);\n  \n  if (euclideanDistance(pointScreenPosition.x, mousePosition.x, pointScreenPosition.y, mousePosition.y) < pointRadius / ratio) {\n    float index = pointIndices.g * pointsTextureSize + pointIndices.r;\n    rgba = vec4(index, size, pointPosition.xy);\n    gl_Position = vec4(-0.5, -0.5, 0.0, 1.0);\n  }\n\n  gl_PointSize = 1.0;\n}`,l9=`#ifdef GL_ES\nprecision highp float;\n#endif\n\nvarying vec4 rgba;\n\nvoid main() {\n  gl_FragColor = rgba;\n}`,c9=`#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D positionsTexture;\nuniform float pointsTextureSize;\nuniform float spaceSize;\nuniform vec2 screenSize;\nuniform mat3 transformationMatrix;\n\nattribute vec2 pointIndices;\n\nvarying vec4 rgba;\n\nvoid main() {\n  vec4 pointPosition = texture2D(positionsTexture, (pointIndices + 0.5) / pointsTextureSize);\n  vec2 p = 2.0 * pointPosition.rg / spaceSize - 1.0;\n  p *= spaceSize / screenSize;\n  vec3 final = transformationMatrix * vec3(p, 1);\n\n  vec2 pointScreenPosition = (final.xy + 1.0) * screenSize / 2.0;\n  float index = pointIndices.g * pointsTextureSize + pointIndices.r;\n  rgba = vec4(index, 1.0, pointPosition.xy);\n  float i = (pointScreenPosition.x + 0.5) / screenSize.x;\n  float j = (pointScreenPosition.y + 0.5) / screenSize.y;\n  gl_Position = vec4(2.0 * vec2(i, j) - 1.0, 0.0, 1.0);\n\n  gl_PointSize = 1.0;\n}`,u9=`#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D positionsTexture;\nuniform sampler2D velocity;\nuniform float friction;\nuniform float spaceSize;\n\nvarying vec2 textureCoords;\n\nvoid main() {\n  vec4 pointPosition = texture2D(positionsTexture, textureCoords);\n  vec4 pointVelocity = texture2D(velocity, textureCoords);\n\n  \n  pointVelocity.rg *= friction;\n\n  pointPosition.rg += pointVelocity.rg;\n\n  pointPosition.r = clamp(pointPosition.r, 0.0, spaceSize);\n  pointPosition.g = clamp(pointPosition.g, 0.0, spaceSize);\n  \n  gl_FragColor = pointPosition;\n}`,d9=`#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D positionsTexture;\nuniform sampler2D trackedIndices;\nuniform float pointsTextureSize;\n\nvarying vec2 textureCoords;\n\nvoid main() {\n  vec4 trackedPointIndices = texture2D(trackedIndices, textureCoords);\n  if (trackedPointIndices.r < 0.0) discard;\n  vec4 pointPosition = texture2D(positionsTexture, (trackedPointIndices.rg + 0.5) / pointsTextureSize);\n\n  gl_FragColor = vec4(pointPosition.rg, 1.0, 1.0);\n}`,h9=`#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D positionsTexture;\nuniform vec2 mousePos;\nuniform float index;\n\nvarying vec2 textureCoords;\n\nvoid main() {\n  vec4 pointPosition = texture2D(positionsTexture, textureCoords);\n\n  \n  if (index >= 0.0 && index == pointPosition.b) {\n    pointPosition.rg = mousePos.rg;\n  }\n\n  gl_FragColor = pointPosition;\n}`;function p9(t,e=16384){if(!(t!=null&&t.length))return null;let i=0;for(let c of t){let u=Math.max(c.width,c.height);u>i&&(i=u)}if(i===0)return console.warn(\"Invalid image dimensions: all images have zero width or height\"),null;let n=i,o=Math.ceil(Math.sqrt(t.length)),r=o*i,s=1;r>e&&(s=e/r,i=Math.max(1,Math.floor(i*s)),r=Math.max(1,Math.floor(r*s)),console.warn(`\\u{1F5BC}\\uFE0F  Atlas scaling required: Original size ${(n*o).toLocaleString()}px exceeds WebGL limit ${e.toLocaleString()}px. Scaling down to ${r.toLocaleString()}px (${Math.round(s*100)}% of original quality)`));let a=new Uint8Array(r*r*4).fill(0),l=new Float32Array(o*o*4).fill(-1);for(let[c,u]of t.entries()){let d=u.width,h=u.height;if(d===0||h===0)continue;let f=Math.min(1,i/Math.max(d,h)),v=Math.floor(d*f),L=Math.floor(h*f),A=Math.floor(c/o),I=c%o*i,B=A*i;l[c*4]=I/r,l[c*4+1]=B/r,l[c*4+2]=(I+v)/r,l[c*4+3]=(B+L)/r;for(let F=0;F<L;F++)for(let k=0;k<v;k++){let N=Math.floor(k*(d/v)),Y=(Math.floor(F*(h/L))*d+N)*4,z=((B+F)*r+(I+k))*4;a[z]=u.data[Y]??0,a[z+1]=u.data[Y+1]??0,a[z+2]=u.data[Y+2]??0,a[z+3]=u.data[Y+3]??255}}return{atlasData:a,atlasSize:r,atlasCoords:l,atlasCoordsSize:o}}var $w=class extends Dr{constructor(){super(...arguments),this.imageCount=0,this.isPositionsUpToDate=!1,this.polygonPathLength=0}updatePositions(){let{reglInstance:e,store:i,data:n,config:{rescalePositions:o,enableSimulation:r}}=this,{pointsTextureSize:s}=i;if(!s||!n.pointPositions||n.pointsNumber===void 0)return;let a=new Float32Array(s*s*4),l=o;o===void 0&&!r&&(l=!0),this.shouldSkipRescale&&(l=!1),l?this.rescaleInitialNodePositions():this.shouldSkipRescale||(this.scaleX=void 0,this.scaleY=void 0),this.shouldSkipRescale=void 0;for(let c=0;c<n.pointsNumber;++c)a[c*4+0]=n.pointPositions[c*2+0],a[c*4+1]=n.pointPositions[c*2+1],a[c*4+2]=c;this.currentPositionFbo||(this.currentPositionFbo=e.framebuffer()),this.currentPositionFbo({color:e.texture({data:a,shape:[s,s,4],type:\"float\"}),depth:!1,stencil:!1}),this.previousPositionFbo||(this.previousPositionFbo=e.framebuffer()),this.previousPositionFbo({color:e.texture({data:a,shape:[s,s,4],type:\"float\"}),depth:!1,stencil:!1}),this.config.enableSimulation&&(this.velocityFbo||(this.velocityFbo=e.framebuffer()),this.velocityFbo({color:e.texture({data:new Float32Array(s*s*4).fill(0),shape:[s,s,4],type:\"float\"}),depth:!1,stencil:!1})),this.selectedTexture||(this.selectedTexture=e.texture()),this.selectedTexture({data:a,shape:[s,s,4],type:\"float\"}),this.selectedFbo||(this.selectedFbo=e.framebuffer()),this.selectedFbo({color:this.selectedTexture,depth:!1,stencil:!1}),this.hoveredFbo||(this.hoveredFbo=e.framebuffer()),this.hoveredFbo({shape:[2,2],colorType:\"float\",depth:!1,stencil:!1}),this.drawPointIndices||(this.drawPointIndices=e.buffer(0)),this.drawPointIndices(kc(i.pointsTextureSize)),this.hoveredPointIndices||(this.hoveredPointIndices=e.buffer(0)),this.hoveredPointIndices(kc(i.pointsTextureSize)),this.sampledPointIndices||(this.sampledPointIndices=e.buffer(0)),this.sampledPointIndices(kc(i.pointsTextureSize)),this.updateGreyoutStatus(),this.updateSampledPointsGrid(),this.trackPointsByIndices()}initPrograms(){let{reglInstance:e,config:i,store:n,data:o}=this;i.enableSimulation&&(this.updatePositionCommand||(this.updatePositionCommand=e({frag:u9,vert:dn,framebuffer:()=>this.currentPositionFbo,primitive:\"triangle strip\",count:4,attributes:{vertexCoord:cn(e)},uniforms:{positionsTexture:()=>this.previousPositionFbo,velocity:()=>this.velocityFbo,friction:()=>i.simulationFriction,spaceSize:()=>n.adjustedSpaceSize}}))),this.dragPointCommand||(this.dragPointCommand=e({frag:h9,vert:dn,framebuffer:()=>this.currentPositionFbo,primitive:\"triangle strip\",count:4,attributes:{vertexCoord:cn(e)},uniforms:{positionsTexture:()=>this.previousPositionFbo,mousePos:()=>n.mousePosition,index:()=>{var r;return((r=n.hoveredPoint)==null?void 0:r.index)??-1}}})),this.drawCommand||(this.drawCommand=e({frag:e9,vert:t9,primitive:\"points\",count:()=>o.pointsNumber??0,attributes:{pointIndices:{buffer:this.drawPointIndices,size:2},size:{buffer:()=>this.sizeBuffer,size:1},color:{buffer:()=>this.colorBuffer,size:4},shape:{buffer:()=>this.shapeBuffer,size:1},imageIndex:{buffer:()=>this.imageIndicesBuffer,size:1},imageSize:{buffer:()=>this.imageSizesBuffer,size:1}},uniforms:{positionsTexture:()=>this.currentPositionFbo,pointGreyoutStatus:()=>this.greyoutStatusFbo,ratio:()=>i.pixelRatio,sizeScale:()=>i.pointSizeScale,pointsTextureSize:()=>n.pointsTextureSize,transformationMatrix:()=>n.transform,spaceSize:()=>n.adjustedSpaceSize,screenSize:()=>n.screenSize,pointOpacity:()=>i.pointOpacity,greyoutOpacity:()=>i.pointGreyoutOpacity??-1,greyoutColor:()=>n.greyoutPointColor,backgroundColor:()=>n.backgroundColor,isDarkenGreyout:()=>n.isDarkenGreyout,scalePointsOnZoom:()=>i.scalePointsOnZoom,maxPointSize:()=>n.maxPointSize,skipSelected:e.prop(\"skipSelected\"),skipUnselected:e.prop(\"skipUnselected\"),imageAtlasTexture:()=>this.imageAtlasTexture,imageAtlasCoords:()=>this.imageAtlasCoordsTexture,hasImages:()=>this.imageCount>0,imageCount:()=>this.imageCount,imageAtlasCoordsTextureSize:()=>this.imageAtlasCoordsTextureSize},blend:{enable:!0,func:{dstRGB:\"one minus src alpha\",srcRGB:\"src alpha\",dstAlpha:\"one minus src alpha\",srcAlpha:\"one\"},equation:{rgb:\"add\",alpha:\"add\"}},depth:{enable:!1,mask:!1}})),this.findPointsOnAreaSelectionCommand||(this.findPointsOnAreaSelectionCommand=e({frag:i9,vert:dn,framebuffer:()=>this.selectedFbo,primitive:\"triangle strip\",count:4,attributes:{vertexCoord:cn(e)},uniforms:{positionsTexture:()=>this.currentPositionFbo,pointSize:()=>this.sizeFbo,spaceSize:()=>n.adjustedSpaceSize,screenSize:()=>n.screenSize,sizeScale:()=>i.pointSizeScale,transformationMatrix:()=>n.transform,ratio:()=>i.pixelRatio,selection0:()=>n.selectedArea[0],selection1:()=>n.selectedArea[1],scalePointsOnZoom:()=>i.scalePointsOnZoom,maxPointSize:()=>n.maxPointSize}})),this.findPointsOnPolygonSelectionCommand||(this.findPointsOnPolygonSelectionCommand=e({frag:n9,vert:dn,framebuffer:()=>this.selectedFbo,primitive:\"triangle strip\",count:4,attributes:{vertexCoord:cn(e)},uniforms:{positionsTexture:()=>this.currentPositionFbo,spaceSize:()=>n.adjustedSpaceSize,screenSize:()=>n.screenSize,transformationMatrix:()=>n.transform,polygonPathTexture:()=>this.polygonPathTexture,polygonPathLength:()=>this.polygonPathLength}})),this.clearHoveredFboCommand||(this.clearHoveredFboCommand=e({frag:Ic,vert:dn,framebuffer:this.hoveredFbo,primitive:\"triangle strip\",count:4,attributes:{vertexCoord:cn(e)}})),this.findHoveredPointCommand||(this.findHoveredPointCommand=e({frag:s9,vert:a9,primitive:\"points\",count:()=>o.pointsNumber??0,framebuffer:()=>this.hoveredFbo,attributes:{pointIndices:{buffer:this.hoveredPointIndices,size:2},size:{buffer:()=>this.sizeBuffer,size:1}},uniforms:{positionsTexture:()=>this.currentPositionFbo,ratio:()=>i.pixelRatio,sizeScale:()=>i.pointSizeScale,pointsTextureSize:()=>n.pointsTextureSize,transformationMatrix:()=>n.transform,spaceSize:()=>n.adjustedSpaceSize,screenSize:()=>n.screenSize,scalePointsOnZoom:()=>i.scalePointsOnZoom,mousePosition:()=>n.screenMousePosition,maxPointSize:()=>n.maxPointSize},depth:{enable:!1,mask:!1}})),this.clearSampledPointsFboCommand||(this.clearSampledPointsFboCommand=e({frag:Ic,vert:dn,framebuffer:()=>this.sampledPointsFbo,primitive:\"triangle strip\",count:4,attributes:{vertexCoord:cn(e)}})),this.fillSampledPointsFboCommand||(this.fillSampledPointsFboCommand=e({frag:l9,vert:c9,primitive:\"points\",count:()=>o.pointsNumber??0,framebuffer:()=>this.sampledPointsFbo,attributes:{pointIndices:{buffer:this.sampledPointIndices,size:2}},uniforms:{positionsTexture:()=>this.currentPositionFbo,pointsTextureSize:()=>n.pointsTextureSize,transformationMatrix:()=>n.transform,spaceSize:()=>n.adjustedSpaceSize,screenSize:()=>n.screenSize},depth:{enable:!1,mask:!1}})),this.drawHighlightedCommand||(this.drawHighlightedCommand=e({frag:o9,vert:r9,attributes:{vertexCoord:cn(e)},primitive:\"triangle strip\",count:4,uniforms:{color:e.prop(\"color\"),width:e.prop(\"width\"),pointIndex:e.prop(\"pointIndex\"),size:e.prop(\"size\"),positionsTexture:()=>this.currentPositionFbo,sizeScale:()=>i.pointSizeScale,pointsTextureSize:()=>n.pointsTextureSize,transformationMatrix:()=>n.transform,spaceSize:()=>n.adjustedSpaceSize,screenSize:()=>n.screenSize,scalePointsOnZoom:()=>i.scalePointsOnZoom,maxPointSize:()=>n.maxPointSize,pointGreyoutStatusTexture:()=>this.greyoutStatusFbo,universalPointOpacity:()=>i.pointOpacity,greyoutOpacity:()=>i.pointGreyoutOpacity??-1,isDarkenGreyout:()=>n.isDarkenGreyout,backgroundColor:()=>n.backgroundColor,greyoutColor:()=>n.greyoutPointColor},blend:{enable:!0,func:{dstRGB:\"one minus src alpha\",srcRGB:\"src alpha\",dstAlpha:\"one minus src alpha\",srcAlpha:\"one\"},equation:{rgb:\"add\",alpha:\"add\"}},depth:{enable:!1,mask:!1}})),this.trackPointsCommand||(this.trackPointsCommand=e({frag:d9,vert:dn,framebuffer:()=>this.trackedPositionsFbo,primitive:\"triangle strip\",count:4,attributes:{vertexCoord:cn(e)},uniforms:{positionsTexture:()=>this.currentPositionFbo,trackedIndices:()=>this.trackedIndicesFbo,pointsTextureSize:()=>n.pointsTextureSize}}))}updateColor(){let{reglInstance:e,store:{pointsTextureSize:i},data:n}=this;i&&(this.colorBuffer||(this.colorBuffer=e.buffer(0)),this.colorBuffer(n.pointColors))}updateGreyoutStatus(){let{reglInstance:e,store:{selectedIndices:i,pointsTextureSize:n}}=this;if(!n)return;let o=new Float32Array(n*n*4).fill(i?1:0);if(i)for(let r of i)o[r*4]=0;this.greyoutStatusTexture||(this.greyoutStatusTexture=e.texture()),this.greyoutStatusTexture({data:o,width:n,height:n,type:\"float\"}),this.greyoutStatusFbo||(this.greyoutStatusFbo=e.framebuffer()),this.greyoutStatusFbo({color:this.greyoutStatusTexture,depth:!1,stencil:!1})}updateSize(){let{reglInstance:e,store:{pointsTextureSize:i},data:n}=this;if(!i||n.pointsNumber===void 0||n.pointSizes===void 0)return;this.sizeBuffer||(this.sizeBuffer=e.buffer(0)),this.sizeBuffer(n.pointSizes);let o=new Float32Array(i*i*4);for(let r=0;r<n.pointsNumber;r++)o[r*4]=n.pointSizes[r];this.sizeTexture||(this.sizeTexture=e.texture()),this.sizeTexture({data:o,width:i,height:i,type:\"float\"}),this.sizeFbo||(this.sizeFbo=e.framebuffer()),this.sizeFbo({color:this.sizeTexture,depth:!1,stencil:!1})}updateShape(){let{reglInstance:e,data:i}=this;i.pointsNumber===void 0||i.pointShapes===void 0||(this.shapeBuffer||(this.shapeBuffer=e.buffer(0)),this.shapeBuffer(i.pointShapes))}updateImageIndices(){let{reglInstance:e,data:i}=this;i.pointsNumber===void 0||i.pointImageIndices===void 0||(this.imageIndicesBuffer||(this.imageIndicesBuffer=e.buffer(0)),this.imageIndicesBuffer(i.pointImageIndices))}updateImageSizes(){let{reglInstance:e,data:i}=this;i.pointsNumber===void 0||i.pointImageSizes===void 0||(this.imageSizesBuffer||(this.imageSizesBuffer=e.buffer(0)),this.imageSizesBuffer(i.pointImageSizes))}createAtlas(){var e;let{reglInstance:i,data:n,store:o}=this;if(this.imageAtlasTexture||(this.imageAtlasTexture=i.texture()),this.imageAtlasCoordsTexture||(this.imageAtlasCoordsTexture=i.texture()),!((e=n.inputImageData)!=null&&e.length)){this.imageCount=0,this.imageAtlasCoordsTextureSize=0;return}let r=p9(n.inputImageData,o.webglMaxTextureSize);if(!r){console.warn(\"Failed to create atlas from image data\");return}this.imageCount=n.inputImageData.length;let{atlasData:s,atlasSize:a,atlasCoords:l,atlasCoordsSize:c}=r;this.imageAtlasCoordsTextureSize=c,this.imageAtlasTexture({data:s,shape:[a,a,4],type:\"uint8\"}),this.imageAtlasCoordsTexture({data:l,shape:[c,c,4],type:\"float\"})}updateSampledPointsGrid(){let{store:{screenSize:e},config:{pointSamplingDistance:i},reglInstance:n}=this,o=i??Math.min(...e)/2;o===0&&(o=at.pointSamplingDistance);let r=Math.ceil(e[0]/o),s=Math.ceil(e[1]/o);this.sampledPointsFbo||(this.sampledPointsFbo=n.framebuffer()),this.sampledPointsFbo({shape:[r,s],depth:!1,stencil:!1,colorType:\"float\"})}trackPoints(){var e,i;(e=this.trackedIndices)!=null&&e.length&&((i=this.trackPointsCommand)==null||i.call(this))}draw(){var e,i,n,o,r,s,a;let{config:{renderHoveredPointRing:l,pointSize:c},store:u,data:d}=this;this.colorBuffer||this.updateColor(),this.sizeBuffer||this.updateSize(),this.shapeBuffer||this.updateShape(),this.imageIndicesBuffer||this.updateImageIndices(),this.imageSizesBuffer||this.updateImageSizes(),(!this.imageAtlasCoordsTexture||!this.imageAtlasTexture)&&this.createAtlas(),u.selectedIndices&&u.selectedIndices.length>0?((e=this.drawCommand)==null||e.call(this,{skipSelected:!0,skipUnselected:!1}),(i=this.drawCommand)==null||i.call(this,{skipSelected:!1,skipUnselected:!0})):(n=this.drawCommand)==null||n.call(this,{skipSelected:!1,skipUnselected:!1}),l&&u.hoveredPoint&&((r=this.drawHighlightedCommand)==null||r.call(this,{width:.85,color:u.hoveredPointRingColor,pointIndex:u.hoveredPoint.index,size:((o=d.pointSizes)==null?void 0:o[u.hoveredPoint.index])??c})),u.focusedPoint&&((a=this.drawHighlightedCommand)==null||a.call(this,{width:.75,color:u.focusedPointRingColor,pointIndex:u.focusedPoint.index,size:((s=d.pointSizes)==null?void 0:s[u.focusedPoint.index])??c}))}updatePosition(){var e;(e=this.updatePositionCommand)==null||e.call(this),this.swapFbo(),this.isPositionsUpToDate=!1}drag(){var e;(e=this.dragPointCommand)==null||e.call(this),this.swapFbo(),this.isPositionsUpToDate=!1}findPointsOnAreaSelection(){var e;(e=this.findPointsOnAreaSelectionCommand)==null||e.call(this)}findPointsOnPolygonSelection(){var e;(e=this.findPointsOnPolygonSelectionCommand)==null||e.call(this)}updatePolygonPath(e){let{reglInstance:i}=this;if(this.polygonPathLength=e.length,e.length===0){this.polygonPathTexture=void 0,this.polygonPathFbo=void 0;return}let n=Math.ceil(Math.sqrt(e.length)),o=new Float32Array(n*n*4);for(let[r,s]of e.entries()){let[a,l]=s;o[r*4]=a,o[r*4+1]=l,o[r*4+2]=0,o[r*4+3]=0}this.polygonPathTexture||(this.polygonPathTexture=i.texture()),this.polygonPathTexture({data:o,width:n,height:n,type:\"float\"}),this.polygonPathFbo||(this.polygonPathFbo=i.framebuffer()),this.polygonPathFbo({color:this.polygonPathTexture,depth:!1,stencil:!1})}findHoveredPoint(){var e,i;(e=this.clearHoveredFboCommand)==null||e.call(this),(i=this.findHoveredPointCommand)==null||i.call(this)}trackPointsByIndices(e){let{store:{pointsTextureSize:i},reglInstance:n}=this;if(this.trackedIndices=e,this.trackedPositions=void 0,this.isPositionsUpToDate=!1,!(e!=null&&e.length)||!i)return;let o=Math.ceil(Math.sqrt(e.length)),r=new Float32Array(o*o*4).fill(-1);for(let[s,a]of e.entries())a!==void 0&&(r[s*4]=a%i,r[s*4+1]=Math.floor(a/i),r[s*4+2]=0,r[s*4+3]=0);this.trackedIndicesTexture||(this.trackedIndicesTexture=n.texture()),this.trackedIndicesTexture({data:r,width:o,height:o,type:\"float\"}),this.trackedIndicesFbo||(this.trackedIndicesFbo=n.framebuffer()),this.trackedIndicesFbo({color:this.trackedIndicesTexture,depth:!1,stencil:!1}),this.trackedPositionsFbo||(this.trackedPositionsFbo=n.framebuffer()),this.trackedPositionsFbo({shape:[o,o],depth:!1,stencil:!1,colorType:\"float\"}),this.trackPoints()}getTrackedPositionsMap(){if(!this.trackedIndices)return new Map;let{config:{enableSimulation:e},store:{isSimulationRunning:i}}=this;if((!e||!i)&&this.isPositionsUpToDate&&this.trackedPositions)return this.trackedPositions;let n=Mo(this.reglInstance,this.trackedPositionsFbo),o=new Map;for(let r=0;r<n.length/4;r+=1){let s=n[r*4],a=n[r*4+1],l=this.trackedIndices[r];s!==void 0&&a!==void 0&&l!==void 0&&o.set(l,[s,a])}return(!e||!i)&&(this.trackedPositions=o,this.isPositionsUpToDate=!0),o}getSampledPointPositionsMap(){var e,i;let n=new Map;if(!this.sampledPointsFbo)return n;(e=this.clearSampledPointsFboCommand)==null||e.call(this),(i=this.fillSampledPointsFboCommand)==null||i.call(this);let o=Mo(this.reglInstance,this.sampledPointsFbo);for(let r=0;r<o.length/4;r++){let s=o[r*4],a=!!o[r*4+1],l=o[r*4+2],c=o[r*4+3];a&&s!==void 0&&l!==void 0&&c!==void 0&&n.set(s,[l,c])}return n}getSampledPoints(){var e,i;let n=[],o=[];if(!this.sampledPointsFbo)return{indices:n,positions:o};(e=this.clearSampledPointsFboCommand)==null||e.call(this),(i=this.fillSampledPointsFboCommand)==null||i.call(this);let r=Mo(this.reglInstance,this.sampledPointsFbo);for(let s=0;s<r.length/4;s++){let a=r[s*4],l=!!r[s*4+1],c=r[s*4+2],u=r[s*4+3];l&&a!==void 0&&c!==void 0&&u!==void 0&&(n.push(a),o.push(c,u))}return{indices:n,positions:o}}getTrackedPositionsArray(){let e=[];if(!this.trackedIndices)return e;e.length=this.trackedIndices.length*2;let i=Mo(this.reglInstance,this.trackedPositionsFbo);for(let n=0;n<i.length/4;n+=1){let o=i[n*4],r=i[n*4+1],s=this.trackedIndices[n];o!==void 0&&r!==void 0&&s!==void 0&&(e[n*2]=o,e[n*2+1]=r)}return e}swapFbo(){let e=this.previousPositionFbo;this.previousPositionFbo=this.currentPositionFbo,this.currentPositionFbo=e}rescaleInitialNodePositions(){let{config:{spaceSize:e}}=this;if(!this.data.pointPositions||!e)return;let i=this.data.pointPositions,n=i.length/2,o=1/0,r=-1/0,s=1/0,a=-1/0;for(let L=0;L<i.length;L+=2){let A=i[L],I=i[L+1];o=Math.min(o,A),r=Math.max(r,A),s=Math.min(s,I),a=Math.max(a,I)}let l=r-o,c=a-s,u=Math.max(l,c);if(u>e){this.scaleX=void 0,this.scaleY=void 0;return}let d=e*e*.001,h=(n>d?e*Math.max(1.2,Math.sqrt(n)/e):e*.1)/u,f=(u-l)/2*h,v=(u-c)/2*h;this.scaleX=L=>(L-o)*h+f,this.scaleY=L=>(L-s)*h+v;for(let L=0;L<n;L++)this.data.pointPositions[L*2]=this.scaleX(i[L*2]),this.data.pointPositions[L*2+1]=this.scaleY(i[L*2+1])}},YI=typeof Float32Array<\"u\"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function f9(){var t=new YI(9);return YI!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function QI(t,e,i){var n=e[0],o=e[1],r=e[2],s=e[3],a=e[4],l=e[5],c=e[6],u=e[7],d=e[8],h=i[0],f=i[1];return t[0]=n,t[1]=o,t[2]=r,t[3]=s,t[4]=a,t[5]=l,t[6]=h*n+f*s+c,t[7]=h*o+f*a+u,t[8]=h*r+f*l+d,t}function mw(t,e,i){var n=i[0],o=i[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=o*e[3],t[4]=o*e[4],t[5]=o*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function m9(t,e,i){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/i,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}var qw={exports:{}},g9=qw.exports,XI;function _9(){return XI||(XI=1,function(t){(function(e,i,n){function o(l){var c=this,u=a();c.next=function(){var d=2091639*c.s0+c.c*23283064365386963e-26;return c.s0=c.s1,c.s1=c.s2,c.s2=d-(c.c=d|0)},c.c=1,c.s0=u(\" \"),c.s1=u(\" \"),c.s2=u(\" \"),c.s0-=u(l),c.s0<0&&(c.s0+=1),c.s1-=u(l),c.s1<0&&(c.s1+=1),c.s2-=u(l),c.s2<0&&(c.s2+=1),u=null}function r(l,c){return c.c=l.c,c.s0=l.s0,c.s1=l.s1,c.s2=l.s2,c}function s(l,c){var u=new o(l),d=c&&c.state,h=u.next;return h.int32=function(){return u.next()*4294967296|0},h.double=function(){return h()+(h()*2097152|0)*11102230246251565e-32},h.quick=h,d&&(typeof d==\"object\"&&r(d,u),h.state=function(){return r(u,{})}),h}function a(){var l=4022871197,c=function(u){u=String(u);for(var d=0;d<u.length;d++){l+=u.charCodeAt(d);var h=.02519603282416938*l;l=h>>>0,h-=l,h*=l,l=h>>>0,h-=l,l+=h*4294967296}return(l>>>0)*23283064365386963e-26};return c}i&&i.exports?i.exports=s:this.alea=s})(g9,t)}(qw)),qw.exports}var Gw={exports:{}},y9=Gw.exports,KI;function b9(){return KI||(KI=1,function(t){(function(e,i,n){function o(a){var l=this,c=\"\";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var d=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^d^d>>>8},a===(a|0)?l.x=a:c+=a;for(var u=0;u<c.length+64;u++)l.x^=c.charCodeAt(u)|0,l.next()}function r(a,l){return l.x=a.x,l.y=a.y,l.z=a.z,l.w=a.w,l}function s(a,l){var c=new o(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var h=c.next()>>>11,f=(c.next()>>>0)/4294967296,v=(h+f)/(1<<21);while(v===0);return v},d.int32=c.next,d.quick=d,u&&(typeof u==\"object\"&&r(u,c),d.state=function(){return r(c,{})}),d}i&&i.exports?i.exports=s:this.xor128=s})(y9,t)}(Gw)),Gw.exports}var Yw={exports:{}},v9=Yw.exports,ZI;function x9(){return ZI||(ZI=1,function(t){(function(e,i,n){function o(a){var l=this,c=\"\";l.next=function(){var d=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(d^d<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,a===(a|0)?l.x=a:c+=a;for(var u=0;u<c.length+64;u++)l.x^=c.charCodeAt(u)|0,u==c.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function r(a,l){return l.x=a.x,l.y=a.y,l.z=a.z,l.w=a.w,l.v=a.v,l.d=a.d,l}function s(a,l){var c=new o(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var h=c.next()>>>11,f=(c.next()>>>0)/4294967296,v=(h+f)/(1<<21);while(v===0);return v},d.int32=c.next,d.quick=d,u&&(typeof u==\"object\"&&r(u,c),d.state=function(){return r(c,{})}),d}i&&i.exports?i.exports=s:this.xorwow=s})(v9,t)}(Yw)),Yw.exports}var Qw={exports:{}},w9=Qw.exports,JI;function S9(){return JI||(JI=1,function(t){(function(e,i,n){function o(a){var l=this;l.next=function(){var u=l.x,d=l.i,h,f;return h=u[d],h^=h>>>7,f=h^h<<24,h=u[d+1&7],f^=h^h>>>10,h=u[d+3&7],f^=h^h>>>3,h=u[d+4&7],f^=h^h<<7,h=u[d+7&7],h=h^h<<13,f^=h^h<<9,u[d]=f,l.i=d+1&7,f};function c(u,d){var h,f=[];if(d===(d|0))f[0]=d;else for(d=\"\"+d,h=0;h<d.length;++h)f[h&7]=f[h&7]<<15^d.charCodeAt(h)+f[h+1&7]<<13;for(;f.length<8;)f.push(0);for(h=0;h<8&&f[h]===0;++h);for(h==8?f[7]=-1:f[h],u.x=f,u.i=0,h=256;h>0;--h)u.next()}c(l,a)}function r(a,l){return l.x=a.x.slice(),l.i=a.i,l}function s(a,l){a==null&&(a=+new Date);var c=new o(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var h=c.next()>>>11,f=(c.next()>>>0)/4294967296,v=(h+f)/(1<<21);while(v===0);return v},d.int32=c.next,d.quick=d,u&&(u.x&&r(u,c),d.state=function(){return r(c,{})}),d}i&&i.exports?i.exports=s:this.xorshift7=s})(w9,t)}(Qw)),Qw.exports}var Xw={exports:{}},C9=Xw.exports,e5;function k9(){return e5||(e5=1,function(t){(function(e,i,n){function o(a){var l=this;l.next=function(){var u=l.w,d=l.X,h=l.i,f,v;return l.w=u=u+1640531527|0,v=d[h+34&127],f=d[h=h+1&127],v^=v<<13,f^=f<<17,v^=v>>>15,f^=f>>>12,v=d[h]=v^f,l.i=h,v+(u^u>>>16)|0};function c(u,d){var h,f,v,L,A,I=[],B=128;for(d===(d|0)?(f=d,d=null):(d=d+\"\\0\",f=0,B=Math.max(B,d.length)),v=0,L=-32;L<B;++L)d&&(f^=d.charCodeAt((L+32)%d.length)),L===0&&(A=f),f^=f<<10,f^=f>>>15,f^=f<<4,f^=f>>>13,L>=0&&(A=A+1640531527|0,h=I[L&127]^=f+A,v=h==0?v+1:0);for(v>=128&&(I[(d&&d.length||0)&127]=-1),v=127,L=4*128;L>0;--L)f=I[v+34&127],h=I[v=v+1&127],f^=f<<13,h^=h<<17,f^=f>>>15,h^=h>>>12,I[v]=f^h;u.w=A,u.X=I,u.i=v}c(l,a)}function r(a,l){return l.i=a.i,l.w=a.w,l.X=a.X.slice(),l}function s(a,l){a==null&&(a=+new Date);var c=new o(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var h=c.next()>>>11,f=(c.next()>>>0)/4294967296,v=(h+f)/(1<<21);while(v===0);return v},d.int32=c.next,d.quick=d,u&&(u.X&&r(u,c),d.state=function(){return r(c,{})}),d}i&&i.exports?i.exports=s:this.xor4096=s})(C9,t)}(Xw)),Xw.exports}var Kw={exports:{}},E9=Kw.exports,t5;function I9(){return t5||(t5=1,function(t){(function(e,i,n){function o(a){var l=this,c=\"\";l.next=function(){var d=l.b,h=l.c,f=l.d,v=l.a;return d=d<<25^d>>>7^h,h=h-f|0,f=f<<24^f>>>8^v,v=v-d|0,l.b=d=d<<20^d>>>12^h,l.c=h=h-f|0,l.d=f<<16^h>>>16^v,l.a=v-d|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,a===Math.floor(a)?(l.a=a/4294967296|0,l.b=a|0):c+=a;for(var u=0;u<c.length+20;u++)l.b^=c.charCodeAt(u)|0,l.next()}function r(a,l){return l.a=a.a,l.b=a.b,l.c=a.c,l.d=a.d,l}function s(a,l){var c=new o(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var h=c.next()>>>11,f=(c.next()>>>0)/4294967296,v=(h+f)/(1<<21);while(v===0);return v},d.int32=c.next,d.quick=d,u&&(typeof u==\"object\"&&r(u,c),d.state=function(){return r(c,{})}),d}i&&i.exports?i.exports=s:this.tychei=s})(E9,t)}(Kw)),Kw.exports}var Zw={exports:{}},T9={},A9=Object.freeze(Object.defineProperty({__proto__:null,default:T9},Symbol.toStringTag,{value:\"Module\"})),L9=pF(A9),D9=Zw.exports,i5;function P9(){return i5||(i5=1,function(t){(function(e,i,n){var o=256,r=6,s=52,a=\"random\",l=n.pow(o,r),c=n.pow(2,s),u=c*2,d=o-1,h;function f(k,N,Y){var z=[];N=N==!0?{entropy:!0}:N||{};var ce=I(A(N.entropy?[k,F(i)]:k??B(),3),z),Fe=new v(z),$e=function(){for(var K=Fe.g(r),Xe=l,Be=0;K<c;)K=(K+Be)*o,Xe*=o,Be=Fe.g(1);for(;K>=u;)K/=2,Xe/=2,Be>>>=1;return(K+Be)/Xe};return $e.int32=function(){return Fe.g(4)|0},$e.quick=function(){return Fe.g(4)/4294967296},$e.double=$e,I(F(Fe.S),i),(N.pass||Y||function(K,Xe,Be,V){return V&&(V.S&&L(V,Fe),K.state=function(){return L(Fe,{})}),Be?(n[a]=K,Xe):K})($e,ce,\"global\"in N?N.global:this==n,N.state)}function v(k){var N,Y=k.length,z=this,ce=0,Fe=z.i=z.j=0,$e=z.S=[];for(Y||(k=[Y++]);ce<o;)$e[ce]=ce++;for(ce=0;ce<o;ce++)$e[ce]=$e[Fe=d&Fe+k[ce%Y]+(N=$e[ce])],$e[Fe]=N;(z.g=function(K){for(var Xe,Be=0,V=z.i,Pe=z.j,ie=z.S;K--;)Xe=ie[V=d&V+1],Be=Be*o+ie[d&(ie[V]=ie[Pe=d&Pe+Xe])+(ie[Pe]=Xe)];return z.i=V,z.j=Pe,Be})(o)}function L(k,N){return N.i=k.i,N.j=k.j,N.S=k.S.slice(),N}function A(k,N){var Y=[],z=typeof k,ce;if(N&&z==\"object\")for(ce in k)try{Y.push(A(k[ce],N-1))}catch{}return Y.length?Y:z==\"string\"?k:k+\"\\0\"}function I(k,N){for(var Y=k+\"\",z,ce=0;ce<Y.length;)N[d&ce]=d&(z^=N[d&ce]*19)+Y.charCodeAt(ce++);return F(N)}function B(){try{var k;return h&&(k=h.randomBytes)?k=k(o):(k=new Uint8Array(o),(e.crypto||e.msCrypto).getRandomValues(k)),F(k)}catch{var N=e.navigator,Y=N&&N.plugins;return[+new Date,e,Y,e.screen,F(i)]}}function F(k){return String.fromCharCode.apply(0,k)}if(I(n.random(),i),t.exports){t.exports=f;try{h=L9}catch{}}else n[\"seed\"+a]=f})(typeof self<\"u\"?self:D9,[],Math)}(Zw)),Zw.exports}var gw,n5;function R9(){if(n5)return gw;n5=1;var t=_9(),e=b9(),i=x9(),n=S9(),o=k9(),r=I9(),s=P9();return s.alea=t,s.xor128=e,s.xorwow=i,s.xorshift7=n,s.xor4096=o,s.tychei=r,gw=s,gw}var M9=R9(),z9=fS(M9);function O9(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,N9(n.key),n)}}function gS(t,e,i){return e&&O9(t.prototype,e),Object.defineProperty(t,\"prototype\",{writable:!1}),t}function Z5(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Jw(t,e)}function Jw(t,e){return Jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,n){return i.__proto__=n,i},Jw(t,e)}function B9(t,e){if(typeof t!=\"object\"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e);if(typeof n!=\"object\")return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(t)}function N9(t){var e=B9(t,\"string\");return typeof e==\"symbol\"?e:String(e)}var gy=function(){function t(){}var e=t.prototype;return e._seed=function(i,n){if(i===(i||0))return i;for(var o=\"\"+i,r=0,s=0;s<o.length;++s)r^=o.charCodeAt(s)|0;return r},t}(),o5=function(t){Z5(e,t);function e(n,o){var r;return r=t.call(this)||this,r._rng=void 0,r.seed(n,o),r}var i=e.prototype;return i.next=function(){return this._rng()},i.seed=function(n,o){this._rng=n},i.clone=function(n,o){return new e(this._rng,o)},gS(e,[{key:\"name\",get:function(){return\"function\"}}]),e}(gy),r5=function(){var t=[].slice.call(arguments),e=t,i=e[0],n=i===void 0?\"default\":i;switch(typeof n){case\"object\":if(n instanceof gy)return n;break;case\"function\":return new o5(n);case\"number\":case\"string\":default:return new o5(z9.apply(void 0,t))}throw new Error('invalid RNG \"'+n+'\"')},F9=function(t,e,i){return e===void 0&&(e=0),i===void 0&&(i=1),function(){return t.next()*(i-e)+e}};function Pr(t){return new U9(t)}var U9=function(t){var e=this;this.n=void 0,this.isInt=function(){if(Number.isInteger(e.n))return e;throw new Error(\"Expected number to be an integer, got \"+e.n)},this.isPositive=function(){if(e.n>0)return e;throw new Error(\"Expected number to be positive, got \"+e.n)},this.lessThan=function(i){if(e.n<i)return e;throw new Error(\"Expected number to be less than \"+i+\", got \"+e.n)},this.greaterThanOrEqual=function(i){if(e.n>=i)return e;throw new Error(\"Expected number to be greater than or equal to \"+i+\", got \"+e.n)},this.greaterThan=function(i){if(e.n>i)return e;throw new Error(\"Expected number to be greater than \"+i+\", got \"+e.n)},this.n=t},j9=function(t,e,i){return e===void 0&&(e=0),i===void 0&&(i=1),i===void 0&&(i=e===void 0?1:e,e=0),Pr(e).isInt(),Pr(i).isInt(),function(){return Math.floor(t.next()*(i-e+1)+e)}},V9=function(t){return function(){return t.next()>=.5}},W9=function(t,e,i){return e===void 0&&(e=0),i===void 0&&(i=1),function(){var n,o,r;do n=t.next()*2-1,o=t.next()*2-1,r=n*n+o*o;while(!r||r>1);return e+i*o*Math.sqrt(-2*Math.log(r)/r)}},H9=function(t,e,i){e===void 0&&(e=0),i===void 0&&(i=1);var n=t.normal(e,i);return function(){return Math.exp(n())}},$9=function(t,e){return e===void 0&&(e=.5),Pr(e).greaterThanOrEqual(0).lessThan(1),function(){return Math.floor(t.next()+e)}},q9=function(t,e,i){return e===void 0&&(e=1),i===void 0&&(i=.5),Pr(e).isInt().isPositive(),Pr(i).greaterThanOrEqual(0).lessThan(1),function(){for(var n=0,o=0;n++<e;)t.next()<i&&o++;return o}},G9=function(t,e){e===void 0&&(e=.5),Pr(e).greaterThan(0).lessThan(1);var i=1/Math.log(1-e);return function(){return Math.floor(1+Math.log(t.next())*i)}},Y9=[0,0,.6931471805599453,1.791759469228055,3.1780538303479458,4.787491742782046,6.579251212010101,8.525161361065415,10.60460290274525,12.801827480081469],Q9=function(t){return Y9[t]},X9=.9189385332046727,K9=function(t,e){if(e===void 0&&(e=1),Pr(e).isPositive(),e<10){var i=Math.exp(-e);return function(){for(var l=i,c=0,u=t.next();u>l;)u=u-l,l=e*l/++c;return c}}else{var n=Math.sqrt(e),o=.931+2.53*n,r=-.059+.02483*o,s=1.1239+1.1328/(o-3.4),a=.9277-3.6224/(o-2);return function(){for(;;){var l=void 0,c=t.next();if(c<=.86*a)return l=c/a-.43,Math.floor((2*r/(.5-Math.abs(l))+o)*l+e+.445);c>=a?l=t.next()-.5:(l=c/a-.93,l=(l<0?-.5:.5)-l,c=t.next()*a);var u=.5-Math.abs(l);if(!(u<.013&&c>u)){var d=Math.floor((2*r/u+o)*l+e+.445);if(c=c*s/(r/(u*u)+o),d>=10){var h=(d+.5)*Math.log(e/d)-e-X9+d-(.08333333333333333-(.002777777777777778-1/(1260*d*d))/(d*d))/d;if(Math.log(c*n)<=h)return d}else if(d>=0){var f,v=(f=Q9(d))!=null?f:0;if(Math.log(c)<=d*Math.log(e)-e-v)return d}}}}}},Z9=function(t,e){return e===void 0&&(e=1),Pr(e).isPositive(),function(){return-Math.log(1-t.next())/e}},J9=function(t,e){return e===void 0&&(e=1),Pr(e).isInt().greaterThanOrEqual(0),function(){for(var i=0,n=0;n<e;++n)i+=t.next();return i}},eU=function(t,e){e===void 0&&(e=1),Pr(e).isInt().isPositive();var i=t.irwinHall(e);return function(){return i()/e}},tU=function(t,e){e===void 0&&(e=1),Pr(e).greaterThanOrEqual(0);var i=1/e;return function(){return 1/Math.pow(1-t.next(),i)}},iU=function(t){Z5(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.next=function(){return Math.random()},i.seed=function(n,o){},i.clone=function(){return new e},gS(e,[{key:\"name\",get:function(){return\"default\"}}]),e}(gy),J5=function(){function t(i){var n=this;this._rng=void 0,this._patch=void 0,this._cache={},this.next=function(){return n._rng.next()},this.float=function(o,r){return n.uniform(o,r)()},this.int=function(o,r){return n.uniformInt(o,r)()},this.integer=function(o,r){return n.uniformInt(o,r)()},this.bool=function(){return n.uniformBoolean()()},this.boolean=function(){return n.uniformBoolean()()},this.uniform=function(o,r){return n._memoize(\"uniform\",F9,o,r)},this.uniformInt=function(o,r){return n._memoize(\"uniformInt\",j9,o,r)},this.uniformBoolean=function(){return n._memoize(\"uniformBoolean\",V9)},this.normal=function(o,r){return W9(n,o,r)},this.logNormal=function(o,r){return H9(n,o,r)},this.bernoulli=function(o){return $9(n,o)},this.binomial=function(o,r){return q9(n,o,r)},this.geometric=function(o){return G9(n,o)},this.poisson=function(o){return K9(n,o)},this.exponential=function(o){return Z9(n,o)},this.irwinHall=function(o){return J9(n,o)},this.bates=function(o){return eU(n,o)},this.pareto=function(o){return tU(n,o)},i&&i instanceof gy?this.use(i):this.use(new iU),this._cache={}}var e=t.prototype;return e.clone=function(){var i=[].slice.call(arguments);return i.length?new t(r5.apply(void 0,i)):new t(this.rng.clone())},e.use=function(){this._rng=r5.apply(void 0,[].slice.call(arguments))},e.patch=function(){if(this._patch)throw new Error(\"Math.random already patched\");this._patch=Math.random,Math.random=this.uniform()},e.unpatch=function(){this._patch&&(Math.random=this._patch,delete this._patch)},e.choice=function(i){if(!Array.isArray(i))throw new Error(\"Random.choice expected input to be an array, got \"+typeof i);var n=i?.length;if(n>0){var o=this.uniformInt(0,n-1)();return i[o]}else return},e._memoize=function(i,n){var o=[].slice.call(arguments,2),r=\"\"+o.join(\";\"),s=this._cache[i];return(s===void 0||s.key!==r)&&(s={key:r,distribution:n.apply(void 0,[this].concat(o))},this._cache[i]=s),s.distribution},gS(t,[{key:\"rng\",get:function(){return this._rng}}]),t}();new J5;var eS=.001,tS=64,nU=4,iS=class{constructor(){this.pointsTextureSize=0,this.linksTextureSize=0,this.alpha=1,this.transform=f9(),this.screenSize=[0,0],this.mousePosition=[0,0],this.screenMousePosition=[0,0],this.selectedArea=[[0,0],[0,0]],this.isSimulationRunning=!1,this.simulationProgress=0,this.selectedIndices=null,this.maxPointSize=tS,this.hoveredPoint=void 0,this.focusedPoint=void 0,this.draggingPointIndex=void 0,this.hoveredLinkIndex=void 0,this.adjustedSpaceSize=at.spaceSize,this.isSpaceKeyPressed=!1,this.webglMaxTextureSize=16384,this.hoveredPointRingColor=[1,1,1,EF],this.focusedPointRingColor=[1,1,1,IF],this.hoveredLinkColor=[-1,-1,-1,-1],this.greyoutPointColor=[-1,-1,-1,-1],this.isDarkenGreyout=!1,this.isLinkHoveringEnabled=!1,this.alphaTarget=0,this.scalePointX=Ww(),this.scalePointY=Ww(),this.random=new J5,this._backgroundColor=[0,0,0,0],this.alphaDecay=e=>1-Math.pow(eS,1/e)}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){this._backgroundColor=e;let i=e8(e[0],e[1],e[2]);document.documentElement.style.setProperty(\"--cosmosgl-attribution-color\",i>.65?\"black\":\"white\"),document.documentElement.style.setProperty(\"--cosmosgl-error-message-color\",i>.65?\"black\":\"white\"),this.div&&(this.div.style.backgroundColor=`rgba(${e[0]*255}, ${e[1]*255}, ${e[2]*255}, ${e[3]})`),this.isDarkenGreyout=i<.65}addRandomSeed(e){this.random=this.random.clone(e)}getRandomFloat(e,i){return this.random.float(e,i)}adjustSpaceSize(e,i){e>=i?(this.adjustedSpaceSize=i/2,console.warn(`The \\`spaceSize\\` has been reduced to ${this.adjustedSpaceSize} due to WebGL limits`)):this.adjustedSpaceSize=e}setWebGLMaxTextureSize(e){this.webglMaxTextureSize=e}updateScreenSize(e,i){let{adjustedSpaceSize:n}=this;this.screenSize=[e,i],this.scalePointX.domain([0,n]).range([(e-n)/2,(e+n)/2]),this.scalePointY.domain([n,0]).range([(i-n)/2,(i+n)/2])}scaleX(e){return this.scalePointX(e)}scaleY(e){return this.scalePointY(e)}setHoveredPointRingColor(e){let i=ll(e);this.hoveredPointRingColor[0]=i[0],this.hoveredPointRingColor[1]=i[1],this.hoveredPointRingColor[2]=i[2]}setFocusedPointRingColor(e){let i=ll(e);this.focusedPointRingColor[0]=i[0],this.focusedPointRingColor[1]=i[1],this.focusedPointRingColor[2]=i[2]}setGreyoutPointColor(e){if(e===void 0){this.greyoutPointColor=[-1,-1,-1,-1];return}let i=ll(e);this.greyoutPointColor[0]=i[0],this.greyoutPointColor[1]=i[1],this.greyoutPointColor[2]=i[2],this.greyoutPointColor[3]=i[3]}updateLinkHoveringEnabled(e){this.isLinkHoveringEnabled=!!(e.onLinkClick||e.onLinkMouseOver||e.onLinkMouseOut),this.isLinkHoveringEnabled||(this.hoveredLinkIndex=void 0)}setHoveredLinkColor(e){if(e===void 0){this.hoveredLinkColor=[-1,-1,-1,-1];return}let i=ll(e);this.hoveredLinkColor[0]=i[0],this.hoveredLinkColor[1]=i[1],this.hoveredLinkColor[2]=i[2],this.hoveredLinkColor[3]=i[3]}setFocusedPoint(e){e!==void 0?this.focusedPoint={index:e}:this.focusedPoint=void 0}addAlpha(e){return(this.alphaTarget-this.alpha)*this.alphaDecay(e)}},oU={passive:!1},Hp={capture:!0,passive:!1};function _w(t){t.stopImmediatePropagation()}function nd(t){t.preventDefault(),t.stopImmediatePropagation()}function eT(t){var e=t.document.documentElement,i=bn(t).on(\"dragstart.drag\",nd,Hp);\"onselectstart\"in e?i.on(\"selectstart.drag\",nd,Hp):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect=\"none\")}function tT(t,e){var i=t.document.documentElement,n=bn(t).on(\"dragstart.drag\",null);e&&(n.on(\"click.drag\",nd,Hp),setTimeout(function(){n.on(\"click.drag\",null)},0)),\"onselectstart\"in i?n.on(\"selectstart.drag\",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}var q_=t=>()=>t;function nS(t,{sourceEvent:e,subject:i,target:n,identifier:o,active:r,x:s,y:a,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:i,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:r,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}nS.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function rU(t){return!t.ctrlKey&&!t.button}function sU(){return this.parentNode}function aU(t,e){return e??{x:t.x,y:t.y}}function lU(){return navigator.maxTouchPoints||\"ontouchstart\"in this}function cU(){var t=rU,e=sU,i=aU,n=lU,o={},r=py(\"start\",\"drag\",\"end\"),s=0,a,l,c,u,d=0;function h(k){k.on(\"mousedown.drag\",f).filter(n).on(\"touchstart.drag\",A).on(\"touchmove.drag\",I,oU).on(\"touchend.drag touchcancel.drag\",B).style(\"touch-action\",\"none\").style(\"-webkit-tap-highlight-color\",\"rgba(0,0,0,0)\")}function f(k,N){if(!(u||!t.call(this,k,N))){var Y=F(this,e.call(this,k,N),k,N,\"mouse\");Y&&(bn(k.view).on(\"mousemove.drag\",v,Hp).on(\"mouseup.drag\",L,Hp),eT(k.view),_w(k),c=!1,a=k.clientX,l=k.clientY,Y(\"start\",k))}}function v(k){if(nd(k),!c){var N=k.clientX-a,Y=k.clientY-l;c=N*N+Y*Y>d}o.mouse(\"drag\",k)}function L(k){bn(k.view).on(\"mousemove.drag mouseup.drag\",null),tT(k.view,c),nd(k),o.mouse(\"end\",k)}function A(k,N){if(t.call(this,k,N)){var Y=k.changedTouches,z=e.call(this,k,N),ce=Y.length,Fe,$e;for(Fe=0;Fe<ce;++Fe)($e=F(this,z,k,N,Y[Fe].identifier,Y[Fe]))&&(_w(k),$e(\"start\",k,Y[Fe]))}}function I(k){var N=k.changedTouches,Y=N.length,z,ce;for(z=0;z<Y;++z)(ce=o[N[z].identifier])&&(nd(k),ce(\"drag\",k,N[z]))}function B(k){var N=k.changedTouches,Y=N.length,z,ce;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),z=0;z<Y;++z)(ce=o[N[z].identifier])&&(_w(k),ce(\"end\",k,N[z]))}function F(k,N,Y,z,ce,Fe){var $e=r.copy(),K=Ks(Fe||Y,N),Xe,Be,V;if((V=i.call(k,new nS(\"beforestart\",{sourceEvent:Y,target:h,identifier:ce,active:s,x:K[0],y:K[1],dx:0,dy:0,dispatch:$e}),z))!=null)return Xe=V.x-K[0]||0,Be=V.y-K[1]||0,function Pe(ie,ke,Ge){var Oe=K,Ye;switch(ie){case\"start\":o[ce]=Pe,Ye=s++;break;case\"end\":delete o[ce],--s;case\"drag\":K=Ks(Ge||ke,N),Ye=s;break}$e.call(ie,k,new nS(ie,{sourceEvent:ke,subject:V,target:h,identifier:ce,active:Ye,x:K[0]+Xe,y:K[1]+Be,dx:K[0]-Oe[0],dy:K[1]-Oe[1],dispatch:$e}),z)}}return h.filter=function(k){return arguments.length?(t=typeof k==\"function\"?k:q_(!!k),h):t},h.container=function(k){return arguments.length?(e=typeof k==\"function\"?k:q_(k),h):e},h.subject=function(k){return arguments.length?(i=typeof k==\"function\"?k:q_(k),h):i},h.touchable=function(k){return arguments.length?(n=typeof k==\"function\"?k:q_(!!k),h):n},h.on=function(){var k=r.on.apply(r,arguments);return k===r?h:k},h.clickDistance=function(k){return arguments.length?(d=(k=+k)*k,h):Math.sqrt(d)},h}var G_=t=>()=>t;function uU(t,{sourceEvent:e,target:i,transform:n,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:o}})}function Zs(t,e,i){this.k=t,this.x=e,this.y=i}Zs.prototype={constructor:Zs,scale:function(t){return t===1?this:new Zs(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Zs(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return\"translate(\"+this.x+\",\"+this.y+\") scale(\"+this.k+\")\"}};var Up=new Zs(1,0,0);Zs.prototype;function yw(t){t.stopImmediatePropagation()}function Bp(t){t.preventDefault(),t.stopImmediatePropagation()}function dU(t){return(!t.ctrlKey||t.type===\"wheel\")&&!t.button}function hU(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute(\"viewBox\")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function s5(){return this.__zoom||Up}function pU(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function fU(){return navigator.maxTouchPoints||\"ontouchstart\"in this}function mU(t,e,i){var n=t.invertX(e[0][0])-i[0][0],o=t.invertX(e[1][0])-i[1][0],r=t.invertY(e[0][1])-i[0][1],s=t.invertY(e[1][1])-i[1][1];return t.translate(o>n?(n+o)/2:Math.min(0,n)||Math.max(0,o),s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s))}function gU(){var t=dU,e=hU,i=mU,n=pU,o=fU,r=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,l=sN,c=py(\"start\",\"zoom\",\"end\"),u,d,h,f=500,v=150,L=0,A=10;function I(V){V.property(\"__zoom\",s5).on(\"wheel.zoom\",ce,{passive:!1}).on(\"mousedown.zoom\",Fe).on(\"dblclick.zoom\",$e).filter(o).on(\"touchstart.zoom\",K).on(\"touchmove.zoom\",Xe).on(\"touchend.zoom touchcancel.zoom\",Be).style(\"-webkit-tap-highlight-color\",\"rgba(0,0,0,0)\")}I.transform=function(V,Pe,ie,ke){var Ge=V.selection?V.selection():V;Ge.property(\"__zoom\",s5),V!==Ge?N(V,Pe,ie,ke):Ge.interrupt().each(function(){Y(this,arguments).event(ke).start().zoom(null,typeof Pe==\"function\"?Pe.apply(this,arguments):Pe).end()})},I.scaleBy=function(V,Pe,ie,ke){I.scaleTo(V,function(){var Ge=this.__zoom.k,Oe=typeof Pe==\"function\"?Pe.apply(this,arguments):Pe;return Ge*Oe},ie,ke)},I.scaleTo=function(V,Pe,ie,ke){I.transform(V,function(){var Ge=e.apply(this,arguments),Oe=this.__zoom,Ye=ie==null?k(Ge):typeof ie==\"function\"?ie.apply(this,arguments):ie,Ae=Oe.invert(Ye),ct=typeof Pe==\"function\"?Pe.apply(this,arguments):Pe;return i(F(B(Oe,ct),Ye,Ae),Ge,s)},ie,ke)},I.translateBy=function(V,Pe,ie,ke){I.transform(V,function(){return i(this.__zoom.translate(typeof Pe==\"function\"?Pe.apply(this,arguments):Pe,typeof ie==\"function\"?ie.apply(this,arguments):ie),e.apply(this,arguments),s)},null,ke)},I.translateTo=function(V,Pe,ie,ke,Ge){I.transform(V,function(){var Oe=e.apply(this,arguments),Ye=this.__zoom,Ae=ke==null?k(Oe):typeof ke==\"function\"?ke.apply(this,arguments):ke;return i(Up.translate(Ae[0],Ae[1]).scale(Ye.k).translate(typeof Pe==\"function\"?-Pe.apply(this,arguments):-Pe,typeof ie==\"function\"?-ie.apply(this,arguments):-ie),Oe,s)},ke,Ge)};function B(V,Pe){return Pe=Math.max(r[0],Math.min(r[1],Pe)),Pe===V.k?V:new Zs(Pe,V.x,V.y)}function F(V,Pe,ie){var ke=Pe[0]-ie[0]*V.k,Ge=Pe[1]-ie[1]*V.k;return ke===V.x&&Ge===V.y?V:new Zs(V.k,ke,Ge)}function k(V){return[(+V[0][0]+ +V[1][0])/2,(+V[0][1]+ +V[1][1])/2]}function N(V,Pe,ie,ke){V.on(\"start.zoom\",function(){Y(this,arguments).event(ke).start()}).on(\"interrupt.zoom end.zoom\",function(){Y(this,arguments).event(ke).end()}).tween(\"zoom\",function(){var Ge=this,Oe=arguments,Ye=Y(Ge,Oe).event(ke),Ae=e.apply(Ge,Oe),ct=ie==null?k(Ae):typeof ie==\"function\"?ie.apply(Ge,Oe):ie,ht=Math.max(Ae[1][0]-Ae[0][0],Ae[1][1]-Ae[0][1]),ii=Ge.__zoom,Je=typeof Pe==\"function\"?Pe.apply(Ge,Oe):Pe,ci=l(ii.invert(ct).concat(ht/ii.k),Je.invert(ct).concat(ht/Je.k));return function(Gt){if(Gt===1)Gt=Je;else{var _i=ci(Gt),He=ht/_i[2];Gt=new Zs(He,ct[0]-_i[0]*He,ct[1]-_i[1]*He)}Ye.zoom(null,Gt)}})}function Y(V,Pe,ie){return!ie&&V.__zooming||new z(V,Pe)}function z(V,Pe){this.that=V,this.args=Pe,this.active=0,this.sourceEvent=null,this.extent=e.apply(V,Pe),this.taps=0}z.prototype={event:function(V){return V&&(this.sourceEvent=V),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit(\"start\")),this},zoom:function(V,Pe){return this.mouse&&V!==\"mouse\"&&(this.mouse[1]=Pe.invert(this.mouse[0])),this.touch0&&V!==\"touch\"&&(this.touch0[1]=Pe.invert(this.touch0[0])),this.touch1&&V!==\"touch\"&&(this.touch1[1]=Pe.invert(this.touch1[0])),this.that.__zoom=Pe,this.emit(\"zoom\"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit(\"end\")),this},emit:function(V){var Pe=bn(this.that).datum();c.call(V,this.that,new uU(V,{sourceEvent:this.sourceEvent,target:I,transform:this.that.__zoom,dispatch:c}),Pe)}};function ce(V,...Pe){if(!t.apply(this,arguments))return;var ie=Y(this,Pe).event(V),ke=this.__zoom,Ge=Math.max(r[0],Math.min(r[1],ke.k*Math.pow(2,n.apply(this,arguments)))),Oe=Ks(V);if(ie.wheel)(ie.mouse[0][0]!==Oe[0]||ie.mouse[0][1]!==Oe[1])&&(ie.mouse[1]=ke.invert(ie.mouse[0]=Oe)),clearTimeout(ie.wheel);else{if(ke.k===Ge)return;ie.mouse=[Oe,ke.invert(Oe)],K_(this),ie.start()}Bp(V),ie.wheel=setTimeout(Ye,v),ie.zoom(\"mouse\",i(F(B(ke,Ge),ie.mouse[0],ie.mouse[1]),ie.extent,s));function Ye(){ie.wheel=null,ie.end()}}function Fe(V,...Pe){if(h||!t.apply(this,arguments))return;var ie=V.currentTarget,ke=Y(this,Pe,!0).event(V),Ge=bn(V.view).on(\"mousemove.zoom\",ct,!0).on(\"mouseup.zoom\",ht,!0),Oe=Ks(V,ie),Ye=V.clientX,Ae=V.clientY;eT(V.view),yw(V),ke.mouse=[Oe,this.__zoom.invert(Oe)],K_(this),ke.start();function ct(ii){if(Bp(ii),!ke.moved){var Je=ii.clientX-Ye,ci=ii.clientY-Ae;ke.moved=Je*Je+ci*ci>L}ke.event(ii).zoom(\"mouse\",i(F(ke.that.__zoom,ke.mouse[0]=Ks(ii,ie),ke.mouse[1]),ke.extent,s))}function ht(ii){Ge.on(\"mousemove.zoom mouseup.zoom\",null),tT(ii.view,ke.moved),Bp(ii),ke.event(ii).end()}}function $e(V,...Pe){if(t.apply(this,arguments)){var ie=this.__zoom,ke=Ks(V.changedTouches?V.changedTouches[0]:V,this),Ge=ie.invert(ke),Oe=ie.k*(V.shiftKey?.5:2),Ye=i(F(B(ie,Oe),ke,Ge),e.apply(this,Pe),s);Bp(V),a>0?bn(this).transition().duration(a).call(N,Ye,ke,V):bn(this).call(I.transform,Ye,ke,V)}}function K(V,...Pe){if(t.apply(this,arguments)){var ie=V.touches,ke=ie.length,Ge=Y(this,Pe,V.changedTouches.length===ke).event(V),Oe,Ye,Ae,ct;for(yw(V),Ye=0;Ye<ke;++Ye)Ae=ie[Ye],ct=Ks(Ae,this),ct=[ct,this.__zoom.invert(ct),Ae.identifier],Ge.touch0?!Ge.touch1&&Ge.touch0[2]!==ct[2]&&(Ge.touch1=ct,Ge.taps=0):(Ge.touch0=ct,Oe=!0,Ge.taps=1+!!u);u&&(u=clearTimeout(u)),Oe&&(Ge.taps<2&&(d=ct[0],u=setTimeout(function(){u=null},f)),K_(this),Ge.start())}}function Xe(V,...Pe){if(this.__zooming){var ie=Y(this,Pe).event(V),ke=V.changedTouches,Ge=ke.length,Oe,Ye,Ae,ct;for(Bp(V),Oe=0;Oe<Ge;++Oe)Ye=ke[Oe],Ae=Ks(Ye,this),ie.touch0&&ie.touch0[2]===Ye.identifier?ie.touch0[0]=Ae:ie.touch1&&ie.touch1[2]===Ye.identifier&&(ie.touch1[0]=Ae);if(Ye=ie.that.__zoom,ie.touch1){var ht=ie.touch0[0],ii=ie.touch0[1],Je=ie.touch1[0],ci=ie.touch1[1],Gt=(Gt=Je[0]-ht[0])*Gt+(Gt=Je[1]-ht[1])*Gt,_i=(_i=ci[0]-ii[0])*_i+(_i=ci[1]-ii[1])*_i;Ye=B(Ye,Math.sqrt(Gt/_i)),Ae=[(ht[0]+Je[0])/2,(ht[1]+Je[1])/2],ct=[(ii[0]+ci[0])/2,(ii[1]+ci[1])/2]}else if(ie.touch0)Ae=ie.touch0[0],ct=ie.touch0[1];else return;ie.zoom(\"touch\",i(F(Ye,Ae,ct),ie.extent,s))}}function Be(V,...Pe){if(this.__zooming){var ie=Y(this,Pe).event(V),ke=V.changedTouches,Ge=ke.length,Oe,Ye;for(yw(V),h&&clearTimeout(h),h=setTimeout(function(){h=null},f),Oe=0;Oe<Ge;++Oe)Ye=ke[Oe],ie.touch0&&ie.touch0[2]===Ye.identifier?delete ie.touch0:ie.touch1&&ie.touch1[2]===Ye.identifier&&delete ie.touch1;if(ie.touch1&&!ie.touch0&&(ie.touch0=ie.touch1,delete ie.touch1),ie.touch0)ie.touch0[1]=this.__zoom.invert(ie.touch0[0]);else if(ie.end(),ie.taps===2&&(Ye=Ks(Ye,this),Math.hypot(d[0]-Ye[0],d[1]-Ye[1])<A)){var Ae=bn(this).on(\"dblclick.zoom\");Ae&&Ae.apply(this,arguments)}}}return I.wheelDelta=function(V){return arguments.length?(n=typeof V==\"function\"?V:G_(+V),I):n},I.filter=function(V){return arguments.length?(t=typeof V==\"function\"?V:G_(!!V),I):t},I.touchable=function(V){return arguments.length?(o=typeof V==\"function\"?V:G_(!!V),I):o},I.extent=function(V){return arguments.length?(e=typeof V==\"function\"?V:G_([[+V[0][0],+V[0][1]],[+V[1][0],+V[1][1]]]),I):e},I.scaleExtent=function(V){return arguments.length?(r[0]=+V[0],r[1]=+V[1],I):[r[0],r[1]]},I.translateExtent=function(V){return arguments.length?(s[0][0]=+V[0][0],s[1][0]=+V[1][0],s[0][1]=+V[0][1],s[1][1]=+V[1][1],I):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},I.constrain=function(V){return arguments.length?(i=V,I):i},I.duration=function(V){return arguments.length?(a=+V,I):a},I.interpolate=function(V){return arguments.length?(l=V,I):l},I.on=function(){var V=c.on.apply(c,arguments);return V===c?I:V},I.clickDistance=function(V){return arguments.length?(L=(V=+V)*V,I):Math.sqrt(L)},I.tapDistance=function(V){return arguments.length?(A=+V,I):A},I}var oS=class{constructor(e,i){this.eventTransform=Up,this.behavior=gU().scaleExtent([.001,1/0]).on(\"start\",n=>{var o,r;this.isRunning=!0;let s=!!n.sourceEvent;(r=(o=this.config)==null?void 0:o.onZoomStart)==null||r.call(o,n,s)}).on(\"zoom\",n=>{var o,r;this.eventTransform=n.transform;let{eventTransform:{x:s,y:a,k:l},store:{transform:c,screenSize:u}}=this,d=u[0],h=u[1];if(!d||!h)return;m9(c,d,h),QI(c,c,[s,a]),mw(c,c,[l,l]),QI(c,c,[d/2,h/2]),mw(c,c,[d/2,h/2]),mw(c,c,[1,-1]);let f=!!n.sourceEvent;(r=(o=this.config)==null?void 0:o.onZoom)==null||r.call(o,n,f)}).on(\"end\",n=>{var o,r;this.isRunning=!1;let s=!!n.sourceEvent;(r=(o=this.config)==null?void 0:o.onZoomEnd)==null||r.call(o,n,s)}),this.isRunning=!1,this.store=e,this.config=i}getTransform(e,i,n=.1){if(e.length===0)return this.eventTransform;let{store:{screenSize:o}}=this,r=o[0],s=o[1],a=UI(e.map(A=>A[0])),l=UI(e.map(A=>A[1]));a[0]=this.store.scaleX(a[0]),a[1]=this.store.scaleX(a[1]),l[0]=this.store.scaleY(l[0]),l[1]=this.store.scaleY(l[1]),a[0]===a[1]&&(a[0]-=.5,a[1]+=.5),l[0]===l[1]&&(l[0]+=.5,l[1]-=.5);let c=r*(1-n*2)/(a[1]-a[0]),u=s*(1-n*2)/(l[0]-l[1]),d=t8(i??Math.min(c,u),...this.behavior.scaleExtent()),h=(a[1]+a[0])/2,f=(l[1]+l[0])/2,v=r/2-h*d,L=s/2-f*d;return Up.translate(v,L).scale(d)}getDistanceToPoint(e){let{x:i,y:n,k:o}=this.eventTransform,r=this.getTransform([e],o),s=i-r.x,a=n-r.y;return Math.sqrt(s*s+a*a)}getMiddlePointTransform(e){let{store:{screenSize:i},eventTransform:{x:n,y:o,k:r}}=this,s=i[0],a=i[1],l=(s/2-n)/r,c=(a/2-o)/r,u=this.store.scaleX(e[0]),d=this.store.scaleY(e[1]),h=(l+u)/2,f=(c+d)/2,v=1,L=s/2-h*v,A=a/2-f*v;return Up.translate(L,A).scale(v)}convertScreenToSpacePosition(e){let{eventTransform:{x:i,y:n,k:o},store:{screenSize:r}}=this,s=r[0],a=r[1],l=(e[0]-i)/o,c=(e[1]-n)/o,u=[l,a-c];return u[0]-=(s-this.store.adjustedSpaceSize)/2,u[1]-=(a-this.store.adjustedSpaceSize)/2,u}convertSpaceToScreenPosition(e){let i=this.eventTransform.applyX(this.store.scaleX(e[0])),n=this.eventTransform.applyY(this.store.scaleY(e[1]));return[i,n]}convertSpaceToScreenRadius(e){let{config:{scalePointsOnZoom:i},store:{maxPointSize:n},eventTransform:{k:o}}=this,r=e*2;return i?r*=o:r*=Math.min(5,Math.max(1,o*.01)),Math.min(r,n)/2}},rS=class{constructor(e,i){this.isActive=!1,this.behavior=cU().subject(n=>this.store.hoveredPoint&&!this.store.isSpaceKeyPressed?{x:n.x,y:n.y}:void 0).on(\"start\",n=>{var o,r;this.store.hoveredPoint&&(this.store.draggingPointIndex=this.store.hoveredPoint.index,this.isActive=!0,(r=(o=this.config)==null?void 0:o.onDragStart)==null||r.call(o,n))}).on(\"drag\",n=>{var o,r;(r=(o=this.config)==null?void 0:o.onDrag)==null||r.call(o,n)}).on(\"end\",n=>{var o,r;this.isActive=!1,this.store.draggingPointIndex=void 0,(r=(o=this.config)==null?void 0:o.onDragEnd)==null||r.call(o,n)}),this.store=e,this.config=i}};function _U(t){let e=document.createElement(\"div\");return e.style.cssText=`\n    color: var(--cosmosgl-error-message-color);\n    padding: 0em 2em;\n    position: absolute;\n    top: 50%; left: 0; right: 0;\n    transform: translateY(-50%);\n    z-index: 1000;\n    font-family: inherit;\n    font-size: 1rem;\n    text-align: center;\n    user-select: none;\n  `,e.textContent=\"Sorry, your device or browser does not support the required WebGL features for this visualization\",t.appendChild(e),e}var dy=class{constructor(e,i){this.config=new Aw,this.graph=new Nw(this.config),this.requestAnimationFrameId=0,this.isRightClickMouse=!1,this.store=new iS,this.zoomInstance=new oS(this.store,this.config),this.dragInstance=new rS(this.store,this.config),this._findHoveredItemExecutionCount=0,this._isMouseOnCanvas=!1,this._isFirstRenderAfterInit=!0,this.isPointPositionsUpdateNeeded=!1,this.isPointColorUpdateNeeded=!1,this.isPointSizeUpdateNeeded=!1,this.isPointShapeUpdateNeeded=!1,this.isPointImageIndicesUpdateNeeded=!1,this.isLinksUpdateNeeded=!1,this.isLinkColorUpdateNeeded=!1,this.isLinkWidthUpdateNeeded=!1,this.isLinkArrowUpdateNeeded=!1,this.isPointClusterUpdateNeeded=!1,this.isForceManyBodyUpdateNeeded=!1,this.isForceLinkUpdateNeeded=!1,this.isForceCenterUpdateNeeded=!1,this.isPointImageSizesUpdateNeeded=!1,this._isDestroyed=!1,i&&this.config.init(i),this.store.div=e;let n=document.createElement(\"canvas\");n.style.width=\"100%\",n.style.height=\"100%\",this.store.div.appendChild(n),this.addAttribution();let o=n.clientWidth,r=n.clientHeight;n.width=o*this.config.pixelRatio,n.height=r*this.config.pixelRatio,this.canvas=n;let s;try{s=_F({canvas:this.canvas,attributes:{antialias:!1,preserveDrawingBuffer:!0},extensions:[\"OES_texture_float\",\"ANGLE_instanced_arrays\"]})}catch{_U(this.store.div),this._isDestroyed=!0;return}this.reglInstance=s,this.store.adjustSpaceSize(this.config.spaceSize,this.reglInstance.limits.maxTextureSize),this.store.setWebGLMaxTextureSize(this.reglInstance.limits.maxTextureSize),this.store.updateScreenSize(o,r),this.canvasD3Selection=bn(this.canvas),this.canvasD3Selection.on(\"mouseenter.cosmos\",()=>{this._isMouseOnCanvas=!0}).on(\"mousemove.cosmos\",()=>{this._isMouseOnCanvas=!0}).on(\"mouseleave.cosmos\",a=>{this._isMouseOnCanvas=!1,this.currentEvent=a,this.store.hoveredPoint!==void 0&&this.config.onPointMouseOut&&this.config.onPointMouseOut(a),this.store.hoveredLinkIndex!==void 0&&this.config.onLinkMouseOut&&this.config.onLinkMouseOut(a),this.isRightClickMouse=!1,this.store.hoveredPoint=void 0,this.store.hoveredLinkIndex=void 0,this.updateCanvasCursor()}),bn(document).on(\"keydown.cosmos\",a=>{a.code===\"Space\"&&(this.store.isSpaceKeyPressed=!0)}).on(\"keyup.cosmos\",a=>{a.code===\"Space\"&&(this.store.isSpaceKeyPressed=!1)}),this.zoomInstance.behavior.on(\"start.detect\",a=>{this.currentEvent=a}).on(\"zoom.detect\",a=>{a.sourceEvent&&this.updateMousePosition(a.sourceEvent),this.currentEvent=a}).on(\"end.detect\",a=>{this.currentEvent=a}),this.dragInstance.behavior.on(\"start.detect\",a=>{this.currentEvent=a,this.updateCanvasCursor()}).on(\"drag.detect\",a=>{this.dragInstance.isActive&&this.updateMousePosition(a),this.currentEvent=a}).on(\"end.detect\",a=>{this.currentEvent=a,this.updateCanvasCursor()}),this.canvasD3Selection.call(this.dragInstance.behavior).call(this.zoomInstance.behavior).on(\"click\",this.onClick.bind(this)).on(\"mousemove\",this.onMouseMove.bind(this)).on(\"contextmenu\",this.onRightClickMouse.bind(this)),(!this.config.enableZoom||!this.config.enableDrag)&&this.updateZoomDragBehaviors(),this.setZoomLevel(this.config.initialZoomLevel??1),this.store.maxPointSize=(this.reglInstance.limits.pointSizeDims[1]??tS)/this.config.pixelRatio,this.points=new $w(this.reglInstance,this.config,this.store,this.graph),this.lines=new Hw(this.reglInstance,this.config,this.store,this.graph,this.points),this.config.enableSimulation&&(this.forceGravity=new Dw(this.reglInstance,this.config,this.store,this.graph,this.points),this.forceCenter=new Lw(this.reglInstance,this.config,this.store,this.graph,this.points),this.forceManyBody=this.config.useClassicQuadtree?new Mw(this.reglInstance,this.config,this.store,this.graph,this.points):new Rw(this.reglInstance,this.config,this.store,this.graph,this.points),this.forceLinkIncoming=new ay(this.reglInstance,this.config,this.store,this.graph,this.points),this.forceLinkOutgoing=new ay(this.reglInstance,this.config,this.store,this.graph,this.points),this.forceMouse=new zw(this.reglInstance,this.config,this.store,this.graph,this.points)),this.clusters=new Ow(this.reglInstance,this.config,this.store,this.graph,this.points),this.store.backgroundColor=ll(this.config.backgroundColor),this.store.setHoveredPointRingColor(this.config.hoveredPointRingColor??at.hoveredPointRingColor),this.store.setFocusedPointRingColor(this.config.focusedPointRingColor??at.focusedPointRingColor),this.config.focusedPointIndex!==void 0&&this.store.setFocusedPoint(this.config.focusedPointIndex),this.store.setGreyoutPointColor(this.config.pointGreyoutColor??Ew),this.store.setHoveredLinkColor(this.config.hoveredLinkColor??at.hoveredLinkColor),this.store.updateLinkHoveringEnabled(this.config),this.config.showFPSMonitor&&(this.fpsMonitor=new ly(this.canvas)),this.config.randomSeed!==void 0&&this.store.addRandomSeed(this.config.randomSeed)}get progress(){return this._isDestroyed?0:this.store.simulationProgress}get isSimulationRunning(){return this._isDestroyed?!1:this.store.isSimulationRunning}get maxPointSize(){return this._isDestroyed?0:this.store.maxPointSize}setConfig(e){var i;if(this._isDestroyed||!this.reglInstance||!this.points||!this.lines||!this.clusters)return;let n={...this.config};this.config.init(e),n.pointColor!==this.config.pointColor&&(this.graph.updatePointColor(),this.points.updateColor()),n.pointSize!==this.config.pointSize&&(this.graph.updatePointSize(),this.points.updateSize()),n.linkColor!==this.config.linkColor&&(this.graph.updateLinkColor(),this.lines.updateColor()),n.linkWidth!==this.config.linkWidth&&(this.graph.updateLinkWidth(),this.lines.updateWidth()),n.linkArrows!==this.config.linkArrows&&(this.graph.updateArrows(),this.lines.updateArrow()),(n.curvedLinkSegments!==this.config.curvedLinkSegments||n.curvedLinks!==this.config.curvedLinks)&&this.lines.updateCurveLineGeometry(),n.backgroundColor!==this.config.backgroundColor&&(this.store.backgroundColor=ll(this.config.backgroundColor??R5)),n.hoveredPointRingColor!==this.config.hoveredPointRingColor&&this.store.setHoveredPointRingColor(this.config.hoveredPointRingColor??at.hoveredPointRingColor),n.focusedPointRingColor!==this.config.focusedPointRingColor&&this.store.setFocusedPointRingColor(this.config.focusedPointRingColor??at.focusedPointRingColor),n.pointGreyoutColor!==this.config.pointGreyoutColor&&this.store.setGreyoutPointColor(this.config.pointGreyoutColor??Ew),n.hoveredLinkColor!==this.config.hoveredLinkColor&&this.store.setHoveredLinkColor(this.config.hoveredLinkColor??at.hoveredLinkColor),n.focusedPointIndex!==this.config.focusedPointIndex&&this.store.setFocusedPoint(this.config.focusedPointIndex),(n.spaceSize!==this.config.spaceSize||n.simulationRepulsionQuadtreeLevels!==this.config.simulationRepulsionQuadtreeLevels)&&(this.store.adjustSpaceSize(this.config.spaceSize,this.reglInstance.limits.maxTextureSize),this.resizeCanvas(!0),this.update(this.store.isSimulationRunning?this.store.alpha:0)),n.showFPSMonitor!==this.config.showFPSMonitor&&(this.config.showFPSMonitor?this.fpsMonitor=new ly(this.canvas):((i=this.fpsMonitor)==null||i.destroy(),this.fpsMonitor=void 0)),n.pixelRatio!==this.config.pixelRatio&&(this.store.maxPointSize=(this.reglInstance.limits.pointSizeDims[1]??tS)/this.config.pixelRatio),(n.enableZoom!==this.config.enableZoom||n.enableDrag!==this.config.enableDrag)&&this.updateZoomDragBehaviors(),(n.onLinkClick!==this.config.onLinkClick||n.onLinkMouseOver!==this.config.onLinkMouseOver||n.onLinkMouseOut!==this.config.onLinkMouseOut)&&this.store.updateLinkHoveringEnabled(this.config)}setPointPositions(e,i){this._isDestroyed||!this.points||(this.graph.inputPointPositions=e,this.points.shouldSkipRescale=i,this.isPointPositionsUpdateNeeded=!0,this.isLinksUpdateNeeded=!0,this.isPointColorUpdateNeeded=!0,this.isPointSizeUpdateNeeded=!0,this.isPointShapeUpdateNeeded=!0,this.isPointImageIndicesUpdateNeeded=!0,this.isPointClusterUpdateNeeded=!0,this.isForceManyBodyUpdateNeeded=!0,this.isForceLinkUpdateNeeded=!0,this.isForceCenterUpdateNeeded=!0)}setPointColors(e){this._isDestroyed||(this.graph.inputPointColors=e,this.isPointColorUpdateNeeded=!0)}getPointColors(){return this._isDestroyed?new Float32Array:this.graph.pointColors??new Float32Array}setPointSizes(e){this._isDestroyed||(this.graph.inputPointSizes=e,this.isPointSizeUpdateNeeded=!0)}setPointShapes(e){this._isDestroyed||(this.graph.inputPointShapes=e,this.isPointShapeUpdateNeeded=!0)}setImageData(e){this._isDestroyed||!this.points||(this.graph.inputImageData=e,this.points.createAtlas())}setPointImageIndices(e){this._isDestroyed||(this.graph.inputPointImageIndices=e,this.isPointImageIndicesUpdateNeeded=!0)}setPointImageSizes(e){this._isDestroyed||(this.graph.inputPointImageSizes=e,this.isPointImageSizesUpdateNeeded=!0)}getPointSizes(){return this._isDestroyed?new Float32Array:this.graph.pointSizes??new Float32Array}setLinks(e){this._isDestroyed||(this.graph.inputLinks=e,this.isLinksUpdateNeeded=!0,this.isLinkColorUpdateNeeded=!0,this.isLinkWidthUpdateNeeded=!0,this.isLinkArrowUpdateNeeded=!0,this.isForceLinkUpdateNeeded=!0)}setLinkColors(e){this._isDestroyed||(this.graph.inputLinkColors=e,this.isLinkColorUpdateNeeded=!0)}getLinkColors(){return this._isDestroyed?new Float32Array:this.graph.linkColors??new Float32Array}setLinkWidths(e){this._isDestroyed||(this.graph.inputLinkWidths=e,this.isLinkWidthUpdateNeeded=!0)}getLinkWidths(){return this._isDestroyed?new Float32Array:this.graph.linkWidths??new Float32Array}setLinkArrows(e){this._isDestroyed||(this.graph.linkArrowsBoolean=e,this.isLinkArrowUpdateNeeded=!0)}setLinkStrength(e){this._isDestroyed||(this.graph.inputLinkStrength=e,this.isForceLinkUpdateNeeded=!0)}setPointClusters(e){this._isDestroyed||(this.graph.inputPointClusters=e,this.isPointClusterUpdateNeeded=!0)}setClusterPositions(e){this._isDestroyed||(this.graph.inputClusterPositions=e,this.isPointClusterUpdateNeeded=!0)}setPointClusterStrength(e){this._isDestroyed||(this.graph.inputClusterStrength=e,this.isPointClusterUpdateNeeded=!0)}render(e){if(this._isDestroyed||!this.reglInstance)return;this.graph.update();let{fitViewOnInit:i,fitViewDelay:n,fitViewPadding:o,fitViewDuration:r,fitViewByPointsInRect:s,fitViewByPointIndices:a,initialZoomLevel:l}=this.config;if(!this.graph.pointsNumber&&!this.graph.linksNumber){this.stopFrames(),bn(this.canvas).style(\"cursor\",null),this.reglInstance.clear({color:this.store.backgroundColor,depth:1,stencil:0});return}this._isFirstRenderAfterInit&&i&&l===void 0&&(this._fitViewOnInitTimeoutID=window.setTimeout(()=>{a?this.fitViewByPointIndices(a,r,o):s?this.setZoomTransformByPointPositions(s,r,void 0,o):this.fitView(r,o)},n)),this._isFirstRenderAfterInit=!1,this.update(e)}zoomToPointByIndex(e,i=700,n=TF,o=!0){if(this._isDestroyed||!this.reglInstance||!this.points||!this.canvasD3Selection)return;let{store:{screenSize:r}}=this,s=Mo(this.reglInstance,this.points.currentPositionFbo);if(e===void 0)return;let a=s[e*4+0],l=s[e*4+1];if(a===void 0||l===void 0)return;let c=this.zoomInstance.getDistanceToPoint([a,l]),u=o?n:Math.max(this.getZoomLevel(),n);if(c<Math.min(r[0],r[1]))this.setZoomTransformByPointPositions([a,l],i,u);else{let d=this.zoomInstance.getTransform([[a,l]],u),h=this.zoomInstance.getMiddlePointTransform([a,l]);this.canvasD3Selection.transition().ease(sF).duration(i/2).call(this.zoomInstance.behavior.transform,h).transition().ease(aF).duration(i/2).call(this.zoomInstance.behavior.transform,d)}}zoom(e,i=0){this._isDestroyed||this.setZoomLevel(e,i)}setZoomLevel(e,i=0){this._isDestroyed||!this.canvasD3Selection||(i===0?this.canvasD3Selection.call(this.zoomInstance.behavior.scaleTo,e):this.canvasD3Selection.transition().duration(i).call(this.zoomInstance.behavior.scaleTo,e))}getZoomLevel(){return this._isDestroyed?0:this.zoomInstance.eventTransform.k}getPointPositions(){if(this._isDestroyed||!this.reglInstance||!this.points)return[];if(this.graph.pointsNumber===void 0)return[];let e=[],i=Mo(this.reglInstance,this.points.currentPositionFbo);e.length=this.graph.pointsNumber*2;for(let n=0;n<this.graph.pointsNumber;n+=1){let o=i[n*4+0],r=i[n*4+1];o!==void 0&&r!==void 0&&(e[n*2]=o,e[n*2+1]=r)}return e}getClusterPositions(){if(this._isDestroyed||!this.reglInstance||!this.clusters)return[];if(this.graph.pointClusters===void 0||this.clusters.clusterCount===void 0)return[];this.clusters.calculateCentermass();let e=[],i=Mo(this.reglInstance,this.clusters.centermassFbo);e.length=this.clusters.clusterCount*2;for(let n=0;n<e.length/2;n+=1){let o=i[n*4+0],r=i[n*4+1],s=i[n*4+2];o!==void 0&&r!==void 0&&s!==void 0&&(e[n*2]=o/s,e[n*2+1]=r/s)}return e}fitView(e=250,i=.1){this._isDestroyed||this.setZoomTransformByPointPositions(this.getPointPositions(),e,void 0,i)}fitViewByPointIndices(e,i=250,n=.1){if(this._isDestroyed)return;let o=this.getPointPositions(),r=new Array(e.length*2);for(let[s,a]of e.entries())r[s*2]=o[a*2],r[s*2+1]=o[a*2+1];this.setZoomTransformByPointPositions(r,i,void 0,n)}fitViewByPointPositions(e,i=250,n=.1){this._isDestroyed||this.setZoomTransformByPointPositions(e,i,void 0,n)}getPointsInRect(e){if(this._isDestroyed||!this.reglInstance||!this.points)return new Float32Array;let i=this.store.screenSize[1];return this.store.selectedArea=[[e[0][0],i-e[1][1]],[e[1][0],i-e[0][1]]],this.points.findPointsOnAreaSelection(),Mo(this.reglInstance,this.points.selectedFbo).map((n,o)=>o%4===0&&n!==0?o/4:-1).filter(n=>n!==-1)}getPointsInRange(e){return this.getPointsInRect(e)}getPointsInPolygon(e){if(this._isDestroyed||!this.reglInstance||!this.points)return new Float32Array;if(e.length<3)return new Float32Array;let i=this.store.screenSize[1],n=e.map(([o,r])=>[o,i-r]);return this.points.updatePolygonPath(n),this.points.findPointsOnPolygonSelection(),Mo(this.reglInstance,this.points.selectedFbo).map((o,r)=>r%4===0&&o!==0?r/4:-1).filter(o=>o!==-1)}selectPointsInRect(e){if(!(this._isDestroyed||!this.reglInstance||!this.points)){if(e){let i=this.store.screenSize[1];this.store.selectedArea=[[e[0][0],i-e[1][1]],[e[1][0],i-e[0][1]]],this.points.findPointsOnAreaSelection();let n=Mo(this.reglInstance,this.points.selectedFbo);this.store.selectedIndices=n.map((o,r)=>r%4===0&&o!==0?r/4:-1).filter(o=>o!==-1)}else this.store.selectedIndices=null;this.points.updateGreyoutStatus()}}selectPointsInRange(e){return this.selectPointsInRect(e)}selectPointsInPolygon(e){if(!(this._isDestroyed||!this.reglInstance||!this.points)){if(e){if(e.length<3){console.warn(\"Polygon path requires at least 3 points to form a polygon.\");return}let i=this.store.screenSize[1],n=e.map(([r,s])=>[r,i-s]);this.points.updatePolygonPath(n),this.points.findPointsOnPolygonSelection();let o=Mo(this.reglInstance,this.points.selectedFbo);this.store.selectedIndices=o.map((r,s)=>s%4===0&&r!==0?s/4:-1).filter(r=>r!==-1)}else this.store.selectedIndices=null;this.points.updateGreyoutStatus()}}selectPointByIndex(e,i=!1){if(!this._isDestroyed)if(i){let n=this.graph.getAdjacentIndices(e)??[];this.selectPointsByIndices([e,...n])}else this.selectPointsByIndices([e])}selectPointsByIndices(e){this._isDestroyed||!this.points||(e?e.length===0?this.store.selectedIndices=new Float32Array:this.store.selectedIndices=new Float32Array(e.filter(i=>i!==void 0)):this.store.selectedIndices=null,this.points.updateGreyoutStatus())}unselectPoints(){this._isDestroyed||!this.points||(this.store.selectedIndices=null,this.points.updateGreyoutStatus())}getSelectedIndices(){if(this._isDestroyed)return null;let{selectedIndices:e}=this.store;return e?Array.from(e):null}getAdjacentIndices(e){if(!this._isDestroyed)return this.graph.getAdjacentIndices(e)}spaceToScreenPosition(e){return this._isDestroyed?[0,0]:this.zoomInstance.convertSpaceToScreenPosition(e)}screenToSpacePosition(e){return this._isDestroyed?[0,0]:this.zoomInstance.convertScreenToSpacePosition(e)}spaceToScreenRadius(e){return this._isDestroyed?0:this.zoomInstance.convertSpaceToScreenRadius(e)}getPointRadiusByIndex(e){var i;if(!this._isDestroyed)return(i=this.graph.pointSizes)==null?void 0:i[e]}trackPointPositionsByIndices(e){this._isDestroyed||!this.points||this.points.trackPointsByIndices(e)}getTrackedPointPositionsMap(){return this._isDestroyed||!this.points?new Map:this.points.getTrackedPositionsMap()}getTrackedPointPositionsArray(){return this._isDestroyed||!this.points?[]:this.points.getTrackedPositionsArray()}getSampledPointPositionsMap(){return this._isDestroyed||!this.points?new Map:this.points.getSampledPointPositionsMap()}getSampledPoints(){return this._isDestroyed||!this.points?{indices:[],positions:[]}:this.points.getSampledPoints()}getScaleX(){if(!(this._isDestroyed||!this.points))return this.points.scaleX}getScaleY(){if(!(this._isDestroyed||!this.points))return this.points.scaleY}start(e=1){var i,n;this._isDestroyed||this.graph.pointsNumber&&(e>0&&(this.store.isSimulationRunning=!0,this.store.simulationProgress=0,(n=(i=this.config).onSimulationStart)==null||n.call(i)),this.store.alpha=e,this.stopFrames(),this.frame())}pause(){var e,i;this._isDestroyed||(this.store.isSimulationRunning=!1,(i=(e=this.config).onSimulationPause)==null||i.call(e))}unpause(){var e,i;this._isDestroyed||(this.store.isSimulationRunning=!0,(i=(e=this.config).onSimulationUnpause)==null||i.call(e))}restart(){var e,i;this._isDestroyed||(this.store.isSimulationRunning=!0,(i=(e=this.config).onSimulationRestart)==null||i.call(e))}step(){this._isDestroyed||(this.store.isSimulationRunning=!1,this.stopFrames(),this.frame())}destroy(){var e,i,n,o;this._isDestroyed||!this.reglInstance||(window.clearTimeout(this._fitViewOnInitTimeoutID),this.stopFrames(),this.canvasD3Selection&&this.canvasD3Selection.on(\"mouseenter.cosmos\",null).on(\"mousemove.cosmos\",null).on(\"mouseleave.cosmos\",null).on(\"click\",null).on(\"mousemove\",null).on(\"contextmenu\",null).on(\".drag\",null).on(\".zoom\",null),bn(document).on(\"keydown.cosmos\",null).on(\"keyup.cosmos\",null),(e=this.zoomInstance)!=null&&e.behavior&&this.zoomInstance.behavior.on(\"start.detect\",null).on(\"zoom.detect\",null).on(\"end.detect\",null),(i=this.dragInstance)!=null&&i.behavior&&this.dragInstance.behavior.on(\"start.detect\",null).on(\"drag.detect\",null).on(\"end.detect\",null),(n=this.fpsMonitor)==null||n.destroy(),this.reglInstance.destroy(),this.reglInstance.clear({color:this.store.backgroundColor,depth:1,stencil:0}),this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.attributionDivElement&&this.attributionDivElement.parentNode&&this.attributionDivElement.parentNode.removeChild(this.attributionDivElement),(o=document.getElementById(\"gl-bench-style\"))==null||o.remove(),this.canvasD3Selection=void 0,this.reglInstance=void 0,this.attributionDivElement=void 0,this._isDestroyed=!0)}create(){var e,i,n,o,r;this._isDestroyed||!this.points||!this.lines||(this.isPointPositionsUpdateNeeded&&this.points.updatePositions(),this.isPointColorUpdateNeeded&&this.points.updateColor(),this.isPointSizeUpdateNeeded&&this.points.updateSize(),this.isPointShapeUpdateNeeded&&this.points.updateShape(),this.isPointImageIndicesUpdateNeeded&&this.points.updateImageIndices(),this.isPointImageSizesUpdateNeeded&&this.points.updateImageSizes(),this.isLinksUpdateNeeded&&this.lines.updatePointsBuffer(),this.isLinkColorUpdateNeeded&&this.lines.updateColor(),this.isLinkWidthUpdateNeeded&&this.lines.updateWidth(),this.isLinkArrowUpdateNeeded&&this.lines.updateArrow(),this.isForceManyBodyUpdateNeeded&&((e=this.forceManyBody)==null||e.create()),this.isForceLinkUpdateNeeded&&((i=this.forceLinkIncoming)==null||i.create(Pw.INCOMING),(n=this.forceLinkOutgoing)==null||n.create(Pw.OUTGOING)),this.isForceCenterUpdateNeeded&&((o=this.forceCenter)==null||o.create()),this.isPointClusterUpdateNeeded&&((r=this.clusters)==null||r.create()),this.isPointPositionsUpdateNeeded=!1,this.isPointColorUpdateNeeded=!1,this.isPointSizeUpdateNeeded=!1,this.isPointShapeUpdateNeeded=!1,this.isPointImageIndicesUpdateNeeded=!1,this.isPointImageSizesUpdateNeeded=!1,this.isLinksUpdateNeeded=!1,this.isLinkColorUpdateNeeded=!1,this.isLinkWidthUpdateNeeded=!1,this.isLinkArrowUpdateNeeded=!1,this.isPointClusterUpdateNeeded=!1,this.isForceManyBodyUpdateNeeded=!1,this.isForceLinkUpdateNeeded=!1,this.isForceCenterUpdateNeeded=!1)}flatten(e){return e.flat()}pair(e){let i=new Array(e.length/2);for(let n=0;n<e.length/2;n++)i[n]=[e[n*2],e[n*2+1]];return i}update(e=this.store.alpha){let{graph:i}=this;this.store.pointsTextureSize=Math.ceil(Math.sqrt(i.pointsNumber??0)),this.store.linksTextureSize=Math.ceil(Math.sqrt((i.linksNumber??0)*2)),this.create(),this.initPrograms(),this.store.hoveredPoint=void 0,this.start(e)}initPrograms(){var e,i,n,o,r,s;this._isDestroyed||!this.points||!this.lines||!this.clusters||(this.points.initPrograms(),this.lines.initPrograms(),(e=this.forceGravity)==null||e.initPrograms(),(i=this.forceLinkIncoming)==null||i.initPrograms(),(n=this.forceLinkOutgoing)==null||n.initPrograms(),(o=this.forceMouse)==null||o.initPrograms(),(r=this.forceManyBody)==null||r.initPrograms(),(s=this.forceCenter)==null||s.initPrograms(),this.clusters.initPrograms())}frame(){if(this._isDestroyed)return;let{config:{simulationGravity:e,simulationCenter:i,renderLinks:n,enableSimulation:o},store:{alpha:r,isSimulationRunning:s}}=this;r<eS&&s&&this.end(),this.store.pointsTextureSize&&(this.requestAnimationFrameId=window.requestAnimationFrame(a=>{var l,c,u,d,h,f,v,L,A,I,B,F,k,N,Y,z,ce,Fe,$e,K,Xe,Be,V,Pe,ie,ke;(l=this.fpsMonitor)==null||l.begin(),this.resizeCanvas(),this.dragInstance.isActive||this.findHoveredItem(),o&&(this.isRightClickMouse&&this.config.enableRightClickRepulsion&&((c=this.forceMouse)==null||c.run(),(u=this.points)==null||u.updatePosition()),s&&!(this.zoomInstance.isRunning&&!this.config.enableSimulationDuringZoom)&&(e&&((d=this.forceGravity)==null||d.run(),(h=this.points)==null||h.updatePosition()),i&&((f=this.forceCenter)==null||f.run(),(v=this.points)==null||v.updatePosition()),(L=this.forceManyBody)==null||L.run(),(A=this.points)==null||A.updatePosition(),this.store.linksTextureSize&&((I=this.forceLinkIncoming)==null||I.run(),(B=this.points)==null||B.updatePosition(),(F=this.forceLinkOutgoing)==null||F.run(),(k=this.points)==null||k.updatePosition()),(this.graph.pointClusters||this.graph.clusterPositions)&&((N=this.clusters)==null||N.run(),(Y=this.points)==null||Y.updatePosition()),this.store.alpha+=this.store.addAlpha(this.config.simulationDecay??at.simulation.decay),this.isRightClickMouse&&this.config.enableRightClickRepulsion&&(this.store.alpha=Math.max(this.store.alpha,.1)),this.store.simulationProgress=Math.sqrt(Math.min(1,eS/this.store.alpha)),($e=(Fe=this.config).onSimulationTick)==null||$e.call(Fe,this.store.alpha,(z=this.store.hoveredPoint)==null?void 0:z.index,(ce=this.store.hoveredPoint)==null?void 0:ce.position)),(K=this.points)==null||K.trackPoints()),(Xe=this.reglInstance)==null||Xe.clear({color:this.store.backgroundColor,depth:1,stencil:0}),n&&this.store.linksTextureSize&&((Be=this.lines)==null||Be.draw()),(V=this.points)==null||V.draw(),this.dragInstance.isActive&&((Pe=this.points)==null||Pe.drag(),(ie=this.points)==null||ie.drag()),(ke=this.fpsMonitor)==null||ke.end(a),this.currentEvent=void 0,this._isDestroyed||this.frame()}))}stopFrames(){this.requestAnimationFrameId&&window.cancelAnimationFrame(this.requestAnimationFrameId)}end(){var e,i;this.store.isSimulationRunning=!1,this.store.simulationProgress=1,(i=(e=this.config).onSimulationEnd)==null||i.call(e)}onClick(e){var i,n,o,r,s,a,l,c,u,d;(r=(o=this.config).onClick)==null||r.call(o,(i=this.store.hoveredPoint)==null?void 0:i.index,(n=this.store.hoveredPoint)==null?void 0:n.position,e),this.store.hoveredPoint?(a=(s=this.config).onPointClick)==null||a.call(s,this.store.hoveredPoint.index,this.store.hoveredPoint.position,e):this.store.hoveredLinkIndex!==void 0?(c=(l=this.config).onLinkClick)==null||c.call(l,this.store.hoveredLinkIndex,e):(d=(u=this.config).onBackgroundClick)==null||d.call(u,e)}updateMousePosition(e){if(!e)return;let i=e.offsetX??e.x,n=e.offsetY??e.y;i===void 0||n===void 0||(this.store.mousePosition=this.zoomInstance.convertScreenToSpacePosition([i,n]),this.store.screenMousePosition=[i,this.store.screenSize[1]-n])}onMouseMove(e){var i,n,o,r;this.currentEvent=e,this.updateMousePosition(e),this.isRightClickMouse=e.which===3,(r=(o=this.config).onMouseMove)==null||r.call(o,(i=this.store.hoveredPoint)==null?void 0:i.index,(n=this.store.hoveredPoint)==null?void 0:n.position,this.currentEvent)}onRightClickMouse(e){e.preventDefault()}resizeCanvas(e=!1){var i,n,o,r;if(this._isDestroyed)return;let s=this.canvas.width,a=this.canvas.height,l=this.canvas.clientWidth,c=this.canvas.clientHeight;if(e||s!==l*this.config.pixelRatio||a!==c*this.config.pixelRatio){let[u,d]=this.store.screenSize,{k:h}=this.zoomInstance.eventTransform,f=this.zoomInstance.convertScreenToSpacePosition([u/2,d/2]);this.store.updateScreenSize(l,c),this.canvas.width=l*this.config.pixelRatio,this.canvas.height=c*this.config.pixelRatio,(i=this.reglInstance)==null||i.poll(),(n=this.canvasD3Selection)==null||n.call(this.zoomInstance.behavior.transform,this.zoomInstance.getTransform([f],h)),(o=this.points)==null||o.updateSampledPointsGrid(),this.store.isLinkHoveringEnabled&&((r=this.lines)==null||r.updateLinkIndexFbo())}}setZoomTransformByPointPositions(e,i=250,n,o){var r;this.resizeCanvas();let s=this.zoomInstance.getTransform(this.pair(e),n,o);(r=this.canvasD3Selection)==null||r.transition().ease(lF).duration(i).call(this.zoomInstance.behavior.transform,s)}updateZoomDragBehaviors(){var e,i,n,o;this.config.enableDrag?(e=this.canvasD3Selection)==null||e.call(this.dragInstance.behavior):(i=this.canvasD3Selection)==null||i.call(this.dragInstance.behavior).on(\".drag\",null),this.config.enableZoom?(n=this.canvasD3Selection)==null||n.call(this.zoomInstance.behavior):(o=this.canvasD3Selection)==null||o.call(this.zoomInstance.behavior).on(\"wheel.zoom\",null)}findHoveredItem(){if(!(this._isDestroyed||!this._isMouseOnCanvas||!this.reglInstance)){if(this._findHoveredItemExecutionCount<nU){this._findHoveredItemExecutionCount+=1;return}if(this._findHoveredItemExecutionCount=0,this.findHoveredPoint(),this.graph.linksNumber&&this.store.isLinkHoveringEnabled)this.findHoveredLine();else if(this.store.hoveredLinkIndex!==void 0){let e=this.store.hoveredLinkIndex!==void 0;this.store.hoveredLinkIndex=void 0,e&&this.config.onLinkMouseOut&&this.config.onLinkMouseOut(this.currentEvent)}this.updateCanvasCursor()}}findHoveredPoint(){var e,i,n,o,r;if(this._isDestroyed||!this.reglInstance||!this.points)return;this.points.findHoveredPoint();let s=!1,a=!1,l=Mo(this.reglInstance,this.points.hoveredFbo);if(l[1]){let c=l[0];((e=this.store.hoveredPoint)==null?void 0:e.index)!==c&&(s=!0);let u=l[2],d=l[3];this.store.hoveredPoint={index:c,position:[u,d]}}else this.store.hoveredPoint&&(a=!0),this.store.hoveredPoint=void 0;s&&this.store.hoveredPoint&&((n=(i=this.config).onPointMouseOver)==null||n.call(i,this.store.hoveredPoint.index,this.store.hoveredPoint.position,this.currentEvent)),a&&((r=(o=this.config).onPointMouseOut)==null||r.call(o,this.currentEvent))}findHoveredLine(){var e,i,n,o,r,s;if(this._isDestroyed||!this.reglInstance||!this.lines)return;if(this.store.hoveredPoint){this.store.hoveredLinkIndex!==void 0&&(this.store.hoveredLinkIndex=void 0,(i=(e=this.config).onLinkMouseOut)==null||i.call(e,this.currentEvent));return}this.lines.findHoveredLine();let a=!1,l=!1,c=Mo(this.reglInstance,this.lines.hoveredLineIndexFbo)[0];c>=0?(this.store.hoveredLinkIndex!==c&&(a=!0),this.store.hoveredLinkIndex=c):(this.store.hoveredLinkIndex!==void 0&&(l=!0),this.store.hoveredLinkIndex=void 0),a&&this.store.hoveredLinkIndex!==void 0&&((o=(n=this.config).onLinkMouseOver)==null||o.call(n,this.store.hoveredLinkIndex)),l&&((s=(r=this.config).onLinkMouseOut)==null||s.call(r,this.currentEvent))}updateCanvasCursor(){let{hoveredPointCursor:e,hoveredLinkCursor:i}=this.config;this.dragInstance.isActive?bn(this.canvas).style(\"cursor\",\"grabbing\"):this.store.hoveredPoint?!this.config.enableDrag||this.store.isSpaceKeyPressed?bn(this.canvas).style(\"cursor\",e):bn(this.canvas).style(\"cursor\",\"grab\"):this.store.isLinkHoveringEnabled&&this.store.hoveredLinkIndex!==void 0?bn(this.canvas).style(\"cursor\",i):bn(this.canvas).style(\"cursor\",null)}addAttribution(){var e;this.config.attribution&&(this.attributionDivElement=document.createElement(\"div\"),this.attributionDivElement.style.cssText=`\n      user-select: none;\n      position: absolute;\n      bottom: 0;\n      right: 0;\n      color: var(--cosmosgl-attribution-color);\n      margin: 0 0.6rem 0.6rem 0;\n      font-size: 0.7rem;\n      font-family: inherit;\n    `,this.attributionDivElement.innerHTML=i8(this.config.attribution,{ALLOWED_TAGS:[\"a\",\"b\",\"i\",\"em\",\"strong\",\"span\",\"div\",\"p\",\"br\",\"img\"],ALLOWED_ATTR:[\"href\",\"target\",\"class\",\"id\",\"style\",\"src\",\"alt\",\"title\"]}),(e=this.store.div)==null||e.appendChild(this.attributionDivElement))}};var iT={};function _S(t,e=!1){let i,n,o=iT;function r(c){i=t(c)?.catch(()=>{}).finally(()=>{if(n){let{event:u}=n;n=null,r(u)}else i=null})||null}function s(c){n={event:c}}function a(c){i?s(c):r(c)}function l(c){o!==c&&requestAnimationFrame(()=>{let u=o;o=iT,a(u)}),o=c}return e?l:a}var Gp=class{_filterBy;_requestUpdate;_coordinator;_pending;_enabled;_initialized;_request;constructor(e){this._filterBy=e,this._requestUpdate=_S(()=>this.requestQuery(),!0),this._coordinator=null,this._pending=Promise.resolve(),this._enabled=!0,this._initialized=!1,this._request=null}get coordinator(){return this._coordinator}set coordinator(e){this._coordinator=e}get enabled(){return this._enabled}set enabled(e){e=!!e,this._enabled!==e&&(this._enabled=e,e&&(this._initialized?this._request&&this.requestQuery(this._request===!0?void 0:this._request):this.initialize(),this._request=null))}get pending(){return this._pending}get filterBy(){return this._filterBy}get filterStable(){return!0}async prepare(){}query(e){return null}queryPending(){return this}queryResult(e){return this}queryError(e){return this}requestQuery(e){if(this._enabled){let i=e||this.query(this.filterBy?.predicate(this));return this._coordinator.requestQuery(this,i)}else return this._request=e??!0,null}requestUpdate(){this._enabled?this._requestUpdate():this.requestQuery()}initialize(){this._enabled?this._coordinator&&(this._initialized=!0,this._pending=this.prepare().then(()=>this.requestQuery())):this._initialized=!1}destroy(){this._enabled=!1,this.coordinator?.disconnect(this)}update(){return this}};var Yp=Uint8Array.of(65,82,82,79,87,49),yU=Uint8Array.of(255,255,255,255,0,0,0,0),nr={V1:0,V2:1,V3:2,V4:3,V5:4};var or={NONE:0,Schema:1,DictionaryBatch:2,RecordBatch:3,Tensor:4,SparseTensor:5},me={Dictionary:-1,NONE:0,Null:1,Int:2,Float:3,Binary:4,Utf8:5,Bool:6,Decimal:7,Date:8,Time:9,Timestamp:10,Interval:11,List:12,Struct:13,Union:14,FixedSizeBinary:15,FixedSizeList:16,Map:17,Duration:18,LargeBinary:19,LargeUtf8:20,LargeList:21,RunEndEncoded:22,BinaryView:23,Utf8View:24,ListView:25,LargeListView:26},ad={HALF:0,SINGLE:1,DOUBLE:2},ea={DAY:0,MILLISECOND:1},Ln={SECOND:0,MILLISECOND:1,MICROSECOND:2,NANOSECOND:3},rr={YEAR_MONTH:0,DAY_TIME:1,MONTH_DAY_NANO:2},ta={Sparse:0,Dense:1};var ld=Uint8Array,_y=Uint16Array,yy=Uint32Array,by=BigUint64Array,Qp=Int8Array,nT=Int16Array,no=Int32Array,Oo=BigInt64Array,yS=Float32Array,ul=Float64Array;function oT(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<\"u\"&&t instanceof SharedArrayBuffer}function rT(t,e){let i=Math.log2(t)-3;return(e?[Qp,nT,no,Oo]:[ld,_y,yy,by])[i]}var LZ=Object.getPrototypeOf(Int8Array);function cd(t,e){let i=0,n=t.length;if(n<=2147483648)do{let o=i+n>>>1;t[o]<=e?i=o+1:n=o}while(i<n);else do{let o=Math.trunc((i+n)/2);t[o]<=e?i=o+1:n=o}while(i<n);return i}function vy(t,e,i){if(e(t))return t;throw new Error(i(t))}function xo(t,e,i){return e=Array.isArray(e)?e:Object.values(e),vy(t,n=>e.includes(n),i??(()=>`${t} must be one of ${e}`))}function xy(t,e){for(let[i,n]of Object.entries(t))if(n===e)return i;return\"<Unknown>\"}var ia=t=>`Unsupported data type: \"${xy(me,t)}\" (id ${t})`,Xp=(t,e,i=!0,n=null)=>({name:t,type:e,nullable:i,metadata:n});function sT(t){return Object.hasOwn(t,\"name\")&&aT(t.type)}function aT(t){return typeof t?.typeId==\"number\"}function dl(t,e=\"\",i=!0){return sT(t)?t:Xp(e,vy(t,aT,()=>\"Data type expected.\"),i)}var wy=(t,e,i=!1,n=-1)=>({typeId:me.Dictionary,id:n,dictionary:t,indices:e||ud(),ordered:i});var Sy=(t=32,e=!0)=>({typeId:me.Int,bitWidth:xo(t,[8,16,32,64]),signed:e,values:rT(t,e)});var ud=()=>Sy(32);var bS=(t=2)=>({typeId:me.Float,precision:xo(t,ad),values:[_y,yS,ul][t]});var vS=()=>({typeId:me.Binary,offsets:no}),Cy=()=>({typeId:me.Utf8,offsets:no});var xS=(t,e,i=128)=>({typeId:me.Decimal,precision:t,scale:e,bitWidth:xo(i,[32,64,128,256]),values:i===32?no:by});var wS=t=>({typeId:me.Date,unit:xo(t,ea),values:t===ea.DAY?no:Oo});var SS=(t=Ln.MILLISECOND,e=32)=>({typeId:me.Time,unit:xo(t,Ln),bitWidth:xo(e,[32,64]),values:e===32?no:Oo});var ky=(t=Ln.MILLISECOND,e=null)=>({typeId:me.Timestamp,unit:xo(t,Ln),timezone:e,values:Oo}),CS=(t=rr.MONTH_DAY_NANO)=>({typeId:me.Interval,unit:xo(t,rr),values:t===rr.MONTH_DAY_NANO?void 0:no}),Ey=t=>({typeId:me.List,children:[dl(t)],offsets:no}),Iy=t=>({typeId:me.Struct,children:Array.isArray(t)&&sT(t[0])?t:Object.entries(t).map(([e,i])=>Xp(e,i))}),kS=(t,e,i,n)=>(i??=e.map((o,r)=>r),{typeId:me.Union,mode:xo(t,ta),typeIds:i,typeMap:i.reduce((o,r,s)=>(o[r]=s,o),{}),children:e.map((o,r)=>dl(o,`_${r}`)),typeIdForValue:n,offsets:no}),ES=t=>({typeId:me.FixedSizeBinary,stride:t}),Ty=(t,e)=>({typeId:me.FixedSizeList,stride:e,children:[dl(t)]}),lT=(t,e)=>({typeId:me.Map,keysSorted:t,children:[e],offsets:no});var IS=(t=Ln.MILLISECOND)=>({typeId:me.Duration,unit:xo(t,Ln),values:Oo}),TS=()=>({typeId:me.LargeBinary,offsets:Oo}),AS=()=>({typeId:me.LargeUtf8,offsets:Oo}),LS=t=>({typeId:me.LargeList,children:[dl(t)],offsets:Oo}),DS=(t,e)=>({typeId:me.RunEndEncoded,children:[vy(dl(t,\"run_ends\"),i=>i.type.typeId===me.Int,()=>\"Run-ends must have an integer type.\"),dl(e,\"values\")]});var PS=t=>({typeId:me.ListView,children:[dl(t,\"value\")],offsets:no}),RS=t=>({typeId:me.LargeListView,children:[dl(t,\"value\")],offsets:Oo});var bU=new ul(2),Ay=bU.buffer,FZ=new Oo(Ay),UZ=new yy(Ay),jZ=new no(Ay),VZ=new ld(Ay);function ms(t){if(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)throw Error(`BigInt exceeds integer number representation: ${t}`);return Number(t)}function Ly(t,e){return Number(t/e)+Number(t%e)/Number(e)}var dd=t=>BigInt.asUintN(64,t);function uT(t,e){return BigInt.asIntN(64,t[e])}function dT(t,e){let i=e<<1,n;return BigInt.asIntN(64,t[i+1])<0?(n=dd(~t[i])|dd(~t[i+1])<<64n,n=-(n+1n)):n=t[i]|t[i+1]<<64n,n}function hT(t,e){let i=e<<2,n;return BigInt.asIntN(64,t[i+3])<0?(n=dd(~t[i])|dd(~t[i+1])<<64n|dd(~t[i+2])<<128n|dd(~t[i+3])<<192n,n=-(n+1n)):n=t[i]|t[i+1]<<64n|t[i+2]<<128n|t[i+3]<<192n,n}var xU=new TextDecoder(\"utf-8\"),GZ=new TextEncoder;function hd(t){return xU.decode(t)}var Tc=4;function MS(t,e){return(t[e>>3]&1<<e%8)!==0}function qn(t,e){let i=e+bi(t,e),n=i-bi(t,i),o=Bn(t,n);return(r,s,a=null)=>{if(r<o){let l=Bn(t,n+r);if(l)return s(t,i+l)}return a}}function Mr(t,e){return e}function hl(t,e){return!!wU(t,e)}function wU(t,e){return Kp(t,e)<<24>>24}function Kp(t,e){return t[e]}function Bn(t,e){return SU(t,e)<<16>>16}function SU(t,e){return t[e]|t[e+1]<<8}function bi(t,e){return t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24}function pT(t,e){return bi(t,e)>>>0}function Dn(t,e){return ms(BigInt.asIntN(64,BigInt(pT(t,e))+(BigInt(pT(t,e+Tc))<<32n)))}function Ac(t,e){let i=e+bi(t,e),n=bi(t,i);return i+=Tc,hd(t.subarray(i,i+n))}function Bo(t,e,i,n){if(!e)return[];let o=e+bi(t,e);return Array.from({length:bi(t,o)},(r,s)=>n(t,o+Tc+s*i))}var Dy=Symbol(\"rowIndex\");function Zp(t,e){class i{constructor(r){this[Dy]=r}toJSON(){return fT(t,e,this[Dy])}}let n=i.prototype;for(let o=0;o<t.length;++o){if(Object.hasOwn(n,t[o]))continue;let r=e[o];Object.defineProperty(n,t[o],{get(){return r.at(this[Dy])},enumerable:!0})}return o=>new i(o)}function Py(t,e){return i=>fT(t,e,i)}function fT(t,e,i){let n={};for(let o=0;o<t.length;++o)n[t[o]]=e[o].at(i);return n}function mT(t){return t instanceof na}var Lc=class{static ArrayType=null;constructor({length:e,nullCount:i,type:n,validity:o,values:r,offsets:s,sizes:a,children:l}){this.length=e,this.nullCount=i,this.type=n,this.validity=o,this.values=r,this.offsets=s,this.sizes=a,this.children=l,(!i||!this.validity)&&(this.at=c=>this.value(c))}get[Symbol.toStringTag](){return\"Batch\"}at(e){return this.isValid(e)?this.value(e):null}isValid(e){return MS(this.validity,e)}value(e){return this.values[e]}slice(e,i){let n=i-e,o=Array(n);for(let r=0;r<n;++r)o[r]=this.at(e+r);return o}*[Symbol.iterator](){for(let e=0;e<this.length;++e)yield this.at(e)}},na=class extends Lc{constructor(e){super(e);let{length:i,values:n}=this;this.values=n.subarray(0,i)}slice(e,i){return this.nullCount?super.slice(e,i):this.values.subarray(e,i)}[Symbol.iterator](){return this.nullCount?super[Symbol.iterator]():this.values[Symbol.iterator]()}},pd=class extends Lc{static ArrayType=ul},Gi=class extends Lc{static ArrayType=Array},Jp=class extends Gi{value(e){return null}},gs=class extends pd{value(e){return ms(this.values[e])}},Ry=class extends pd{value(e){let i=this.values[e],n=(i&31744)>>10,o=(i&1023)/1024,r=(-1)**((i&32768)>>15);switch(n){case 31:return r*(o?Number.NaN:1/0);case 0:return r*(o?6103515625e-14*o:0)}return r*2**(n-15)*(1+o)}},My=class extends Gi{value(e){return MS(this.values,e)}},zy=class extends pd{constructor(e){super(e);let{scale:i}=this.type;this.scale=10**i}value(e){return this.values[e]/this.scale}},Oy=class extends Lc{constructor(e){super(e);let{bitWidth:i,scale:n}=this.type;this.decimal=i===64?uT:i===128?dT:hT,this.scale=10n**BigInt(n)}},By=class extends Oy{static ArrayType=ul;value(e){return Ly(this.decimal(this.values,e),this.scale)}},Ny=class extends Oy{static ArrayType=Array;value(e){return this.decimal(this.values,e)}},ef=class extends Gi{constructor(e){super(e),this.source=e}value(e){return new Date(this.source.value(e))}},Fy=class extends pd{value(e){return 864e5*this.values[e]}},gT=gs,Uy=class extends gs{value(e){return super.value(e)*1e3}},_T=gs,jy=class extends gs{value(e){return Ly(this.values[e],1000n)}},Vy=class extends gs{value(e){return Ly(this.values[e],1000000n)}},Wy=class extends Gi{value(e){return this.values.subarray(e<<1,e+1<<1)}},Hy=class extends Gi{value(e){let i=this.values,n=e<<4;return Float64Array.of(bi(i,n),bi(i,n+4),Dn(i,n+8))}},yT=({values:t,offsets:e},i)=>t.subarray(e[i],e[i+1]),bT=({values:t,offsets:e},i)=>t.subarray(ms(e[i]),ms(e[i+1])),$y=class extends Gi{value(e){return yT(this,e)}},qy=class extends Gi{value(e){return bT(this,e)}},Gy=class extends Gi{value(e){return hd(yT(this,e))}},Yy=class extends Gi{value(e){return hd(bT(this,e))}},Qy=class extends Gi{value(e){let i=this.offsets;return this.children[0].slice(i[e],i[e+1])}},Xy=class extends Gi{value(e){let i=this.offsets;return this.children[0].slice(ms(i[e]),ms(i[e+1]))}},Ky=class extends Gi{value(e){let i=this.offsets[e],n=i+this.sizes[e];return this.children[0].slice(i,n)}},Zy=class extends Gi{value(e){let i=this.offsets[e],n=i+this.sizes[e];return this.children[0].slice(ms(i),ms(n))}},Jy=class extends Gi{constructor(e){super(e),this.stride=this.type.stride}},eb=class extends Jy{value(e){let{stride:i,values:n}=this;return n.subarray(e*i,(e+1)*i)}},tb=class extends Jy{value(e){let{children:i,stride:n}=this;return i[0].slice(e*n,(e+1)*n)}};function vT({children:t,offsets:e},i){let[n,o]=t[0].children,r=e[i],s=e[i+1],a=[];for(let l=r;l<s;++l)a.push([n.at(l),o.at(l)]);return a}var ib=class extends Gi{value(e){return vT(this,e)}},nb=class extends Gi{value(e){return new Map(vT(this,e))}},tf=class extends Gi{constructor({typeIds:e,...i}){super(i),this.typeIds=e,this.typeMap=this.type.typeMap}value(e,i=e){let{typeIds:n,children:o,typeMap:r}=this;return o[r[n[e]]].at(i)}},ob=class extends tf{value(e){return super.value(e,this.offsets[e])}},nf=class extends Gi{constructor(e,i=Py){super(e),this.names=this.type.children.map(n=>n.name),this.factory=i(this.names,this.children)}value(e){return this.factory(e)}},rb=class extends nf{constructor(e){super(e,Zp)}},sb=class extends Gi{value(e){let[{values:i},n]=this.children;return n.at(cd(i,e))}},ab=class extends Gi{setDictionary(e){return this.dictionary=e,this.cache=e.cache(),this}value(e){return this.cache[this.key(e)]}key(e){return this.values[e]}},lb=class extends Gi{constructor({data:e,...i}){super(i),this.data=e}view(e){let{values:i,data:n}=this,o=e<<4,r=o+4,s=i,a=bi(s,o);return a>12&&(r=bi(s,o+12),s=n[bi(s,o+8)]),s.subarray(r,r+a)}},cb=class extends lb{value(e){return this.view(e)}},ub=class extends lb{value(e){return hd(this.view(e))}};function zS(t){let e=[];return{add(i){return e.push(i),this},clear:()=>e=[],done:()=>new Dc(e,t)}}var Dc=class{constructor(e,i=e[0]?.type){this.type=i,this.length=e.reduce((r,s)=>r+s.length,0),this.nullCount=e.reduce((r,s)=>r+s.nullCount,0),this.data=e;let n=e.length,o=new Int32Array(n+1);if(n===1){let[r]=e;o[1]=r.length,this.at=s=>r.at(s)}else for(let r=0,s=0;r<n;++r)o[r+1]=s+=e[r].length;this.offsets=o}get[Symbol.toStringTag](){return\"Column\"}[Symbol.iterator](){let e=this.data;return e.length===1?e[0][Symbol.iterator]():CU(e)}at(e){let{data:i,offsets:n}=this,o=cd(n,e)-1;return i[o]?.at(e-n[o])}get(e){return this.at(e)}toArray(){let{length:e,nullCount:i,data:n}=this,o=!i&&mT(n[0]),r=n.length;if(o&&r===1)return n[0].values;let s=!r||i>0?Array:n[0].constructor.ArrayType??n[0].values.constructor,a=new s(e);return o?kU(a,n):EU(a,n)}cache(){return this._cache??(this._cache=this.toArray())}};function*CU(t){for(let e=0;e<t.length;++e){let i=t[e][Symbol.iterator]();for(let n=i.next();!n.done;n=i.next())yield n.value}}function kU(t,e){for(let i=0,n=0;i<e.length;++i){let{values:o}=e[i];t.set(o,n),n+=o.length}return t}function EU(t,e){let i=-1;for(let n=0;n<e.length;++n){let o=e[n];for(let r=0;r<o.length;++r)t[++i]=o.at(r)}return t}var fd=class t{constructor(e,i,n=!1){let o=e.fields.map(s=>s.name);this.schema=e,this.names=o,this.children=i,this.factory=n?Zp:Py;let r=[];this.getFactory=s=>r[s]??(r[s]=this.factory(o,i.map(a=>a.data[s])))}get[Symbol.toStringTag](){return\"Table\"}get numCols(){return this.names.length}get numRows(){return this.children[0]?.length??0}getChildAt(e){return this.children[e]}getChild(e){let i=this.names.findIndex(n=>n===e);return i>-1?this.children[i]:void 0}selectAt(e,i=[]){let{children:n,factory:o,schema:r}=this,{fields:s}=r;return new t({...r,fields:e.map((a,l)=>IU(s[a],i[l]))},e.map(a=>n[a]),o===Zp)}select(e,i){let n=this.names,o=e.map(r=>n.indexOf(r));return this.selectAt(o,i)}toColumns(){let{children:e,names:i}=this,n={};return i.forEach((o,r)=>n[o]=e[r]?.toArray()??[]),n}toArray(){let{children:e,getFactory:i,numRows:n}=this,o=e[0]?.data??[],r=Array(n);for(let s=0,a=-1;s<o.length;++s){let l=i(s);for(let c=0;c<o[s].length;++c)r[++a]=l(c)}return r}*[Symbol.iterator](){let{children:e,getFactory:i}=this,n=e[0]?.data??[];for(let o=0;o<n.length;++o){let r=i(o);for(let s=0;s<n[o].length;++s)yield r(s)}}at(e){let{children:i,getFactory:n,numRows:o}=this;if(e<0||e>=o)return null;let[{offsets:r}]=i,s=cd(r,e)-1;return n(s)(e-r[s])}get(e){return this.at(e)}};function IU(t,e){return e!=null&&e!==t.name?{...t,name:e}:t}function of(t,e={}){let{typeId:i,bitWidth:n,mode:o,precision:r,unit:s}=t,{useBigInt:a,useDate:l,useDecimalInt:c,useMap:u,useProxy:d}=e;switch(i){case me.Null:return Jp;case me.Bool:return My;case me.Int:case me.Time:case me.Duration:return a||n<64?na:gs;case me.Float:return r?na:Ry;case me.Date:return xT(s===ea.DAY?Fy:gT,l&&ef);case me.Timestamp:return xT(s===Ln.SECOND?Uy:s===Ln.MILLISECOND?_T:s===Ln.MICROSECOND?jy:Vy,l&&ef);case me.Decimal:return n===32?c?na:zy:c?Ny:By;case me.Interval:return s===rr.DAY_TIME?Wy:s===rr.YEAR_MONTH?na:Hy;case me.FixedSizeBinary:return eb;case me.Utf8:return Gy;case me.LargeUtf8:return Yy;case me.Binary:return $y;case me.LargeBinary:return qy;case me.BinaryView:return cb;case me.Utf8View:return ub;case me.List:return Qy;case me.LargeList:return Xy;case me.Map:return u?nb:ib;case me.ListView:return Ky;case me.LargeListView:return Zy;case me.FixedSizeList:return tb;case me.Struct:return d?rb:nf;case me.RunEndEncoded:return sb;case me.Dictionary:return ab;case me.Union:return o?ob:tf}throw new Error(ia(i))}function xT(t,e){return e?class extends e{constructor(n){super(new t(n))}}:t}function TU(t,e){return{offset:Dn(t,e),metadataLength:bi(t,e+8),bodyLength:Dn(t,e+16)}}function OS(t,e){return Bo(t,e,24,TU)}function db(t,e,i){let n=qn(t,e);if(n(10,Mr,0))throw new Error(\"Record batch compression not implemented\");let o=i<nr.V4?8:0;return{length:n(4,Dn,0),nodes:Bo(t,n(6,Mr),16,(r,s)=>({length:Dn(r,s),nullCount:Dn(r,s+8)})),regions:Bo(t,n(8,Mr),16+o,(r,s)=>({offset:Dn(r,s+o),length:Dn(r,s+o+8)})),variadic:Bo(t,n(12,Mr),8,Dn)}}function wT(t,e,i){let n=qn(t,e);return{id:n(4,Dn,0),data:n(6,(o,r)=>db(o,r,i)),isDelta:n(8,hl,!1)}}function BS(t,e,i,n){xo(i,me,ia);let o=qn(t,e);switch(i){case me.Binary:return vS();case me.Utf8:return Cy();case me.LargeBinary:return TS();case me.LargeUtf8:return AS();case me.List:return Ey(n[0]);case me.ListView:return PS(n[0]);case me.LargeList:return LS(n[0]);case me.LargeListView:return RS(n[0]);case me.Struct:return Iy(n);case me.RunEndEncoded:return DS(n[0],n[1]);case me.Int:return Sy(o(4,bi,0),o(6,hl,!1));case me.Float:return bS(o(4,Bn,ad.HALF));case me.Decimal:return xS(o(4,bi,0),o(6,bi,0),o(8,bi,128));case me.Date:return wS(o(4,Bn,ea.MILLISECOND));case me.Time:return SS(o(4,Bn,Ln.MILLISECOND),o(6,bi,32));case me.Timestamp:return ky(o(4,Bn,Ln.SECOND),o(6,Ac));case me.Interval:return CS(o(4,Bn,rr.YEAR_MONTH));case me.Duration:return IS(o(4,Bn,Ln.MILLISECOND));case me.FixedSizeBinary:return ES(o(4,bi,0));case me.FixedSizeList:return Ty(n[0],o(4,bi,0));case me.Map:return lT(o(4,hl,!1),n[0]);case me.Union:return kS(o(4,Bn,ta.Sparse),n,Bo(t,o(6,Mr),4,bi))}return{typeId:i}}function rf(t,e){let i=Bo(t,e,4,(n,o)=>{let r=qn(n,o);return[r(4,Ac),r(6,Ac)]});return i.length?new Map(i):null}function hb(t,e,i){let n=qn(t,e);return{version:i,endianness:n(4,Bn,0),fields:n(6,AU,[]),metadata:n(8,rf)}}function AU(t,e){return Bo(t,e,4,ST)}function ST(t,e){let i=qn(t,e),n=i(8,Kp,me.NONE),o=i(10,Mr,0),r=i(12,DU),s=i(14,(l,c)=>LU(l,c)),a=BS(t,o,n,s);return r&&(r.dictionary=a,a=r),{name:i(4,Ac),type:a,nullable:i(6,hl,!1),metadata:i(16,rf)}}function LU(t,e){let i=Bo(t,e,4,ST);return i.length?i:null}function DU(t,e){if(!e)return null;let i=qn(t,e);return wy(null,i(6,PU,ud()),i(8,hl,!1),i(4,Dn,0))}function PU(t,e){return BS(t,e,me.Int)}var RU=(t,e)=>`Expected to read ${t} metadata bytes, but only read ${e}.`,MU=(t,e)=>`Expected to read ${t} bytes for message body, but only read ${e}.`,zU=t=>`Unsupported message type: ${t} (${xy(or,t)})`;function pb(t,e){let i=bi(t,e)||0;if(e+=Tc,i===-1&&(i=bi(t,e)||0,e+=Tc),i===0)return null;let n=t.subarray(e,e+=i);if(n.byteLength<i)throw new Error(RU(i,n.byteLength));let o=qn(n,0),r=o(4,Bn,nr.V1),s=o(6,Kp,or.NONE),a=o(8,Mr,0),l=o(10,Dn,0),c;if(a){let u=s===or.Schema?hb:s===or.DictionaryBatch?wT:s===or.RecordBatch?db:null;if(!u)throw new Error(zU(s));if(c=u(n,a,r),l>0){let d=t.subarray(e,e+=l);if(d.byteLength<l)throw new Error(MU(l,d.byteLength));c.body=d}}return{version:r,type:s,index:e,content:c}}function CT(t){let e=oT(t)?new Uint8Array(t):t;return e instanceof Uint8Array&&OU(e)?NU(e):BU(e)}function OU(t){if(!t||t.length<4)return!1;for(let e=0;e<6;++e)if(Yp[e]!==t[e])return!1;return!0}function BU(t){let e=[t].flat(),i,n=[],o=[];for(let r of e){if(!(r instanceof Uint8Array))throw new Error(\"IPC data batch was not a Uint8Array.\");let s=0;for(;;){let a=pb(r,s);if(a===null)break;if(s=a.index,!!a.content)switch(a.type){case or.Schema:i||(i=a.content);break;case or.RecordBatch:n.push(a.content);break;case or.DictionaryBatch:o.push(a.content);break}}}return{schema:i,dictionaries:o,records:n,metadata:null}}function NU(t){let e=t.byteLength-(Yp.length+4),i=bi(t,e),n=qn(t,e-i),o=n(4,Bn,nr.V1),r=n(8,OS,[]),s=n(10,OS,[]);return{schema:n(6,(a,l)=>hb(a,l,o)),dictionaries:r.map(({offset:a})=>pb(t,a).content),records:s.map(({offset:a})=>pb(t,a).content),metadata:n(12,rf)}}function FS(t,e){return FU(CT(t),e)}function FU(t,e={}){let{schema:i={fields:[]},dictionaries:n,records:o}=t,{version:r,fields:s}=i,a=new Map,l=jU(e,r,a),c=new Map;UU(i,h=>{let f=h.type;f.typeId===me.Dictionary&&c.set(f.id,f.dictionary)});let u=new Map;for(let h of n){let{id:f,data:v,isDelta:L,body:A}=h,I=c.get(f),B=NS(I,l({...v,body:A}));if(u.has(f)){let F=u.get(f);L||F.clear(),F.add(B)}else{if(L)throw new Error(\"Delta update can not be first dictionary batch.\");u.set(f,zS(I).add(B))}}u.forEach((h,f)=>a.set(f,h.done()));let d=s.map(h=>zS(h.type));for(let h of o){let f=l(h);s.forEach((v,L)=>d[L].add(NS(v.type,f)))}return new fd(i,d.map(h=>h.done()),e.useProxy)}function UU(t,e){t.fields.forEach(function i(n){e(n),n.type.dictionary?.children?.forEach(i),n.type.children?.forEach(i)})}function jU(t,e,i){let n={version:e,options:t,dictionary:o=>i.get(o)};return o=>{let{length:r,nodes:s,regions:a,variadic:l,body:c}=o,u=-1,d=-1,h=-1;return{...n,length:r,node:()=>s[++u],buffer:f=>{let{length:v,offset:L}=a[++d];return f?new f(c.buffer,c.byteOffset+L,v/f.BYTES_PER_ELEMENT):c.subarray(L,L+v)},variadic:()=>l[++h],visit(f){return f.map(v=>NS(v.type,this))}}}}function NS(t,e){let{typeId:i}=t,{length:n,options:o,node:r,buffer:s,variadic:a,version:l}=e,c=of(t,o);if(i===me.Null)return new c({length:n,nullCount:n,type:t});let u={...r(),type:t};switch(i){case me.Bool:case me.Int:case me.Time:case me.Duration:case me.Float:case me.Decimal:case me.Date:case me.Timestamp:case me.Interval:case me.FixedSizeBinary:return new c({...u,validity:s(),values:s(t.values)});case me.Utf8:case me.LargeUtf8:case me.Binary:case me.LargeBinary:return new c({...u,validity:s(),offsets:s(t.offsets),values:s()});case me.BinaryView:case me.Utf8View:return new c({...u,validity:s(),values:s(),data:Array.from({length:a()},()=>s())});case me.List:case me.LargeList:case me.Map:return new c({...u,validity:s(),offsets:s(t.offsets),children:e.visit(t.children)});case me.ListView:case me.LargeListView:return new c({...u,validity:s(),offsets:s(t.offsets),sizes:s(t.offsets),children:e.visit(t.children)});case me.FixedSizeList:case me.Struct:return new c({...u,validity:s(),children:e.visit(t.children)});case me.RunEndEncoded:return new c({...u,children:e.visit(t.children)});case me.Dictionary:{let{id:d,indices:h}=t;return new c({...u,validity:s(),values:s(h.values)}).setDictionary(e.dictionary(d))}case me.Union:return l<nr.V5&&s(),new c({...u,typeIds:s(Qp),offsets:t.mode===ta.Sparse?null:s(t.offsets),children:e.visit(t.children)});default:throw new Error(ia(i))}}var See=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;function pl(t,e={useDate:!0}){return FS(t,e)}var sf=class{_uri;_queue;_connected;_request;_ws;_events;constructor({uri:e=\"ws://localhost:3000/\",ipc:i=void 0}={}){this._uri=e,this._queue=[],this._connected=!1,this._request=null,this._ws=null;let n=this;this._events={open(){n._connected=!0,n.next()},close(){for(n._connected=!1,n._request=null,n._ws=null;n._queue.length;)n._queue.shift().reject(\"Socket closed\")},error(o){if(n._request){let{reject:r}=n._request;n._request=null,n.next(),r(o)}else console.error(\"WebSocket error: \",o)},message(o){let{data:r}=o;if(n._request){let{query:s,resolve:a,reject:l}=n._request;if(n._request=null,n.next(),typeof r==\"string\"){let c=JSON.parse(r);c.error?l(c.error):a(c)}else if(s.type===\"exec\")a();else if(s.type===\"arrow\")a(pl(r,i));else throw new Error(`Unexpected socket data: ${r}`)}else console.log(\"WebSocket message: \",r)}}}get connected(){return this._connected}init(){this._ws=new WebSocket(this._uri),this._ws.binaryType=\"arraybuffer\";for(let e in this._events)this._ws.addEventListener(e,this._events[e])}enqueue(e,i,n){this._ws==null&&this.init(),this._queue.push({query:e,resolve:i,reject:n}),this._connected&&!this._request&&this.next()}next(){this._queue.length&&(this._request=this._queue.shift(),this._ws.send(JSON.stringify(this._request.query)))}query(e){return new Promise((i,n)=>this.enqueue(e,i,n))}};function Pn(t){return t instanceof hn}var DT;function PT(t){DT=t}var hn=class{type;constructor(e){this.type=e}clone(){let e=new this.constructor(this.type);for(let i in this)i!==\"type\"&&(e[i]=this[i]);return e}toString(e=DT){if(!e)throw new Error(\"No visitor provided and no default visitor set.\");return e.toString(this)}},Nt=class extends hn{};function US(t){return t.split(\".\")}function fl(t){return`\"${t}\"`}function fb(t){return t&&uj(t)?t.slice(1,-1):t}function uj(t){return t[0]==='\"'&&t[t.length-1]==='\"'}var ml=\"COLUMN_REF\",gl=\"COLUMN_PARAM\",mb=\"TABLE_REF\",gb=\"LITERAL\",jS=\"INTERVAL\",VS=\"LIST\",af=\"UNNEST\",lf=\"ORDER_BY\",md=\"CAST\",cf=\"CASE\",uf=\"WHEN\",df=\"COLLATE\",hf=\"UNARY\",gd=\"UNARY_POSTFIX\",_d=\"BINARY\",yd=\"BETWEEN\",pf=\"NOT_BETWEEN\",bd=\"LOGICAL_OPERATOR\",vd=\"IN\",xd=\"FUNCTION\",ra=\"AGGREGATE\",_l=\"WINDOW\",ff=\"WINDOW_FUNCTION\",wd=\"WINDOW_DEF\",mf=\"WINDOW_FRAME\",Rc=\"WINDOW_EXTENT_EXPR\";var _b=\"EXPRESSION\",yl=\"FRAGMENT\",Sd=\"VERBATIM\",Mc=\"PARAM\",Cd=\"WITH_CLAUSE\",kd=\"WINDOW_CLAUSE\",Ed=\"SELECT_CLAUSE\",Id=\"FROM_CLAUSE\",gf=\"JOIN_CLAUSE\",yb=\"SAMPLE_CLAUSE\",Td=\"SELECT_QUERY\",Ad=\"DESCRIBE_QUERY\",Ld=\"SET_OPERATION\",_f=\"SCALAR_SUBQUERY\";var zc=class extends Nt{value;constructor(e){super(gb),this.value=e}};function WS(t){switch(typeof t){case\"number\":return Number.isFinite(t)?`${t}`:\"NULL\";case\"string\":return`'${t.replaceAll(\"'\",\"''\")}'`;case\"boolean\":return t?\"TRUE\":\"FALSE\";default:if(t==null)return\"NULL\";if(t instanceof Date){let e=+t;if(Number.isNaN(e))return\"NULL\";let i=t.getUTCFullYear(),n=t.getUTCMonth(),o=t.getUTCDate();return e===Date.UTC(i,n,o)?`DATE '${i}-${n+1}-${o}'`:`epoch_ms(${e})`}else return t instanceof RegExp?`'${t.source}'`:`${t}`}}var yf=class{toString(e){if(!e)throw new Error(\"Node is null or undefined\");if(typeof e.type!=\"string\")throw new Error(`Node type is not a string: ${typeof e.type}, value: ${e.type}`);if(e.type===\"CUSTOM\")return e.toString(this);let i=this.getVisitMethod(e.type);if(typeof i==\"function\")return i.call(this,e);throw new Error(`No visitor method for node type: '${e.type}'`)}getVisitMethod(e){switch(e){case ra:return this.visitAggregate;case yd:return this.visitBetween;case _d:return this.visitBinary;case cf:return this.visitCase;case md:return this.visitCast;case df:return this.visitCollate;case gl:return this.visitColumnParam;case ml:return this.visitColumnRef;case Ad:return this.visitDescribeQuery;case _b:return this.visitExpression;case yl:return this.visitFragment;case Id:return this.visitFromClause;case xd:return this.visitFunction;case vd:return this.visitIn;case jS:return this.visitInterval;case gf:return this.visitJoinClause;case VS:return this.visitList;case gb:return this.visitLiteral;case bd:return this.visitLogicalOperator;case pf:return this.visitNotBetween;case lf:return this.visitOrderBy;case Mc:return this.visitParam;case yb:return this.visitSampleClause;case _f:return this.visitScalarSubquery;case Ed:return this.visitSelectClause;case Td:return this.visitSelectQuery;case Ld:return this.visitSetOperation;case mb:return this.visitTableRef;case hf:return this.visitUnary;case gd:return this.visitUnaryPostfix;case af:return this.visitUnnest;case Sd:return this.visitVerbatim;case uf:return this.visitWhen;case _l:return this.visitWindow;case kd:return this.visitWindowClause;case wd:return this.visitWindowDef;case Rc:return this.visitWindowExtentExpr;case mf:return this.visitWindowFrame;case ff:return this.visitWindowFunction;case Cd:return this.visitWithClause;default:throw new Error(`Unknown node type: '${e}'`)}}mapToString(e){return e.map(i=>this.toString(i))}};function sr(t){return typeof t==\"string\"}function bf(t){return Array.isArray(t)}function bl(t){if(t){let e=t;return typeof e?.addEventListener==\"function\"&&e.dynamic!==!1&&\"value\"in e}return!1}var _s=class extends Nt{param;constructor(e){super(Mc),this.param=e}get value(){return this.param.value}};var HS=\"PRECEDING\",$S=\"FOLLOWING\",bb=\"CURRENT ROW\",qS=\"UNBOUNDED\";var vb=class extends yf{visitAggregate(e){let{name:i,args:n,isDistinct:o,filter:r,order:s}=e,a=[o?\"DISTINCT\":\"\",n?.length?this.mapToString(n).join(\", \"):i.toLowerCase()===\"count\"?\"*\":\"\",s.length?`ORDER BY ${this.mapToString(s).join(\", \")}`:\"\"].filter(c=>c).join(\" \"),l=r?` FILTER (WHERE ${this.toString(r)})`:\"\";return`${i}(${a})${l}`}visitBetween(e){return RT(this,e,\"BETWEEN\")}visitBinary(e){let{left:i,right:n,op:o}=e;return`(${this.toString(i)} ${o} ${this.toString(n)})`}visitCase(e){let{expr:i,_when:n,_else:o}=e;return\"CASE \"+(i?`${this.toString(i)} `:\"\")+this.mapToString(n).join(\" \")+(o?` ELSE ${this.toString(o)}`:\"\")+\" END\"}visitCast(e){let{expr:i,cast:n}=e;return`(${this.toString(i)})::${n}`}visitCollate(e){let{expr:i,collation:n}=e;return`${this.toString(i)} COLLATE ${n}`}visitColumnParam(e){return this.visitColumnRef(e)}visitColumnRef(e){let{column:i,table:n}=e,o=n?`${this.toString(n)}.`:\"\",r=i===\"*\"?\"*\":fl(i);return`${o}${r}`}visitDescribeQuery(e){let{query:i}=e;return`DESC ${this.toString(i)}`}visitExpression(e){throw new Error(`Unexpected EXPRESSION node type. Node: ${JSON.stringify(e)}`)}visitFragment(e){let{spans:i}=e;return i.map(n=>typeof n==\"string\"?n:this.toString(n)).join(\"\")}visitFromClause(e){let{expr:i,alias:n,sample:o}=e,r=vf(i)?`(${this.toString(i)})`:`${this.toString(i)}`;return`${n&&!(aa(i)&&i.table?.join(\".\")===n)?`${r} AS ${fl(n)}`:`${r}`}${o?` TABLESAMPLE ${this.toString(o)}`:\"\"}`}visitFunction(e){let{name:i,args:n}=e;return`${i}(${this.mapToString(n).join(\", \")})`}visitIn(e){let{expr:i,values:n}=e;return`(${this.toString(i)} IN (${this.mapToString(n).join(\", \")}))`}visitInterval(e){let{steps:i,name:n}=e;return`INTERVAL ${i} ${n}`}visitJoinClause(e){let{left:i,right:n,joinVariant:o,joinType:r,condition:s,using:a,sample:l}=e,c=o===\"REGULAR\"?\"\":`${o} `,u=\"\",d=\"\";o!==\"CROSS\"&&(u=r!==\"INNER\"?`${r} `:\"\",d=s?` ON ${this.toString(s)}`:a?` USING (${this.mapToString(a).join(\", \")})`:\"\");let h=l?` USING SAMPLE ${this.toString(l)}`:\"\";return`${this.toString(i)} ${c}${u}JOIN ${this.toString(n)}${d}${h}`}visitList(e){let{values:i}=e;return`[${this.mapToString(i).join(\", \")}]`}visitLiteral(e){let{value:i}=e;return WS(i)}visitLogicalOperator(e){let{clauses:i,op:n}=e,o=this.mapToString(i);return o.length===0?\"\":o.length===1?`${o[0]}`:`(${o.join(` ${n} `)})`}visitNotBetween(e){return RT(this,e,\"NOT BETWEEN\")}visitOrderBy(e){let{expr:i,desc:n,nullsFirst:o}=e,r=n?\" DESC\":n===!1?\" ASC\":\"\",s=o?\" NULLS FIRST\":o===!1?\" NULLS LAST\":\"\";return`${this.toString(i)}${r}${s}`}visitParam(e){let{param:i}=e;return WS(i.value)}visitSampleClause(e){let{size:i,perc:n,method:o,seed:r}=e,s=o?`${o} `:\"\",a=r!=null?` REPEATABLE (${r})`:\"\";return`${s}(${i}${n?\"%\":\" ROWS\"})${a}`}visitScalarSubquery(e){return`(${this.toString(e.subquery)})`}visitSelectClause(e){let{expr:i,alias:n}=e;return!n||dj(i,n)?this.toString(i):`${this.toString(i)} AS ${fl(n)}`}visitSelectQuery(e){let{_with:i,_select:n,_distinct:o,_from:r,_sample:s,_where:a,_groupby:l,_having:c,_window:u,_qualify:d,_orderby:h,_limitPerc:f,_limit:v,_offset:L}=e,A=[];if(i.length&&A.push(`WITH ${this.mapToString(i).join(\", \")}`),A.push(`SELECT${o?\" DISTINCT\":\"\"} ${this.mapToString(n).join(\", \")}`),r.length&&A.push(`FROM ${this.mapToString(r).join(\", \")}`),s&&A.push(`USING SAMPLE ${this.toString(s)}`),a.length){let I=this.mapToString(a).filter(B=>B).join(\" AND \");I&&A.push(`WHERE ${I}`)}if(l.length&&A.push(`GROUP BY ${this.mapToString(l).join(\", \")}`),c.length){let I=this.mapToString(c).filter(B=>B).join(\" AND \");I&&A.push(`HAVING ${I}`)}if(u.length&&A.push(`WINDOW ${this.mapToString(u).join(\", \")}`),d.length){let I=this.mapToString(d).filter(B=>B).join(\" AND \");I&&A.push(`QUALIFY ${I}`)}return h.length&&A.push(`ORDER BY ${this.mapToString(h).join(\", \")}`),v&&A.push(`LIMIT ${this.toString(v)}${f?\"%\":\"\"}`),L!=null&&A.push(`OFFSET ${this.toString(L)}`),A.join(\" \")}visitSetOperation(e){let{op:i,queries:n,_with:o,_orderby:r,_limitPerc:s,_limit:a,_offset:l}=e,c=[];return o.length&&c.push(`WITH ${this.mapToString(o).join(\", \")}`),c.push(n.join(` ${i} `)),r.length&&c.push(`ORDER BY ${this.mapToString(r).join(\", \")}`),a&&c.push(`LIMIT ${this.toString(a)}${s?\"%\":\"\"}`),l&&c.push(`OFFSET ${this.toString(l)}`),c.join(\" \")}visitTableRef(e){let{table:i}=e;return i.map(n=>fl(n)).join(\".\")}visitUnary(e){let{expr:i,op:n}=e;return`(${n} ${this.toString(i)})`}visitUnaryPostfix(e){let{expr:i,op:n}=e;return`(${this.toString(i)} ${n})`}visitUnnest(e){let{expr:i,recursive:n,maxDepth:o}=e,r=[this.toString(i)];return n&&r.push(\"recursive := true\"),o!=null&&o>0&&r.push(`max_depth := ${o}`),`UNNEST(${r.join(\", \")})`}visitVerbatim(e){let{value:i}=e;return i}visitWhen(e){let{when:i,then:n}=e;return`WHEN ${this.toString(i)} THEN ${this.toString(n)}`}visitWindow(e){let{func:i,def:n}=e;return`${this.toString(i)} OVER ${this.toString(n)}`}visitWindowClause(e){let{name:i,def:n}=e;return`${fl(i)} AS ${this.toString(n)}`}visitWindowDef(e){let{name:i,partition:n,order:o,framedef:r}=e,s=i&&fl(i),a=[s,n?.length&&`PARTITION BY ${this.mapToString(n).join(\", \")}`,o?.length&&`ORDER BY ${this.mapToString(o).join(\", \")}`,r&&this.toString(r)].filter(l=>l);return s&&a.length<2?s:`(${a.join(\" \")})`}visitWindowExtentExpr(e){let{scope:i,expr:n}=e;return i===bb?i:`${Pn(n)?this.toString(n):n??qS} ${i}`}visitWindowFrame(e){let{frameType:i,exclude:n,extent:o}=e,[r,s]=Pn(o)?o.value:o,a=MT(this,r,HS),l=MT(this,s,$S);return`${i} BETWEEN ${a} AND ${l}${n?` ${n}`:\"\"}`}visitWindowFunction(e){let{name:i,args:n,ignoreNulls:o,order:r}=e,s=[this.mapToString(n).join(\", \"),r.length?`ORDER BY ${this.mapToString(r).join(\", \")}`:\"\",o?\"IGNORE NULLS\":\"\"].filter(a=>a).join(\" \");return`${i}(${s})`}visitWithClause(e){let{name:i,query:n,materialized:o}=e,r=o===!0?\"MATERIALIZED \":o===!1?\"NOT MATERIALIZED \":\"\";return`${fl(i)} AS ${r}(${this.toString(n)})`}};function dj(t,e){return t instanceof sa&&t.table==null&&t.column===e}function RT(t,e,i){let{extent:n,expr:o}=e;if(!n)return\"\";let[r,s]=t.mapToString(n);return`(${t.toString(o)} ${i} ${r} AND ${s})`}function MT(t,e,i){let n=Pn(e)?t.toString(e):e;return Pn(e)&&e.type===Rc?n:n!=null&&typeof n!=\"number\"?`${n} ${i}`:n===0?bb:n&&Number.isFinite(n)?`${Math.abs(n)} ${i}`:`${qS} ${i}`}var GS=new vb;PT(GS);var xf=class extends Nt{name;args;constructor(e,i=[]){super(xd),this.name=e,this.args=i}};function Nn(t,...e){return new xf(t,xb(e).map(ei))}function ys(t,...e){return new wf(t,xb(e).map(ei))}function Oc(t,e){return t.flat().filter(i=>i!=null).map(i=>e(i))}function zr(t){return Oc(t,ei)}function xb(t){let e=t.length,i=e;for(;i>0&&t[i-1]===void 0;--i);return i<e?t.slice(0,i):t}var Sf=class extends hn{name;def;constructor(e,i){super(kd),this.name=e,this.def=i}},Dd=class t extends Nt{func;def;constructor(e,i=new Pd){super(_l),this.func=e,this.def=i}over(e){return new t(this.func,this.def.over(e))}partitionby(...e){return new t(this.func,this.def.partitionby(...e))}orderby(...e){return new t(this.func,this.def.orderby(...e))}frame(e){return new t(this.func,this.def.frame(e))}};var Pd=class extends hn{name;partition;order;framedef;constructor(e,i,n,o){super(wd),this.name=e,this.partition=i,this.order=n,this.framedef=o}over(e){return wb(this,{name:e})}partitionby(...e){return wb(this,{partition:zr(e)})}orderby(...e){return wb(this,{order:zr(e)})}frame(e){return wb(this,{framedef:e})}};function wb(t,e){return new Pd(e.name??t.name,e.partition??t.partition,e.order??t.order,e.framedef??t.framedef)}function Rd(t){return t instanceof sa}var sa=class extends Nt{table;constructor(e,i){super(e),this.table=i}get column(){return\"\"}},Bc=class extends sa{name;constructor(e,i){super(ml,i),this.name=e}get column(){return this.name}};var Cf=class extends sa{param;constructor(e,i){super(gl,i),this.param=e}get column(){return`${this.param.value}`}};function ar(t,e){let i=Md(e);return bl(t)?new Cf(new _s(t),i):new Bc(t,i)}var Nc=class extends Nt{value;hint;constructor(e,i){super(Sd),this.value=e,this.hint=i}};function Gn(t){return new zc(t)}function YS(t,e){return new Nc(t,e)}function aa(t){return t instanceof zd}var zd=class extends Nt{table;constructor(e){super(mb),this.table=[e].flat()}get name(){return this.table[this.table.length-1]}};function Sb(...t){let e=Oc(t,String);return e?.length?new zd(e):void 0}function ei(t){return sr(t)?pj(t):Od(t)}function Fc(t){return sr(t)?YS(t):Od(t)}function Od(t){return t instanceof Nt?t:bl(t)?new _s(t):Gn(t)}function Md(t){return OT(t)}function zT(t){return OT(t)}function OT(t){return sr(t)?fj(t):bf(t)?Sb(t):t}function pj(t){let e=US(t);return ar(e.pop(),Sb(e))}function fj(t){return Sb(US(t))}var wf=class t extends Nt{name;args;isDistinct;filter;order;constructor(e,i,n=!1,o=null,r=[]){super(ra),this.name=e,this.args=i,this.isDistinct=n,this.filter=o,this.order=zr([r])}distinct(e=!0){return new t(this.name,this.args,e,this.filter,this.order)}where(e){return sr(e)&&(e=Fc(e)),new t(this.name,this.args,this.isDistinct,e,this.order)}argOrder(e){return new t(this.name,this.args,this.isDistinct,this.filter,e)}window(){return new Dd(this)}partitionby(...e){return this.window().partitionby(...e)}orderby(...e){return this.window().orderby(...e)}frame(e){return this.window().frame(e)}};var QS=[\"any_value\",\"approx_count_distinct\",\"approx_quantile\",\"arbitrary\",\"arg_max\",\"arg_max_null\",\"arg_min\",\"arg_min_null\",\"array_agg\",\"avg\",\"bit_and\",\"bit_or\",\"bit_xor\",\"bitstring_agg\",\"bool_and\",\"bool_or\",\"corr\",\"count\",\"count_star\",\"covar_pop\",\"covar_samp\",\"entropy\",\"favg\",\"first\",\"fsum\",\"geomean\",\"kurtosis_pop\",\"kurtosis\",\"last\",\"mad\",\"max\",\"max_by\",\"median\",\"min\",\"min_by\",\"mode\",\"product\",\"quantile\",\"quantile_cont\",\"quantile_disc\",\"regr_avgx\",\"regr_avgy\",\"regr_count\",\"regr_intercept\",\"regr_r2\",\"regr_sxx\",\"regr_sxy\",\"regr_syy\",\"regr_slope\",\"reservoir_quantile\",\"skewness\",\"stddev\",\"stddev_pop\",\"stddev_samp\",\"string_agg\",\"sum\",\"variance\",\"var_pop\",\"var_samp\"];var XS=class extends Nt{expr;extent;constructor(e,i,n){super(e),this.expr=i,this.extent=n}toSQL(e){let{extent:i,expr:n}=this;return i?`(${n} ${e} ${i[0]} AND ${i[1]})`:\"\"}},kf=class extends XS{constructor(e,i){super(yd,e,i)}};var Ef=class extends Nt{op;left;right;constructor(e,i,n){super(_d),this.op=e,this.left=i,this.right=n}};var If=class extends Nt{expr;cast;constructor(e,i){super(md),this.expr=e,this.cast=i}};var Tf=class extends Nt{spans;constructor(e){super(yl),this.spans=e}};var Uc=class extends hn{},bs=class t extends Uc{expr;alias;sample;constructor(e,i,n){super(Id),this.expr=e,this.alias=i,this.sample=n}as(e){return new t(this.expr,e,this.sample)}};var Af=class extends Nt{expr;values;constructor(e,i){super(vd),this.expr=e,this.values=i}};var Lf=class extends Nt{op;clauses;constructor(e,i){super(bd),this.op=e,this.clauses=i}},Df=class extends Lf{constructor(e){super(\"AND\",e)}},Pf=class extends Lf{constructor(e){super(\"OR\",e)}};var Rf=class extends hn{size;perc;method;seed;constructor(e,i=!1,n,o){super(yb),this.size=e,this.perc=i,this.method=n,this.seed=o}};var Mf=class extends hn{expr;alias;constructor(e,i){super(Ed),this.expr=e,this.alias=i}};var jc=class extends hn{name;query;materialized;constructor(e,i,n=null){super(Cd),this.name=e,this.query=i,this.materialized=n}};function vf(t){return t instanceof Pi}function la(t){return t instanceof Bd}function ZS(t){return t instanceof zf}var Pi=class extends Nt{static with(...e){return new KS(...e)}static select(...e){return new Bd().select(...e)}static from(...e){return new Bd().from(...e)}static union(...e){return new Or(\"UNION\",e.flat())}static unionByName(...e){return new Or(\"UNION BY NAME\",e.flat())}static unionAll(...e){return new Or(\"UNION ALL\",e.flat())}static unionAllByName(...e){return new Or(\"UNION ALL BY NAME\",e.flat())}static intersect(...e){return new Or(\"INTERSECT\",e.flat())}static intersectAll(...e){return new Or(\"INTERSECT ALL\",e.flat())}static except(...e){return new Or(\"EXCEPT\",e.flat())}static exceptAll(...e){return new Or(\"EXCEPT ALL\",e.flat())}static describe(e){return new zf(e)}_with=[];_orderby=[];_limitPerc=!1;_limit;_offset;cteFor=null;constructor(e){super(e)}get subqueries(){return[]}clone(){return this}setCteFor(e){this.cteFor=e}with(...e){let i=[],n=(o,r)=>{let s=r.clone();s.setCteFor(this),i.push(new jc(o,s))};return e.flat().forEach(o=>{if(o instanceof jc)i.push(o);else if(o!=null)for(let r in o)n(r,o[r])}),this._with=this._with.concat(i),this}orderby(...e){return this._orderby=this._orderby.concat(zr(e)),this}limitPercent(e){return this._limitPerc=!0,this._limit=ei(e),this}limit(e){return this._limitPerc=!1,this._limit=ei(e),this}offset(e){return this._offset=ei(e),this}},Bd=class t extends Pi{_select=[];_from=[];_where=[];_sample;_groupby=[];_having=[];_window=[];_qualify=[];_distinct=!1;constructor(){super(Td)}get subqueries(){let e=this.cteFor||this,n=(e instanceof t?e._with:[]).reduce((r,s)=>(r[s.name]=s.query,r),{}),o=[];return this._from.forEach(r=>{if(r instanceof bs){let{expr:s}=r;if(vf(s))o.push(s);else if(aa(s)){let a=n[s.name];a&&o.push(a)}}}),o}clone(){return Object.assign(new t,this)}select(...e){let i=new Set,n=[],o=(r,s)=>{let a=fb(s);i.add(a),r&&n.push(new Mf(ei(r),a))};return e.flat().forEach(r=>{if(r!=null)if(sr(r))o(r,r);else if(Rd(r))o(r,r.column);else if(bf(r))o(r[1],r[0]);else if(Pn(r))o(r,`${r}`);else for(let s in r)o(r[s],s)}),this._select=this._select.filter(r=>!i.has(r.alias)).concat(n),this}setSelect(...e){return this._select=[],this.select(...e)}distinct(e=!0){return this._distinct=!!e,this}from(...e){let i=[],n=(o,r)=>{i.push(new bs(zT(o),fb(r)))};return e.flat().forEach(o=>{if(o!=null)if(o instanceof Uc)i.push(o);else if(sr(o))n(o,o);else if(aa(o))n(o,o.name);else if(Pn(o))n(o);else if(bf(o))n(o[1],o[0]);else for(let r in o)n(o[r],r)}),this._from=this._from.concat(i),this}setFrom(...e){return this._from=[],this.from(...e)}sample(e,i,n){let o;if(typeof e==\"number\"){let r=e>0&&e<1,s=r?e*100:Math.floor(e);o=new Rf(s,r,i,n)}else o=e;return this._sample=o??void 0,this}where(...e){return this._where=this._where.concat(Oc(e,Fc)),this}setWhere(...e){return this._where=[],this.where(...e)}groupby(...e){return this._groupby=this._groupby.concat(zr(e)),this}setGroupby(...e){return this._groupby=[],this.groupby(...e)}having(...e){return this._having=this._having.concat(Oc(e,Fc)),this}window(...e){let i=[];return e.flat().forEach(n=>{if(n!=null)for(let o in n)i.push(new Sf(fb(o),n[o]))}),this._window=this._window.concat(i),this}qualify(...e){return this._qualify=this._qualify.concat(Oc(e,Fc)),this}},zf=class t extends hn{query;constructor(e){super(Ad),this.query=e}clone(){return new t(this.query.clone())}},Or=class t extends Pi{op;queries;constructor(e,i){super(Ld),this.op=e,this.queries=i}setCteFor(e){super.setCteFor(e);let{queries:i,cteFor:n}=this;n&&i.forEach(o=>o.setCteFor(n))}get subqueries(){return this.queries}clone(){let{op:e,queries:i,...n}=this;return Object.assign(new t(e,i),n)}},KS=class{_with;constructor(...e){this._with=e}select(...e){return Pi.select(...e).with(...this._with)}from(...e){return Pi.from(...e).with(...this._with)}union(...e){return Pi.union(...e).with(...this._with)}unionByName(...e){return Pi.unionByName(...e).with(...this._with)}unionAll(...e){return Pi.unionAll(...e).with(...this._with)}unionAllByName(...e){return Pi.unionAllByName(...e).with(...this._with)}intersect(...e){return Pi.intersect(...e).with(...this._with)}intersectAll(...e){return Pi.intersectAll(...e).with(...this._with)}except(...e){return Pi.except(...e).with(...this._with)}exceptAll(...e){return Pi.exceptAll(...e).with(...this._with)}};var JS=class extends Nt{op;expr;constructor(e,i,n){super(e),this.op=i,this.expr=n}};var Of=class extends JS{constructor(e,i){super(gd,e,i)}};function Cb(t,e){return ys(\"arg_max\",t,e)}function kb(t,e){return ys(\"arg_min\",t,e)}function vl(t){return ys(\"count\",t)}function Vc(t){return ys(\"max\",t)}function Nd(t){return ys(\"min\",t)}function e2(t,e){return ys(\"regr_avgx\",t,e)}function t2(t,e){return ys(\"regr_avgy\",t,e)}function i2(t,e){return ys(\"regr_count\",t,e)}function Yi(t){return ys(\"sum\",t)}function n2(t,e){return new If(ei(t),e)}function xl(t){return n2(t,\"INTEGER\")}function Fd(t){return n2(t,\"DOUBLE\")}function o2(t){return Nn(\"epoch_ms\",t)}function Ud(t){return Nn(\"exp\",t)}function r2(t){return Nn(\"log\",t)}function wl(t){return Nn(\"ln\",t)}function ca(t){return Nn(\"sign\",t)}function Sl(t){return Nn(\"abs\",t)}function Wc(t){return Nn(\"sqrt\",t)}function s2(t){return Nn(\"ceil\",t)}function ua(t){return Nn(\"floor\",t)}function Eb(t,e){return Nn(\"round\",t,e)}function NT(t,e){return new Of(t,ei(e))}function Cl(t,e,i){return new Ef(t,ei(e),ei(i))}function jd(...t){return new Df(zr(t))}function Bf(...t){return new Pf(zr(t))}function Vd(t){return NT(\"IS NULL\",t)}function Ib(t){return NT(\"IS NOT NULL\",t)}function da(t,e){return Cl(\"+\",t,e)}function Ni(t,e){return Cl(\"-\",t,e)}function Fi(t,e){return Cl(\"*\",t,e)}function en(t,e){return Cl(\"/\",t,e)}function oo(t,e){return Cl(\"**\",t,e)}function a2(t,e){return Cl(\"=\",t,e)}function Tb(t,e){return Cl(\"<=\",t,e)}function l2(t,e){return Cl(\">=\",t,e)}function Hc(t,e){return new kf(ei(t),e?.map(ei))}function Nf(t,e){return new Af(ei(t),e.map(ei))}function $c(t,...e){return new Tf(Cj(t,e))}function Cj(t,e){let i=[t[0]],n=e.length;for(let o=0,r=0;o<n;){let s=e[o];Pn(s)?i[++r]=s:bl(s)?i[++r]=new _s(s):i[r]+=sr(s)?s:`${Gn(s)}`;let a=t[++o];Pn(i[r])?i[++r]=a:i[r]+=a}return i.filter(o=>o).map(o=>sr(o)?new Nc(o):o)}function Ab(...t){return Nn(\"coalesce\",...t)}var Ff={[ra]:[\"args\",\"order\",\"filter\"],[yd]:[\"expr\",\"extent\"],[_d]:[\"left\",\"right\"],[cf]:[\"expr\",\"_when\",\"_else\"],[md]:[\"expr\"],[df]:[\"expr\"],[gl]:[\"param\",\"table\"],[ml]:[\"table\"],[Ad]:[\"query\"],[_b]:[\"node\"],[yl]:[\"spans\"],[Id]:[\"expr\"],[xd]:[\"args\"],[vd]:[\"expr\",\"values\"],[gf]:[\"left\",\"right\",\"on\",\"using\",\"sample\"],[bd]:[\"clauses\"],[pf]:[\"expr\",\"extent\"],[lf]:[\"expr\"],[Mc]:[\"value\"],[_f]:[\"subquery\"],[Ed]:[\"expr\"],[Td]:[\"_with\",\"_select\",\"_from\",\"_where\",\"_sample\",\"_groupby\",\"_having\",\"_window\",\"_qualify\",\"_orderby\"],[Ld]:[\"queries\",\"_orderby\"],[hf]:[\"expr\"],[gd]:[\"expr\"],[af]:[\"expr\"],[uf]:[\"when\",\"then\"],[_l]:[\"func\",\"def\"],[kd]:[\"def\"],[wd]:[\"partition\",\"order\",\"framedef\"],[Rc]:[\"expr\"],[mf]:[\"extent\"],[ff]:[\"args\"],[Cd]:[\"query\"]};function Uf(t,e){if(e.has(t))return e.get(t);if(Pn(t)){let i=Ff[t.type],n=i?.length??0;if(n>0){t=t.clone();for(let o=0;o<n;++o){let r=i[o],s=t[r];if(Array.isArray(s)){let a=t[r]=s.slice(),l=s.length;for(let c=0;c<l;++c)a[c]=Uf(s[c],e)}else s&&(t[r]=Uf(s,e))}}}return t}function kl(t,e){if(!Pn(t))return;let i=e(t);if(i)return i;let n=Ff[t.type],o=n?.length??0;for(let r=0;r<o;++r){let s=t[n[r]];if(Array.isArray(s)){let a=s.length;for(let l=0;l<a;++l)if(s[l]&&Number(kl(s[l],e))<0)return i}else if(s&&Number(kl(s,e))<0)return-1}}var Tj=new RegExp(`^(${QS.join(\"|\")})$`),Aj=/(\\\\'|\\\\\"|\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'|\\w+\\()/g;function Lj(t){return t.split(Aj).some(e=>e.endsWith(\"(\")&&Tj.test(e.slice(0,-1)))}function El(t){let e=0;return kl(t,i=>{switch(i.type){case _l:return-1;case ra:return e|=1,-1;case yl:case Sd:{let n=`${i}`.toLowerCase(),o=n.indexOf(\"(select \");return o>=0&&(n=n.slice(0,o)),n.includes(\") over \")?-1:Lj(n)?(e|=2,-1):1}}}),e}function c2(t){let e=new Set;return kl(t,i=>{i.type===ra&&e.add(i)}),Array.from(e)}function Lb(t){let e={};return kl(t,i=>{(i.type===ml||i.type===gl)&&(e[`${i}`]=i)}),Object.values(e)}function Db(t,e,{replace:i=!1,temp:n=!1,view:o=!1}={}){return\"CREATE\"+(i?\" OR REPLACE \":\" \")+(n?\"TEMP \":\"\")+(o?\"VIEW\":\"TABLE\")+(i?\" \":\" IF NOT EXISTS \")+t+\" AS \"+e}var Pj=\"year\",FT=\"month\",UT=\"day\",Pb=\"hour\",Rb=\"minute\",Mb=\"second\";var jf=1e3,Vf=jf*60,Wf=Vf*60,zb=Wf*24,Rj=zb*7,jT=zb*30,Mj=zb*365,Mle=[{unit:Mb,step:1,dt:jf},{unit:Mb,step:5,dt:jf*5},{unit:Mb,step:15,dt:jf*15},{unit:Mb,step:30,dt:jf*30},{unit:Rb,step:1,dt:Vf},{unit:Rb,step:5,dt:Vf*5},{unit:Rb,step:15,dt:Vf*15},{unit:Rb,step:30,dt:Vf*30},{unit:Pb,step:1,dt:Wf},{unit:Pb,step:3,dt:Wf*3},{unit:Pb,step:6,dt:Wf*6},{unit:Pb,step:12,dt:Wf*12},{unit:UT,step:1,dt:zb},{unit:UT,step:7,dt:Rj},{unit:FT,step:1,dt:jT},{unit:FT,step:3,dt:jT*3},{unit:Pj,step:1,dt:Mj}];function Wd(t){return t}function VT(){return{apply:Wd,invert:Wd,sqlApply:ei,sqlInvert:Wd}}function Bj({base:t=null}={}){if(t==null||t===Math.E)return{apply:Math.log,invert:Math.exp,sqlApply:e=>wl(e),sqlInvert:e=>Ud(e)};if(t===10)return{apply:Math.log10,invert:e=>Math.pow(10,e),sqlApply:e=>r2(e),sqlInvert:e=>oo(10,e)};{let e=+t;return{apply:i=>Math.log(i)/Math.log(e),invert:i=>Math.pow(e,i),sqlApply:i=>en(wl(i),wl(e)),sqlInvert:i=>oo(e,i)}}}function Nj({constant:t=1}={}){let e=+t;return{apply:i=>Math.sign(i)*Math.log1p(Math.abs(i)),invert:i=>Math.sign(i)*Math.exp(Math.abs(i)-e),sqlApply:i=>(i=ei(i),Fi(ca(i),wl(da(e,Sl(i))))),sqlInvert:i=>Fi(ca(i),Ni(Ud(Sl(i)),e))}}function Fj(){return{apply:t=>Math.sign(t)*Math.sqrt(Math.abs(t)),invert:t=>Math.sign(t)*t*t,sqlApply:t=>(t=ei(t),Fi(ca(t),Wc(Sl(t)))),sqlInvert:t=>Fi(ca(t),oo(t,2))}}function Uj({exponent:t=1}={}){let e=+t;return{apply:i=>Math.sign(i)*Math.pow(Math.abs(i),e),invert:i=>Math.sign(i)*Math.pow(Math.abs(i),1/e),sqlApply:i=>(i=ei(i),Fi(ca(i),oo(Sl(i),e))),sqlInvert:i=>Fi(ca(i),oo(Sl(i),en(1,e)))}}function WT(){return{apply:t=>Number(t),invert:t=>new Date(t),sqlApply:t=>t instanceof Date?Gn(+t):Vj(t)?Gn(Number(t.value)):o2(t),sqlInvert:Wd}}var jj={identity:VT,linear:VT,log:Bj,symlog:Nj,sqrt:Fj,pow:Uj,time:WT,utc:WT};function Ob(t){let e=jj[t.type];if(!e)throw new Error(`Unrecognized scale type: ${t.type}`);return{...t,...e(t)}}function Vj(t){return t instanceof zc&&t.value instanceof Date}function Bb(t){let e=2166136261;for(let i=0,n=t.length;i<n;++i){let o=t.charCodeAt(i),r=o&65280;r&&(e=$T(e^r>>8)),e=$T(e^o&255)}return sV(e)>>>0}function $T(t){return t+(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24)}function sV(t){return t+=t<<13,t^=t>>>7,t+=t<<3,t^=t>>>17,t+=t<<5,t&4294967295}function GT(t,e,i){switch(t.name){case\"count\":case\"count_star\":return aV(e,t);case\"sum\":return QT(e,t);case\"avg\":return lV(e,t);case\"geomean\":return cV(e,t);case\"arg_max\":return uV(e,t);case\"arg_min\":return dV(e,t);case\"variance\":case\"var_samp\":return Nb(e,t,i);case\"var_pop\":return Nb(e,t,i,!1);case\"stddev\":case\"stddev_samp\":return Wc(Nb(e,t,i));case\"stddev_pop\":return Wc(Nb(e,t,i,!1));case\"covar_samp\":return Fb(e,t,i);case\"covar_pop\":return Fb(e,t,i,!1);case\"corr\":return qT(e,t,i);case\"regr_count\":return Hd(e,t).expr;case\"regr_avgx\":return KT(e,t);case\"regr_avgy\":return ZT(e,t);case\"regr_syy\":return d2(e,0,t,i);case\"regr_sxx\":return d2(e,1,t,i);case\"regr_sxy\":return Fb(e,t,i,null);case\"regr_slope\":return JT(e,t,i);case\"regr_intercept\":return hV(e,t,i);case\"regr_r2\":return oo(qT(e,t,i),2);case\"max\":case\"min\":case\"bit_and\":case\"bit_or\":case\"bit_xor\":case\"bool_and\":case\"bool_or\":case\"product\":{let n=YT(t);return e[n]=t,$c`${t.name}(\"${n}\")`}default:return null}}function YT(t){return\"pre_\"+Bb(`${t}`).toString(16)}function Yn(t,e,i){let n=i?.filter;n&&(e=e.filter?e.where(jd(n,e.filter)):e.where(n));let o=YT(e);return t[o]=e,o}function h2(t,e){let i=Yn(t,vl(e.args[0]),e);return{expr:Ab(Yi(i),0),name:i}}function aV(t,e){return Ab(QT(t,e),0)}function QT(t,e){return Yi(Yn(t,e))}function lV(t,e){let i=Yn(t,e),{expr:n,name:o}=h2(t,e);return en(Yi(Fi(i,o)),n)}function cV(t,e){let i=e.args[0],n=Yn(t,Yi(wl(i)),e),{expr:o}=h2(t,e);return Ud(en(Yi(n),o))}function uV(t,e){let i=Yn(t,e),n=Yn(t,Vc(e.args[1]),e);return Cb(i,n)}function dV(t,e){let i=Yn(t,e),n=Yn(t,Nd(e.args[1]),e);return kb(i,n)}function Nb(t,e,i,n=!0){let o=e.args[0],{expr:r}=h2(t,e),s=Ni(o,i(o)),a=Yn(t,Yi(oo(s,2)),e),l=Yn(t,Yi(s),e),c=n?Ni(r,1):r;return en(Ni(Yi(a),en(oo(Yi(l),2),r)),c)}function Fb(t,e,i,n=!0){let{expr:o}=Hd(t,e),r=XT(t,e,i),s=Hf(t,1,e,i),a=Hf(t,0,e,i),l=Ni(r,en(Fi(s,a),o));return n===null?l:n?en(l,Ni(o,1)):en(l,o)}function qT(t,e,i){let{expr:n}=Hd(t,e),o=XT(t,e,i),r=u2(t,1,e,i),s=u2(t,0,e,i),a=Hf(t,1,e,i),l=Hf(t,0,e,i),c=Ni(r,en(oo(a,2),n)),u=Ni(s,en(oo(l,2),n));return en(Ni(o,en(Fi(a,l),n)),Wc(Fi(c,u)))}function Hd(t,e){let[i,n]=e.args,o=Yn(t,i2(i,n),e);return{expr:Yi(o),name:o}}function Hf(t,e,i,n){let o=i.args,r=o[e],s=o[1-e],a=Yi(Ni(r,n(r))).where(Ib(s));return Yi(Yn(t,a,i))}function u2(t,e,i,n){let o=i.args,r=o[e],s=o[1-e],a=Yi(oo(Ni(r,n(r)),2)).where(Ib(s));return Yi(Yn(t,a,i))}function XT(t,e,i){let[n,o]=e.args,r=Yi(Fi(Ni(o,i(o)),Ni(n,i(n))));return Yi(Yn(t,r,e))}function KT(t,e){let[i,n]=e.args,{expr:o,name:r}=Hd(t,e),s=Yn(t,e2(i,n),e);return en(Yi(Fi(s,r)),o)}function ZT(t,e){let[i,n]=e.args,{expr:o,name:r}=Hd(t,e),s=Yn(t,t2(i,n),e);return en(Yi(Fi(s,r)),o)}function d2(t,e,i,n){let{expr:o}=Hd(t,i),r=Hf(t,e,i,n),s=u2(t,e,i,n);return Ni(s,en(oo(r,2),o))}function JT(t,e,i){let n=Fb(t,e,i,null),o=d2(t,1,e,i);return en(n,o)}function hV(t,e,i){let n=KT(t,e),o=ZT(t,e),r=JT(t,e,i);return Ni(o,Fi(r,n))}function eA(t){if(!t.filterStable)return null;let e=t.query();if(!la(e))return null;let i=Ub(e,l=>{let c=l._from[0],u=c instanceof bs&&c.expr;return aa(u)?u.name:u});if(typeof i!=\"string\")return null;let n=new Map,o={},r={},s=[],a=l=>{let c=l.column,u=Ub(e,d=>d._select.find(h=>h.alias===c)?.expr);return $c`(SELECT avg(${u??l}) FROM \"${i}\")`};for(let{alias:l,expr:c}of e._select){if(El(c)>1)return null;let u=c2(c);if(u.length===0)s.push(l),o[l]=c;else{for(let d of u){if(d.isDistinct)return null;let h=GT(d,o,a);if(!h)return null;n.set(d,h)}r[l]=Uf(c,n)}}return n.size?{group:s,preagg:o,output:r}:null}function Ub(t,e){let i=t.subqueries;if(la(t)&&i.length===0)return e(t);let n=Ub(i[0],e);for(let o=1;o<i.length;++o){let r=Ub(i[o],e);if(r!==void 0&&r!==n)return NaN}return n}var pV={skip:!0,result:null},jb=class{entries;active;mc;_schema;_enabled;constructor(e,{schema:i=\"mosaic\",enabled:n=!0}={}){this.entries=new Map,this.active=null,this.mc=e,this._schema=i,this._enabled=n}set enabled(e){this._enabled!==e&&(e||this.clear(),this._enabled=e)}get enabled(){return this._enabled}set schema(e){this._schema!==e&&(this.clear(),this._schema=e)}get schema(){return this._schema}dropSchema(){return this.clear(),this.mc.exec(`DROP SCHEMA IF EXISTS \"${this.schema}\" CASCADE`)}clear(){this.entries.clear(),this.active=null}request(e,i,n){if(!this.enabled||n==null)return null;let{entries:o,mc:r,schema:s}=this,{source:a}=n;if(!a||this.active&&(this.active.source!==a&&this.clear(),this.active?.source===null))return null;let{active:l}=this;if(!l&&(n.predicate==null||(this.active=l=fV(n),l.source===null)))return null;if(o.has(e))return o.get(e);let c=eA(e),u;if(!c)u=null;else if(i.skip(e,n))u=pV;else{let d=i.remove(a).predicate(e);u=_V(e.query(d),l,c,s),u.result=r.exec([`CREATE SCHEMA IF NOT EXISTS ${s}`,Db(u.table,u.create,{temp:!1})]),u.result.catch(h=>r.logger().error(h))}return o.set(e,u),u}};function fV(t){let{source:e,meta:i}=t,n=t.predicate,o=Lb(n).map(a=>a.column),r,s;if(!i||!o)return{source:null,columns:s,predicate:r};switch(i.type){case\"point\":r=a=>a,s=Object.fromEntries(o.map(a=>[`${a}`,ei(a)]));break;case\"interval\":{let{scales:a,bin:l,pixelSize:c=1}=i;if(!a)break;let u=a.map(d=>gV(d,c,l));u.some(d=>!d)||(u.length===1?(r=d=>d?Hc(\"active0\",d.extent?.map(u[0])):[],s={active0:u[0](n.expr)}):(r=d=>d?jd(d.clauses.map((h,f)=>Hc(`active${f}`,h.extent?.map(u[f])))):[],s=Object.fromEntries(n.clauses.map((d,h)=>[`active${h}`,u[h](d.expr)]))))}}return{source:s?e:null,columns:s,predicate:r}}var mV={ceil:s2,round:Eb};function gV(t,e,i){let{type:n,domain:o,range:r,apply:s,sqlApply:a}=Ob(t);if(!s)return;let l=mV[`${i}`.toLowerCase()]||ua,c=o.map(L=>Number(L)),u=s(Math.min(...c)),d=s(Math.max(...c)),h=(n===\"identity\"?1:Math.abs(r[1]-r[0])/(d-u))/e,f=h===1?L=>L:L=>Fi(Fd(h),L),v=u===0?L=>L:L=>Ni(L,Fd(u));return L=>xl(l(f(v(a(L)))))}function _V(t,e,i,n){let{group:o,output:r,preagg:s}=i,{columns:a}=e,l=t.setSelect({...s,...a}).groupby(Object.keys(a)),[c]=l.subqueries;if(c){let A=Object.values(a).flatMap(I=>Lb(I).map(B=>B.column));yV(c,A)}let u=l._having,d=l._orderby;l._having=[],l._orderby=[];let h=l.toString(),f=(Bb(h)>>>0).toString(16),v=`${n}.preagg_${f}`,L=Pi.select(o,r).from(v).groupby(o).having(u).orderby(d);return new p2({table:v,create:h,active:e,select:L})}function yV(t,e){let i=new Set,n=o=>{if(!i.has(o)){if(i.add(o),la(o)&&o._from.length&&(o.select(e),bV(o))){let r=new Set(o._groupby.flatMap(s=>s instanceof Bc?[s.name]:[]));o.groupby(e.filter(s=>!r.has(s)))}o.subqueries.forEach(n)}};n(t)}function bV(t){return t._groupby.length>0||t._select.some(e=>El(e))}var p2=class{table;create;result;active;select;skip;constructor({table:e,create:i,active:n,select:o}){this.table=e,this.create=i,this.result=null,this.active=n,this.select=o,this.skip=!1}query(e){return this.select.clone().where(this.active.predicate(e))}};function $f(){return{debug(){},info(){},log(){},warn(){},error(){},group(){},groupCollapsed(){},groupEnd(){}}}var Il=Object.freeze({pending:Symbol(\"pending\"),ready:Symbol(\"ready\"),error:Symbol(\"error\"),done:Symbol(\"done\")}),qc=class extends Promise{_resolve;_reject;_state;_value;constructor(){let e,i;super((n,o)=>{e=n,i=o}),this._resolve=e,this._reject=i,this._state=Il.pending,this._value=void 0}fulfill(e){if(this._value!==void 0){if(e!==void 0)throw Error(\"Promise is ready and fulfill has a provided value\");this._resolve(this._value)}else{if(e===void 0)throw Error(\"Promise is neither ready nor has provided value\");this._resolve(e)}return this._state=Il.done,this}ready(e){return this._state=Il.ready,this._value=e,this}reject(e){return this._state=Il.error,this._reject(e),this}get state(){return this._state}};qc.prototype.constructor=Promise;function vV(t){return typeof requestAnimationFrame<\"u\"?requestAnimationFrame(t):typeof setImmediate<\"u\"?setImmediate(t):setTimeout(t)}function tA(t,e){let i=[],n=0;function o(){let r=xV(i,e);i=[],n=0;for(let s of r)SV(s,t),EV(s,e)}return{add(r,s){r.request.type===\"arrow\"?(n||=vV(()=>o()),i.push({entry:r,priority:s,index:i.length})):t(r,s)}}}function xV(t,e){let i=[],n=new Map;for(let o of t){let{entry:{request:r}}=o,s=wV(r.query,e);if(!n.has(s)){let a=[];i.push(a),n.set(s,a)}n.get(s).push(o)}return i}function wV(t,e){let i=`${t}`;if(la(t)&&!e.get(i)){if(t._where.length||t._qualify.length||t._having.length||t._orderby.length||t._distinct)return i;let n=t.clone().setSelect(\"*\"),o=t._groupby;if(o.length){let r={};t._select.forEach(({alias:s,expr:a})=>r[s]=a),n.setGroupby(o.map(s=>Rd(s)&&r[s.column]||s))}else t._select.some(r=>El(r.expr))&&n.setGroupby(\"ALL\");return`${n}`}else return i}function SV(t,e){if(CV(t))e({request:{type:\"arrow\",cache:!1,query:t.query=kV(t)},result:t.result=new qc});else for(let{entry:i,priority:n}of t)e(i,n)}function CV(t){if(t.length>1){let e=`${t[0].entry.request.query}`;for(let i=1;i<t.length;++i)if(e!==`${t[i].entry.request.query}`)return!0}return!1}function kV(t){let e=t.maps=[],i=new Map;for(let r of t){let s=r.entry.request.query,a=[];e.push(a);for(let{alias:l,expr:c}of s._select){let u=`${c}`;i.has(u)||i.set(u,[`col${i.size}`,c]);let[d]=i.get(u);a.push([d,l])}}let n=t[0].entry.request.query.clone(),o=n._groupby;if(o.length){let r={};t.maps[0].forEach(([s,a])=>r[a]=s),n.setGroupby(o.map(s=>Rd(s)&&r[s.column]||s))}return n.setSelect(Array.from(i.values()))}async function EV(t,e){let{maps:i,query:n,result:o}=t;if(!i)return;let r;try{r=await o}catch(a){for(let{entry:l}of t)l.result.reject(a);return}let s=ZS(n);t.forEach(({entry:a},l)=>{let{request:c,result:u}=a,d=i[l],h=s&&d?TV(r,d):d?IV(r,d):r;c.cache&&e.set(String(c.query),h),u.fulfill(h)})}function IV(t,e){return t.select(e.map(i=>i[0]),e.map(i=>i[1]))}function TV(t,e){let i=new Map(e),n=[];for(let o of t)i.has(o.column_name)&&n.push({...o,column_name:i.get(o.column_name)});return n}var AV=typeof requestIdleCallback<\"u\"?requestIdleCallback:setTimeout;function iA(){return{get:()=>{},set:(t,e)=>e,clear:()=>{}}}function nA({max:t=1e3,ttl:e=3*60*60*1e3}={}){let i=new Map;function n(){let o=performance.now()-e,r=null,s=1/0;for(let[a,l]of i){let{last:c}=l;c<s&&(r=a,s=c),o>c&&i.delete(a)}r&&i.delete(r)}return{get(o){let r=i.get(o);if(r)return r.last=performance.now(),r.value},set(o,r){return i.set(o,{last:performance.now(),value:r}),i.size>t&&AV(n),r},clear(){i=new Map}}}var Vb=class{queue;constructor(e){this.queue=Array.from({length:e},()=>({head:null,tail:null}))}isEmpty(){return this.queue.every(e=>!e.head)}insert(e,i){let n=this.queue[i];if(!n)throw new Error(`Invalid queue priority rank: ${i}`);let o={item:e,next:null};n.head===null?n.head=n.tail=o:n.tail=n.tail.next=o}remove(e){for(let i of this.queue){let{head:n,tail:o}=i;for(let r=null,s=n;s;r=s,s=s.next)e(s.item)&&(s===n?n=s.next:r.next=s.next,s===o&&(o=r||n));i.head=n,i.tail=o}}next(){for(let e of this.queue){let{head:i}=e;if(i!==null)return e.head=i.next,e.tail===i&&(e.tail=null),i.item}}};var Tl=Object.freeze({High:0,Normal:1,Low:2}),Wb=class{queue;db;clientCache;_logger;_logQueries;_consolidate;pendingResults;maxConcurrentRequests;pendingExec;constructor(e=32){this.queue=new Vb(3),this.db=null,this.clientCache=null,this._logger=$f(),this._logQueries=!1,this._consolidate=null,this.pendingResults=[],this.maxConcurrentRequests=e,this.pendingExec=!1}next(){if(this.queue.isEmpty()||this.pendingResults.length>this.maxConcurrentRequests||this.pendingExec)return;let e=this.queue.next();if(!e)return;let{request:i,result:n}=e;this.pendingResults.push(n),i.type===\"exec\"&&(this.pendingExec=!0),this.submit(i,n).finally(()=>{for(;this.pendingResults.length&&this.pendingResults[0].state!==Il.pending;){let o=this.pendingResults.shift();o.state===Il.ready?o.fulfill():o.state===Il.done&&this._logger.warn(\"Found resolved query in pending results.\")}i.type===\"exec\"&&(this.pendingExec=!1),this.next()})}enqueue(e,i=Tl.Normal){this.queue.insert(e,i),this.next()}async submit(e,i){try{let{query:n,type:o,cache:r=!1,options:s}=e,a=n?`${n}`:null;if(r){let d=this.clientCache.get(a);if(d){let h=await d;this._logger.debug(\"Cache\"),i.ready(h);return}}let l=performance.now();this._logQueries&&this._logger.debug(\"Query\",{type:o,sql:a,...s});let c=this.db.query({type:o,sql:a,...s});r&&this.clientCache.set(a,c);let u=await c;r&&this.clientCache.set(a,u),this._logger.debug(`Request: ${(performance.now()-l).toFixed(1)}`),i.ready(o===\"exec\"?null:u)}catch(n){i.reject(n)}}cache(e){return e!==void 0?this.clientCache=e===!0?nA():e||iA():this.clientCache}logger(e){return e?this._logger=e:this._logger}logQueries(e){return e!==void 0?this._logQueries=!!e:this._logQueries}connector(e){return e?this.db=e:this.db}consolidate(e){e&&!this._consolidate?this._consolidate=tA(this.enqueue.bind(this),this.clientCache):!e&&this._consolidate&&(this._consolidate=null)}request(e,i=Tl.Normal){let n=new qc,o={request:e,result:n};return this._consolidate?this._consolidate.add(o,i):this.enqueue(o,i),n}cancel(e){let i=new Set(e);if(i.size){this.queue.remove(({result:n})=>i.has(n)?(n.reject(\"Canceled\"),!0):!1);for(let n of this.pendingResults)i.has(n)&&n.reject(\"Canceled\")}}clear(){this.queue.remove(({result:e})=>(e.reject(\"Cleared\"),!0));for(let e of this.pendingResults)e.reject(\"Cleared\");this.pendingResults=[]}};var Hb;function f2(t){return t?Hb=t:Hb==null&&(Hb=new $d),Hb}var $d=class{manager;preaggregator;clients=new Set;filterGroups=new Map;_logger=$f();constructor(e=new sf,i={}){let{logger:n=console,manager:o=new Wb,cache:r=!0,consolidate:s=!0,preagg:a={}}=i;this.manager=o,this.manager.cache(r),this.manager.consolidate(s),this.databaseConnector(e),this.logger(n),this.clear(),this.preaggregator=new jb(this,a)}clear(e={}){let{clients:i=!0,cache:n=!0}=e;this.manager.clear(),i&&(this.filterGroups?.forEach(o=>o.disconnect()),this.filterGroups=new Map,this.clients?.forEach(o=>this.disconnect(o)),this.clients=new Set),n&&this.manager.cache().clear()}databaseConnector(e){return e?this.manager.connector(e):this.manager.connector()}logger(e){return arguments.length&&(this._logger=e||$f(),this.manager.logger(this._logger)),this._logger}cancel(e){this.manager.cancel(e)}exec(e,i={}){let{priority:n=Tl.Normal}=i;return e=Array.isArray(e)?e.filter(o=>o).join(`;\n`):e,this.manager.request({type:\"exec\",query:e},n)}query(e,i={}){let{type:n=\"arrow\",cache:o=!0,priority:r=Tl.Normal,...s}=i;return this.manager.request({type:n,query:e,cache:o,options:s},r)}prefetch(e,i={}){return this.query(e,{...i,cache:!0,priority:Tl.Low})}updateClient(e,i,n=Tl.Normal){return e.queryPending(),e._pending=this.query(i,{priority:n}).then(o=>e.queryResult(o).update(),o=>{this._logger?.error(o),e.queryError(o)}).catch(o=>this._logger?.error(o))}requestQuery(e,i){return this.preaggregator.clear(),i?this.updateClient(e,i):Promise.resolve(e.update())}connect(e){let{clients:i}=this;if(i?.has(e))throw new Error(\"Client already connected.\");i?.add(e),e.coordinator=this,e.initialize(),LV(this,e.filterBy,e)}disconnect(e){let{clients:i,filterGroups:n}=this;if(!i?.has(e))return;i.delete(e),e.coordinator=null;let o=n?.get(e.filterBy);o&&o.clients.delete(e)}};function LV(t,e,i){if(!e)return;let n=t.filterGroups?.get(e);if(!n){let o=s=>DV(t,e,s),r=()=>PV(t,e);e.addEventListener(\"activate\",o),e.addEventListener(\"value\",r),n={selection:e,clients:new Set,disconnect(){e.removeEventListener(\"activate\",o),e.removeEventListener(\"value\",r)}},t.filterGroups?.set(e,n)}n.clients.add(i)}function DV(t,e,i){let{preaggregator:n,filterGroups:o}=t,{clients:r}=o.get(e);for(let s of r)s.enabled&&n.request(s,e,i)}function PV(t,e){let{preaggregator:i,filterGroups:n}=t,{clients:o}=n.get(e),{active:r}=e;return Promise.allSettled(Array.from(o,s=>{if(!s.enabled)return s.requestQuery();let a=i.request(s,e,r),l=a?null:e.predicate(s);if(a?.skip||!a&&!l)return;let c=a?.query(r.predicate)??s.query(l);return t.updateClient(s,c)}))}function g2(t){let{coordinator:e=f2(),...i}=t,n=new m2(i);return e.connect(n),n}var m2=class extends Gp{_methods;_filterStable;constructor({selection:e=void 0,enabled:i=!0,filterStable:n=!0,...o}){super(e),this.enabled=i,this._methods=o,this._filterStable=n}get filterStable(){return this._filterStable}async prepare(){await this._methods.prepare?.()}query(e){return this._methods.query?.(e)??null}queryResult(e){return this._methods.queryResult?.(e),this}queryPending(){return this._methods.queryPending?.(),this}queryError(e){return this._methods.queryError?.(e),this}};var $b=class{_callbacks;constructor(){this._callbacks=new Map}addEventListener(e,i){this._callbacks.has(e)||this._callbacks.set(e,{callbacks:new Set,pending:null,queue:new _2}),this._callbacks.get(e).callbacks.add(i)}removeEventListener(e,i){let n=this._callbacks.get(e);n&&n.callbacks.delete(i)}willEmit(e,i){return i}emitQueueFilter(e,i){return null}cancel(e){this._callbacks.get(e)?.queue.clear()}async pending(e){await this._callbacks.get(e)?.pending}emit(e,i){let n=this._callbacks.get(e)||{};if(n.pending)n.queue.enqueue(i,this.emitQueueFilter(e,i));else{let o=this.willEmit(e,i),{callbacks:r,queue:s}=n;if(r?.size){let a=Array.from(r,l=>l(o));n.pending=Promise.allSettled(a).then(()=>{n.pending=null,s.isEmpty()||this.emit(e,s.dequeue())})}}}},_2=class{next=null;constructor(){this.clear()}clear(){this.next=null}isEmpty(){return!this.next}enqueue(e,i){let n={value:e};if(i&&this.next){let o=this;for(;o.next;)i(o.next.value)?o=o.next:o.next=o.next.next;o.next=n}else this.next=n}dequeue(){let{next:e}=this;return this.next=e?.next||null,e?.value}};function y2(t,e){return t===e?!1:t instanceof Date&&e instanceof Date?+t!=+e:Array.isArray(t)&&Array.isArray(e)?RV(t,e):!0}function RV(t,e){if(t.length!==e.length)return!0;for(let i=0;i<t.length;++i)if(t[i]!==e[i])return!0;return!1}function qb(t){return t instanceof qd}var qd=class t extends $b{_value;constructor(e){super(),this._value=e}static value(e){return new t(e)}static array(e){if(e.some(i=>qb(i))){let i=new t,n=()=>{i.update(e.map(o=>qb(o)?o.value:o))};return n(),e.forEach(o=>qb(o)?o.addEventListener(\"value\",n):0),i}return new t(e)}get value(){return this._value}update(e,{force:i}={}){return y2(this._value,e)||i?this.emit(\"value\",e):this.cancel(\"value\"),this}willEmit(e,i){return e===\"value\"&&(this._value=i),i}};function Gb(t,e){return new Gc(new Yb(t),e?[e].flat():void 0)}var Gc=class t extends qd{_resolved;_resolver;_relay;static intersect({cross:e=!1,empty:i=!1,include:n=[]}={}){return Gb({cross:e,empty:i},n)}static union({cross:e=!1,empty:i=!1,include:n=[]}={}){return Gb({cross:e,empty:i,union:!0},n)}static single({cross:e=!1,empty:i=!1,include:n=[]}={}){return Gb({cross:e,empty:i,single:!0},n)}static crossfilter({empty:e=!1,include:i=[]}={}){return Gb({cross:!0,empty:e},i)}constructor(e=new Yb,i=[]){if(super([]),this._resolved=this._value,this._resolver=e,this._relay=new Set,Array.isArray(i))for(let n of i)n._relay.add(this)}clone(){let e=new t(this._resolver);return e._value=e._resolved=this._value,e}remove(e){let i=this.clone();return i._value=i._resolved=i._resolver.resolve(this._resolved,{source:e}),i._value.active={source:e},i}get resolver(){return this._resolver}get single(){return this._resolver.single}get clauses(){return super.value}get active(){return this.clauses.active}get value(){return this.active?.value}valueFor(e){return this.clauses.find(i=>i.source===e)?.value}activate(e){this.emit(\"activate\",e),this._relay.forEach(i=>i.activate(e))}update(e){return this._resolved=this._resolver.resolve(this._resolved,e,!0),this._resolved.active=e,this._relay.forEach(i=>i.update(e)),super.update(this._resolved)}reset(e){return e??=this._resolved,e.forEach(i=>i.source?.reset?.()),this._resolved=this._resolved.filter(i=>e.includes(i)),this._relay.forEach(i=>i.reset(e)),super.update(this._resolved=[])}willEmit(e,i){return e===\"value\"?(this._value=i,this.value):i}emitQueueFilter(e,i){return e===\"value\"?this._resolver.queueFilter(i):null}skip(e,i){return this._resolver.skip(e,i)}predicate(e=void 0,i=!1){let{clauses:n}=this,o=i?null:n.active;return this._resolver.predicate(n,o,e)}},Yb=class{union;cross;single;empty;constructor({union:e,cross:i,single:n,empty:o}={}){this.union=!!e,this.cross=!!i,this.single=!!n,this.empty=!!o}resolve(e,i,n=!1){let{source:o,predicate:r}=i,s=e.filter(l=>o!==l.source),a=this.single?[]:s;return this.single&&n&&s.forEach(l=>l.source?.reset?.()),r&&a.push(i),a}skip(e,i){return e==null?!1:!!(this.cross&&i?.clients?.has(e))}predicate(e,i,n){let{empty:o,union:r}=this;if(o&&!e.length)return[Gn(!1)];if(this.skip(n,i))return;let s=e.filter(a=>!this.skip(n,a)).map(a=>a.predicate);return r&&s.length>1?Bf(s):s}queueFilter(e){if(this.cross){let i=e.active?.source;return n=>n.active?.source!==i}return null}};var qf=class{_uri;_ipc;constructor({uri:e=\"http://localhost:3000/\",ipc:i=void 0}={}){this._uri=e,this._ipc=i}async query(e){let i=fetch(this._uri,{method:\"POST\",mode:\"cors\",cache:\"no-cache\",credentials:\"omit\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(e)}),n=await i;if(!n.ok)throw new Error(`Query failed with HTTP status ${n.status}: ${await n.text()}`);return e.type===\"exec\"?i:e.type===\"arrow\"?pl(await n.arrayBuffer(),this._ipc):n.json()}};function rA(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols==\"function\")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(i[n[o]]=t[n[o]]);return i}function Ke(t,e,i,n){function o(r){return r instanceof i?r:new i(function(s){s(r)})}return new(i||(i=Promise))(function(r,s){function a(u){try{c(n.next(u))}catch(d){s(d)}}function l(u){try{c(n.throw(u))}catch(d){s(d)}}function c(u){u.done?r(u.value):o(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})}function oA(t){var e=typeof Symbol==\"function\"&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&typeof t.length==\"number\")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}function Ft(t){return this instanceof Ft?(this.v=t,this):new Ft(t)}function No(t,e,i){if(!Symbol.asyncIterator)throw new TypeError(\"Symbol.asyncIterator is not defined.\");var n=i.apply(t,e||[]),o,r=[];return o=Object.create((typeof AsyncIterator==\"function\"?AsyncIterator:Object).prototype),a(\"next\"),a(\"throw\"),a(\"return\",s),o[Symbol.asyncIterator]=function(){return this},o;function s(f){return function(v){return Promise.resolve(v).then(f,d)}}function a(f,v){n[f]&&(o[f]=function(L){return new Promise(function(A,I){r.push([f,L,A,I])>1||l(f,L)})},v&&(o[f]=v(o[f])))}function l(f,v){try{c(n[f](v))}catch(L){h(r[0][3],L)}}function c(f){f.value instanceof Ft?Promise.resolve(f.value.v).then(u,d):h(r[0][2],f)}function u(f){l(\"next\",f)}function d(f){l(\"throw\",f)}function h(f,v){f(v),r.shift(),r.length&&l(r[0][0],r[0][1])}}function Gd(t){var e,i;return e={},n(\"next\"),n(\"throw\",function(o){throw o}),n(\"return\"),e[Symbol.iterator]=function(){return this},e;function n(o,r){e[o]=t[o]?function(s){return(i=!i)?{value:Ft(t[o](s)),done:!1}:r?r(s):s}:r}}function Br(t){if(!Symbol.asyncIterator)throw new TypeError(\"Symbol.asyncIterator is not defined.\");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof oA==\"function\"?oA(t):t[Symbol.iterator](),i={},n(\"next\"),n(\"throw\"),n(\"return\"),i[Symbol.asyncIterator]=function(){return this},i);function n(r){i[r]=t[r]&&function(s){return new Promise(function(a,l){s=t[r](s),o(a,l,s.done,s.value)})}}function o(r,s,a,l){Promise.resolve(l).then(function(c){r({value:c,done:a})},s)}}var C2={};wc(C2,{compareArrayLike:()=>S2,joinUint8Arrays:()=>Uo,memcpy:()=>Qf,rebaseValueOffsets:()=>i0,toArrayBufferView:()=>Vt,toArrayBufferViewAsyncIterator:()=>Fr,toArrayBufferViewIterator:()=>xs,toBigInt64Array:()=>t0,toBigUint64Array:()=>VV,toFloat32Array:()=>WV,toFloat32ArrayAsyncIterator:()=>rW,toFloat32ArrayIterator:()=>KV,toFloat64Array:()=>HV,toFloat64ArrayAsyncIterator:()=>sW,toFloat64ArrayIterator:()=>ZV,toInt16Array:()=>FV,toInt16ArrayAsyncIterator:()=>tW,toInt16ArrayIterator:()=>GV,toInt32Array:()=>Yc,toInt32ArrayAsyncIterator:()=>iW,toInt32ArrayIterator:()=>YV,toInt8Array:()=>NV,toInt8ArrayAsyncIterator:()=>eW,toInt8ArrayIterator:()=>qV,toUint16Array:()=>UV,toUint16ArrayAsyncIterator:()=>nW,toUint16ArrayIterator:()=>QV,toUint32Array:()=>jV,toUint32ArrayAsyncIterator:()=>oW,toUint32ArrayIterator:()=>XV,toUint8Array:()=>St,toUint8ArrayAsyncIterator:()=>w2,toUint8ArrayIterator:()=>x2,toUint8ClampedArray:()=>$V,toUint8ClampedArrayAsyncIterator:()=>aW,toUint8ClampedArrayIterator:()=>JV});var MV=new TextDecoder(\"utf-8\"),Gf=t=>MV.decode(t),zV=new TextEncoder,vs=t=>zV.encode(t);var OV=t=>typeof t==\"number\",sA=t=>typeof t==\"boolean\",vn=t=>typeof t==\"function\",ro=t=>t!=null&&Object(t)===t,Fo=t=>ro(t)&&vn(t.then);var Nr=t=>ro(t)&&vn(t[Symbol.iterator]),lr=t=>ro(t)&&vn(t[Symbol.asyncIterator]),Qb=t=>ro(t)&&ro(t.schema);var Xb=t=>ro(t)&&\"done\"in t&&\"value\"in t;var Kb=t=>ro(t)&&vn(t.stat)&&OV(t.fd);var Zb=t=>ro(t)&&Yf(t.body),Jb=t=>\"_getDOMStream\"in t&&\"_getNodeStream\"in t,aA=t=>ro(t)&&vn(t.abort)&&vn(t.getWriter)&&!Jb(t),Yf=t=>ro(t)&&vn(t.cancel)&&vn(t.getReader)&&!Jb(t),lA=t=>ro(t)&&vn(t.end)&&vn(t.write)&&sA(t.writable)&&!Jb(t),e0=t=>ro(t)&&vn(t.read)&&vn(t.pipe)&&sA(t.readable)&&!Jb(t),cA=t=>ro(t)&&vn(t.clear)&&vn(t.bytes)&&vn(t.position)&&vn(t.setPosition)&&vn(t.capacity)&&vn(t.getBufferIdentifier)&&vn(t.createLong);var v2=typeof SharedArrayBuffer<\"u\"?SharedArrayBuffer:ArrayBuffer;function BV(t){let e=t[0]?[t[0]]:[],i,n,o,r;for(let s,a,l=0,c=0,u=t.length;++l<u;){if(s=e[c],a=t[l],!s||!a||s.buffer!==a.buffer||a.byteOffset<s.byteOffset){a&&(e[++c]=a);continue}if({byteOffset:i,byteLength:o}=s,{byteOffset:n,byteLength:r}=a,i+o<n||n+r<i){a&&(e[++c]=a);continue}e[c]=new Uint8Array(s.buffer,i,n-i+r)}return e}function Qf(t,e,i=0,n=e.byteLength){let o=t.byteLength,r=new Uint8Array(t.buffer,t.byteOffset,o),s=new Uint8Array(e.buffer,e.byteOffset,Math.min(n,o));return r.set(s,i),t}function Uo(t,e){let i=BV(t),n=i.reduce((u,d)=>u+d.byteLength,0),o,r,s,a=0,l=-1,c=Math.min(e||Number.POSITIVE_INFINITY,n);for(let u=i.length;++l<u;){if(o=i[l],r=o.subarray(0,Math.min(o.length,c-a)),c<=a+r.length){r.length<o.length?i[l]=o.subarray(r.length):r.length===o.length&&l++,s?Qf(s,r,a):s=r;break}Qf(s||(s=new Uint8Array(c)),r,a),a+=r.length}return[s||new Uint8Array(0),i.slice(l),n-(s?s.byteLength:0)]}function Vt(t,e){let i=Xb(e)?e.value:e;return i instanceof t?t===Uint8Array?new t(i.buffer,i.byteOffset,i.byteLength):i:i?(typeof i==\"string\"&&(i=vs(i)),i instanceof ArrayBuffer?new t(i):i instanceof v2?new t(i):cA(i)?Vt(t,i.bytes()):ArrayBuffer.isView(i)?i.byteLength<=0?new t(0):new t(i.buffer,i.byteOffset,i.byteLength/t.BYTES_PER_ELEMENT):t.from(i)):new t(0)}var NV=t=>Vt(Int8Array,t),FV=t=>Vt(Int16Array,t),Yc=t=>Vt(Int32Array,t),t0=t=>Vt(BigInt64Array,t),St=t=>Vt(Uint8Array,t),UV=t=>Vt(Uint16Array,t),jV=t=>Vt(Uint32Array,t),VV=t=>Vt(BigUint64Array,t),WV=t=>Vt(Float32Array,t),HV=t=>Vt(Float64Array,t),$V=t=>Vt(Uint8ClampedArray,t),b2=t=>(t.next(),t);function*xs(t,e){let i=function*(o){yield o},n=typeof e==\"string\"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof v2?i(e):Nr(e)?e:i(e);return yield*b2(function*(o){let r=null;do r=o.next(yield Vt(t,r));while(!r.done)}(n[Symbol.iterator]())),new t}var qV=t=>xs(Int8Array,t),GV=t=>xs(Int16Array,t),YV=t=>xs(Int32Array,t),x2=t=>xs(Uint8Array,t),QV=t=>xs(Uint16Array,t),XV=t=>xs(Uint32Array,t),KV=t=>xs(Float32Array,t),ZV=t=>xs(Float64Array,t),JV=t=>xs(Uint8ClampedArray,t);function Fr(t,e){return No(this,arguments,function*(){if(Fo(e))return yield Ft(yield Ft(yield*Gd(Br(Fr(t,yield Ft(e))))));let n=function(s){return No(this,arguments,function*(){yield yield Ft(yield Ft(s))})},o=function(s){return No(this,arguments,function*(){yield Ft(yield*Gd(Br(b2(function*(a){let l=null;do l=a.next(yield l?.value);while(!l.done)}(s[Symbol.iterator]())))))})},r=typeof e==\"string\"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof v2?n(e):Nr(e)?o(e):lr(e)?e:n(e);return yield Ft(yield*Gd(Br(b2(function(s){return No(this,arguments,function*(){let a=null;do a=yield Ft(s.next(yield yield Ft(Vt(t,a))));while(!a.done)})}(r[Symbol.asyncIterator]()))))),yield Ft(new t)})}var eW=t=>Fr(Int8Array,t),tW=t=>Fr(Int16Array,t),iW=t=>Fr(Int32Array,t),w2=t=>Fr(Uint8Array,t),nW=t=>Fr(Uint16Array,t),oW=t=>Fr(Uint32Array,t),rW=t=>Fr(Float32Array,t),sW=t=>Fr(Float64Array,t),aW=t=>Fr(Uint8ClampedArray,t);function i0(t,e,i){if(t!==0){i=i.slice(0,e);for(let n=-1,o=i.length;++n<o;)i[n]+=t}return i.subarray(0,e)}function S2(t,e){let i=0,n=t.length;if(n!==e.length)return!1;if(n>0)do if(t[i]!==e[i])return!1;while(++i<n);return!0}var Fn={fromIterable(t){return n0(lW(t))},fromAsyncIterable(t){return n0(cW(t))},fromDOMStream(t){return n0(uW(t))},fromNodeStream(t){return n0(dW(t))},toDOMStream(t,e){throw new Error('\"toDOMStream\" not available in this environment')},toNodeStream(t,e){throw new Error('\"toNodeStream\" not available in this environment')}},n0=t=>(t.next(),t);function*lW(t){let e,i=!1,n=[],o,r,s,a=0;function l(){return r===\"peek\"?Uo(n,s)[0]:([o,n,a]=Uo(n,s),o)}({cmd:r,size:s}=(yield null)||{cmd:\"read\",size:0});let c=x2(t)[Symbol.iterator]();try{do if({done:e,value:o}=Number.isNaN(s-a)?c.next():c.next(s-a),!e&&o.byteLength>0&&(n.push(o),a+=o.byteLength),e||s<=a)do({cmd:r,size:s}=yield l());while(s<a);while(!e)}catch(u){(i=!0)&&typeof c.throw==\"function\"&&c.throw(u)}finally{i===!1&&typeof c.return==\"function\"&&c.return(null)}return null}function cW(t){return No(this,arguments,function*(){let i,n=!1,o=[],r,s,a,l=0;function c(){return s===\"peek\"?Uo(o,a)[0]:([r,o,l]=Uo(o,a),r)}({cmd:s,size:a}=(yield yield Ft(null))||{cmd:\"read\",size:0});let u=w2(t)[Symbol.asyncIterator]();try{do if({done:i,value:r}=Number.isNaN(a-l)?yield Ft(u.next()):yield Ft(u.next(a-l)),!i&&r.byteLength>0&&(o.push(r),l+=r.byteLength),i||a<=l)do({cmd:s,size:a}=yield yield Ft(c()));while(a<l);while(!i)}catch(d){(n=!0)&&typeof u.throw==\"function\"&&(yield Ft(u.throw(d)))}finally{n===!1&&typeof u.return==\"function\"&&(yield Ft(u.return(new Uint8Array(0))))}return yield Ft(null)})}function uW(t){return No(this,arguments,function*(){let i=!1,n=!1,o=[],r,s,a,l=0;function c(){return s===\"peek\"?Uo(o,a)[0]:([r,o,l]=Uo(o,a),r)}({cmd:s,size:a}=(yield yield Ft(null))||{cmd:\"read\",size:0});let u=new E2(t);try{do if({done:i,value:r}=Number.isNaN(a-l)?yield Ft(u.read()):yield Ft(u.read(a-l)),!i&&r.byteLength>0&&(o.push(St(r)),l+=r.byteLength),i||a<=l)do({cmd:s,size:a}=yield yield Ft(c()));while(a<l);while(!i)}catch(d){(n=!0)&&(yield Ft(u.cancel(d)))}finally{n===!1?yield Ft(u.cancel()):t.locked&&u.releaseLock()}return yield Ft(null)})}var E2=class{constructor(e){this.source=e,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(e){return Ke(this,void 0,void 0,function*(){let{reader:i,source:n}=this;i&&(yield i.cancel(e).catch(()=>{})),n&&n.locked&&this.releaseLock()})}read(e){return Ke(this,void 0,void 0,function*(){if(e===0)return{done:this.reader==null,value:new Uint8Array(0)};let i=yield this.reader.read();return!i.done&&(i.value=St(i)),i})}},k2=(t,e)=>{let i=o=>n([e,o]),n;return[e,i,new Promise(o=>(n=o)&&t.once(e,i))]};function dW(t){return No(this,arguments,function*(){let i=[],n=\"error\",o=!1,r=null,s,a,l=0,c=[],u;function d(){return s===\"peek\"?Uo(c,a)[0]:([u,c,l]=Uo(c,a),u)}if({cmd:s,size:a}=(yield yield Ft(null))||{cmd:\"read\",size:0},t.isTTY)return yield yield Ft(new Uint8Array(0)),yield Ft(null);try{i[0]=k2(t,\"end\"),i[1]=k2(t,\"error\");do{if(i[2]=k2(t,\"readable\"),[n,r]=yield Ft(Promise.race(i.map(f=>f[2]))),n===\"error\")break;if((o=n===\"end\")||(Number.isFinite(a-l)?(u=St(t.read(a-l)),u.byteLength<a-l&&(u=St(t.read()))):u=St(t.read()),u.byteLength>0&&(c.push(u),l+=u.byteLength)),o||a<=l)do({cmd:s,size:a}=yield yield Ft(d()));while(a<l)}while(!o)}finally{yield Ft(h(i,n===\"error\"?r:null))}return yield Ft(null);function h(f,v){return u=c=null,new Promise((L,A)=>{for(let[I,B]of f)t.off(I,B);try{let I=t.destroy;I&&I.call(t,v),v=void 0}catch(I){v=I||v}finally{v!=null?A(v):L()}})}})}var hi;(function(t){t[t.V1=0]=\"V1\",t[t.V2=1]=\"V2\",t[t.V3=2]=\"V3\",t[t.V4=3]=\"V4\",t[t.V5=4]=\"V5\"})(hi||(hi={}));var Si;(function(t){t[t.Sparse=0]=\"Sparse\",t[t.Dense=1]=\"Dense\"})(Si||(Si={}));var vi;(function(t){t[t.HALF=0]=\"HALF\",t[t.SINGLE=1]=\"SINGLE\",t[t.DOUBLE=2]=\"DOUBLE\"})(vi||(vi={}));var tn;(function(t){t[t.DAY=0]=\"DAY\",t[t.MILLISECOND=1]=\"MILLISECOND\"})(tn||(tn={}));var nt;(function(t){t[t.SECOND=0]=\"SECOND\",t[t.MILLISECOND=1]=\"MILLISECOND\",t[t.MICROSECOND=2]=\"MICROSECOND\",t[t.NANOSECOND=3]=\"NANOSECOND\"})(nt||(nt={}));var xn;(function(t){t[t.YEAR_MONTH=0]=\"YEAR_MONTH\",t[t.DAY_TIME=1]=\"DAY_TIME\",t[t.MONTH_DAY_NANO=2]=\"MONTH_DAY_NANO\"})(xn||(xn={}));var ws=new Int32Array(2),o0=new Float32Array(ws.buffer),r0=new Float64Array(ws.buffer),Yd=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var Xf;(function(t){t[t.UTF8_BYTES=1]=\"UTF8_BYTES\",t[t.UTF16_STRING=2]=\"UTF16_STRING\"})(Xf||(Xf={}));var jo=class t{constructor(e){this.bytes_=e,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(e){return new t(new Uint8Array(e))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(e){this.position_=e}capacity(){return this.bytes_.length}readInt8(e){return this.readUint8(e)<<24>>24}readUint8(e){return this.bytes_[e]}readInt16(e){return this.readUint16(e)<<16>>16}readUint16(e){return this.bytes_[e]|this.bytes_[e+1]<<8}readInt32(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24}readUint32(e){return this.readInt32(e)>>>0}readInt64(e){return BigInt.asIntN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readUint64(e){return BigInt.asUintN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readFloat32(e){return ws[0]=this.readInt32(e),o0[0]}readFloat64(e){return ws[Yd?0:1]=this.readInt32(e),ws[Yd?1:0]=this.readInt32(e+4),r0[0]}writeInt8(e,i){this.bytes_[e]=i}writeUint8(e,i){this.bytes_[e]=i}writeInt16(e,i){this.bytes_[e]=i,this.bytes_[e+1]=i>>8}writeUint16(e,i){this.bytes_[e]=i,this.bytes_[e+1]=i>>8}writeInt32(e,i){this.bytes_[e]=i,this.bytes_[e+1]=i>>8,this.bytes_[e+2]=i>>16,this.bytes_[e+3]=i>>24}writeUint32(e,i){this.bytes_[e]=i,this.bytes_[e+1]=i>>8,this.bytes_[e+2]=i>>16,this.bytes_[e+3]=i>>24}writeInt64(e,i){this.writeInt32(e,Number(BigInt.asIntN(32,i))),this.writeInt32(e+4,Number(BigInt.asIntN(32,i>>BigInt(32))))}writeUint64(e,i){this.writeUint32(e,Number(BigInt.asUintN(32,i))),this.writeUint32(e+4,Number(BigInt.asUintN(32,i>>BigInt(32))))}writeFloat32(e,i){o0[0]=i,this.writeInt32(e,ws[0])}writeFloat64(e,i){r0[0]=i,this.writeInt32(e,ws[Yd?0:1]),this.writeInt32(e+4,ws[Yd?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+4+4)throw new Error(\"FlatBuffers: ByteBuffer is too short to contain an identifier.\");let e=\"\";for(let i=0;i<4;i++)e+=String.fromCharCode(this.readInt8(this.position_+4+i));return e}__offset(e,i){let n=e-this.readInt32(e);return i<this.readInt16(n)?this.readInt16(n+i):0}__union(e,i){return e.bb_pos=i+this.readInt32(i),e.bb=this,e}__string(e,i){e+=this.readInt32(e);let n=this.readInt32(e);e+=4;let o=this.bytes_.subarray(e,e+n);return i===Xf.UTF8_BYTES?o:this.text_decoder_.decode(o)}__union_with_string(e,i){return typeof e==\"string\"?this.__string(i):this.__union(e,i)}__indirect(e){return e+this.readInt32(e)}__vector(e){return e+this.readInt32(e)+4}__vector_len(e){return this.readInt32(e+this.readInt32(e))}__has_identifier(e){if(e.length!=4)throw new Error(\"FlatBuffers: file identifier must be length \"+4);for(let i=0;i<4;i++)if(e.charCodeAt(i)!=this.readInt8(this.position()+4+i))return!1;return!0}createScalarList(e,i){let n=[];for(let o=0;o<i;++o){let r=e(o);r!==null&&n.push(r)}return n}createObjList(e,i){let n=[];for(let o=0;o<i;++o){let r=e(o);r!==null&&n.push(r.unpack())}return n}};var Qc=class t{constructor(e){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let i;e?i=e:i=1024,this.bb=jo.allocate(i),this.space=i}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(e){this.force_defaults=e}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(e,i){e>this.minalign&&(this.minalign=e);let n=~(this.bb.capacity()-this.space+i)+1&e-1;for(;this.space<n+e+i;){let o=this.bb.capacity();this.bb=t.growByteBuffer(this.bb),this.space+=this.bb.capacity()-o}this.pad(n)}pad(e){for(let i=0;i<e;i++)this.bb.writeInt8(--this.space,0)}writeInt8(e){this.bb.writeInt8(this.space-=1,e)}writeInt16(e){this.bb.writeInt16(this.space-=2,e)}writeInt32(e){this.bb.writeInt32(this.space-=4,e)}writeInt64(e){this.bb.writeInt64(this.space-=8,e)}writeFloat32(e){this.bb.writeFloat32(this.space-=4,e)}writeFloat64(e){this.bb.writeFloat64(this.space-=8,e)}addInt8(e){this.prep(1,0),this.writeInt8(e)}addInt16(e){this.prep(2,0),this.writeInt16(e)}addInt32(e){this.prep(4,0),this.writeInt32(e)}addInt64(e){this.prep(8,0),this.writeInt64(e)}addFloat32(e){this.prep(4,0),this.writeFloat32(e)}addFloat64(e){this.prep(8,0),this.writeFloat64(e)}addFieldInt8(e,i,n){(this.force_defaults||i!=n)&&(this.addInt8(i),this.slot(e))}addFieldInt16(e,i,n){(this.force_defaults||i!=n)&&(this.addInt16(i),this.slot(e))}addFieldInt32(e,i,n){(this.force_defaults||i!=n)&&(this.addInt32(i),this.slot(e))}addFieldInt64(e,i,n){(this.force_defaults||i!==n)&&(this.addInt64(i),this.slot(e))}addFieldFloat32(e,i,n){(this.force_defaults||i!=n)&&(this.addFloat32(i),this.slot(e))}addFieldFloat64(e,i,n){(this.force_defaults||i!=n)&&(this.addFloat64(i),this.slot(e))}addFieldOffset(e,i,n){(this.force_defaults||i!=n)&&(this.addOffset(i),this.slot(e))}addFieldStruct(e,i,n){i!=n&&(this.nested(i),this.slot(e))}nested(e){if(e!=this.offset())throw new TypeError(\"FlatBuffers: struct must be serialized inline.\")}notNested(){if(this.isNested)throw new TypeError(\"FlatBuffers: object serialization must not be nested.\")}slot(e){this.vtable!==null&&(this.vtable[e]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(e){let i=e.capacity();if(i&3221225472)throw new Error(\"FlatBuffers: cannot grow buffer beyond 2 gigabytes.\");let n=i<<1,o=jo.allocate(n);return o.setPosition(n-i),o.bytes().set(e.bytes(),n-i),o}addOffset(e){this.prep(4,0),this.writeInt32(this.offset()-e+4)}startObject(e){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=e;for(let i=0;i<e;i++)this.vtable[i]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error(\"FlatBuffers: endObject called without startObject\");this.addInt32(0);let e=this.offset(),i=this.vtable_in_use-1;for(;i>=0&&this.vtable[i]==0;i--);let n=i+1;for(;i>=0;i--)this.addInt16(this.vtable[i]!=0?e-this.vtable[i]:0);let o=2;this.addInt16(e-this.object_start);let r=(n+o)*2;this.addInt16(r);let s=0,a=this.space;e:for(i=0;i<this.vtables.length;i++){let l=this.bb.capacity()-this.vtables[i];if(r==this.bb.readInt16(l)){for(let c=2;c<r;c+=2)if(this.bb.readInt16(a+c)!=this.bb.readInt16(l+c))continue e;s=this.vtables[i];break}}return s?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,s-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e}finish(e,i,n){let o=n?4:0;if(i){let r=i;if(this.prep(this.minalign,8+o),r.length!=4)throw new TypeError(\"FlatBuffers: file identifier must be length \"+4);for(let s=3;s>=0;s--)this.writeInt8(r.charCodeAt(s))}this.prep(this.minalign,4+o),this.addOffset(e),o&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(e,i){this.finish(e,i,!0)}requiredField(e,i){let n=this.bb.capacity()-e,o=n-this.bb.readInt32(n);if(!(i<this.bb.readInt16(o)&&this.bb.readInt16(o+i)!=0))throw new TypeError(\"FlatBuffers: field \"+i+\" must be set\")}startVector(e,i,n){this.notNested(),this.vector_num_elems=i,this.prep(4,e*i),this.prep(n,e*i)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(e){if(!e)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(e))return this.string_maps.get(e);let i=this.createString(e);return this.string_maps.set(e,i),i}createString(e){if(e==null)return 0;let i;return e instanceof Uint8Array?i=e:i=this.text_encoder.encode(e),this.addInt8(0),this.startVector(1,i.length,1),this.bb.setPosition(this.space-=i.length),this.bb.bytes().set(i,this.space),this.endVector()}createByteVector(e){return e==null?0:(this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length),this.bb.bytes().set(e,this.space),this.endVector())}createObjectOffset(e){return e===null?0:typeof e==\"string\"?this.createString(e):e.pack(this)}createObjectOffsetList(e){let i=[];for(let n=0;n<e.length;++n){let o=e[n];if(o!==null)i.push(this.createObjectOffset(o));else throw new TypeError(\"FlatBuffers: Argument for createObjectOffsetList cannot contain null.\")}return i}createStructOffsetList(e,i){return i(this,e.length),this.createObjectOffsetList(e.slice().reverse()),this.endVector()}};var Kf;(function(t){t[t.BUFFER=0]=\"BUFFER\"})(Kf||(Kf={}));var Zf;(function(t){t[t.LZ4_FRAME=0]=\"LZ4_FRAME\",t[t.ZSTD=1]=\"ZSTD\"})(Zf||(Zf={}));var a0=class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsBodyCompression(e,i){return(i||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBodyCompression(e,i){return e.setPosition(e.position()+4),(i||new t).__init(e.readInt32(e.position())+e.position(),e)}codec(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):Zf.LZ4_FRAME}method(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt8(this.bb_pos+e):Kf.BUFFER}static startBodyCompression(e){e.startObject(2)}static addCodec(e,i){e.addFieldInt8(0,i,Zf.LZ4_FRAME)}static addMethod(e,i){e.addFieldInt8(1,i,Kf.BUFFER)}static endBodyCompression(e){return e.endObject()}static createBodyCompression(e,i,n){return t.startBodyCompression(e),t.addCodec(e,i),t.addMethod(e,n),t.endBodyCompression(e)}};var Qd=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(e,i,n){return e.prep(8,16),e.writeInt64(BigInt(n??0)),e.writeInt64(BigInt(i??0)),e.offset()}};var Xd=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(e,i,n){return e.prep(8,16),e.writeInt64(BigInt(n??0)),e.writeInt64(BigInt(i??0)),e.offset()}};var Vo=class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsRecordBatch(e,i){return(i||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsRecordBatch(e,i){return e.setPosition(e.position()+4),(i||new t).__init(e.readInt32(e.position())+e.position(),e)}length(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt(\"0\")}nodes(e,i){let n=this.bb.__offset(this.bb_pos,6);return n?(i||new Xd).__init(this.bb.__vector(this.bb_pos+n)+e*16,this.bb):null}nodesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}buffers(e,i){let n=this.bb.__offset(this.bb_pos,8);return n?(i||new Qd).__init(this.bb.__vector(this.bb_pos+n)+e*16,this.bb):null}buffersLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}compression(e){let i=this.bb.__offset(this.bb_pos,10);return i?(e||new a0).__init(this.bb.__indirect(this.bb_pos+i),this.bb):null}static startRecordBatch(e){e.startObject(4)}static addLength(e,i){e.addFieldInt64(0,i,BigInt(\"0\"))}static addNodes(e,i){e.addFieldOffset(1,i,0)}static startNodesVector(e,i){e.startVector(16,i,8)}static addBuffers(e,i){e.addFieldOffset(2,i,0)}static startBuffersVector(e,i){e.startVector(16,i,8)}static addCompression(e,i){e.addFieldOffset(3,i,0)}static endRecordBatch(e){return e.endObject()}};var ha=class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsDictionaryBatch(e,i){return(i||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryBatch(e,i){return e.setPosition(e.position()+4),(i||new t).__init(e.readInt32(e.position())+e.position(),e)}id(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt(\"0\")}data(e){let i=this.bb.__offset(this.bb_pos,6);return i?(e||new Vo).__init(this.bb.__indirect(this.bb_pos+i),this.bb):null}isDelta(){let e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startDictionaryBatch(e){e.startObject(3)}static addId(e,i){e.addFieldInt64(0,i,BigInt(\"0\"))}static addData(e,i){e.addFieldOffset(1,i,0)}static addIsDelta(e,i){e.addFieldInt8(2,+i,0)}static endDictionaryBatch(e){return e.endObject()}};var Al;(function(t){t[t.Little=0]=\"Little\",t[t.Big=1]=\"Big\"})(Al||(Al={}));var Jf;(function(t){t[t.DenseArray=0]=\"DenseArray\"})(Jf||(Jf={}));var jr=class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsInt(e,i){return(i||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInt(e,i){return e.setPosition(e.position()+4),(i||new t).__init(e.readInt32(e.position())+e.position(),e)}bitWidth(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}isSigned(){let e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startInt(e){e.startObject(2)}static addBitWidth(e,i){e.addFieldInt32(0,i,0)}static addIsSigned(e,i){e.addFieldInt8(1,+i,0)}static endInt(e){return e.endObject()}static createInt(e,i,n){return t.startInt(e),t.addBitWidth(e,i),t.addIsSigned(e,n),t.endInt(e)}};var Ss=class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsDictionaryEncoding(e,i){return(i||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryEncoding(e,i){return e.setPosition(e.position()+4),(i||new t).__init(e.readInt32(e.position())+e.position(),e)}id(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt(\"0\")}indexType(e){let i=this.bb.__offset(this.bb_pos,6);return i?(e||new jr).__init(this.bb.__indirect(this.bb_pos+i),this.bb):null}isOrdered(){let e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}dictionaryKind(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt16(this.bb_pos+e):Jf.DenseArray}static startDictionaryEncoding(e){e.startObject(4)}static addId(e,i){e.addFieldInt64(0,i,BigInt(\"0\"))}static addIndexType(e,i){e.addFieldOffset(1,i,0)}static addIsOrdered(e,i){e.addFieldInt8(2,+i,0)}static addDictionaryKind(e,i){e.addFieldInt16(3,i,Jf.DenseArray)}static endDictionaryEncoding(e){return e.endObject()}};var wn=class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsKeyValue(e,i){return(i||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsKeyValue(e,i){return e.setPosition(e.position()+4),(i||new t).__init(e.readInt32(e.position())+e.position(),e)}key(e){let i=this.bb.__offset(this.bb_pos,4);return i?this.bb.__string(this.bb_pos+i,e):null}value(e){let i=this.bb.__offset(this.bb_pos,6);return i?this.bb.__string(this.bb_pos+i,e):null}static startKeyValue(e){e.startObject(2)}static addKey(e,i){e.addFieldOffset(0,i,0)}static addValue(e,i){e.addFieldOffset(1,i,0)}static endKeyValue(e){return e.endObject()}static createKeyValue(e,i,n){return t.startKeyValue(e),t.addKey(e,i),t.addValue(e,n),t.endKeyValue(e)}};var em=class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsBinary(e,i){return(i||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBinary(e,i){return e.setPosition(e.position()+4),(i||new t).__init(e.readInt32(e.position())+e.position(),e)}static startBinary(e){e.startObject(0)}static endBinary(e){return e.endObject()}static createBinary(e){return t.startBinary(e),t.endBinary(e)}};var tm=class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsBool(e,i){return(i||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBool(e,i){return e.setPosition(e.position()+4),(i||new t).__init(e.readInt32(e.position())+e.position(),e)}static startBool(e){e.startObject(0)}static endBool(e){return e.endObject()}static createBool(e){return t.startBool(e),t.endBool(e)}};var Ll=class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsDate(e,i){return(i||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDate(e,i){return e.setPosition(e.position()+4),(i||new t).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):tn.MILLISECOND}static startDate(e){e.startObject(1)}static addUnit(e,i){e.addFieldInt16(0,i,tn.MILLISECOND)}static endDate(e){return e.endObject()}static createDate(e,i){return t.startDate(e),t.addUnit(e,i),t.endDate(e)}};var Cs=class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsDecimal(e,i){return(i||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDecimal(e,i){return e.setPosition(e.position()+4),(i||new t).__init(e.readInt32(e.position())+e.position(),e)}precision(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}scale(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0}bitWidth(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):128}static startDecimal(e){e.startObject(3)}static addPrecision(e,i){e.addFieldInt32(0,i,0)}static addScale(e,i){e.addFieldInt32(1,i,0)}static addBitWidth(e,i){e.addFieldInt32(2,i,128)}static endDecimal(e){return e.endObject()}static createDecimal(e,i,n,o){return t.startDecimal(e),t.addPrecision(e,i),t.addScale(e,n),t.addBitWidth(e,o),t.endDecimal(e)}};var Dl=class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsDuration(e,i){return(i||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDuration(e,i){return e.setPosition(e.position()+4),(i||new t).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):nt.MILLISECOND}static startDuration(e){e.startObject(1)}static addUnit(e,i){e.addFieldInt16(0,i,nt.MILLISECOND)}static endDuration(e){return e.endObject()}static createDuration(e,i){return t.startDuration(e),t.addUnit(e,i),t.endDuration(e)}};var Pl=class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsFixedSizeBinary(e,i){return(i||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeBinary(e,i){return e.setPosition(e.position()+4),(i||new t).__init(e.readInt32(e.position())+e.position(),e)}byteWidth(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeBinary(e){e.startObject(1)}static addByteWidth(e,i){e.addFieldInt32(0,i,0)}static endFixedSizeBinary(e){return e.endObject()}static createFixedSizeBinary(e,i){return t.startFixedSizeBinary(e),t.addByteWidth(e,i),t.endFixedSizeBinary(e)}};var Rl=class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsFixedSizeList(e,i){return(i||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeList(e,i){return e.setPosition(e.position()+4),(i||new t).__init(e.readInt32(e.position())+e.position(),e)}listSize(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeList(e){e.startObject(1)}static addListSize(e,i){e.addFieldInt32(0,i,0)}static endFixedSizeList(e){return e.endObject()}static createFixedSizeList(e,i){return t.startFixedSizeList(e),t.addListSize(e,i),t.endFixedSizeList(e)}};var Ml=class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsFloatingPoint(e,i){return(i||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFloatingPoint(e,i){return e.setPosition(e.position()+4),(i||new t).__init(e.readInt32(e.position())+e.position(),e)}precision(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):vi.HALF}static startFloatingPoint(e){e.startObject(1)}static addPrecision(e,i){e.addFieldInt16(0,i,vi.HALF)}static endFloatingPoint(e){return e.endObject()}static createFloatingPoint(e,i){return t.startFloatingPoint(e),t.addPrecision(e,i),t.endFloatingPoint(e)}};var zl=class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsInterval(e,i){return(i||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInterval(e,i){return e.setPosition(e.position()+4),(i||new t).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):xn.YEAR_MONTH}static startInterval(e){e.startObject(1)}static addUnit(e,i){e.addFieldInt16(0,i,xn.YEAR_MONTH)}static endInterval(e){return e.endObject()}static createInterval(e,i){return t.startInterval(e),t.addUnit(e,i),t.endInterval(e)}};var im=class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsLargeBinary(e,i){return(i||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeBinary(e,i){return e.setPosition(e.position()+4),(i||new t).__init(e.readInt32(e.position())+e.position(),e)}static startLargeBinary(e){e.startObject(0)}static endLargeBinary(e){return e.endObject()}static createLargeBinary(e){return t.startLargeBinary(e),t.endLargeBinary(e)}};var nm=class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsLargeUtf8(e,i){return(i||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeUtf8(e,i){return e.setPosition(e.position()+4),(i||new t).__init(e.readInt32(e.position())+e.position(),e)}static startLargeUtf8(e){e.startObject(0)}static endLargeUtf8(e){return e.endObject()}static createLargeUtf8(e){return t.startLargeUtf8(e),t.endLargeUtf8(e)}};var om=class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsList(e,i){return(i||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsList(e,i){return e.setPosition(e.position()+4),(i||new t).__init(e.readInt32(e.position())+e.position(),e)}static startList(e){e.startObject(0)}static endList(e){return e.endObject()}static createList(e){return t.startList(e),t.endList(e)}};var Ol=class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsMap(e,i){return(i||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMap(e,i){return e.setPosition(e.position()+4),(i||new t).__init(e.readInt32(e.position())+e.position(),e)}keysSorted(){let e=this.bb.__offset(this.bb_pos,4);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startMap(e){e.startObject(1)}static addKeysSorted(e,i){e.addFieldInt8(0,+i,0)}static endMap(e){return e.endObject()}static createMap(e,i){return t.startMap(e),t.addKeysSorted(e,i),t.endMap(e)}};var rm=class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsNull(e,i){return(i||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNull(e,i){return e.setPosition(e.position()+4),(i||new t).__init(e.readInt32(e.position())+e.position(),e)}static startNull(e){e.startObject(0)}static endNull(e){return e.endObject()}static createNull(e){return t.startNull(e),t.endNull(e)}};var sm=class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsStruct_(e,i){return(i||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsStruct_(e,i){return e.setPosition(e.position()+4),(i||new t).__init(e.readInt32(e.position())+e.position(),e)}static startStruct_(e){e.startObject(0)}static endStruct_(e){return e.endObject()}static createStruct_(e){return t.startStruct_(e),t.endStruct_(e)}};var pa=class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsTime(e,i){return(i||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTime(e,i){return e.setPosition(e.position()+4),(i||new t).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):nt.MILLISECOND}bitWidth(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):32}static startTime(e){e.startObject(2)}static addUnit(e,i){e.addFieldInt16(0,i,nt.MILLISECOND)}static addBitWidth(e,i){e.addFieldInt32(1,i,32)}static endTime(e){return e.endObject()}static createTime(e,i,n){return t.startTime(e),t.addUnit(e,i),t.addBitWidth(e,n),t.endTime(e)}};var fa=class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsTimestamp(e,i){return(i||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTimestamp(e,i){return e.setPosition(e.position()+4),(i||new t).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):nt.SECOND}timezone(e){let i=this.bb.__offset(this.bb_pos,6);return i?this.bb.__string(this.bb_pos+i,e):null}static startTimestamp(e){e.startObject(2)}static addUnit(e,i){e.addFieldInt16(0,i,nt.SECOND)}static addTimezone(e,i){e.addFieldOffset(1,i,0)}static endTimestamp(e){return e.endObject()}static createTimestamp(e,i,n){return t.startTimestamp(e),t.addUnit(e,i),t.addTimezone(e,n),t.endTimestamp(e)}};var Vr=class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsUnion(e,i){return(i||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUnion(e,i){return e.setPosition(e.position()+4),(i||new t).__init(e.readInt32(e.position())+e.position(),e)}mode(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Si.Sparse}typeIds(e){let i=this.bb.__offset(this.bb_pos,6);return i?this.bb.readInt32(this.bb.__vector(this.bb_pos+i)+e*4):0}typeIdsLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}typeIdsArray(){let e=this.bb.__offset(this.bb_pos,6);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}static startUnion(e){e.startObject(2)}static addMode(e,i){e.addFieldInt16(0,i,Si.Sparse)}static addTypeIds(e,i){e.addFieldOffset(1,i,0)}static createTypeIdsVector(e,i){e.startVector(4,i.length,4);for(let n=i.length-1;n>=0;n--)e.addInt32(i[n]);return e.endVector()}static startTypeIdsVector(e,i){e.startVector(4,i,4)}static endUnion(e){return e.endObject()}static createUnion(e,i,n){return t.startUnion(e),t.addMode(e,i),t.addTypeIds(e,n),t.endUnion(e)}};var am=class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsUtf8(e,i){return(i||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUtf8(e,i){return e.setPosition(e.position()+4),(i||new t).__init(e.readInt32(e.position())+e.position(),e)}static startUtf8(e){e.startObject(0)}static endUtf8(e){return e.endObject()}static createUtf8(e){return t.startUtf8(e),t.endUtf8(e)}};var Ci;(function(t){t[t.NONE=0]=\"NONE\",t[t.Null=1]=\"Null\",t[t.Int=2]=\"Int\",t[t.FloatingPoint=3]=\"FloatingPoint\",t[t.Binary=4]=\"Binary\",t[t.Utf8=5]=\"Utf8\",t[t.Bool=6]=\"Bool\",t[t.Decimal=7]=\"Decimal\",t[t.Date=8]=\"Date\",t[t.Time=9]=\"Time\",t[t.Timestamp=10]=\"Timestamp\",t[t.Interval=11]=\"Interval\",t[t.List=12]=\"List\",t[t.Struct_=13]=\"Struct_\",t[t.Union=14]=\"Union\",t[t.FixedSizeBinary=15]=\"FixedSizeBinary\",t[t.FixedSizeList=16]=\"FixedSizeList\",t[t.Map=17]=\"Map\",t[t.Duration=18]=\"Duration\",t[t.LargeBinary=19]=\"LargeBinary\",t[t.LargeUtf8=20]=\"LargeUtf8\",t[t.LargeList=21]=\"LargeList\",t[t.RunEndEncoded=22]=\"RunEndEncoded\"})(Ci||(Ci={}));var Qn=class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsField(e,i){return(i||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsField(e,i){return e.setPosition(e.position()+4),(i||new t).__init(e.readInt32(e.position())+e.position(),e)}name(e){let i=this.bb.__offset(this.bb_pos,4);return i?this.bb.__string(this.bb_pos+i,e):null}nullable(){let e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}typeType(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):Ci.NONE}type(e){let i=this.bb.__offset(this.bb_pos,10);return i?this.bb.__union(e,this.bb_pos+i):null}dictionary(e){let i=this.bb.__offset(this.bb_pos,12);return i?(e||new Ss).__init(this.bb.__indirect(this.bb_pos+i),this.bb):null}children(e,i){let n=this.bb.__offset(this.bb_pos,14);return n?(i||new t).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+e*4),this.bb):null}childrenLength(){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,i){let n=this.bb.__offset(this.bb_pos,16);return n?(i||new wn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}static startField(e){e.startObject(7)}static addName(e,i){e.addFieldOffset(0,i,0)}static addNullable(e,i){e.addFieldInt8(1,+i,0)}static addTypeType(e,i){e.addFieldInt8(2,i,Ci.NONE)}static addType(e,i){e.addFieldOffset(3,i,0)}static addDictionary(e,i){e.addFieldOffset(4,i,0)}static addChildren(e,i){e.addFieldOffset(5,i,0)}static createChildrenVector(e,i){e.startVector(4,i.length,4);for(let n=i.length-1;n>=0;n--)e.addOffset(i[n]);return e.endVector()}static startChildrenVector(e,i){e.startVector(4,i,4)}static addCustomMetadata(e,i){e.addFieldOffset(6,i,0)}static createCustomMetadataVector(e,i){e.startVector(4,i.length,4);for(let n=i.length-1;n>=0;n--)e.addOffset(i[n]);return e.endVector()}static startCustomMetadataVector(e,i){e.startVector(4,i,4)}static endField(e){return e.endObject()}};var wo=class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsSchema(e,i){return(i||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSchema(e,i){return e.setPosition(e.position()+4),(i||new t).__init(e.readInt32(e.position())+e.position(),e)}endianness(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Al.Little}fields(e,i){let n=this.bb.__offset(this.bb_pos,6);return n?(i||new Qn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+e*4),this.bb):null}fieldsLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,i){let n=this.bb.__offset(this.bb_pos,8);return n?(i||new wn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}features(e){let i=this.bb.__offset(this.bb_pos,10);return i?this.bb.readInt64(this.bb.__vector(this.bb_pos+i)+e*8):BigInt(0)}featuresLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSchema(e){e.startObject(4)}static addEndianness(e,i){e.addFieldInt16(0,i,Al.Little)}static addFields(e,i){e.addFieldOffset(1,i,0)}static createFieldsVector(e,i){e.startVector(4,i.length,4);for(let n=i.length-1;n>=0;n--)e.addOffset(i[n]);return e.endVector()}static startFieldsVector(e,i){e.startVector(4,i,4)}static addCustomMetadata(e,i){e.addFieldOffset(2,i,0)}static createCustomMetadataVector(e,i){e.startVector(4,i.length,4);for(let n=i.length-1;n>=0;n--)e.addOffset(i[n]);return e.endVector()}static startCustomMetadataVector(e,i){e.startVector(4,i,4)}static addFeatures(e,i){e.addFieldOffset(3,i,0)}static createFeaturesVector(e,i){e.startVector(8,i.length,8);for(let n=i.length-1;n>=0;n--)e.addInt64(i[n]);return e.endVector()}static startFeaturesVector(e,i){e.startVector(8,i,8)}static endSchema(e){return e.endObject()}static finishSchemaBuffer(e,i){e.finish(i)}static finishSizePrefixedSchemaBuffer(e,i){e.finish(i,void 0,!0)}static createSchema(e,i,n,o,r){return t.startSchema(e),t.addEndianness(e,i),t.addFields(e,n),t.addCustomMetadata(e,o),t.addFeatures(e,r),t.endSchema(e)}};var $t;(function(t){t[t.NONE=0]=\"NONE\",t[t.Schema=1]=\"Schema\",t[t.DictionaryBatch=2]=\"DictionaryBatch\",t[t.RecordBatch=3]=\"RecordBatch\",t[t.Tensor=4]=\"Tensor\",t[t.SparseTensor=5]=\"SparseTensor\"})($t||($t={}));var E;(function(t){t[t.NONE=0]=\"NONE\",t[t.Null=1]=\"Null\",t[t.Int=2]=\"Int\",t[t.Float=3]=\"Float\",t[t.Binary=4]=\"Binary\",t[t.Utf8=5]=\"Utf8\",t[t.Bool=6]=\"Bool\",t[t.Decimal=7]=\"Decimal\",t[t.Date=8]=\"Date\",t[t.Time=9]=\"Time\",t[t.Timestamp=10]=\"Timestamp\",t[t.Interval=11]=\"Interval\",t[t.List=12]=\"List\",t[t.Struct=13]=\"Struct\",t[t.Union=14]=\"Union\",t[t.FixedSizeBinary=15]=\"FixedSizeBinary\",t[t.FixedSizeList=16]=\"FixedSizeList\",t[t.Map=17]=\"Map\",t[t.Duration=18]=\"Duration\",t[t.LargeBinary=19]=\"LargeBinary\",t[t.LargeUtf8=20]=\"LargeUtf8\",t[t.Dictionary=-1]=\"Dictionary\",t[t.Int8=-2]=\"Int8\",t[t.Int16=-3]=\"Int16\",t[t.Int32=-4]=\"Int32\",t[t.Int64=-5]=\"Int64\",t[t.Uint8=-6]=\"Uint8\",t[t.Uint16=-7]=\"Uint16\",t[t.Uint32=-8]=\"Uint32\",t[t.Uint64=-9]=\"Uint64\",t[t.Float16=-10]=\"Float16\",t[t.Float32=-11]=\"Float32\",t[t.Float64=-12]=\"Float64\",t[t.DateDay=-13]=\"DateDay\",t[t.DateMillisecond=-14]=\"DateMillisecond\",t[t.TimestampSecond=-15]=\"TimestampSecond\",t[t.TimestampMillisecond=-16]=\"TimestampMillisecond\",t[t.TimestampMicrosecond=-17]=\"TimestampMicrosecond\",t[t.TimestampNanosecond=-18]=\"TimestampNanosecond\",t[t.TimeSecond=-19]=\"TimeSecond\",t[t.TimeMillisecond=-20]=\"TimeMillisecond\",t[t.TimeMicrosecond=-21]=\"TimeMicrosecond\",t[t.TimeNanosecond=-22]=\"TimeNanosecond\",t[t.DenseUnion=-23]=\"DenseUnion\",t[t.SparseUnion=-24]=\"SparseUnion\",t[t.IntervalDayTime=-25]=\"IntervalDayTime\",t[t.IntervalYearMonth=-26]=\"IntervalYearMonth\",t[t.DurationSecond=-27]=\"DurationSecond\",t[t.DurationMillisecond=-28]=\"DurationMillisecond\",t[t.DurationMicrosecond=-29]=\"DurationMicrosecond\",t[t.DurationNanosecond=-30]=\"DurationNanosecond\"})(E||(E={}));var ur;(function(t){t[t.OFFSET=0]=\"OFFSET\",t[t.DATA=1]=\"DATA\",t[t.VALIDITY=2]=\"VALIDITY\",t[t.TYPE=3]=\"TYPE\"})(ur||(ur={}));var q2={};wc(q2,{clampRange:()=>hm,createElementComparator:()=>Vl,wrapIndex:()=>Xc});var I2={};wc(I2,{valueToString:()=>Wr});function Wr(t){if(t===null)return\"null\";if(t===void 0)return\"undefined\";switch(typeof t){case\"number\":return`${t}`;case\"bigint\":return`${t}`;case\"string\":return`\"${t}\"`}return typeof t[Symbol.toPrimitive]==\"function\"?t[Symbol.toPrimitive](\"string\"):ArrayBuffer.isView(t)?t instanceof BigInt64Array||t instanceof BigUint64Array?`[${[...t].map(e=>Wr(e))}]`:`[${t}]`:ArrayBuffer.isView(t)?`[${t}]`:JSON.stringify(t,(e,i)=>typeof i==\"bigint\"?`${i}`:i)}var D2={};wc(D2,{BN:()=>cm,bigNumToBigInt:()=>dA,bigNumToNumber:()=>L2,bigNumToString:()=>Jd,isArrowBigNumSymbol:()=>uA});function si(t){if(typeof t==\"bigint\"&&(t<Number.MIN_SAFE_INTEGER||t>Number.MAX_SAFE_INTEGER))throw new TypeError(`${t} is not safe to convert to a number.`);return Number(t)}function T2(t,e){return si(t/e)+si(t%e)/si(e)}var uA=Symbol.for(\"isArrowBigNum\");function Hr(t,...e){return e.length===0?Object.setPrototypeOf(Vt(this.TypedArray,t),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(t,...e),this.constructor.prototype)}Hr.prototype[uA]=!0;Hr.prototype.toJSON=function(){return`\"${Jd(this)}\"`};Hr.prototype.valueOf=function(t){return L2(this,t)};Hr.prototype.toString=function(){return Jd(this)};Hr.prototype[Symbol.toPrimitive]=function(t=\"default\"){switch(t){case\"number\":return L2(this);case\"string\":return Jd(this);case\"default\":return dA(this)}return Jd(this)};function Kd(...t){return Hr.apply(this,t)}function Zd(...t){return Hr.apply(this,t)}function lm(...t){return Hr.apply(this,t)}Object.setPrototypeOf(Kd.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(Zd.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(lm.prototype,Object.create(Uint32Array.prototype));Object.assign(Kd.prototype,Hr.prototype,{constructor:Kd,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array});Object.assign(Zd.prototype,Hr.prototype,{constructor:Zd,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array});Object.assign(lm.prototype,Hr.prototype,{constructor:lm,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});var hW=BigInt(4294967296)*BigInt(4294967296),pW=hW-BigInt(1);function L2(t,e){let{buffer:i,byteOffset:n,byteLength:o,signed:r}=t,s=new BigUint64Array(i,n,o/8),a=r&&s.at(-1)&BigInt(1)<<BigInt(63),l=BigInt(0),c=0;if(a){for(let u of s)l|=(u^pW)*(BigInt(1)<<BigInt(64*c++));l*=BigInt(-1),l-=BigInt(1)}else for(let u of s)l|=u*(BigInt(1)<<BigInt(64*c++));if(typeof e==\"number\"){let u=BigInt(Math.pow(10,e)),d=l/u,h=l%u;return si(d)+si(h)/si(u)}return si(l)}function Jd(t){if(t.byteLength===8)return`${new t.BigIntArray(t.buffer,t.byteOffset,1)[0]}`;if(!t.signed)return A2(t);let e=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2);if(new Int16Array([e.at(-1)])[0]>=0)return A2(t);e=e.slice();let n=1;for(let r=0;r<e.length;r++){let s=e[r],a=~s+n;e[r]=a,n&=s===0?1:0}return`-${A2(e)}`}function dA(t){return t.byteLength===8?new t.BigIntArray(t.buffer,t.byteOffset,1)[0]:Jd(t)}function A2(t){let e=\"\",i=new Uint32Array(2),n=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2),o=new Uint32Array((n=new Uint16Array(n).reverse()).buffer),r=-1,s=n.length-1;do{for(i[0]=n[r=0];r<s;)n[r++]=i[1]=i[0]/10,i[0]=(i[0]-i[1]*10<<16)+n[r];n[r]=i[1]=i[0]/10,i[0]=i[0]-i[1]*10,e=`${i[0]}${e}`}while(o[0]||o[1]||o[2]||o[3]);return e??\"0\"}var cm=class t{static new(e,i){switch(i){case!0:return new Kd(e);case!1:return new Zd(e)}switch(e.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new Kd(e)}return e.byteLength===16?new lm(e):new Zd(e)}static signed(e){return new Kd(e)}static unsigned(e){return new Zd(e)}static decimal(e){return new lm(e)}constructor(e,i){return t.new(e,i)}};var hA,pA,fA,mA,gA,_A,yA,bA,vA,xA,wA,SA,CA,kA,EA,IA,TA,AA,LA,DA,PA,RA,Qe=class t{static isNull(e){return e?.typeId===E.Null}static isInt(e){return e?.typeId===E.Int}static isFloat(e){return e?.typeId===E.Float}static isBinary(e){return e?.typeId===E.Binary}static isLargeBinary(e){return e?.typeId===E.LargeBinary}static isUtf8(e){return e?.typeId===E.Utf8}static isLargeUtf8(e){return e?.typeId===E.LargeUtf8}static isBool(e){return e?.typeId===E.Bool}static isDecimal(e){return e?.typeId===E.Decimal}static isDate(e){return e?.typeId===E.Date}static isTime(e){return e?.typeId===E.Time}static isTimestamp(e){return e?.typeId===E.Timestamp}static isInterval(e){return e?.typeId===E.Interval}static isDuration(e){return e?.typeId===E.Duration}static isList(e){return e?.typeId===E.List}static isStruct(e){return e?.typeId===E.Struct}static isUnion(e){return e?.typeId===E.Union}static isFixedSizeBinary(e){return e?.typeId===E.FixedSizeBinary}static isFixedSizeList(e){return e?.typeId===E.FixedSizeList}static isMap(e){return e?.typeId===E.Map}static isDictionary(e){return e?.typeId===E.Dictionary}static isDenseUnion(e){return t.isUnion(e)&&e.mode===Si.Dense}static isSparseUnion(e){return t.isUnion(e)&&e.mode===Si.Sparse}constructor(e){this.typeId=e}};hA=Symbol.toStringTag;Qe[hA]=(t=>(t.children=null,t.ArrayType=Array,t.OffsetArrayType=Int32Array,t[Symbol.toStringTag]=\"DataType\"))(Qe.prototype);var Un=class extends Qe{constructor(){super(E.Null)}toString(){return\"Null\"}};pA=Symbol.toStringTag;Un[pA]=(t=>t[Symbol.toStringTag]=\"Null\")(Un.prototype);var Sn=class extends Qe{constructor(e,i){super(E.Int),this.isSigned=e,this.bitWidth=i}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?\"I\":\"Ui\"}nt${this.bitWidth}`}};fA=Symbol.toStringTag;Sn[fA]=(t=>(t.isSigned=null,t.bitWidth=null,t[Symbol.toStringTag]=\"Int\"))(Sn.prototype);var eh=class extends Sn{constructor(){super(!0,8)}get ArrayType(){return Int8Array}},th=class extends Sn{constructor(){super(!0,16)}get ArrayType(){return Int16Array}},So=class extends Sn{constructor(){super(!0,32)}get ArrayType(){return Int32Array}},Bl=class extends Sn{constructor(){super(!0,64)}get ArrayType(){return BigInt64Array}},ih=class extends Sn{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}},nh=class extends Sn{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}},oh=class extends Sn{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}},rh=class extends Sn{constructor(){super(!1,64)}get ArrayType(){return BigUint64Array}};Object.defineProperty(eh.prototype,\"ArrayType\",{value:Int8Array});Object.defineProperty(th.prototype,\"ArrayType\",{value:Int16Array});Object.defineProperty(So.prototype,\"ArrayType\",{value:Int32Array});Object.defineProperty(Bl.prototype,\"ArrayType\",{value:BigInt64Array});Object.defineProperty(ih.prototype,\"ArrayType\",{value:Uint8Array});Object.defineProperty(nh.prototype,\"ArrayType\",{value:Uint16Array});Object.defineProperty(oh.prototype,\"ArrayType\",{value:Uint32Array});Object.defineProperty(rh.prototype,\"ArrayType\",{value:BigUint64Array});var dr=class extends Qe{constructor(e){super(E.Float),this.precision=e}get ArrayType(){switch(this.precision){case vi.HALF:return Uint16Array;case vi.SINGLE:return Float32Array;case vi.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}};mA=Symbol.toStringTag;dr[mA]=(t=>(t.precision=null,t[Symbol.toStringTag]=\"Float\"))(dr.prototype);var l0=class extends dr{constructor(){super(vi.HALF)}},sh=class extends dr{constructor(){super(vi.SINGLE)}},Nl=class extends dr{constructor(){super(vi.DOUBLE)}};Object.defineProperty(l0.prototype,\"ArrayType\",{value:Uint16Array});Object.defineProperty(sh.prototype,\"ArrayType\",{value:Float32Array});Object.defineProperty(Nl.prototype,\"ArrayType\",{value:Float64Array});var ma=class extends Qe{constructor(){super(E.Binary)}toString(){return\"Binary\"}};gA=Symbol.toStringTag;ma[gA]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]=\"Binary\"))(ma.prototype);var ga=class extends Qe{constructor(){super(E.LargeBinary)}toString(){return\"LargeBinary\"}};_A=Symbol.toStringTag;ga[_A]=(t=>(t.ArrayType=Uint8Array,t.OffsetArrayType=BigInt64Array,t[Symbol.toStringTag]=\"LargeBinary\"))(ga.prototype);var $r=class extends Qe{constructor(){super(E.Utf8)}toString(){return\"Utf8\"}};yA=Symbol.toStringTag;$r[yA]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]=\"Utf8\"))($r.prototype);var _a=class extends Qe{constructor(){super(E.LargeUtf8)}toString(){return\"LargeUtf8\"}};bA=Symbol.toStringTag;_a[bA]=(t=>(t.ArrayType=Uint8Array,t.OffsetArrayType=BigInt64Array,t[Symbol.toStringTag]=\"LargeUtf8\"))(_a.prototype);var qr=class extends Qe{constructor(){super(E.Bool)}toString(){return\"Bool\"}};vA=Symbol.toStringTag;qr[vA]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]=\"Bool\"))(qr.prototype);var ya=class extends Qe{constructor(e,i,n=128){super(E.Decimal),this.scale=e,this.precision=i,this.bitWidth=n}toString(){return`Decimal[${this.precision}e${this.scale>0?\"+\":\"\"}${this.scale}]`}};xA=Symbol.toStringTag;ya[xA]=(t=>(t.scale=null,t.precision=null,t.ArrayType=Uint32Array,t[Symbol.toStringTag]=\"Decimal\"))(ya.prototype);var ba=class extends Qe{constructor(e){super(E.Date),this.unit=e}toString(){return`Date${(this.unit+1)*32}<${tn[this.unit]}>`}get ArrayType(){return this.unit===tn.DAY?Int32Array:BigInt64Array}};wA=Symbol.toStringTag;ba[wA]=(t=>(t.unit=null,t[Symbol.toStringTag]=\"Date\"))(ba.prototype);var va=class extends Qe{constructor(e,i){super(E.Time),this.unit=e,this.bitWidth=i}toString(){return`Time${this.bitWidth}<${nt[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}};SA=Symbol.toStringTag;va[SA]=(t=>(t.unit=null,t.bitWidth=null,t[Symbol.toStringTag]=\"Time\"))(va.prototype);var ks=class extends Qe{constructor(e,i){super(E.Timestamp),this.unit=e,this.timezone=i}toString(){return`Timestamp<${nt[this.unit]}${this.timezone?`, ${this.timezone}`:\"\"}>`}};CA=Symbol.toStringTag;ks[CA]=(t=>(t.unit=null,t.timezone=null,t.ArrayType=BigInt64Array,t[Symbol.toStringTag]=\"Timestamp\"))(ks.prototype);var um=class extends ks{constructor(e){super(nt.MILLISECOND,e)}};var xa=class extends Qe{constructor(e){super(E.Interval),this.unit=e}toString(){return`Interval<${xn[this.unit]}>`}};kA=Symbol.toStringTag;xa[kA]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]=\"Interval\"))(xa.prototype);var wa=class extends Qe{constructor(e){super(E.Duration),this.unit=e}toString(){return`Duration<${nt[this.unit]}>`}};EA=Symbol.toStringTag;wa[EA]=(t=>(t.unit=null,t.ArrayType=BigInt64Array,t[Symbol.toStringTag]=\"Duration\"))(wa.prototype);var Wo=class extends Qe{constructor(e){super(E.List),this.children=[e]}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};IA=Symbol.toStringTag;Wo[IA]=(t=>(t.children=null,t[Symbol.toStringTag]=\"List\"))(Wo.prototype);var ki=class extends Qe{constructor(e){super(E.Struct),this.children=e}toString(){return`Struct<{${this.children.map(e=>`${e.name}:${e.type}`).join(\", \")}}>`}};TA=Symbol.toStringTag;ki[TA]=(t=>(t.children=null,t[Symbol.toStringTag]=\"Struct\"))(ki.prototype);var Gr=class extends Qe{constructor(e,i,n){super(E.Union),this.mode=e,this.children=n,this.typeIds=i=Int32Array.from(i),this.typeIdToChildIndex=i.reduce((o,r,s)=>(o[r]=s)&&o||o,Object.create(null))}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(e=>`${e.type}`).join(\" | \")}>`}};AA=Symbol.toStringTag;Gr[AA]=(t=>(t.mode=null,t.typeIds=null,t.children=null,t.typeIdToChildIndex=null,t.ArrayType=Int8Array,t[Symbol.toStringTag]=\"Union\"))(Gr.prototype);var Sa=class extends Qe{constructor(e){super(E.FixedSizeBinary),this.byteWidth=e}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};LA=Symbol.toStringTag;Sa[LA]=(t=>(t.byteWidth=null,t.ArrayType=Uint8Array,t[Symbol.toStringTag]=\"FixedSizeBinary\"))(Sa.prototype);var Yr=class extends Qe{constructor(e,i){super(E.FixedSizeList),this.listSize=e,this.children=[i]}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};DA=Symbol.toStringTag;Yr[DA]=(t=>(t.children=null,t.listSize=null,t[Symbol.toStringTag]=\"FixedSizeList\"))(Yr.prototype);var Qr=class extends Qe{constructor(e,i=!1){var n,o,r;if(super(E.Map),this.children=[e],this.keysSorted=i,e&&(e.name=\"entries\",!((n=e?.type)===null||n===void 0)&&n.children)){let s=(o=e?.type)===null||o===void 0?void 0:o.children[0];s&&(s.name=\"key\");let a=(r=e?.type)===null||r===void 0?void 0:r.children[1];a&&(a.name=\"value\")}}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(e=>`${e.name}:${e.type}`).join(\", \")}}>`}};PA=Symbol.toStringTag;Qr[PA]=(t=>(t.children=null,t.keysSorted=null,t[Symbol.toStringTag]=\"Map_\"))(Qr.prototype);var fW=(t=>()=>++t)(-1),so=class extends Qe{constructor(e,i,n,o){super(E.Dictionary),this.indices=i,this.dictionary=e,this.isOrdered=o||!1,this.id=n==null?fW():si(n)}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}};RA=Symbol.toStringTag;so[RA]=(t=>(t.id=null,t.indices=null,t.isOrdered=null,t.dictionary=null,t[Symbol.toStringTag]=\"Dictionary\"))(so.prototype);function Ho(t){let e=t;switch(t.typeId){case E.Decimal:return t.bitWidth/32;case E.Interval:return 1+e.unit;case E.FixedSizeList:return e.listSize;case E.FixedSizeBinary:return e.byteWidth;default:return 1}}var gt=class{visitMany(e,...i){return e.map((n,o)=>this.visit(n,...i.map(r=>r[o])))}visit(...e){return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(e,i=!0){return mW(this,e,i)}getVisitFnByTypeId(e,i=!0){return ah(this,e,i)}visitNull(e,...i){return null}visitBool(e,...i){return null}visitInt(e,...i){return null}visitFloat(e,...i){return null}visitUtf8(e,...i){return null}visitLargeUtf8(e,...i){return null}visitBinary(e,...i){return null}visitLargeBinary(e,...i){return null}visitFixedSizeBinary(e,...i){return null}visitDate(e,...i){return null}visitTimestamp(e,...i){return null}visitTime(e,...i){return null}visitDecimal(e,...i){return null}visitList(e,...i){return null}visitStruct(e,...i){return null}visitUnion(e,...i){return null}visitDictionary(e,...i){return null}visitInterval(e,...i){return null}visitDuration(e,...i){return null}visitFixedSizeList(e,...i){return null}visitMap(e,...i){return null}};function mW(t,e,i=!0){return typeof e==\"number\"?ah(t,e,i):typeof e==\"string\"&&e in E?ah(t,E[e],i):e&&e instanceof Qe?ah(t,zA(e),i):e?.type&&e.type instanceof Qe?ah(t,zA(e.type),i):ah(t,E.NONE,i)}function ah(t,e,i=!0){let n=null;switch(e){case E.Null:n=t.visitNull;break;case E.Bool:n=t.visitBool;break;case E.Int:n=t.visitInt;break;case E.Int8:n=t.visitInt8||t.visitInt;break;case E.Int16:n=t.visitInt16||t.visitInt;break;case E.Int32:n=t.visitInt32||t.visitInt;break;case E.Int64:n=t.visitInt64||t.visitInt;break;case E.Uint8:n=t.visitUint8||t.visitInt;break;case E.Uint16:n=t.visitUint16||t.visitInt;break;case E.Uint32:n=t.visitUint32||t.visitInt;break;case E.Uint64:n=t.visitUint64||t.visitInt;break;case E.Float:n=t.visitFloat;break;case E.Float16:n=t.visitFloat16||t.visitFloat;break;case E.Float32:n=t.visitFloat32||t.visitFloat;break;case E.Float64:n=t.visitFloat64||t.visitFloat;break;case E.Utf8:n=t.visitUtf8;break;case E.LargeUtf8:n=t.visitLargeUtf8;break;case E.Binary:n=t.visitBinary;break;case E.LargeBinary:n=t.visitLargeBinary;break;case E.FixedSizeBinary:n=t.visitFixedSizeBinary;break;case E.Date:n=t.visitDate;break;case E.DateDay:n=t.visitDateDay||t.visitDate;break;case E.DateMillisecond:n=t.visitDateMillisecond||t.visitDate;break;case E.Timestamp:n=t.visitTimestamp;break;case E.TimestampSecond:n=t.visitTimestampSecond||t.visitTimestamp;break;case E.TimestampMillisecond:n=t.visitTimestampMillisecond||t.visitTimestamp;break;case E.TimestampMicrosecond:n=t.visitTimestampMicrosecond||t.visitTimestamp;break;case E.TimestampNanosecond:n=t.visitTimestampNanosecond||t.visitTimestamp;break;case E.Time:n=t.visitTime;break;case E.TimeSecond:n=t.visitTimeSecond||t.visitTime;break;case E.TimeMillisecond:n=t.visitTimeMillisecond||t.visitTime;break;case E.TimeMicrosecond:n=t.visitTimeMicrosecond||t.visitTime;break;case E.TimeNanosecond:n=t.visitTimeNanosecond||t.visitTime;break;case E.Decimal:n=t.visitDecimal;break;case E.List:n=t.visitList;break;case E.Struct:n=t.visitStruct;break;case E.Union:n=t.visitUnion;break;case E.DenseUnion:n=t.visitDenseUnion||t.visitUnion;break;case E.SparseUnion:n=t.visitSparseUnion||t.visitUnion;break;case E.Dictionary:n=t.visitDictionary;break;case E.Interval:n=t.visitInterval;break;case E.IntervalDayTime:n=t.visitIntervalDayTime||t.visitInterval;break;case E.IntervalYearMonth:n=t.visitIntervalYearMonth||t.visitInterval;break;case E.Duration:n=t.visitDuration;break;case E.DurationSecond:n=t.visitDurationSecond||t.visitDuration;break;case E.DurationMillisecond:n=t.visitDurationMillisecond||t.visitDuration;break;case E.DurationMicrosecond:n=t.visitDurationMicrosecond||t.visitDuration;break;case E.DurationNanosecond:n=t.visitDurationNanosecond||t.visitDuration;break;case E.FixedSizeList:n=t.visitFixedSizeList;break;case E.Map:n=t.visitMap;break}if(typeof n==\"function\")return n;if(!i)return()=>null;throw new Error(`Unrecognized type '${E[e]}'`)}function zA(t){switch(t.typeId){case E.Null:return E.Null;case E.Int:{let{bitWidth:e,isSigned:i}=t;switch(e){case 8:return i?E.Int8:E.Uint8;case 16:return i?E.Int16:E.Uint16;case 32:return i?E.Int32:E.Uint32;case 64:return i?E.Int64:E.Uint64}return E.Int}case E.Float:switch(t.precision){case vi.HALF:return E.Float16;case vi.SINGLE:return E.Float32;case vi.DOUBLE:return E.Float64}return E.Float;case E.Binary:return E.Binary;case E.LargeBinary:return E.LargeBinary;case E.Utf8:return E.Utf8;case E.LargeUtf8:return E.LargeUtf8;case E.Bool:return E.Bool;case E.Decimal:return E.Decimal;case E.Time:switch(t.unit){case nt.SECOND:return E.TimeSecond;case nt.MILLISECOND:return E.TimeMillisecond;case nt.MICROSECOND:return E.TimeMicrosecond;case nt.NANOSECOND:return E.TimeNanosecond}return E.Time;case E.Timestamp:switch(t.unit){case nt.SECOND:return E.TimestampSecond;case nt.MILLISECOND:return E.TimestampMillisecond;case nt.MICROSECOND:return E.TimestampMicrosecond;case nt.NANOSECOND:return E.TimestampNanosecond}return E.Timestamp;case E.Date:switch(t.unit){case tn.DAY:return E.DateDay;case tn.MILLISECOND:return E.DateMillisecond}return E.Date;case E.Interval:switch(t.unit){case xn.DAY_TIME:return E.IntervalDayTime;case xn.YEAR_MONTH:return E.IntervalYearMonth}return E.Interval;case E.Duration:switch(t.unit){case nt.SECOND:return E.DurationSecond;case nt.MILLISECOND:return E.DurationMillisecond;case nt.MICROSECOND:return E.DurationMicrosecond;case nt.NANOSECOND:return E.DurationNanosecond}return E.Duration;case E.Map:return E.Map;case E.List:return E.List;case E.Struct:return E.Struct;case E.Union:switch(t.mode){case Si.Dense:return E.DenseUnion;case Si.Sparse:return E.SparseUnion}return E.Union;case E.FixedSizeBinary:return E.FixedSizeBinary;case E.FixedSizeList:return E.FixedSizeList;case E.Dictionary:return E.Dictionary}throw new Error(`Unrecognized type '${E[t.typeId]}'`)}gt.prototype.visitInt8=null;gt.prototype.visitInt16=null;gt.prototype.visitInt32=null;gt.prototype.visitInt64=null;gt.prototype.visitUint8=null;gt.prototype.visitUint16=null;gt.prototype.visitUint32=null;gt.prototype.visitUint64=null;gt.prototype.visitFloat16=null;gt.prototype.visitFloat32=null;gt.prototype.visitFloat64=null;gt.prototype.visitDateDay=null;gt.prototype.visitDateMillisecond=null;gt.prototype.visitTimestampSecond=null;gt.prototype.visitTimestampMillisecond=null;gt.prototype.visitTimestampMicrosecond=null;gt.prototype.visitTimestampNanosecond=null;gt.prototype.visitTimeSecond=null;gt.prototype.visitTimeMillisecond=null;gt.prototype.visitTimeMicrosecond=null;gt.prototype.visitTimeNanosecond=null;gt.prototype.visitDenseUnion=null;gt.prototype.visitSparseUnion=null;gt.prototype.visitIntervalDayTime=null;gt.prototype.visitIntervalYearMonth=null;gt.prototype.visitDuration=null;gt.prototype.visitDurationSecond=null;gt.prototype.visitDurationMillisecond=null;gt.prototype.visitDurationMicrosecond=null;gt.prototype.visitDurationNanosecond=null;var P2={};wc(P2,{float64ToUint16:()=>dm,uint16ToFloat64:()=>c0});var OA=new Float64Array(1),lh=new Uint32Array(OA.buffer);function c0(t){let e=(t&31744)>>10,i=(t&1023)/1024,n=Math.pow(-1,(t&32768)>>15);switch(e){case 31:return n*(i?Number.NaN:1/0);case 0:return n*(i?6103515625e-14*i:0)}return n*Math.pow(2,e-15)*(1+i)}function dm(t){if(t!==t)return 32256;OA[0]=t;let e=(lh[1]&2147483648)>>16&65535,i=lh[1]&2146435072,n=0;return i>=1089470464?lh[0]>0?i=31744:(i=(i&2080374784)>>16,n=(lh[1]&1048575)>>10):i<=1056964608?(n=1048576+(lh[1]&1048575),n=1048576+(n<<(i>>20)-998)>>21,i=0):(i=i-1056964608>>10,n=(lh[1]&1048575)+512>>10),e|i|n&65535}var xt=class extends gt{};function At(t){return(e,i,n)=>{if(e.setValid(i,n!=null))return t(e,i,n)}}var gW=(t,e,i)=>{t[e]=Math.floor(i/864e5)},BA=(t,e,i,n)=>{if(i+1<e.length){let o=si(e[i]),r=si(e[i+1]);t.set(n.subarray(0,r-o),o)}},_W=({offset:t,values:e},i,n)=>{let o=t+i;n?e[o>>3]|=1<<o%8:e[o>>3]&=~(1<<o%8)},Ca=({values:t},e,i)=>{t[e]=i},R2=({values:t},e,i)=>{t[e]=i},NA=({values:t},e,i)=>{t[e]=dm(i)},yW=(t,e,i)=>{switch(t.type.precision){case vi.HALF:return NA(t,e,i);case vi.SINGLE:case vi.DOUBLE:return R2(t,e,i)}},u0=({values:t},e,i)=>{gW(t,e,i.valueOf())},d0=({values:t},e,i)=>{t[e]=BigInt(i)},M2=({stride:t,values:e},i,n)=>{e.set(n.subarray(0,t),t*i)},FA=({values:t,valueOffsets:e},i,n)=>BA(t,e,i,n),UA=({values:t,valueOffsets:e},i,n)=>BA(t,e,i,vs(n)),z2=(t,e,i)=>{t.type.unit===tn.DAY?u0(t,e,i):d0(t,e,i)},h0=({values:t},e,i)=>{t[e]=BigInt(i/1e3)},p0=({values:t},e,i)=>{t[e]=BigInt(i)},f0=({values:t},e,i)=>{t[e]=BigInt(i*1e3)},m0=({values:t},e,i)=>{t[e]=BigInt(i*1e6)},O2=(t,e,i)=>{switch(t.type.unit){case nt.SECOND:return h0(t,e,i);case nt.MILLISECOND:return p0(t,e,i);case nt.MICROSECOND:return f0(t,e,i);case nt.NANOSECOND:return m0(t,e,i)}},g0=({values:t},e,i)=>{t[e]=i},_0=({values:t},e,i)=>{t[e]=i},y0=({values:t},e,i)=>{t[e]=i},b0=({values:t},e,i)=>{t[e]=i},B2=(t,e,i)=>{switch(t.type.unit){case nt.SECOND:return g0(t,e,i);case nt.MILLISECOND:return _0(t,e,i);case nt.MICROSECOND:return y0(t,e,i);case nt.NANOSECOND:return b0(t,e,i)}},N2=({values:t,stride:e},i,n)=>{t.set(n.subarray(0,e),e*i)},bW=(t,e,i)=>{let n=t.children[0],o=t.valueOffsets,r=jn.getVisitFn(n);if(Array.isArray(i))for(let s=-1,a=o[e],l=o[e+1];a<l;)r(n,a++,i[++s]);else for(let s=-1,a=o[e],l=o[e+1];a<l;)r(n,a++,i.get(++s))},vW=(t,e,i)=>{let n=t.children[0],{valueOffsets:o}=t,r=jn.getVisitFn(n),{[e]:s,[e+1]:a}=o,l=i instanceof Map?i.entries():Object.entries(i);for(let c of l)if(r(n,s,c),++s>=a)break},xW=(t,e)=>(i,n,o,r)=>n&&i(n,t,e[r]),wW=(t,e)=>(i,n,o,r)=>n&&i(n,t,e.get(r)),SW=(t,e)=>(i,n,o,r)=>n&&i(n,t,e.get(o.name)),CW=(t,e)=>(i,n,o,r)=>n&&i(n,t,e[o.name]),kW=(t,e,i)=>{let n=t.type.children.map(r=>jn.getVisitFn(r.type)),o=i instanceof Map?SW(e,i):i instanceof pt?wW(e,i):Array.isArray(i)?xW(e,i):CW(e,i);t.type.children.forEach((r,s)=>o(n[s],t.children[s],r,s))},EW=(t,e,i)=>{t.type.mode===Si.Dense?jA(t,e,i):VA(t,e,i)},jA=(t,e,i)=>{let n=t.type.typeIdToChildIndex[t.typeIds[e]],o=t.children[n];jn.visit(o,t.valueOffsets[e],i)},VA=(t,e,i)=>{let n=t.type.typeIdToChildIndex[t.typeIds[e]],o=t.children[n];jn.visit(o,e,i)},IW=(t,e,i)=>{var n;(n=t.dictionary)===null||n===void 0||n.set(t.values[e],i)},F2=(t,e,i)=>{t.type.unit===xn.DAY_TIME?v0(t,e,i):x0(t,e,i)},v0=({values:t},e,i)=>{t.set(i.subarray(0,2),2*e)},x0=({values:t},e,i)=>{t[e]=i[0]*12+i[1]%12},w0=({values:t},e,i)=>{t[e]=i},S0=({values:t},e,i)=>{t[e]=i},C0=({values:t},e,i)=>{t[e]=i},k0=({values:t},e,i)=>{t[e]=i},U2=(t,e,i)=>{switch(t.type.unit){case nt.SECOND:return w0(t,e,i);case nt.MILLISECOND:return S0(t,e,i);case nt.MICROSECOND:return C0(t,e,i);case nt.NANOSECOND:return k0(t,e,i)}},TW=(t,e,i)=>{let{stride:n}=t,o=t.children[0],r=jn.getVisitFn(o);if(Array.isArray(i))for(let s=-1,a=e*n;++s<n;)r(o,a+s,i[s]);else for(let s=-1,a=e*n;++s<n;)r(o,a+s,i.get(s))};xt.prototype.visitBool=At(_W);xt.prototype.visitInt=At(Ca);xt.prototype.visitInt8=At(Ca);xt.prototype.visitInt16=At(Ca);xt.prototype.visitInt32=At(Ca);xt.prototype.visitInt64=At(Ca);xt.prototype.visitUint8=At(Ca);xt.prototype.visitUint16=At(Ca);xt.prototype.visitUint32=At(Ca);xt.prototype.visitUint64=At(Ca);xt.prototype.visitFloat=At(yW);xt.prototype.visitFloat16=At(NA);xt.prototype.visitFloat32=At(R2);xt.prototype.visitFloat64=At(R2);xt.prototype.visitUtf8=At(UA);xt.prototype.visitLargeUtf8=At(UA);xt.prototype.visitBinary=At(FA);xt.prototype.visitLargeBinary=At(FA);xt.prototype.visitFixedSizeBinary=At(M2);xt.prototype.visitDate=At(z2);xt.prototype.visitDateDay=At(u0);xt.prototype.visitDateMillisecond=At(d0);xt.prototype.visitTimestamp=At(O2);xt.prototype.visitTimestampSecond=At(h0);xt.prototype.visitTimestampMillisecond=At(p0);xt.prototype.visitTimestampMicrosecond=At(f0);xt.prototype.visitTimestampNanosecond=At(m0);xt.prototype.visitTime=At(B2);xt.prototype.visitTimeSecond=At(g0);xt.prototype.visitTimeMillisecond=At(_0);xt.prototype.visitTimeMicrosecond=At(y0);xt.prototype.visitTimeNanosecond=At(b0);xt.prototype.visitDecimal=At(N2);xt.prototype.visitList=At(bW);xt.prototype.visitStruct=At(kW);xt.prototype.visitUnion=At(EW);xt.prototype.visitDenseUnion=At(jA);xt.prototype.visitSparseUnion=At(VA);xt.prototype.visitDictionary=At(IW);xt.prototype.visitInterval=At(F2);xt.prototype.visitIntervalDayTime=At(v0);xt.prototype.visitIntervalYearMonth=At(x0);xt.prototype.visitDuration=At(U2);xt.prototype.visitDurationSecond=At(w0);xt.prototype.visitDurationMillisecond=At(S0);xt.prototype.visitDurationMicrosecond=At(C0);xt.prototype.visitDurationNanosecond=At(k0);xt.prototype.visitFixedSizeList=At(TW);xt.prototype.visitMap=At(vW);var jn=new xt;var Xr=Symbol.for(\"parent\"),ch=Symbol.for(\"rowIndex\"),Fl=class{constructor(e,i){return this[Xr]=e,this[ch]=i,new Proxy(this,new V2)}toArray(){return Object.values(this.toJSON())}toJSON(){let e=this[ch],i=this[Xr],n=i.type.children,o={};for(let r=-1,s=n.length;++r<s;)o[n[r].name]=pn.visit(i.children[r],e);return o}toString(){return`{${[...this].map(([e,i])=>`${Wr(e)}: ${Wr(i)}`).join(\", \")}}`}[Symbol.for(\"nodejs.util.inspect.custom\")](){return this.toString()}[Symbol.iterator](){return new j2(this[Xr],this[ch])}},j2=class{constructor(e,i){this.childIndex=0,this.children=e.children,this.rowIndex=i,this.childFields=e.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){let e=this.childIndex;return e<this.numChildren?(this.childIndex=e+1,{done:!1,value:[this.childFields[e].name,pn.visit(this.children[e],this.rowIndex)]}):{done:!0,value:null}}};Object.defineProperties(Fl.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:\"Row\"},[Xr]:{writable:!0,enumerable:!1,configurable:!1,value:null},[ch]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});var V2=class{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[Xr].type.children.map(i=>i.name)}has(e,i){return e[Xr].type.children.findIndex(n=>n.name===i)!==-1}getOwnPropertyDescriptor(e,i){if(e[Xr].type.children.findIndex(n=>n.name===i)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,i){if(Reflect.has(e,i))return e[i];let n=e[Xr].type.children.findIndex(o=>o.name===i);if(n!==-1){let o=pn.visit(e[Xr].children[n],e[ch]);return Reflect.set(e,i,o),o}}set(e,i,n){let o=e[Xr].type.children.findIndex(r=>r.name===i);return o!==-1?(jn.visit(e[Xr].children[o],e[ch],n),Reflect.set(e,i,n)):Reflect.has(e,i)||typeof i==\"symbol\"?Reflect.set(e,i,n):!1}};var _t=class extends gt{};function Et(t){return(e,i)=>e.getValid(i)?t(e,i):null}var AW=(t,e)=>864e5*t[e],LW=(t,e)=>null,WA=(t,e,i)=>{if(i+1>=e.length)return null;let n=si(e[i]),o=si(e[i+1]);return t.subarray(n,o)},DW=({offset:t,values:e},i)=>{let n=t+i;return(e[n>>3]&1<<n%8)!==0},HA=({values:t},e)=>AW(t,e),$A=({values:t},e)=>si(t[e]),Ul=({stride:t,values:e},i)=>e[t*i],PW=({stride:t,values:e},i)=>c0(e[t*i]),qA=({values:t},e)=>t[e],RW=({stride:t,values:e},i)=>e.subarray(t*i,t*(i+1)),GA=({values:t,valueOffsets:e},i)=>WA(t,e,i),YA=({values:t,valueOffsets:e},i)=>{let n=WA(t,e,i);return n!==null?Gf(n):null},MW=({values:t},e)=>t[e],zW=({type:t,values:e},i)=>t.precision!==vi.HALF?e[i]:c0(e[i]),OW=(t,e)=>t.type.unit===tn.DAY?HA(t,e):$A(t,e),QA=({values:t},e)=>1e3*si(t[e]),XA=({values:t},e)=>si(t[e]),KA=({values:t},e)=>T2(t[e],BigInt(1e3)),ZA=({values:t},e)=>T2(t[e],BigInt(1e6)),BW=(t,e)=>{switch(t.type.unit){case nt.SECOND:return QA(t,e);case nt.MILLISECOND:return XA(t,e);case nt.MICROSECOND:return KA(t,e);case nt.NANOSECOND:return ZA(t,e)}},JA=({values:t},e)=>t[e],eL=({values:t},e)=>t[e],tL=({values:t},e)=>t[e],iL=({values:t},e)=>t[e],NW=(t,e)=>{switch(t.type.unit){case nt.SECOND:return JA(t,e);case nt.MILLISECOND:return eL(t,e);case nt.MICROSECOND:return tL(t,e);case nt.NANOSECOND:return iL(t,e)}},FW=({values:t,stride:e},i)=>cm.decimal(t.subarray(e*i,e*(i+1))),UW=(t,e)=>{let{valueOffsets:i,stride:n,children:o}=t,{[e*n]:r,[e*n+1]:s}=i,l=o[0].slice(r,s-r);return new pt([l])},jW=(t,e)=>{let{valueOffsets:i,children:n}=t,{[e]:o,[e+1]:r}=i,s=n[0];return new Es(s.slice(o,r-o))},VW=(t,e)=>new Fl(t,e),WW=(t,e)=>t.type.mode===Si.Dense?nL(t,e):oL(t,e),nL=(t,e)=>{let i=t.type.typeIdToChildIndex[t.typeIds[e]],n=t.children[i];return pn.visit(n,t.valueOffsets[e])},oL=(t,e)=>{let i=t.type.typeIdToChildIndex[t.typeIds[e]],n=t.children[i];return pn.visit(n,e)},HW=(t,e)=>{var i;return(i=t.dictionary)===null||i===void 0?void 0:i.get(t.values[e])},$W=(t,e)=>t.type.unit===xn.DAY_TIME?rL(t,e):sL(t,e),rL=({values:t},e)=>t.subarray(2*e,2*(e+1)),sL=({values:t},e)=>{let i=t[e],n=new Int32Array(2);return n[0]=Math.trunc(i/12),n[1]=Math.trunc(i%12),n},aL=({values:t},e)=>t[e],lL=({values:t},e)=>t[e],cL=({values:t},e)=>t[e],uL=({values:t},e)=>t[e],qW=(t,e)=>{switch(t.type.unit){case nt.SECOND:return aL(t,e);case nt.MILLISECOND:return lL(t,e);case nt.MICROSECOND:return cL(t,e);case nt.NANOSECOND:return uL(t,e)}},GW=(t,e)=>{let{stride:i,children:n}=t,r=n[0].slice(e*i,i);return new pt([r])};_t.prototype.visitNull=Et(LW);_t.prototype.visitBool=Et(DW);_t.prototype.visitInt=Et(MW);_t.prototype.visitInt8=Et(Ul);_t.prototype.visitInt16=Et(Ul);_t.prototype.visitInt32=Et(Ul);_t.prototype.visitInt64=Et(qA);_t.prototype.visitUint8=Et(Ul);_t.prototype.visitUint16=Et(Ul);_t.prototype.visitUint32=Et(Ul);_t.prototype.visitUint64=Et(qA);_t.prototype.visitFloat=Et(zW);_t.prototype.visitFloat16=Et(PW);_t.prototype.visitFloat32=Et(Ul);_t.prototype.visitFloat64=Et(Ul);_t.prototype.visitUtf8=Et(YA);_t.prototype.visitLargeUtf8=Et(YA);_t.prototype.visitBinary=Et(GA);_t.prototype.visitLargeBinary=Et(GA);_t.prototype.visitFixedSizeBinary=Et(RW);_t.prototype.visitDate=Et(OW);_t.prototype.visitDateDay=Et(HA);_t.prototype.visitDateMillisecond=Et($A);_t.prototype.visitTimestamp=Et(BW);_t.prototype.visitTimestampSecond=Et(QA);_t.prototype.visitTimestampMillisecond=Et(XA);_t.prototype.visitTimestampMicrosecond=Et(KA);_t.prototype.visitTimestampNanosecond=Et(ZA);_t.prototype.visitTime=Et(NW);_t.prototype.visitTimeSecond=Et(JA);_t.prototype.visitTimeMillisecond=Et(eL);_t.prototype.visitTimeMicrosecond=Et(tL);_t.prototype.visitTimeNanosecond=Et(iL);_t.prototype.visitDecimal=Et(FW);_t.prototype.visitList=Et(UW);_t.prototype.visitStruct=Et(VW);_t.prototype.visitUnion=Et(WW);_t.prototype.visitDenseUnion=Et(nL);_t.prototype.visitSparseUnion=Et(oL);_t.prototype.visitDictionary=Et(HW);_t.prototype.visitInterval=Et($W);_t.prototype.visitIntervalDayTime=Et(rL);_t.prototype.visitIntervalYearMonth=Et(sL);_t.prototype.visitDuration=Et(qW);_t.prototype.visitDurationSecond=Et(aL);_t.prototype.visitDurationMillisecond=Et(lL);_t.prototype.visitDurationMicrosecond=Et(cL);_t.prototype.visitDurationNanosecond=Et(uL);_t.prototype.visitFixedSizeList=Et(GW);_t.prototype.visitMap=Et(jW);var pn=new _t;var jl=Symbol.for(\"keys\"),dh=Symbol.for(\"vals\"),uh=Symbol.for(\"kKeysAsStrings\"),W2=Symbol.for(\"_kKeysAsStrings\"),Es=class{constructor(e){return this[jl]=new pt([e.children[0]]).memoize(),this[dh]=e.children[1],new Proxy(this,new $2)}get[uh](){return this[W2]||(this[W2]=Array.from(this[jl].toArray(),String))}[Symbol.iterator](){return new H2(this[jl],this[dh])}get size(){return this[jl].length}toArray(){return Object.values(this.toJSON())}toJSON(){let e=this[jl],i=this[dh],n={};for(let o=-1,r=e.length;++o<r;)n[e.get(o)]=pn.visit(i,o);return n}toString(){return`{${[...this].map(([e,i])=>`${Wr(e)}: ${Wr(i)}`).join(\", \")}}`}[Symbol.for(\"nodejs.util.inspect.custom\")](){return this.toString()}},H2=class{constructor(e,i){this.keys=e,this.vals=i,this.keyIndex=0,this.numKeys=e.length}[Symbol.iterator](){return this}next(){let e=this.keyIndex;return e===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(e),pn.visit(this.vals,e)]})}},$2=class{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[uh]}has(e,i){return e[uh].includes(i)}getOwnPropertyDescriptor(e,i){if(e[uh].indexOf(i)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,i){if(Reflect.has(e,i))return e[i];let n=e[uh].indexOf(i);if(n!==-1){let o=pn.visit(Reflect.get(e,dh),n);return Reflect.set(e,i,o),o}}set(e,i,n){let o=e[uh].indexOf(i);return o!==-1?(jn.visit(Reflect.get(e,dh),o,n),Reflect.set(e,i,n)):Reflect.has(e,i)?Reflect.set(e,i,n):!1}};Object.defineProperties(Es.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:\"Row\"},[jl]:{writable:!0,enumerable:!1,configurable:!1,value:null},[dh]:{writable:!0,enumerable:!1,configurable:!1,value:null},[W2]:{writable:!0,enumerable:!1,configurable:!1,value:null}});var dL;function hm(t,e,i,n){let{length:o=0}=t,r=typeof e!=\"number\"?0:e,s=typeof i!=\"number\"?o:i;return r<0&&(r=(r%o+o)%o),s<0&&(s=(s%o+o)%o),s<r&&(dL=r,r=s,s=dL),s>o&&(s=o),n?n(t,r,s):[r,s]}var Xc=(t,e)=>t<0?e+t:t,hL=t=>t!==t;function Vl(t){if(typeof t!==\"object\"||t===null)return hL(t)?hL:i=>i===t;if(t instanceof Date){let i=t.valueOf();return n=>n instanceof Date?n.valueOf()===i:!1}return ArrayBuffer.isView(t)?i=>i?S2(t,i):!1:t instanceof Map?QW(t):Array.isArray(t)?YW(t):t instanceof pt?XW(t):KW(t,!0)}function YW(t){let e=[];for(let i=-1,n=t.length;++i<n;)e[i]=Vl(t[i]);return E0(e)}function QW(t){let e=-1,i=[];for(let n of t.values())i[++e]=Vl(n);return E0(i)}function XW(t){let e=[];for(let i=-1,n=t.length;++i<n;)e[i]=Vl(t.get(i));return E0(e)}function KW(t,e=!1){let i=Object.keys(t);if(!e&&i.length===0)return()=>!1;let n=[];for(let o=-1,r=i.length;++o<r;)n[o]=Vl(t[i[o]]);return E0(n,i)}function E0(t,e){return i=>{if(!i||typeof i!=\"object\")return!1;switch(i.constructor){case Array:return ZW(t,i);case Map:return pL(t,i,i.keys());case Es:case Fl:case Object:case void 0:return pL(t,i,e||Object.keys(i))}return i instanceof pt?JW(t,i):!1}}function ZW(t,e){let i=t.length;if(e.length!==i)return!1;for(let n=-1;++n<i;)if(!t[n](e[n]))return!1;return!0}function JW(t,e){let i=t.length;if(e.length!==i)return!1;for(let n=-1;++n<i;)if(!t[n](e.get(n)))return!1;return!0}function pL(t,e,i){let n=i[Symbol.iterator](),o=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),r=e instanceof Map?e.values():Object.values(e)[Symbol.iterator](),s=0,a=t.length,l=r.next(),c=n.next(),u=o.next();for(;s<a&&!c.done&&!u.done&&!l.done&&!(c.value!==u.value||!t[s](l.value));++s,c=n.next(),u=o.next(),l=r.next());return s===a&&c.done&&u.done&&l.done?!0:(n.return&&n.return(),o.return&&o.return(),r.return&&r.return(),!1)}var G2={};wc(G2,{BitIterator:()=>Kc,getBit:()=>fL,getBool:()=>T0,packBools:()=>Jc,popcnt_array:()=>mL,popcnt_bit_range:()=>pm,popcnt_uint32:()=>I0,setBool:()=>eH,truncateBitmap:()=>Zc});function T0(t,e,i,n){return(i&1<<n)!==0}function fL(t,e,i,n){return(i&1<<n)>>n}function eH(t,e,i){return i?!!(t[e>>3]|=1<<e%8)||!0:!(t[e>>3]&=~(1<<e%8))&&!1}function Zc(t,e,i){let n=i.byteLength+7&-8;if(t>0||i.byteLength<n){let o=new Uint8Array(n);return o.set(t%8===0?i.subarray(t>>3):Jc(new Kc(i,t,e,null,T0)).subarray(0,n)),o}return i}function Jc(t){let e=[],i=0,n=0,o=0;for(let s of t)s&&(o|=1<<n),++n===8&&(e[i++]=o,o=n=0);(i===0||n>0)&&(e[i++]=o);let r=new Uint8Array(e.length+7&-8);return r.set(e),r}var Kc=class{constructor(e,i,n,o,r){this.bytes=e,this.length=n,this.context=o,this.get=r,this.bit=i%8,this.byteIndex=i>>3,this.byte=e[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}};function pm(t,e,i){if(i-e<=0)return 0;if(i-e<8){let r=0;for(let s of new Kc(t,e,i-e,t,fL))r+=s;return r}let n=i>>3<<3,o=e+(e%8===0?0:8-e%8);return pm(t,e,o)+pm(t,n,i)+mL(t,o>>3,n-o>>3)}function mL(t,e,i){let n=0,o=Math.trunc(e),r=new DataView(t.buffer,t.byteOffset,t.byteLength),s=i===void 0?t.byteLength:o+i;for(;s-o>=4;)n+=I0(r.getUint32(o)),o+=4;for(;s-o>=2;)n+=I0(r.getUint16(o)),o+=2;for(;s-o>=1;)n+=I0(r.getUint8(o)),o+=1;return n}function I0(t){let e=Math.trunc(t);return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24}var tH=-1,ti=class t{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get nullable(){if(this._nullCount!==0){let{type:e}=this;return Qe.isSparseUnion(e)?this.children.some(i=>i.nullable):Qe.isDenseUnion(e)?this.children.some(i=>i.nullable):this.nullBitmap&&this.nullBitmap.byteLength>0}return!0}get byteLength(){let e=0,{valueOffsets:i,values:n,nullBitmap:o,typeIds:r}=this;return i&&(e+=i.byteLength),n&&(e+=n.byteLength),o&&(e+=o.byteLength),r&&(e+=r.byteLength),this.children.reduce((s,a)=>s+a.byteLength,e)}get nullCount(){if(Qe.isUnion(this.type))return this.children.reduce((n,o)=>n+o.nullCount,0);let e=this._nullCount,i;return e<=tH&&(i=this.nullBitmap)&&(this._nullCount=e=i.length===0?0:this.length-pm(i,this.offset,this.offset+this.length)),e}constructor(e,i,n,o,r,s=[],a){this.type=e,this.children=s,this.dictionary=a,this.offset=Math.floor(Math.max(i||0,0)),this.length=Math.floor(Math.max(n||0,0)),this._nullCount=Math.floor(Math.max(o||0,-1));let l;r instanceof t?(this.stride=r.stride,this.values=r.values,this.typeIds=r.typeIds,this.nullBitmap=r.nullBitmap,this.valueOffsets=r.valueOffsets):(this.stride=Ho(e),r&&((l=r[0])&&(this.valueOffsets=l),(l=r[1])&&(this.values=l),(l=r[2])&&(this.nullBitmap=l),(l=r[3])&&(this.typeIds=l)))}getValid(e){let{type:i}=this;if(Qe.isUnion(i)){let n=i,o=this.children[n.typeIdToChildIndex[this.typeIds[e]]],r=n.mode===Si.Dense?this.valueOffsets[e]:e;return o.getValid(r)}if(this.nullable&&this.nullCount>0){let n=this.offset+e;return(this.nullBitmap[n>>3]&1<<n%8)!==0}return!0}setValid(e,i){let n,{type:o}=this;if(Qe.isUnion(o)){let r=o,s=this.children[r.typeIdToChildIndex[this.typeIds[e]]],a=r.mode===Si.Dense?this.valueOffsets[e]:e;n=s.getValid(a),s.setValid(a,i)}else{let{nullBitmap:r}=this,{offset:s,length:a}=this,l=s+e,c=1<<l%8,u=l>>3;(!r||r.byteLength<=u)&&(r=new Uint8Array((s+a+63&-64)>>3).fill(255),this.nullCount>0?(r.set(Zc(s,a,this.nullBitmap),0),Object.assign(this,{nullBitmap:r})):Object.assign(this,{nullBitmap:r,_nullCount:0}));let d=r[u];n=(d&c)!==0,r[u]=i?d|c:d&~c}return n!==!!i&&(this._nullCount=this.nullCount+(i?-1:1)),i}clone(e=this.type,i=this.offset,n=this.length,o=this._nullCount,r=this,s=this.children){return new t(e,i,n,o,r,s,this.dictionary)}slice(e,i){let{stride:n,typeId:o,children:r}=this,s=+(this._nullCount===0)-1,a=o===16?n:1,l=this._sliceBuffers(e,i,n,o);return this.clone(this.type,this.offset+e,i,s,l,r.length===0||this.valueOffsets?r:this._sliceChildren(r,a*e,a*i))}_changeLengthAndBackfillNullBitmap(e){if(this.typeId===E.Null)return this.clone(this.type,0,e,0);let{length:i,nullCount:n}=this,o=new Uint8Array((e+63&-64)>>3).fill(255,0,i>>3);o[i>>3]=(1<<i-(i&-8))-1,n>0&&o.set(Zc(this.offset,i,this.nullBitmap),0);let r=this.buffers;return r[ur.VALIDITY]=o,this.clone(this.type,0,e,n+(e-i),r)}_sliceBuffers(e,i,n,o){let r,{buffers:s}=this;return(r=s[ur.TYPE])&&(s[ur.TYPE]=r.subarray(e,e+i)),(r=s[ur.OFFSET])&&(s[ur.OFFSET]=r.subarray(e,e+i+1))||(r=s[ur.DATA])&&(s[ur.DATA]=o===6?r:r.subarray(n*e,n*(e+i))),s}_sliceChildren(e,i,n){return e.map(o=>o.slice(i,n))}};ti.prototype.children=Object.freeze([]);var Y2=class t extends gt{visit(e){return this.getVisitFn(e.type).call(this,e)}visitNull(e){let{[\"type\"]:i,[\"offset\"]:n=0,[\"length\"]:o=0}=e;return new ti(i,n,o,o)}visitBool(e){let{[\"type\"]:i,[\"offset\"]:n=0}=e,o=St(e.nullBitmap),r=Vt(i.ArrayType,e.data),{[\"length\"]:s=r.length>>3,[\"nullCount\"]:a=e.nullBitmap?-1:0}=e;return new ti(i,n,s,a,[void 0,r,o])}visitInt(e){let{[\"type\"]:i,[\"offset\"]:n=0}=e,o=St(e.nullBitmap),r=Vt(i.ArrayType,e.data),{[\"length\"]:s=r.length,[\"nullCount\"]:a=e.nullBitmap?-1:0}=e;return new ti(i,n,s,a,[void 0,r,o])}visitFloat(e){let{[\"type\"]:i,[\"offset\"]:n=0}=e,o=St(e.nullBitmap),r=Vt(i.ArrayType,e.data),{[\"length\"]:s=r.length,[\"nullCount\"]:a=e.nullBitmap?-1:0}=e;return new ti(i,n,s,a,[void 0,r,o])}visitUtf8(e){let{[\"type\"]:i,[\"offset\"]:n=0}=e,o=St(e.data),r=St(e.nullBitmap),s=Yc(e.valueOffsets),{[\"length\"]:a=s.length-1,[\"nullCount\"]:l=e.nullBitmap?-1:0}=e;return new ti(i,n,a,l,[s,o,r])}visitLargeUtf8(e){let{[\"type\"]:i,[\"offset\"]:n=0}=e,o=St(e.data),r=St(e.nullBitmap),s=t0(e.valueOffsets),{[\"length\"]:a=s.length-1,[\"nullCount\"]:l=e.nullBitmap?-1:0}=e;return new ti(i,n,a,l,[s,o,r])}visitBinary(e){let{[\"type\"]:i,[\"offset\"]:n=0}=e,o=St(e.data),r=St(e.nullBitmap),s=Yc(e.valueOffsets),{[\"length\"]:a=s.length-1,[\"nullCount\"]:l=e.nullBitmap?-1:0}=e;return new ti(i,n,a,l,[s,o,r])}visitLargeBinary(e){let{[\"type\"]:i,[\"offset\"]:n=0}=e,o=St(e.data),r=St(e.nullBitmap),s=t0(e.valueOffsets),{[\"length\"]:a=s.length-1,[\"nullCount\"]:l=e.nullBitmap?-1:0}=e;return new ti(i,n,a,l,[s,o,r])}visitFixedSizeBinary(e){let{[\"type\"]:i,[\"offset\"]:n=0}=e,o=St(e.nullBitmap),r=Vt(i.ArrayType,e.data),{[\"length\"]:s=r.length/Ho(i),[\"nullCount\"]:a=e.nullBitmap?-1:0}=e;return new ti(i,n,s,a,[void 0,r,o])}visitDate(e){let{[\"type\"]:i,[\"offset\"]:n=0}=e,o=St(e.nullBitmap),r=Vt(i.ArrayType,e.data),{[\"length\"]:s=r.length/Ho(i),[\"nullCount\"]:a=e.nullBitmap?-1:0}=e;return new ti(i,n,s,a,[void 0,r,o])}visitTimestamp(e){let{[\"type\"]:i,[\"offset\"]:n=0}=e,o=St(e.nullBitmap),r=Vt(i.ArrayType,e.data),{[\"length\"]:s=r.length/Ho(i),[\"nullCount\"]:a=e.nullBitmap?-1:0}=e;return new ti(i,n,s,a,[void 0,r,o])}visitTime(e){let{[\"type\"]:i,[\"offset\"]:n=0}=e,o=St(e.nullBitmap),r=Vt(i.ArrayType,e.data),{[\"length\"]:s=r.length/Ho(i),[\"nullCount\"]:a=e.nullBitmap?-1:0}=e;return new ti(i,n,s,a,[void 0,r,o])}visitDecimal(e){let{[\"type\"]:i,[\"offset\"]:n=0}=e,o=St(e.nullBitmap),r=Vt(i.ArrayType,e.data),{[\"length\"]:s=r.length/Ho(i),[\"nullCount\"]:a=e.nullBitmap?-1:0}=e;return new ti(i,n,s,a,[void 0,r,o])}visitList(e){let{[\"type\"]:i,[\"offset\"]:n=0,[\"child\"]:o}=e,r=St(e.nullBitmap),s=Yc(e.valueOffsets),{[\"length\"]:a=s.length-1,[\"nullCount\"]:l=e.nullBitmap?-1:0}=e;return new ti(i,n,a,l,[s,void 0,r],[o])}visitStruct(e){let{[\"type\"]:i,[\"offset\"]:n=0,[\"children\"]:o=[]}=e,r=St(e.nullBitmap),{length:s=o.reduce((l,{length:c})=>Math.max(l,c),0),nullCount:a=e.nullBitmap?-1:0}=e;return new ti(i,n,s,a,[void 0,void 0,r],o)}visitUnion(e){let{[\"type\"]:i,[\"offset\"]:n=0,[\"children\"]:o=[]}=e,r=Vt(i.ArrayType,e.typeIds),{[\"length\"]:s=r.length,[\"nullCount\"]:a=-1}=e;if(Qe.isSparseUnion(i))return new ti(i,n,s,a,[void 0,void 0,void 0,r],o);let l=Yc(e.valueOffsets);return new ti(i,n,s,a,[l,void 0,void 0,r],o)}visitDictionary(e){let{[\"type\"]:i,[\"offset\"]:n=0}=e,o=St(e.nullBitmap),r=Vt(i.indices.ArrayType,e.data),{[\"dictionary\"]:s=new pt([new t().visit({type:i.dictionary})])}=e,{[\"length\"]:a=r.length,[\"nullCount\"]:l=e.nullBitmap?-1:0}=e;return new ti(i,n,a,l,[void 0,r,o],[],s)}visitInterval(e){let{[\"type\"]:i,[\"offset\"]:n=0}=e,o=St(e.nullBitmap),r=Vt(i.ArrayType,e.data),{[\"length\"]:s=r.length/Ho(i),[\"nullCount\"]:a=e.nullBitmap?-1:0}=e;return new ti(i,n,s,a,[void 0,r,o])}visitDuration(e){let{[\"type\"]:i,[\"offset\"]:n=0}=e,o=St(e.nullBitmap),r=Vt(i.ArrayType,e.data),{[\"length\"]:s=r.length,[\"nullCount\"]:a=e.nullBitmap?-1:0}=e;return new ti(i,n,s,a,[void 0,r,o])}visitFixedSizeList(e){let{[\"type\"]:i,[\"offset\"]:n=0,[\"child\"]:o=new t().visit({type:i.valueType})}=e,r=St(e.nullBitmap),{[\"length\"]:s=o.length/Ho(i),[\"nullCount\"]:a=e.nullBitmap?-1:0}=e;return new ti(i,n,s,a,[void 0,void 0,r],[o])}visitMap(e){let{[\"type\"]:i,[\"offset\"]:n=0,[\"child\"]:o=new t().visit({type:i.childType})}=e,r=St(e.nullBitmap),s=Yc(e.valueOffsets),{[\"length\"]:a=s.length-1,[\"nullCount\"]:l=e.nullBitmap?-1:0}=e;return new ti(i,n,a,l,[s,void 0,r],[o])}},iH=new Y2;function dt(t){return iH.visit(t)}var fm=class{constructor(e=0,i){this.numChunks=e,this.getChunkIterator=i,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){let e=this.chunkIterator.next();if(!e.done)return e;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}};function gL(t){return t.some(e=>e.nullable)}function A0(t){return t.reduce((e,i)=>e+i.nullCount,0)}function L0(t){return t.reduce((e,i,n)=>(e[n+1]=e[n]+i.length,e),new Uint32Array(t.length+1))}function D0(t,e,i,n){let o=[];for(let r=-1,s=t.length;++r<s;){let a=t[r],l=e[r],{length:c}=a;if(l>=n)break;if(i>=l+c)continue;if(l>=i&&l+c<=n){o.push(a);continue}let u=Math.max(0,i-l),d=Math.min(n-l,c);o.push(a.slice(u,d-u))}return o.length===0&&o.push(t[0].slice(0,0)),o}function Q2(t,e,i,n){let o=0,r=0,s=e.length-1;do{if(o>=s-1)return i<e[s]?n(t,o,i-e[o]):null;r=o+Math.trunc((s-o)*.5),i<e[r]?s=r:o=r}while(o<s)}function mm(t,e){return t.getValid(e)}function hh(t){function e(i,n,o){return t(i[n],o)}return function(i){let n=this.data;return Q2(n,this._offsets,i,e)}}function P0(t){let e;function i(n,o,r){return t(n[o],r,e)}return function(n,o){let r=this.data;e=o;let s=Q2(r,this._offsets,n,i);return e=void 0,s}}function R0(t){let e;function i(n,o,r){let s=r,a=0,l=0;for(let c=o-1,u=n.length;++c<u;){let d=n[c];if(~(a=t(d,e,s)))return l+a;s=0,l+=d.length}return-1}return function(n,o){e=n;let r=this.data,s=typeof o!=\"number\"?i(r,0,0):Q2(r,this._offsets,o,i);return e=void 0,s}}var yt=class extends gt{};function nH(t,e){return e===null&&t.length>0?0:-1}function oH(t,e){let{nullBitmap:i}=t;if(!i||t.nullCount<=0)return-1;let n=0;for(let o of new Kc(i,t.offset+(e||0),t.length,i,T0)){if(!o)return n;++n}return-1}function Pt(t,e,i){if(e===void 0)return-1;if(e===null)switch(t.typeId){case E.Union:break;case E.Dictionary:break;default:return oH(t,i)}let n=pn.getVisitFn(t),o=Vl(e);for(let r=(i||0)-1,s=t.length;++r<s;)if(o(n(t,r)))return r;return-1}function _L(t,e,i){let n=pn.getVisitFn(t),o=Vl(e);for(let r=(i||0)-1,s=t.length;++r<s;)if(o(n(t,r)))return r;return-1}yt.prototype.visitNull=nH;yt.prototype.visitBool=Pt;yt.prototype.visitInt=Pt;yt.prototype.visitInt8=Pt;yt.prototype.visitInt16=Pt;yt.prototype.visitInt32=Pt;yt.prototype.visitInt64=Pt;yt.prototype.visitUint8=Pt;yt.prototype.visitUint16=Pt;yt.prototype.visitUint32=Pt;yt.prototype.visitUint64=Pt;yt.prototype.visitFloat=Pt;yt.prototype.visitFloat16=Pt;yt.prototype.visitFloat32=Pt;yt.prototype.visitFloat64=Pt;yt.prototype.visitUtf8=Pt;yt.prototype.visitLargeUtf8=Pt;yt.prototype.visitBinary=Pt;yt.prototype.visitLargeBinary=Pt;yt.prototype.visitFixedSizeBinary=Pt;yt.prototype.visitDate=Pt;yt.prototype.visitDateDay=Pt;yt.prototype.visitDateMillisecond=Pt;yt.prototype.visitTimestamp=Pt;yt.prototype.visitTimestampSecond=Pt;yt.prototype.visitTimestampMillisecond=Pt;yt.prototype.visitTimestampMicrosecond=Pt;yt.prototype.visitTimestampNanosecond=Pt;yt.prototype.visitTime=Pt;yt.prototype.visitTimeSecond=Pt;yt.prototype.visitTimeMillisecond=Pt;yt.prototype.visitTimeMicrosecond=Pt;yt.prototype.visitTimeNanosecond=Pt;yt.prototype.visitDecimal=Pt;yt.prototype.visitList=Pt;yt.prototype.visitStruct=Pt;yt.prototype.visitUnion=Pt;yt.prototype.visitDenseUnion=_L;yt.prototype.visitSparseUnion=_L;yt.prototype.visitDictionary=Pt;yt.prototype.visitInterval=Pt;yt.prototype.visitIntervalDayTime=Pt;yt.prototype.visitIntervalYearMonth=Pt;yt.prototype.visitDuration=Pt;yt.prototype.visitDurationSecond=Pt;yt.prototype.visitDurationMillisecond=Pt;yt.prototype.visitDurationMicrosecond=Pt;yt.prototype.visitDurationNanosecond=Pt;yt.prototype.visitFixedSizeList=Pt;yt.prototype.visitMap=Pt;var eu=new yt;var bt=class extends gt{};function It(t){let{type:e}=t;if(t.nullCount===0&&t.stride===1&&(Qe.isInt(e)&&e.bitWidth!==64||Qe.isTime(e)&&e.bitWidth!==64||Qe.isFloat(e)&&e.precision!==vi.HALF))return new fm(t.data.length,n=>{let o=t.data[n];return o.values.subarray(0,o.length)[Symbol.iterator]()});let i=0;return new fm(t.data.length,n=>{let r=t.data[n].length,s=t.slice(i,i+r);return i+=r,new X2(s)})}var X2=class{constructor(e){this.vector=e,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}};bt.prototype.visitNull=It;bt.prototype.visitBool=It;bt.prototype.visitInt=It;bt.prototype.visitInt8=It;bt.prototype.visitInt16=It;bt.prototype.visitInt32=It;bt.prototype.visitInt64=It;bt.prototype.visitUint8=It;bt.prototype.visitUint16=It;bt.prototype.visitUint32=It;bt.prototype.visitUint64=It;bt.prototype.visitFloat=It;bt.prototype.visitFloat16=It;bt.prototype.visitFloat32=It;bt.prototype.visitFloat64=It;bt.prototype.visitUtf8=It;bt.prototype.visitLargeUtf8=It;bt.prototype.visitBinary=It;bt.prototype.visitLargeBinary=It;bt.prototype.visitFixedSizeBinary=It;bt.prototype.visitDate=It;bt.prototype.visitDateDay=It;bt.prototype.visitDateMillisecond=It;bt.prototype.visitTimestamp=It;bt.prototype.visitTimestampSecond=It;bt.prototype.visitTimestampMillisecond=It;bt.prototype.visitTimestampMicrosecond=It;bt.prototype.visitTimestampNanosecond=It;bt.prototype.visitTime=It;bt.prototype.visitTimeSecond=It;bt.prototype.visitTimeMillisecond=It;bt.prototype.visitTimeMicrosecond=It;bt.prototype.visitTimeNanosecond=It;bt.prototype.visitDecimal=It;bt.prototype.visitList=It;bt.prototype.visitStruct=It;bt.prototype.visitUnion=It;bt.prototype.visitDenseUnion=It;bt.prototype.visitSparseUnion=It;bt.prototype.visitDictionary=It;bt.prototype.visitInterval=It;bt.prototype.visitIntervalDayTime=It;bt.prototype.visitIntervalYearMonth=It;bt.prototype.visitDuration=It;bt.prototype.visitDurationSecond=It;bt.prototype.visitDurationMillisecond=It;bt.prototype.visitDurationMicrosecond=It;bt.prototype.visitDurationNanosecond=It;bt.prototype.visitFixedSizeList=It;bt.prototype.visitMap=It;var ph=new bt;var yL,bL={},vL={},pt=class t{constructor(e){var i,n,o;let r=e[0]instanceof t?e.flatMap(a=>a.data):e;if(r.length===0||r.some(a=>!(a instanceof ti)))throw new TypeError(\"Vector constructor expects an Array of Data instances.\");let s=(i=r[0])===null||i===void 0?void 0:i.type;switch(r.length){case 0:this._offsets=[0];break;case 1:{let{get:a,set:l,indexOf:c}=bL[s.typeId],u=r[0];this.isValid=d=>mm(u,d),this.get=d=>a(u,d),this.set=(d,h)=>l(u,d,h),this.indexOf=d=>c(u,d),this._offsets=[0,u.length];break}default:Object.setPrototypeOf(this,vL[s.typeId]),this._offsets=L0(r);break}this.data=r,this.type=s,this.stride=Ho(s),this.numChildren=(o=(n=s.children)===null||n===void 0?void 0:n.length)!==null&&o!==void 0?o:0,this.length=this._offsets.at(-1)}get byteLength(){return this.data.reduce((e,i)=>e+i.byteLength,0)}get nullable(){return gL(this.data)}get nullCount(){return A0(this.data)}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${E[this.type.typeId]}Vector`}isValid(e){return!1}get(e){return null}at(e){return this.get(Xc(e,this.length))}set(e,i){}indexOf(e,i){return-1}includes(e,i){return this.indexOf(e,i)>-1}[Symbol.iterator](){return ph.visit(this)}concat(...e){return new t(this.data.concat(e.flatMap(i=>i.data).flat(Number.POSITIVE_INFINITY)))}slice(e,i){return new t(hm(this,e,i,({data:n,_offsets:o},r,s)=>D0(n,o,r,s)))}toJSON(){return[...this]}toArray(){let{type:e,data:i,length:n,stride:o,ArrayType:r}=this;switch(e.typeId){case E.Int:case E.Float:case E.Decimal:case E.Time:case E.Timestamp:switch(i.length){case 0:return new r;case 1:return i[0].values.subarray(0,n*o);default:return i.reduce((s,{values:a,length:l})=>(s.array.set(a.subarray(0,l*o),s.offset),s.offset+=l*o,s),{array:new r(n*o),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(\",\")}]`}getChild(e){var i;return this.getChildAt((i=this.type.children)===null||i===void 0?void 0:i.findIndex(n=>n.name===e))}getChildAt(e){return e>-1&&e<this.numChildren?new t(this.data.map(({children:i})=>i[e])):null}get isMemoized(){return Qe.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(Qe.isDictionary(this.type)){let e=new M0(this.data[0].dictionary),i=this.data.map(n=>{let o=n.clone();return o.dictionary=e,o});return new t(i)}return new M0(this)}unmemoize(){if(Qe.isDictionary(this.type)&&this.isMemoized){let e=this.data[0].dictionary.unmemoize(),i=this.data.map(n=>{let o=n.clone();return o.dictionary=e,o});return new t(i)}return this}};yL=Symbol.toStringTag;pt[yL]=(t=>{t.type=Qe.prototype,t.data=[],t.length=0,t.stride=1,t.numChildren=0,t._offsets=new Uint32Array([0]),t[Symbol.isConcatSpreadable]=!0;let e=Object.keys(E).map(i=>E[i]).filter(i=>typeof i==\"number\"&&i!==E.NONE);for(let i of e){let n=pn.getVisitFnByTypeId(i),o=jn.getVisitFnByTypeId(i),r=eu.getVisitFnByTypeId(i);bL[i]={get:n,set:o,indexOf:r},vL[i]=Object.create(t,{isValid:{value:hh(mm)},get:{value:hh(pn.getVisitFnByTypeId(i))},set:{value:P0(jn.getVisitFnByTypeId(i))},indexOf:{value:R0(eu.getVisitFnByTypeId(i))}})}return\"Vector\"})(pt.prototype);var M0=class t extends pt{constructor(e){super(e.data);let i=this.get,n=this.set,o=this.slice,r=new Array(this.length);Object.defineProperty(this,\"get\",{value(s){let a=r[s];if(a!==void 0)return a;let l=i.call(this,s);return r[s]=l,l}}),Object.defineProperty(this,\"set\",{value(s,a){n.call(this,s,a),r[s]=a}}),Object.defineProperty(this,\"slice\",{value:(s,a)=>new t(o.call(this,s,a))}),Object.defineProperty(this,\"isMemoized\",{value:!0}),Object.defineProperty(this,\"unmemoize\",{value:()=>new pt(this.data)}),Object.defineProperty(this,\"memoize\",{value:()=>this})}};function gm(t){if(t){if(t instanceof ti)return new pt([t]);if(t instanceof pt)return new pt(t.data);if(t.type instanceof Qe)return new pt([dt(t)]);if(Array.isArray(t))return new pt(t.flatMap(e=>rH(e)));if(ArrayBuffer.isView(t)){t instanceof DataView&&(t=new Uint8Array(t.buffer));let e={offset:0,length:t.length,nullCount:-1,data:t};if(t instanceof Int8Array)return new pt([dt(Object.assign(Object.assign({},e),{type:new eh}))]);if(t instanceof Int16Array)return new pt([dt(Object.assign(Object.assign({},e),{type:new th}))]);if(t instanceof Int32Array)return new pt([dt(Object.assign(Object.assign({},e),{type:new So}))]);if(t instanceof BigInt64Array)return new pt([dt(Object.assign(Object.assign({},e),{type:new Bl}))]);if(t instanceof Uint8Array||t instanceof Uint8ClampedArray)return new pt([dt(Object.assign(Object.assign({},e),{type:new ih}))]);if(t instanceof Uint16Array)return new pt([dt(Object.assign(Object.assign({},e),{type:new nh}))]);if(t instanceof Uint32Array)return new pt([dt(Object.assign(Object.assign({},e),{type:new oh}))]);if(t instanceof BigUint64Array)return new pt([dt(Object.assign(Object.assign({},e),{type:new rh}))]);if(t instanceof Float32Array)return new pt([dt(Object.assign(Object.assign({},e),{type:new sh}))]);if(t instanceof Float64Array)return new pt([dt(Object.assign(Object.assign({},e),{type:new Nl}))]);throw new Error(\"Unrecognized input\")}}throw new Error(\"Unrecognized input\")}function rH(t){return t instanceof ti?[t]:t instanceof pt?t.data:gm(t).data}function xL(t){if(!t||t.length<=0)return function(o){return!0};let e=\"\",i=t.filter(n=>n===n);return i.length>0&&(e=`\n    switch (x) {${i.map(n=>`\n        case ${sH(n)}:`).join(\"\")}\n            return false;\n    }`),t.length!==i.length&&(e=`if (x !== x) return false;\n${e}`),new Function(\"x\",`${e}\nreturn true;`)}function sH(t){return typeof t!=\"bigint\"?Wr(t):`${Wr(t)}n`}function K2(t,e){let i=Math.ceil(t)*e-1;return(i-i%64+64||64)/e}function wL(t,e=0){return t.length>=e?t.subarray(0,e):Qf(new t.constructor(e),t,0)}var Kr=class{constructor(e,i=0,n=1){this.length=Math.ceil(i/n),this.buffer=new e(this.length),this.stride=n,this.BYTES_PER_ELEMENT=e.BYTES_PER_ELEMENT,this.ArrayType=e}get byteLength(){return Math.ceil(this.length*this.stride)*this.BYTES_PER_ELEMENT}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(e,i){return this}append(e){return this.set(this.length,e)}reserve(e){if(e>0){this.length+=e;let i=this.stride,n=this.length*i,o=this.buffer.length;n>=o&&this._resize(o===0?K2(n*1,this.BYTES_PER_ELEMENT):K2(n*2,this.BYTES_PER_ELEMENT))}return this}flush(e=this.length){e=K2(e*this.stride,this.BYTES_PER_ELEMENT);let i=wL(this.buffer,e);return this.clear(),i}clear(){return this.length=0,this.buffer=new this.ArrayType,this}_resize(e){return this.buffer=wL(this.buffer,e)}},ka=class extends Kr{last(){return this.get(this.length-1)}get(e){return this.buffer[e]}set(e,i){return this.reserve(e-this.length+1),this.buffer[e*this.stride]=i,this}},fh=class extends ka{constructor(){super(Uint8Array,0,1/8),this.numValid=0}get numInvalid(){return this.length-this.numValid}get(e){return this.buffer[e>>3]>>e%8&1}set(e,i){let{buffer:n}=this.reserve(e-this.length+1),o=e>>3,r=e%8,s=n[o]>>r&1;return i?s===0&&(n[o]|=1<<r,++this.numValid):s===1&&(n[o]&=~(1<<r),--this.numValid),this}clear(){return this.numValid=0,super.clear()}},mh=class extends ka{constructor(e){super(e.OffsetArrayType,1,1)}append(e){return this.set(this.length-1,e)}set(e,i){let n=this.length-1,o=this.reserve(e-n+1).buffer;return n<e++&&n>=0&&o.fill(o[n],n,e),o[e]=o[e-1]+i,this}flush(e=this.length-1){return e>this.length&&this.set(e-1,this.BYTES_PER_ELEMENT>4?BigInt(0):0),super.flush(e+1)}};var Ui=class{static throughNode(e){throw new Error('\"throughNode\" not available in this environment')}static throughDOM(e){throw new Error('\"throughDOM\" not available in this environment')}constructor({type:e,nullValues:i}){this.length=0,this.finished=!1,this.type=e,this.children=[],this.nullValues=i,this.stride=Ho(e),this._nulls=new fh,i&&i.length>0&&(this._isValid=xL(i))}toVector(){return new pt([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let e=0,{_offsets:i,_values:n,_nulls:o,_typeIds:r,children:s}=this;return i&&(e+=i.byteLength),n&&(e+=n.byteLength),o&&(e+=o.byteLength),r&&(e+=r.byteLength),s.reduce((a,l)=>a+l.byteLength,e)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let e=0;return this._offsets&&(e+=this._offsets.reservedByteLength),this._values&&(e+=this._values.reservedByteLength),this._nulls&&(e+=this._nulls.reservedByteLength),this._typeIds&&(e+=this._typeIds.reservedByteLength),this.children.reduce((i,n)=>i+n.reservedByteLength,e)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(e){return this.set(this.length,e)}isValid(e){return this._isValid(e)}set(e,i){return this.setValid(e,this.isValid(i))&&this.setValue(e,i),this}setValue(e,i){this._setValue(this,e,i)}setValid(e,i){return this.length=this._nulls.set(e,+i).length,i}addChild(e,i=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type \"${this.type}\"`)}getChildAt(e){return this.children[e]||null}flush(){let e,i,n,o,{type:r,length:s,nullCount:a,_typeIds:l,_offsets:c,_values:u,_nulls:d}=this;(i=l?.flush(s))?o=c?.flush(s):(o=c?.flush(s))?e=u?.flush(c.last()):e=u?.flush(s),a>0&&(n=d?.flush(s));let h=this.children.map(f=>f.flush());return this.clear(),dt({type:r,length:s,nullCount:a,children:h,child:h[0],data:e,typeIds:i,nullBitmap:n,valueOffsets:o})}finish(){this.finished=!0;for(let e of this.children)e.finish();return this}clear(){var e,i,n,o;this.length=0,(e=this._nulls)===null||e===void 0||e.clear(),(i=this._values)===null||i===void 0||i.clear(),(n=this._offsets)===null||n===void 0||n.clear(),(o=this._typeIds)===null||o===void 0||o.clear();for(let r of this.children)r.clear();return this}};Ui.prototype.length=1;Ui.prototype.stride=1;Ui.prototype.children=null;Ui.prototype.finished=!1;Ui.prototype.nullValues=null;Ui.prototype._isValid=()=>!0;var fn=class extends Ui{constructor(e){super(e),this._values=new ka(this.ArrayType,0,this.stride)}setValue(e,i){let n=this._values;return n.reserve(e-n.length+1),super.setValue(e,i)}},Co=class extends Ui{constructor(e){super(e),this._pendingLength=0,this._offsets=new mh(e.type)}setValue(e,i){let n=this._pending||(this._pending=new Map),o=n.get(e);o&&(this._pendingLength-=o.length),this._pendingLength+=i instanceof Es?i[jl].length:i.length,n.set(e,i)}setValid(e,i){return super.setValid(e,i)?!0:((this._pending||(this._pending=new Map)).set(e,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){let e=this._pending,i=this._pendingLength;return this._pendingLength=0,this._pending=void 0,e&&e.size>0&&this._flushPending(e,i),this}};var tu=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(e,i,n,o){return e.prep(8,24),e.writeInt64(BigInt(o??0)),e.pad(4),e.writeInt32(n),e.writeInt64(BigInt(i??0)),e.offset()}};var $o=class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsFooter(e,i){return(i||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFooter(e,i){return e.setPosition(e.position()+4),(i||new t).__init(e.readInt32(e.position())+e.position(),e)}version(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):hi.V1}schema(e){let i=this.bb.__offset(this.bb_pos,6);return i?(e||new wo).__init(this.bb.__indirect(this.bb_pos+i),this.bb):null}dictionaries(e,i){let n=this.bb.__offset(this.bb_pos,8);return n?(i||new tu).__init(this.bb.__vector(this.bb_pos+n)+e*24,this.bb):null}dictionariesLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}recordBatches(e,i){let n=this.bb.__offset(this.bb_pos,10);return n?(i||new tu).__init(this.bb.__vector(this.bb_pos+n)+e*24,this.bb):null}recordBatchesLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,i){let n=this.bb.__offset(this.bb_pos,12);return n?(i||new wn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startFooter(e){e.startObject(5)}static addVersion(e,i){e.addFieldInt16(0,i,hi.V1)}static addSchema(e,i){e.addFieldOffset(1,i,0)}static addDictionaries(e,i){e.addFieldOffset(2,i,0)}static startDictionariesVector(e,i){e.startVector(24,i,8)}static addRecordBatches(e,i){e.addFieldOffset(3,i,0)}static startRecordBatchesVector(e,i){e.startVector(24,i,8)}static addCustomMetadata(e,i){e.addFieldOffset(4,i,0)}static createCustomMetadataVector(e,i){e.startVector(4,i.length,4);for(let n=i.length-1;n>=0;n--)e.addOffset(i[n]);return e.endVector()}static startCustomMetadataVector(e,i){e.startVector(4,i,4)}static endFooter(e){return e.endObject()}static finishFooterBuffer(e,i){e.finish(i)}static finishSizePrefixedFooterBuffer(e,i){e.finish(i,void 0,!0)}};var ui=class t{constructor(e=[],i,n,o=hi.V5){this.fields=e||[],this.metadata=i||new Map,n||(n=Z2(this.fields)),this.dictionaries=n,this.metadataVersion=o}get[Symbol.toStringTag](){return\"Schema\"}get names(){return this.fields.map(e=>e.name)}toString(){return`Schema<{ ${this.fields.map((e,i)=>`${i}: ${e}`).join(\", \")} }>`}select(e){let i=new Set(e),n=this.fields.filter(o=>i.has(o.name));return new t(n,this.metadata)}selectAt(e){let i=e.map(n=>this.fields[n]).filter(Boolean);return new t(i,this.metadata)}assign(...e){let i=e[0]instanceof t?e[0]:Array.isArray(e[0])?new t(e[0]):new t(e),n=[...this.fields],o=z0(z0(new Map,this.metadata),i.metadata),r=i.fields.filter(a=>{let l=n.findIndex(c=>c.name===a.name);return~l?(n[l]=a.clone({metadata:z0(z0(new Map,n[l].metadata),a.metadata)}))&&!1:!0}),s=Z2(r,new Map);return new t([...n,...r],o,new Map([...this.dictionaries,...s]))}};ui.prototype.fields=null;ui.prototype.metadata=null;ui.prototype.dictionaries=null;var jt=class t{static new(...e){let[i,n,o,r]=e;return e[0]&&typeof e[0]==\"object\"&&({name:i}=e[0],n===void 0&&(n=e[0].type),o===void 0&&(o=e[0].nullable),r===void 0&&(r=e[0].metadata)),new t(`${i}`,n,o,r)}constructor(e,i,n=!1,o){this.name=e,this.type=i,this.nullable=n,this.metadata=o||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return\"Field\"}toString(){return`${this.name}: ${this.type}`}clone(...e){let[i,n,o,r]=e;return!e[0]||typeof e[0]!=\"object\"?[i=this.name,n=this.type,o=this.nullable,r=this.metadata]=e:{name:i=this.name,type:n=this.type,nullable:o=this.nullable,metadata:r=this.metadata}=e[0],t.new(i,n,o,r)}};jt.prototype.type=null;jt.prototype.name=null;jt.prototype.nullable=null;jt.prototype.metadata=null;function z0(t,e){return new Map([...t||new Map,...e||new Map])}function Z2(t,e=new Map){for(let i=-1,n=t.length;++i<n;){let r=t[i].type;if(Qe.isDictionary(r)){if(!e.has(r.id))e.set(r.id,r.dictionary);else if(e.get(r.id)!==r.dictionary)throw new Error(\"Cannot create Schema containing two different dictionaries with the same Id\")}r.children&&r.children.length>0&&Z2(r.children,e)}return e}var aH=Qc,lH=jo,Ea=class{static decode(e){e=new lH(St(e));let i=$o.getRootAsFooter(e),n=ui.decode(i.schema(),new Map,i.version());return new J2(n,i)}static encode(e){let i=new aH,n=ui.encode(i,e.schema);$o.startRecordBatchesVector(i,e.numRecordBatches);for(let s of[...e.recordBatches()].slice().reverse())Ia.encode(i,s);let o=i.endVector();$o.startDictionariesVector(i,e.numDictionaries);for(let s of[...e.dictionaryBatches()].slice().reverse())Ia.encode(i,s);let r=i.endVector();return $o.startFooter(i),$o.addSchema(i,n),$o.addVersion(i,hi.V5),$o.addRecordBatches(i,o),$o.addDictionaries(i,r),$o.finishFooterBuffer(i,$o.endFooter(i)),i.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor(e,i=hi.V5,n,o){this.schema=e,this.version=i,n&&(this._recordBatches=n),o&&(this._dictionaryBatches=o)}*recordBatches(){for(let e,i=-1,n=this.numRecordBatches;++i<n;)(e=this.getRecordBatch(i))&&(yield e)}*dictionaryBatches(){for(let e,i=-1,n=this.numDictionaries;++i<n;)(e=this.getDictionaryBatch(i))&&(yield e)}getRecordBatch(e){return e>=0&&e<this.numRecordBatches&&this._recordBatches[e]||null}getDictionaryBatch(e){return e>=0&&e<this.numDictionaries&&this._dictionaryBatches[e]||null}};var J2=class extends Ea{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor(e,i){super(e,i.version()),this._footer=i}getRecordBatch(e){if(e>=0&&e<this.numRecordBatches){let i=this._footer.recordBatches(e);if(i)return Ia.decode(i)}return null}getDictionaryBatch(e){if(e>=0&&e<this.numDictionaries){let i=this._footer.dictionaries(e);if(i)return Ia.decode(i)}return null}},Ia=class t{static decode(e){return new t(e.metaDataLength(),e.bodyLength(),e.offset())}static encode(e,i){let{metaDataLength:n}=i,o=BigInt(i.offset),r=BigInt(i.bodyLength);return tu.createBlock(e,o,n,r)}constructor(e,i,n){this.metaDataLength=e,this.offset=si(n),this.bodyLength=si(i)}};var Ri=Object.freeze({done:!0,value:void 0}),_m=class{constructor(e){this._json=e}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}},iu=class{tee(){return this._getDOMStream().tee()}pipe(e,i){return this._getNodeStream().pipe(e,i)}pipeTo(e,i){return this._getDOMStream().pipeTo(e,i)}pipeThrough(e,i){return this._getDOMStream().pipeThrough(e,i)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}},O0=class extends iu{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(e=>this._closedPromiseResolve=e)}get closed(){return this._closedPromise}cancel(e){return Ke(this,void 0,void 0,function*(){yield this.return(e)})}write(e){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(e):this.resolvers.shift().resolve({done:!1,value:e}))}abort(e){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:e}:this.resolvers.shift().reject({done:!0,value:e}))}close(){if(this._closedPromiseResolve){let{resolvers:e}=this;for(;e.length>0;)e.shift().resolve(Ri);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(e){return Fn.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,e)}toNodeStream(e){return Fn.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,e)}throw(e){return Ke(this,void 0,void 0,function*(){return yield this.abort(e),Ri})}return(e){return Ke(this,void 0,void 0,function*(){return yield this.close(),Ri})}read(e){return Ke(this,void 0,void 0,function*(){return(yield this.next(e,\"read\")).value})}peek(e){return Ke(this,void 0,void 0,function*(){return(yield this.next(e,\"peek\")).value})}next(...e){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((i,n)=>{this.resolvers.push({resolve:i,reject:n})}):Promise.resolve(Ri)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error(\"AsyncQueue is closed\")}};var Is=class extends O0{write(e){if((e=St(e)).byteLength>0)return super.write(e)}toString(e=!1){return e?Gf(this.toUint8Array(!0)):this.toUint8Array(!1).then(Gf)}toUint8Array(e=!1){return e?Uo(this._values)[0]:Ke(this,void 0,void 0,function*(){var i,n,o,r;let s=[],a=0;try{for(var l=!0,c=Br(this),u;u=yield c.next(),i=u.done,!i;l=!0){r=u.value,l=!1;let d=r;s.push(d),a+=d.byteLength}}catch(d){n={error:d}}finally{try{!l&&!i&&(o=c.return)&&(yield o.call(c))}finally{if(n)throw n.error}}return Uo(s,a)[0]})}},Ts=class{constructor(e){e&&(this.source=new eC(Fn.fromIterable(e)))}[Symbol.iterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}},hr=class t{constructor(e){e instanceof t?this.source=e.source:e instanceof Is?this.source=new Ta(Fn.fromAsyncIterable(e)):e0(e)?this.source=new Ta(Fn.fromNodeStream(e)):Yf(e)?this.source=new Ta(Fn.fromDOMStream(e)):Zb(e)?this.source=new Ta(Fn.fromDOMStream(e.body)):Nr(e)?this.source=new Ta(Fn.fromIterable(e)):Fo(e)?this.source=new Ta(Fn.fromAsyncIterable(e)):lr(e)&&(this.source=new Ta(Fn.fromAsyncIterable(e)))}[Symbol.asyncIterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}get closed(){return this.source.closed}cancel(e){return this.source.cancel(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}},eC=class{constructor(e){this.source=e}cancel(e){this.return(e)}peek(e){return this.next(e,\"peek\").value}read(e){return this.next(e,\"read\").value}next(e,i=\"read\"){return this.source.next({cmd:i,size:e})}throw(e){return Object.create(this.source.throw&&this.source.throw(e)||Ri)}return(e){return Object.create(this.source.return&&this.source.return(e)||Ri)}},Ta=class{constructor(e){this.source=e,this._closedPromise=new Promise(i=>this._closedPromiseResolve=i)}cancel(e){return Ke(this,void 0,void 0,function*(){yield this.return(e)})}get closed(){return this._closedPromise}read(e){return Ke(this,void 0,void 0,function*(){return(yield this.next(e,\"read\")).value})}peek(e){return Ke(this,void 0,void 0,function*(){return(yield this.next(e,\"peek\")).value})}next(e){return Ke(this,arguments,void 0,function*(i,n=\"read\"){return yield this.source.next({cmd:n,size:i})})}throw(e){return Ke(this,void 0,void 0,function*(){let i=this.source.throw&&(yield this.source.throw(e))||Ri;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(i)})}return(e){return Ke(this,void 0,void 0,function*(){let i=this.source.return&&(yield this.source.return(e))||Ri;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(i)})}};var ym=class extends Ts{constructor(e,i){super(),this.position=0,this.buffer=St(e),this.size=i===void 0?this.buffer.byteLength:i}readInt32(e){let{buffer:i,byteOffset:n}=this.readAt(e,4);return new DataView(i,n).getInt32(0,!0)}seek(e){return this.position=Math.min(e,this.size),e<this.size}read(e){let{buffer:i,size:n,position:o}=this;return i&&o<n?(typeof e!=\"number\"&&(e=Number.POSITIVE_INFINITY),this.position=Math.min(n,o+Math.min(n-o,e)),i.subarray(o,this.position)):null}readAt(e,i){let n=this.buffer,o=Math.min(this.size,e+i);return n?n.subarray(e,o):new Uint8Array(i)}close(){this.buffer&&(this.buffer=null)}throw(e){return this.close(),{done:!0,value:e}}return(e){return this.close(),{done:!0,value:e}}},Wl=class extends hr{constructor(e,i){super(),this.position=0,this._handle=e,typeof i==\"number\"?this.size=i:this._pending=Ke(this,void 0,void 0,function*(){this.size=(yield e.stat()).size,delete this._pending})}readInt32(e){return Ke(this,void 0,void 0,function*(){let{buffer:i,byteOffset:n}=yield this.readAt(e,4);return new DataView(i,n).getInt32(0,!0)})}seek(e){return Ke(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(e,this.size),e<this.size})}read(e){return Ke(this,void 0,void 0,function*(){this._pending&&(yield this._pending);let{_handle:i,size:n,position:o}=this;if(i&&o<n){typeof e!=\"number\"&&(e=Number.POSITIVE_INFINITY);let r=o,s=0,a=0,l=Math.min(n,r+Math.min(n-r,e)),c=new Uint8Array(Math.max(0,(this.position=l)-r));for(;(r+=a)<l&&(s+=a)<c.byteLength;)({bytesRead:a}=yield i.read(c,s,c.byteLength-s,r));return c}return null})}readAt(e,i){return Ke(this,void 0,void 0,function*(){this._pending&&(yield this._pending);let{_handle:n,size:o}=this;if(n&&e+i<o){let r=Math.min(o,e+i),s=new Uint8Array(r-e);return(yield n.read(s,0,i,e)).buffer}return new Uint8Array(i)})}close(){return Ke(this,void 0,void 0,function*(){let e=this._handle;this._handle=null,e&&(yield e.close())})}throw(e){return Ke(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}return(e){return Ke(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}};var iC={};wc(iC,{BaseInt64:()=>bm,Int128:()=>vm,Int64:()=>Aa,Uint64:()=>Qi});function gh(t){return t<0&&(t=4294967295+t+1),`0x${t.toString(16)}`}var _h=8,tC=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8],bm=class{constructor(e){this.buffer=e}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(e){let i=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),n=new Uint32Array([e.buffer[1]>>>16,e.buffer[1]&65535,e.buffer[0]>>>16,e.buffer[0]&65535]),o=i[3]*n[3];this.buffer[0]=o&65535;let r=o>>>16;return o=i[2]*n[3],r+=o,o=i[3]*n[2]>>>0,r+=o,this.buffer[0]+=r<<16,this.buffer[1]=r>>>0<o?65536:0,this.buffer[1]+=r>>>16,this.buffer[1]+=i[1]*n[3]+i[2]*n[2]+i[3]*n[1],this.buffer[1]+=i[0]*n[3]+i[1]*n[2]+i[2]*n[1]+i[3]*n[0]<<16,this}_plus(e){let i=this.buffer[0]+e.buffer[0]>>>0;this.buffer[1]+=e.buffer[1],i<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=i}lessThan(e){return this.buffer[1]<e.buffer[1]||this.buffer[1]===e.buffer[1]&&this.buffer[0]<e.buffer[0]}equals(e){return this.buffer[1]===e.buffer[1]&&this.buffer[0]==e.buffer[0]}greaterThan(e){return e.lessThan(this)}hex(){return`${gh(this.buffer[1])} ${gh(this.buffer[0])}`}},Qi=class t extends bm{times(e){return this._times(e),this}plus(e){return this._plus(e),this}static from(e,i=new Uint32Array(2)){return t.fromString(typeof e==\"string\"?e:e.toString(),i)}static fromNumber(e,i=new Uint32Array(2)){return t.fromString(e.toString(),i)}static fromString(e,i=new Uint32Array(2)){let n=e.length,o=new t(i);for(let r=0;r<n;){let s=_h<n-r?_h:n-r,a=new t(new Uint32Array([Number.parseInt(e.slice(r,r+s),10),0])),l=new t(new Uint32Array([tC[s],0]));o.times(l),o.plus(a),r+=s}return o}static convertArray(e){let i=new Uint32Array(e.length*2);for(let n=-1,o=e.length;++n<o;)t.from(e[n],new Uint32Array(i.buffer,i.byteOffset+2*n*4,2));return i}static multiply(e,i){return new t(new Uint32Array(e.buffer)).times(i)}static add(e,i){return new t(new Uint32Array(e.buffer)).plus(i)}},Aa=class t extends bm{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(e){return this._times(e),this}plus(e){return this._plus(e),this}lessThan(e){let i=this.buffer[1]<<0,n=e.buffer[1]<<0;return i<n||i===n&&this.buffer[0]<e.buffer[0]}static from(e,i=new Uint32Array(2)){return t.fromString(typeof e==\"string\"?e:e.toString(),i)}static fromNumber(e,i=new Uint32Array(2)){return t.fromString(e.toString(),i)}static fromString(e,i=new Uint32Array(2)){let n=e.startsWith(\"-\"),o=e.length,r=new t(i);for(let s=n?1:0;s<o;){let a=_h<o-s?_h:o-s,l=new t(new Uint32Array([Number.parseInt(e.slice(s,s+a),10),0])),c=new t(new Uint32Array([tC[a],0]));r.times(c),r.plus(l),s+=a}return n?r.negate():r}static convertArray(e){let i=new Uint32Array(e.length*2);for(let n=-1,o=e.length;++n<o;)t.from(e[n],new Uint32Array(i.buffer,i.byteOffset+2*n*4,2));return i}static multiply(e,i){return new t(new Uint32Array(e.buffer)).times(i)}static add(e,i){return new t(new Uint32Array(e.buffer)).plus(i)}},vm=class t{constructor(e){this.buffer=e}high(){return new Aa(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new Aa(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(e){let i=new Qi(new Uint32Array([this.buffer[3],0])),n=new Qi(new Uint32Array([this.buffer[2],0])),o=new Qi(new Uint32Array([this.buffer[1],0])),r=new Qi(new Uint32Array([this.buffer[0],0])),s=new Qi(new Uint32Array([e.buffer[3],0])),a=new Qi(new Uint32Array([e.buffer[2],0])),l=new Qi(new Uint32Array([e.buffer[1],0])),c=new Qi(new Uint32Array([e.buffer[0],0])),u=Qi.multiply(r,c);this.buffer[0]=u.low();let d=new Qi(new Uint32Array([u.high(),0]));return u=Qi.multiply(o,c),d.plus(u),u=Qi.multiply(r,l),d.plus(u),this.buffer[1]=d.low(),this.buffer[3]=d.lessThan(u)?1:0,this.buffer[2]=d.high(),new Qi(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(Qi.multiply(n,c)).plus(Qi.multiply(o,l)).plus(Qi.multiply(r,a)),this.buffer[3]+=Qi.multiply(i,c).plus(Qi.multiply(n,l)).plus(Qi.multiply(o,a)).plus(Qi.multiply(r,s)).low(),this}plus(e){let i=new Uint32Array(4);return i[3]=this.buffer[3]+e.buffer[3]>>>0,i[2]=this.buffer[2]+e.buffer[2]>>>0,i[1]=this.buffer[1]+e.buffer[1]>>>0,i[0]=this.buffer[0]+e.buffer[0]>>>0,i[0]<this.buffer[0]>>>0&&++i[1],i[1]<this.buffer[1]>>>0&&++i[2],i[2]<this.buffer[2]>>>0&&++i[3],this.buffer[3]=i[3],this.buffer[2]=i[2],this.buffer[1]=i[1],this.buffer[0]=i[0],this}hex(){return`${gh(this.buffer[3])} ${gh(this.buffer[2])} ${gh(this.buffer[1])} ${gh(this.buffer[0])}`}static multiply(e,i){return new t(new Uint32Array(e.buffer)).times(i)}static add(e,i){return new t(new Uint32Array(e.buffer)).plus(i)}static from(e,i=new Uint32Array(4)){return t.fromString(typeof e==\"string\"?e:e.toString(),i)}static fromNumber(e,i=new Uint32Array(4)){return t.fromString(e.toString(),i)}static fromString(e,i=new Uint32Array(4)){let n=e.startsWith(\"-\"),o=e.length,r=new t(i);for(let s=n?1:0;s<o;){let a=_h<o-s?_h:o-s,l=new t(new Uint32Array([Number.parseInt(e.slice(s,s+a),10),0,0,0])),c=new t(new Uint32Array([tC[a],0,0,0]));r.times(c),r.plus(l),s+=a}return n?r.negate():r}static convertArray(e){let i=new Uint32Array(e.length*4);for(let n=-1,o=e.length;++n<o;)t.from(e[n],new Uint32Array(i.buffer,i.byteOffset+4*4*n,4));return i}};var xm=class extends gt{constructor(e,i,n,o,r=hi.V5){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=e,this.nodes=i,this.buffers=n,this.dictionaries=o,this.metadataVersion=r}visit(e){return super.visit(e instanceof jt?e.type:e)}visitNull(e,{length:i}=this.nextFieldNode()){return dt({type:e,length:i})}visitBool(e,{length:i,nullCount:n}=this.nextFieldNode()){return dt({type:e,length:i,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e)})}visitInt(e,{length:i,nullCount:n}=this.nextFieldNode()){return dt({type:e,length:i,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e)})}visitFloat(e,{length:i,nullCount:n}=this.nextFieldNode()){return dt({type:e,length:i,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e)})}visitUtf8(e,{length:i,nullCount:n}=this.nextFieldNode()){return dt({type:e,length:i,nullCount:n,nullBitmap:this.readNullBitmap(e,n),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitLargeUtf8(e,{length:i,nullCount:n}=this.nextFieldNode()){return dt({type:e,length:i,nullCount:n,nullBitmap:this.readNullBitmap(e,n),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitBinary(e,{length:i,nullCount:n}=this.nextFieldNode()){return dt({type:e,length:i,nullCount:n,nullBitmap:this.readNullBitmap(e,n),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitLargeBinary(e,{length:i,nullCount:n}=this.nextFieldNode()){return dt({type:e,length:i,nullCount:n,nullBitmap:this.readNullBitmap(e,n),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitFixedSizeBinary(e,{length:i,nullCount:n}=this.nextFieldNode()){return dt({type:e,length:i,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e)})}visitDate(e,{length:i,nullCount:n}=this.nextFieldNode()){return dt({type:e,length:i,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e)})}visitTimestamp(e,{length:i,nullCount:n}=this.nextFieldNode()){return dt({type:e,length:i,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e)})}visitTime(e,{length:i,nullCount:n}=this.nextFieldNode()){return dt({type:e,length:i,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e)})}visitDecimal(e,{length:i,nullCount:n}=this.nextFieldNode()){return dt({type:e,length:i,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e)})}visitList(e,{length:i,nullCount:n}=this.nextFieldNode()){return dt({type:e,length:i,nullCount:n,nullBitmap:this.readNullBitmap(e,n),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}visitStruct(e,{length:i,nullCount:n}=this.nextFieldNode()){return dt({type:e,length:i,nullCount:n,nullBitmap:this.readNullBitmap(e,n),children:this.visitMany(e.children)})}visitUnion(e,{length:i,nullCount:n}=this.nextFieldNode()){return this.metadataVersion<hi.V5&&this.readNullBitmap(e,n),e.mode===Si.Sparse?this.visitSparseUnion(e,{length:i,nullCount:n}):this.visitDenseUnion(e,{length:i,nullCount:n})}visitDenseUnion(e,{length:i,nullCount:n}=this.nextFieldNode()){return dt({type:e,length:i,nullCount:n,typeIds:this.readTypeIds(e),valueOffsets:this.readOffsets(e),children:this.visitMany(e.children)})}visitSparseUnion(e,{length:i,nullCount:n}=this.nextFieldNode()){return dt({type:e,length:i,nullCount:n,typeIds:this.readTypeIds(e),children:this.visitMany(e.children)})}visitDictionary(e,{length:i,nullCount:n}=this.nextFieldNode()){return dt({type:e,length:i,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e.indices),dictionary:this.readDictionary(e)})}visitInterval(e,{length:i,nullCount:n}=this.nextFieldNode()){return dt({type:e,length:i,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e)})}visitDuration(e,{length:i,nullCount:n}=this.nextFieldNode()){return dt({type:e,length:i,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e)})}visitFixedSizeList(e,{length:i,nullCount:n}=this.nextFieldNode()){return dt({type:e,length:i,nullCount:n,nullBitmap:this.readNullBitmap(e,n),child:this.visit(e.children[0])})}visitMap(e,{length:i,nullCount:n}=this.nextFieldNode()){return dt({type:e,length:i,nullCount:n,nullBitmap:this.readNullBitmap(e,n),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(e,i,n=this.nextBufferRange()){return i>0&&this.readData(e,n)||new Uint8Array(0)}readOffsets(e,i){return this.readData(e,i)}readTypeIds(e,i){return this.readData(e,i)}readData(e,{length:i,offset:n}=this.nextBufferRange()){return this.bytes.subarray(n,n+i)}readDictionary(e){return this.dictionaries.get(e.id)}},B0=class extends xm{constructor(e,i,n,o,r){super(new Uint8Array(0),i,n,o,r),this.sources=e}readNullBitmap(e,i,{offset:n}=this.nextBufferRange()){return i<=0?new Uint8Array(0):Jc(this.sources[n])}readOffsets(e,{offset:i}=this.nextBufferRange()){return Vt(Uint8Array,Vt(e.OffsetArrayType,this.sources[i]))}readTypeIds(e,{offset:i}=this.nextBufferRange()){return Vt(Uint8Array,Vt(e.ArrayType,this.sources[i]))}readData(e,{offset:i}=this.nextBufferRange()){let{sources:n}=this;return Qe.isTimestamp(e)?Vt(Uint8Array,Aa.convertArray(n[i])):(Qe.isInt(e)||Qe.isTime(e))&&e.bitWidth===64||Qe.isDuration(e)?Vt(Uint8Array,Aa.convertArray(n[i])):Qe.isDate(e)&&e.unit===tn.MILLISECOND?Vt(Uint8Array,Aa.convertArray(n[i])):Qe.isDecimal(e)?Vt(Uint8Array,vm.convertArray(n[i])):Qe.isBinary(e)||Qe.isLargeBinary(e)||Qe.isFixedSizeBinary(e)?cH(n[i]):Qe.isBool(e)?Jc(n[i]):Qe.isUtf8(e)||Qe.isLargeUtf8(e)?vs(n[i].join(\"\")):Vt(Uint8Array,Vt(e.ArrayType,n[i].map(o=>+o)))}};function cH(t){let e=t.join(\"\"),i=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)i[n>>1]=Number.parseInt(e.slice(n,n+2),16);return i}var yh=class extends Co{constructor(e){super(e),this._values=new Kr(Uint8Array)}get byteLength(){let e=this._pendingLength+this.length*4;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,i){return super.setValue(e,St(i))}_flushPending(e,i){let n=this._offsets,o=this._values.reserve(i).buffer,r=0;for(let[s,a]of e)if(a===void 0)n.set(s,0);else{let l=a.length;o.set(a,r),n.set(s,l),r+=l}}};var bh=class extends Co{constructor(e){super(e),this._values=new Kr(Uint8Array)}get byteLength(){let e=this._pendingLength+this.length*4;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,i){return super.setValue(e,St(i))}_flushPending(e,i){let n=this._offsets,o=this._values.reserve(i).buffer,r=0;for(let[s,a]of e)if(a===void 0)n.set(s,BigInt(0));else{let l=a.length;o.set(a,r),n.set(s,BigInt(l)),r+=l}}};var N0=class extends Ui{constructor(e){super(e),this._values=new fh}setValue(e,i){this._values.set(e,+i)}};var nu=class extends fn{};nu.prototype._setValue=z2;var wm=class extends nu{};wm.prototype._setValue=u0;var Sm=class extends nu{};Sm.prototype._setValue=d0;var Cm=class extends fn{};Cm.prototype._setValue=N2;var F0=class extends Ui{constructor({type:e,nullValues:i,dictionaryHashFunction:n}){super({type:new so(e.dictionary,e.indices,e.id,e.isOrdered)}),this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=La({type:this.type.indices,nullValues:i}),this.dictionary=La({type:this.type.dictionary,nullValues:null}),typeof n==\"function\"&&(this.valueToKey=n)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(e){return this.indices.isValid(e)}setValid(e,i){let n=this.indices;return i=n.setValid(e,i),this.length=n.length,i}setValue(e,i){let n=this._keysToIndices,o=this.valueToKey(i),r=n[o];return r===void 0&&(n[o]=r=this._dictionaryOffset+this.dictionary.append(i).length-1),this.indices.setValue(e,r)}flush(){let e=this.type,i=this._dictionary,n=this.dictionary.toVector(),o=this.indices.flush().clone(e);return o.dictionary=i?i.concat(n):n,this.finished||(this._dictionaryOffset+=n.length),this._dictionary=o.dictionary,this.clear(),o}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(e){return typeof e==\"string\"?e:`${e}`}};var km=class extends fn{};km.prototype._setValue=M2;var U0=class extends Ui{setValue(e,i){let[n]=this.children,o=e*this.stride;for(let r=-1,s=i.length;++r<s;)n.set(o+r,i[r])}addChild(e,i=\"0\"){if(this.numChildren>0)throw new Error(\"FixedSizeListBuilder can only have one child.\");let n=this.children.push(e);return this.type=new Yr(this.type.listSize,new jt(i,e.type,!0)),n}};var ou=class extends fn{setValue(e,i){this._values.set(e,i)}},j0=class extends ou{setValue(e,i){super.setValue(e,dm(i))}},V0=class extends ou{},W0=class extends ou{};var ru=class extends fn{};ru.prototype._setValue=F2;var Em=class extends ru{};Em.prototype._setValue=v0;var Im=class extends ru{};Im.prototype._setValue=x0;var Da=class extends fn{};Da.prototype._setValue=U2;var Tm=class extends Da{};Tm.prototype._setValue=w0;var Am=class extends Da{};Am.prototype._setValue=S0;var Lm=class extends Da{};Lm.prototype._setValue=C0;var Dm=class extends Da{};Dm.prototype._setValue=k0;var pr=class extends fn{setValue(e,i){this._values.set(e,i)}},H0=class extends pr{},$0=class extends pr{},q0=class extends pr{},G0=class extends pr{},Y0=class extends pr{},Q0=class extends pr{},X0=class extends pr{},K0=class extends pr{};var Z0=class extends Co{constructor(e){super(e),this._offsets=new mh(e.type)}addChild(e,i=\"0\"){if(this.numChildren>0)throw new Error(\"ListBuilder can only have one child.\");return this.children[this.numChildren]=e,this.type=new Wo(new jt(i,e.type,!0)),this.numChildren-1}_flushPending(e){let i=this._offsets,[n]=this.children;for(let[o,r]of e)if(typeof r>\"u\")i.set(o,0);else{let s=r,a=s.length,l=i.set(o,a).buffer[o];for(let c=-1;++c<a;)n.set(l+c,s[c])}}};var J0=class extends Co{set(e,i){return super.set(e,i)}setValue(e,i){let n=i instanceof Map?i:new Map(Object.entries(i)),o=this._pending||(this._pending=new Map),r=o.get(e);r&&(this._pendingLength-=r.size),this._pendingLength+=n.size,o.set(e,n)}addChild(e,i=`${this.numChildren}`){if(this.numChildren>0)throw new Error(\"ListBuilder can only have one child.\");return this.children[this.numChildren]=e,this.type=new Qr(new jt(i,e.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(e){let i=this._offsets,[n]=this.children;for(let[o,r]of e)if(r===void 0)i.set(o,0);else{let{[o]:s,[o+1]:a}=i.set(o,r.size).buffer;for(let l of r.entries())if(n.set(s,l),++s>=a)break}}};var ev=class extends Ui{setValue(e,i){}setValid(e,i){return this.length=Math.max(e+1,this.length),i}};var tv=class extends Ui{setValue(e,i){let{children:n,type:o}=this;switch(Array.isArray(i)||i.constructor){case!0:return o.children.forEach((r,s)=>n[s].set(e,i[s]));case Map:return o.children.forEach((r,s)=>n[s].set(e,i.get(r.name)));default:return o.children.forEach((r,s)=>n[s].set(e,i[r.name]))}}setValid(e,i){return super.setValid(e,i)||this.children.forEach(n=>n.setValid(e,i)),i}addChild(e,i=`${this.numChildren}`){let n=this.children.push(e);return this.type=new ki([...this.type.children,new jt(i,e.type,!0)]),n}};var Pa=class extends fn{};Pa.prototype._setValue=O2;var Pm=class extends Pa{};Pm.prototype._setValue=h0;var Rm=class extends Pa{};Rm.prototype._setValue=p0;var Mm=class extends Pa{};Mm.prototype._setValue=f0;var zm=class extends Pa{};zm.prototype._setValue=m0;var Ra=class extends fn{};Ra.prototype._setValue=B2;var Om=class extends Ra{};Om.prototype._setValue=g0;var Bm=class extends Ra{};Bm.prototype._setValue=_0;var Nm=class extends Ra{};Nm.prototype._setValue=y0;var Fm=class extends Ra{};Fm.prototype._setValue=b0;var vh=class extends Ui{constructor(e){super(e),this._typeIds=new ka(Int8Array,0,1),typeof e.valueToChildTypeId==\"function\"&&(this._valueToChildTypeId=e.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(e,i){return this.set(this.length,e,i)}set(e,i,n){return n===void 0&&(n=this._valueToChildTypeId(this,i,e)),this.setValue(e,i,n),this}setValue(e,i,n){this._typeIds.set(e,n);let o=this.type.typeIdToChildIndex[n],r=this.children[o];r?.set(e,i)}addChild(e,i=`${this.children.length}`){let n=this.children.push(e),{type:{children:o,mode:r,typeIds:s}}=this,a=[...o,new jt(i,e.type)];return this.type=new Gr(r,[...s,n],a),n}_valueToChildTypeId(e,i,n){throw new Error(\"Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.\")}},iv=class extends vh{},nv=class extends vh{constructor(e){super(e),this._offsets=new ka(Int32Array)}setValue(e,i,n){let o=this._typeIds.set(e,n).buffer[e],r=this.getChildAt(this.type.typeIdToChildIndex[o]),s=this._offsets.set(e,r.length).buffer[e];r?.set(s,i)}};var Um=class extends Co{constructor(e){super(e),this._values=new Kr(Uint8Array)}get byteLength(){let e=this._pendingLength+this.length*4;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,i){return super.setValue(e,vs(i))}_flushPending(e,i){}};Um.prototype._flushPending=yh.prototype._flushPending;var jm=class extends Co{constructor(e){super(e),this._values=new Kr(Uint8Array)}get byteLength(){let e=this._pendingLength+this.length*4;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,i){return super.setValue(e,vs(i))}_flushPending(e,i){}};jm.prototype._flushPending=bh.prototype._flushPending;var nC=class extends gt{visitNull(){return ev}visitBool(){return N0}visitInt(){return pr}visitInt8(){return H0}visitInt16(){return $0}visitInt32(){return q0}visitInt64(){return G0}visitUint8(){return Y0}visitUint16(){return Q0}visitUint32(){return X0}visitUint64(){return K0}visitFloat(){return ou}visitFloat16(){return j0}visitFloat32(){return V0}visitFloat64(){return W0}visitUtf8(){return Um}visitLargeUtf8(){return jm}visitBinary(){return yh}visitLargeBinary(){return bh}visitFixedSizeBinary(){return km}visitDate(){return nu}visitDateDay(){return wm}visitDateMillisecond(){return Sm}visitTimestamp(){return Pa}visitTimestampSecond(){return Pm}visitTimestampMillisecond(){return Rm}visitTimestampMicrosecond(){return Mm}visitTimestampNanosecond(){return zm}visitTime(){return Ra}visitTimeSecond(){return Om}visitTimeMillisecond(){return Bm}visitTimeMicrosecond(){return Nm}visitTimeNanosecond(){return Fm}visitDecimal(){return Cm}visitList(){return Z0}visitStruct(){return tv}visitUnion(){return vh}visitDenseUnion(){return nv}visitSparseUnion(){return iv}visitDictionary(){return F0}visitInterval(){return ru}visitIntervalDayTime(){return Em}visitIntervalYearMonth(){return Im}visitDuration(){return Da}visitDurationSecond(){return Tm}visitDurationMillisecond(){return Am}visitDurationMicrosecond(){return Lm}visitDurationNanosecond(){return Dm}visitFixedSizeList(){return U0}visitMap(){return J0}},SL=new nC;var vt=class extends gt{compareSchemas(e,i){return e===i||i instanceof e.constructor&&this.compareManyFields(e.fields,i.fields)}compareManyFields(e,i){return e===i||Array.isArray(e)&&Array.isArray(i)&&e.length===i.length&&e.every((n,o)=>this.compareFields(n,i[o]))}compareFields(e,i){return e===i||i instanceof e.constructor&&e.name===i.name&&e.nullable===i.nullable&&this.visit(e.type,i.type)}};function ao(t,e){return e instanceof t.constructor}function su(t,e){return t===e||ao(t,e)}function Ma(t,e){return t===e||ao(t,e)&&t.bitWidth===e.bitWidth&&t.isSigned===e.isSigned}function ov(t,e){return t===e||ao(t,e)&&t.precision===e.precision}function uH(t,e){return t===e||ao(t,e)&&t.byteWidth===e.byteWidth}function oC(t,e){return t===e||ao(t,e)&&t.unit===e.unit}function Vm(t,e){return t===e||ao(t,e)&&t.unit===e.unit&&t.timezone===e.timezone}function Wm(t,e){return t===e||ao(t,e)&&t.unit===e.unit&&t.bitWidth===e.bitWidth}function dH(t,e){return t===e||ao(t,e)&&t.children.length===e.children.length&&As.compareManyFields(t.children,e.children)}function hH(t,e){return t===e||ao(t,e)&&t.children.length===e.children.length&&As.compareManyFields(t.children,e.children)}function rC(t,e){return t===e||ao(t,e)&&t.mode===e.mode&&t.typeIds.every((i,n)=>i===e.typeIds[n])&&As.compareManyFields(t.children,e.children)}function pH(t,e){return t===e||ao(t,e)&&t.id===e.id&&t.isOrdered===e.isOrdered&&As.visit(t.indices,e.indices)&&As.visit(t.dictionary,e.dictionary)}function sC(t,e){return t===e||ao(t,e)&&t.unit===e.unit}function Hm(t,e){return t===e||ao(t,e)&&t.unit===e.unit}function fH(t,e){return t===e||ao(t,e)&&t.listSize===e.listSize&&t.children.length===e.children.length&&As.compareManyFields(t.children,e.children)}function mH(t,e){return t===e||ao(t,e)&&t.keysSorted===e.keysSorted&&t.children.length===e.children.length&&As.compareManyFields(t.children,e.children)}vt.prototype.visitNull=su;vt.prototype.visitBool=su;vt.prototype.visitInt=Ma;vt.prototype.visitInt8=Ma;vt.prototype.visitInt16=Ma;vt.prototype.visitInt32=Ma;vt.prototype.visitInt64=Ma;vt.prototype.visitUint8=Ma;vt.prototype.visitUint16=Ma;vt.prototype.visitUint32=Ma;vt.prototype.visitUint64=Ma;vt.prototype.visitFloat=ov;vt.prototype.visitFloat16=ov;vt.prototype.visitFloat32=ov;vt.prototype.visitFloat64=ov;vt.prototype.visitUtf8=su;vt.prototype.visitLargeUtf8=su;vt.prototype.visitBinary=su;vt.prototype.visitLargeBinary=su;vt.prototype.visitFixedSizeBinary=uH;vt.prototype.visitDate=oC;vt.prototype.visitDateDay=oC;vt.prototype.visitDateMillisecond=oC;vt.prototype.visitTimestamp=Vm;vt.prototype.visitTimestampSecond=Vm;vt.prototype.visitTimestampMillisecond=Vm;vt.prototype.visitTimestampMicrosecond=Vm;vt.prototype.visitTimestampNanosecond=Vm;vt.prototype.visitTime=Wm;vt.prototype.visitTimeSecond=Wm;vt.prototype.visitTimeMillisecond=Wm;vt.prototype.visitTimeMicrosecond=Wm;vt.prototype.visitTimeNanosecond=Wm;vt.prototype.visitDecimal=su;vt.prototype.visitList=dH;vt.prototype.visitStruct=hH;vt.prototype.visitUnion=rC;vt.prototype.visitDenseUnion=rC;vt.prototype.visitSparseUnion=rC;vt.prototype.visitDictionary=pH;vt.prototype.visitInterval=sC;vt.prototype.visitIntervalDayTime=sC;vt.prototype.visitIntervalYearMonth=sC;vt.prototype.visitDuration=Hm;vt.prototype.visitDurationSecond=Hm;vt.prototype.visitDurationMillisecond=Hm;vt.prototype.visitDurationMicrosecond=Hm;vt.prototype.visitDurationNanosecond=Hm;vt.prototype.visitFixedSizeList=fH;vt.prototype.visitMap=mH;var As=new vt;function au(t,e){return As.compareSchemas(t,e)}function CL(t,e){return As.compareFields(t,e)}function rv(t,e){return As.visit(t,e)}function La(t){let e=t.type,i=new(SL.getVisitFn(e)())(t);if(e.children&&e.children.length>0){let n=t.children||[],o={nullValues:t.nullValues},r=Array.isArray(n)?(s,a)=>n[a]||o:({name:s})=>n[s]||o;for(let[s,a]of e.children.entries()){let{type:l}=a,c=r(a,s);i.children.push(La(Object.assign(Object.assign({},c),{type:l})))}}return i}function fr(t,e){if(t instanceof ti||t instanceof pt||t.type instanceof Qe||ArrayBuffer.isView(t))return gm(t);let i={type:e??sv(t),nullValues:[null]},n=[...aC(i)(t)],o=n.length===1?n[0]:n.reduce((r,s)=>r.concat(s));return Qe.isDictionary(o.type)?o.memoize():o}function av(t){let e=fr(t),i=new Vi(new ui(e.type.children),e.data[0]);return new fi(i)}function sv(t){if(t.length===0)return new Un;let e=0,i=0,n=0,o=0,r=0,s=0,a=0,l=0;for(let c of t){if(c==null){++e;continue}switch(typeof c){case\"bigint\":++s;continue;case\"boolean\":++a;continue;case\"number\":++o;continue;case\"string\":++r;continue;case\"object\":Array.isArray(c)?++i:Object.prototype.toString.call(c)===\"[object Date]\"?++l:++n;continue}throw new TypeError(\"Unable to infer Vector type from input values, explicit type declaration expected.\")}if(o+e===t.length)return new Nl;if(r+e===t.length)return new so(new $r,new So);if(s+e===t.length)return new Bl;if(a+e===t.length)return new qr;if(l+e===t.length)return new um;if(i+e===t.length){let c=t,u=sv(c[c.findIndex(d=>d!=null)]);if(c.every(d=>d==null||rv(u,sv(d))))return new Wo(new jt(\"\",u,!0))}else if(n+e===t.length){let c=new Map;for(let u of t)for(let d of Object.keys(u))!c.has(d)&&u[d]!=null&&c.set(d,new jt(d,sv([u[d]]),!0));return new ki([...c.values()])}throw new TypeError(\"Unable to infer Vector type from input values, explicit type declaration expected.\")}function aC(t){let{[\"queueingStrategy\"]:e=\"count\"}=t,{[\"highWaterMark\"]:i=e!==\"bytes\"?Number.POSITIVE_INFINITY:Math.pow(2,14)}=t,n=e!==\"bytes\"?\"length\":\"byteLength\";return function*(o){let r=0,s=La(t);for(let a of o)s.append(a)[n]>=i&&++r&&(yield s.toVector());(s.finish().length>0||r===0)&&(yield s.toVector())}}function lv(t,e){return gH(t,e.map(i=>i.data.concat()))}function gH(t,e){let i=[...t.fields],n=[],o={numBatches:e.reduce((d,h)=>Math.max(d,h.length),0)},r=0,s=0,a=-1,l=e.length,c,u=[];for(;o.numBatches-- >0;){for(s=Number.POSITIVE_INFINITY,a=-1;++a<l;)u[a]=c=e[a].shift(),s=Math.min(s,c?c.length:s);Number.isFinite(s)&&(u=_H(i,s,u,e,o),s>0&&(n[r++]=dt({type:new ki(i),length:s,nullCount:0,children:u.slice()})))}return[t=t.assign(i),n.map(d=>new Vi(t,d))]}function _H(t,e,i,n,o){var r;let s=(e+63&-64)>>3;for(let a=-1,l=n.length;++a<l;){let c=i[a],u=c?.length;if(u>=e)u===e?i[a]=c:(i[a]=c.slice(0,e),o.numBatches=Math.max(o.numBatches,n[a].unshift(c.slice(e,u-e))));else{let d=t[a];t[a]=d.clone({nullable:!0}),i[a]=(r=c?._changeLengthAndBackfillNullBitmap(e))!==null&&r!==void 0?r:dt({type:d.type,length:e,nullCount:e,nullBitmap:new Uint8Array(s)})}}return i}var kL,fi=class t{constructor(...e){var i,n;if(e.length===0)return this.batches=[],this.schema=new ui([]),this._offsets=[0],this;let o,r;e[0]instanceof ui&&(o=e.shift()),e.at(-1)instanceof Uint32Array&&(r=e.pop());let s=l=>{if(l){if(l instanceof Vi)return[l];if(l instanceof t)return l.batches;if(l instanceof ti){if(l.type instanceof ki)return[new Vi(new ui(l.type.children),l)]}else{if(Array.isArray(l))return l.flatMap(c=>s(c));if(typeof l[Symbol.iterator]==\"function\")return[...l].flatMap(c=>s(c));if(typeof l==\"object\"){let c=Object.keys(l),u=c.map(f=>new pt([l[f]])),d=o??new ui(c.map((f,v)=>new jt(String(f),u[v].type,u[v].nullable))),[,h]=lv(d,u);return h.length===0?[new Vi(l)]:h}}}return[]},a=e.flatMap(l=>s(l));if(o=(n=o??((i=a[0])===null||i===void 0?void 0:i.schema))!==null&&n!==void 0?n:new ui([]),!(o instanceof ui))throw new TypeError(\"Table constructor expects a [Schema, RecordBatch[]] pair.\");for(let l of a){if(!(l instanceof Vi))throw new TypeError(\"Table constructor expects a [Schema, RecordBatch[]] pair.\");if(!au(o,l.schema))throw new TypeError(\"Table and inner RecordBatch schemas must be equivalent.\")}this.schema=o,this.batches=a,this._offsets=r??L0(this.data)}get data(){return this.batches.map(({data:e})=>e)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((e,i)=>e+i.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=A0(this.data)),this._nullCount}isValid(e){return!1}get(e){return null}at(e){return this.get(Xc(e,this.numRows))}set(e,i){}indexOf(e,i){return-1}[Symbol.iterator](){return this.batches.length>0?ph.visit(new pt(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[\n  ${this.toArray().join(`,\n  `)}\n]`}concat(...e){let i=this.schema,n=this.data.concat(e.flatMap(({data:o})=>o));return new t(i,n.map(o=>new Vi(i,o)))}slice(e,i){let n=this.schema;[e,i]=hm({length:this.numRows},e,i);let o=D0(this.data,this._offsets,e,i);return new t(n,o.map(r=>new Vi(n,r)))}getChild(e){return this.getChildAt(this.schema.fields.findIndex(i=>i.name===e))}getChildAt(e){if(e>-1&&e<this.schema.fields.length){let i=this.data.map(n=>n.children[e]);if(i.length===0){let{type:n}=this.schema.fields[e],o=dt({type:n,length:0,nullCount:0});i.push(o._changeLengthAndBackfillNullBitmap(this.numRows))}return new pt(i)}return null}setChild(e,i){var n;return this.setChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(o=>o.name===e),i)}setChildAt(e,i){let n=this.schema,o=[...this.batches];if(e>-1&&e<this.numCols){i||(i=new pt([dt({type:new Un,length:this.numRows})]));let r=n.fields.slice(),s=r[e].clone({type:i.type}),a=this.schema.fields.map((l,c)=>this.getChildAt(c));[r[e],a[e]]=[s,i],[n,o]=lv(n,a)}return new t(n,o)}select(e){let i=this.schema.fields.reduce((n,o,r)=>n.set(o.name,r),new Map);return this.selectAt(e.map(n=>i.get(n)).filter(n=>n>-1))}selectAt(e){let i=this.schema.selectAt(e),n=this.batches.map(o=>o.selectAt(e));return new t(i,n)}assign(e){let i=this.schema.fields,[n,o]=e.schema.fields.reduce((a,l,c)=>{let[u,d]=a,h=i.findIndex(f=>f.name===l.name);return~h?d[h]=c:u.push(c),a},[[],[]]),r=this.schema.assign(e.schema),s=[...i.map((a,l)=>[l,o[l]]).map(([a,l])=>l===void 0?this.getChildAt(a):e.getChildAt(l)),...n.map(a=>e.getChildAt(a))].filter(Boolean);return new t(...lv(r,s))}};kL=Symbol.toStringTag;fi[kL]=(t=>(t.schema=null,t.batches=[],t._offsets=new Uint32Array([0]),t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,t.isValid=hh(mm),t.get=hh(pn.getVisitFn(E.Struct)),t.set=P0(jn.getVisitFn(E.Struct)),t.indexOf=R0(eu.getVisitFn(E.Struct)),\"Table\"))(fi.prototype);function xh(t){let e={},i=Object.entries(t);for(let[n,o]of i)e[n]=fr(o);return new fi(e)}var IL,Vi=class t{constructor(...e){switch(e.length){case 2:{if([this.schema]=e,!(this.schema instanceof ui))throw new TypeError(\"RecordBatch constructor expects a [Schema, Data] pair.\");if([,this.data=dt({nullCount:0,type:new ki(this.schema.fields),children:this.schema.fields.map(i=>dt({type:i.type,nullCount:0}))})]=e,!(this.data instanceof ti))throw new TypeError(\"RecordBatch constructor expects a [Schema, Data] pair.\");[this.schema,this.data]=EL(this.schema,this.data.children);break}case 1:{let[i]=e,{fields:n,children:o,length:r}=Object.keys(i).reduce((l,c,u)=>(l.children[u]=i[c],l.length=Math.max(l.length,i[c].length),l.fields[u]=jt.new({name:c,type:i[c].type,nullable:!0}),l),{length:0,fields:new Array,children:new Array}),s=new ui(n),a=dt({type:new ki(n),length:r,children:o,nullCount:0});[this.schema,this.data]=EL(s,a.children,r);break}default:throw new TypeError(\"RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.\")}}get dictionaries(){return this._dictionaries||(this._dictionaries=TL(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(e){return this.data.getValid(e)}get(e){return pn.visit(this.data,e)}at(e){return this.get(Xc(e,this.numRows))}set(e,i){return jn.visit(this.data,e,i)}indexOf(e,i){return eu.visit(this.data,e,i)}[Symbol.iterator](){return ph.visit(new pt([this.data]))}toArray(){return[...this]}concat(...e){return new fi(this.schema,[this,...e])}slice(e,i){let[n]=new pt([this.data]).slice(e,i).data;return new t(this.schema,n)}getChild(e){var i;return this.getChildAt((i=this.schema.fields)===null||i===void 0?void 0:i.findIndex(n=>n.name===e))}getChildAt(e){return e>-1&&e<this.schema.fields.length?new pt([this.data.children[e]]):null}setChild(e,i){var n;return this.setChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(o=>o.name===e),i)}setChildAt(e,i){let n=this.schema,o=this.data;if(e>-1&&e<this.numCols){i||(i=new pt([dt({type:new Un,length:this.numRows})]));let r=n.fields.slice(),s=o.children.slice(),a=r[e].clone({type:i.type});[r[e],s[e]]=[a,i.data[0]],n=new ui(r,new Map(this.schema.metadata)),o=dt({type:new ki(r),children:s})}return new t(n,o)}select(e){let i=this.schema.select(e),n=new ki(i.fields),o=[];for(let r of e){let s=this.schema.fields.findIndex(a=>a.name===r);~s&&(o[s]=this.data.children[s])}return new t(i,dt({type:n,length:this.numRows,children:o}))}selectAt(e){let i=this.schema.selectAt(e),n=e.map(r=>this.data.children[r]).filter(Boolean),o=dt({type:new ki(i.fields),length:this.numRows,children:n});return new t(i,o)}};IL=Symbol.toStringTag;Vi[IL]=(t=>(t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,\"RecordBatch\"))(Vi.prototype);function EL(t,e,i=e.reduce((n,o)=>Math.max(n,o.length),0)){var n;let o=[...t.fields],r=[...e],s=(i+63&-64)>>3;for(let[a,l]of t.fields.entries()){let c=e[a];(!c||c.length!==i)&&(o[a]=l.clone({nullable:!0}),r[a]=(n=c?._changeLengthAndBackfillNullBitmap(i))!==null&&n!==void 0?n:dt({type:l.type,length:i,nullCount:i,nullBitmap:new Uint8Array(s)}))}return[t.assign(o),dt({type:new ki(o),length:i,children:r})]}function TL(t,e,i=new Map){var n,o;if(((n=t?.length)!==null&&n!==void 0?n:0)>0&&t?.length===e?.length)for(let r=-1,s=t.length;++r<s;){let{type:a}=t[r],l=e[r];for(let c of[l,...((o=l?.dictionary)===null||o===void 0?void 0:o.data)||[]])TL(a.children,c?.children,i);if(Qe.isDictionary(a)){let{id:c}=a;if(!i.has(c))l?.dictionary&&i.set(c,l.dictionary);else if(i.get(c)!==l.dictionary)throw new Error(\"Cannot create Schema containing two different dictionaries with the same Id\")}}return i}var lu=class extends Vi{constructor(e){let i=e.fields.map(o=>dt({type:o.type})),n=dt({type:new ki(e.fields),nullCount:0,children:i});super(e,n)}};var Zr=class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,i){return this.bb_pos=e,this.bb=i,this}static getRootAsMessage(e,i){return(i||new t).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMessage(e,i){return e.setPosition(e.position()+4),(i||new t).__init(e.readInt32(e.position())+e.position(),e)}version(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):hi.V1}headerType(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):$t.NONE}header(e){let i=this.bb.__offset(this.bb_pos,8);return i?this.bb.__union(e,this.bb_pos+i):null}bodyLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):BigInt(\"0\")}customMetadata(e,i){let n=this.bb.__offset(this.bb_pos,12);return n?(i||new wn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+e*4),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startMessage(e){e.startObject(5)}static addVersion(e,i){e.addFieldInt16(0,i,hi.V1)}static addHeaderType(e,i){e.addFieldInt8(1,i,$t.NONE)}static addHeader(e,i){e.addFieldOffset(2,i,0)}static addBodyLength(e,i){e.addFieldInt64(3,i,BigInt(\"0\"))}static addCustomMetadata(e,i){e.addFieldOffset(4,i,0)}static createCustomMetadataVector(e,i){e.startVector(4,i.length,4);for(let n=i.length-1;n>=0;n--)e.addOffset(i[n]);return e.endVector()}static startCustomMetadataVector(e,i){e.startVector(4,i,4)}static endMessage(e){return e.endObject()}static finishMessageBuffer(e,i){e.finish(i)}static finishSizePrefixedMessageBuffer(e,i){e.finish(i,void 0,!0)}static createMessage(e,i,n,o,r,s){return t.startMessage(e),t.addVersion(e,i),t.addHeaderType(e,n),t.addHeader(e,o),t.addBodyLength(e,r),t.addCustomMetadata(e,s),t.endMessage(e)}};var lC=class extends gt{visit(e,i){return e==null||i==null?void 0:super.visit(e,i)}visitNull(e,i){return rm.startNull(i),rm.endNull(i)}visitInt(e,i){return jr.startInt(i),jr.addBitWidth(i,e.bitWidth),jr.addIsSigned(i,e.isSigned),jr.endInt(i)}visitFloat(e,i){return Ml.startFloatingPoint(i),Ml.addPrecision(i,e.precision),Ml.endFloatingPoint(i)}visitBinary(e,i){return em.startBinary(i),em.endBinary(i)}visitLargeBinary(e,i){return im.startLargeBinary(i),im.endLargeBinary(i)}visitBool(e,i){return tm.startBool(i),tm.endBool(i)}visitUtf8(e,i){return am.startUtf8(i),am.endUtf8(i)}visitLargeUtf8(e,i){return nm.startLargeUtf8(i),nm.endLargeUtf8(i)}visitDecimal(e,i){return Cs.startDecimal(i),Cs.addScale(i,e.scale),Cs.addPrecision(i,e.precision),Cs.addBitWidth(i,e.bitWidth),Cs.endDecimal(i)}visitDate(e,i){return Ll.startDate(i),Ll.addUnit(i,e.unit),Ll.endDate(i)}visitTime(e,i){return pa.startTime(i),pa.addUnit(i,e.unit),pa.addBitWidth(i,e.bitWidth),pa.endTime(i)}visitTimestamp(e,i){let n=e.timezone&&i.createString(e.timezone)||void 0;return fa.startTimestamp(i),fa.addUnit(i,e.unit),n!==void 0&&fa.addTimezone(i,n),fa.endTimestamp(i)}visitInterval(e,i){return zl.startInterval(i),zl.addUnit(i,e.unit),zl.endInterval(i)}visitDuration(e,i){return Dl.startDuration(i),Dl.addUnit(i,e.unit),Dl.endDuration(i)}visitList(e,i){return om.startList(i),om.endList(i)}visitStruct(e,i){return sm.startStruct_(i),sm.endStruct_(i)}visitUnion(e,i){Vr.startTypeIdsVector(i,e.typeIds.length);let n=Vr.createTypeIdsVector(i,e.typeIds);return Vr.startUnion(i),Vr.addMode(i,e.mode),Vr.addTypeIds(i,n),Vr.endUnion(i)}visitDictionary(e,i){let n=this.visit(e.indices,i);return Ss.startDictionaryEncoding(i),Ss.addId(i,BigInt(e.id)),Ss.addIsOrdered(i,e.isOrdered),n!==void 0&&Ss.addIndexType(i,n),Ss.endDictionaryEncoding(i)}visitFixedSizeBinary(e,i){return Pl.startFixedSizeBinary(i),Pl.addByteWidth(i,e.byteWidth),Pl.endFixedSizeBinary(i)}visitFixedSizeList(e,i){return Rl.startFixedSizeList(i),Rl.addListSize(i,e.listSize),Rl.endFixedSizeList(i)}visitMap(e,i){return Ol.startMap(i),Ol.addKeysSorted(i,e.keysSorted),Ol.endMap(i)}},cv=new lC;function PL(t,e=new Map){return new ui(yH(t,e),uv(t.metadata),e)}function cC(t){return new Vn(t.count,ML(t.columns),zL(t.columns))}function RL(t){return new Eo(cC(t.data),t.id,t.isDelta)}function yH(t,e){return(t.fields||[]).filter(Boolean).map(i=>jt.fromJSON(i,e))}function AL(t,e){return(t.children||[]).filter(Boolean).map(i=>jt.fromJSON(i,e))}function ML(t){return(t||[]).reduce((e,i)=>[...e,new mr(i.count,bH(i.VALIDITY)),...ML(i.children)],[])}function zL(t,e=[]){for(let i=-1,n=(t||[]).length;++i<n;){let o=t[i];o.VALIDITY&&e.push(new ko(e.length,o.VALIDITY.length)),o.TYPE_ID&&e.push(new ko(e.length,o.TYPE_ID.length)),o.OFFSET&&e.push(new ko(e.length,o.OFFSET.length)),o.DATA&&e.push(new ko(e.length,o.DATA.length)),e=zL(o.children,e)}return e}function bH(t){return(t||[]).reduce((e,i)=>e+ +(i===0),0)}function OL(t,e){let i,n,o,r,s,a;return!e||!(r=t.dictionary)?(s=DL(t,AL(t,e)),o=new jt(t.name,s,t.nullable,uv(t.metadata))):e.has(i=r.id)?(n=(n=r.indexType)?LL(n):new So,a=new so(e.get(i),n,i,r.isOrdered),o=new jt(t.name,a,t.nullable,uv(t.metadata))):(n=(n=r.indexType)?LL(n):new So,e.set(i,s=DL(t,AL(t,e))),a=new so(s,n,i,r.isOrdered),o=new jt(t.name,a,t.nullable,uv(t.metadata))),o||null}function uv(t=[]){return new Map(t.map(({key:e,value:i})=>[e,i]))}function LL(t){return new Sn(t.isSigned,t.bitWidth)}function DL(t,e){let i=t.type.name;switch(i){case\"NONE\":return new Un;case\"null\":return new Un;case\"binary\":return new ma;case\"largebinary\":return new ga;case\"utf8\":return new $r;case\"largeutf8\":return new _a;case\"bool\":return new qr;case\"list\":return new Wo((e||[])[0]);case\"struct\":return new ki(e||[]);case\"struct_\":return new ki(e||[])}switch(i){case\"int\":{let n=t.type;return new Sn(n.isSigned,n.bitWidth)}case\"floatingpoint\":{let n=t.type;return new dr(vi[n.precision])}case\"decimal\":{let n=t.type;return new ya(n.scale,n.precision,n.bitWidth)}case\"date\":{let n=t.type;return new ba(tn[n.unit])}case\"time\":{let n=t.type;return new va(nt[n.unit],n.bitWidth)}case\"timestamp\":{let n=t.type;return new ks(nt[n.unit],n.timezone)}case\"interval\":{let n=t.type;return new xa(xn[n.unit])}case\"duration\":{let n=t.type;return new wa(nt[n.unit])}case\"union\":{let n=t.type,[o,...r]=(n.mode+\"\").toLowerCase(),s=o.toUpperCase()+r.join(\"\");return new Gr(Si[s],n.typeIds||[],e||[])}case\"fixedsizebinary\":{let n=t.type;return new Sa(n.byteWidth)}case\"fixedsizelist\":{let n=t.type;return new Yr(n.listSize,(e||[])[0])}case\"map\":{let n=t.type;return new Qr((e||[])[0],n.keysSorted)}}throw new Error(`Unrecognized type: \"${i}\"`)}var vH=Qc,xH=jo,Io=class t{static fromJSON(e,i){let n=new t(0,hi.V5,i);return n._createHeader=wH(e,i),n}static decode(e){e=new xH(St(e));let i=Zr.getRootAsMessage(e),n=i.bodyLength(),o=i.version(),r=i.headerType(),s=new t(n,o,r);return s._createHeader=SH(i,r),s}static encode(e){let i=new vH,n=-1;return e.isSchema()?n=ui.encode(i,e.header()):e.isRecordBatch()?n=Vn.encode(i,e.header()):e.isDictionaryBatch()&&(n=Eo.encode(i,e.header())),Zr.startMessage(i),Zr.addVersion(i,hi.V5),Zr.addHeader(i,n),Zr.addHeaderType(i,e.headerType),Zr.addBodyLength(i,BigInt(e.bodyLength)),Zr.finishMessageBuffer(i,Zr.endMessage(i)),i.asUint8Array()}static from(e,i=0){if(e instanceof ui)return new t(0,hi.V5,$t.Schema,e);if(e instanceof Vn)return new t(i,hi.V5,$t.RecordBatch,e);if(e instanceof Eo)return new t(i,hi.V5,$t.DictionaryBatch,e);throw new Error(`Unrecognized Message header: ${e}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===$t.Schema}isRecordBatch(){return this.headerType===$t.RecordBatch}isDictionaryBatch(){return this.headerType===$t.DictionaryBatch}constructor(e,i,n,o){this._version=i,this._headerType=n,this.body=new Uint8Array(0),o&&(this._createHeader=()=>o),this._bodyLength=si(e)}},Vn=class{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(e,i,n){this._nodes=i,this._buffers=n,this._length=si(e)}},Eo=class{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(e,i,n=!1){this._data=e,this._isDelta=n,this._id=si(i)}},ko=class{constructor(e,i){this.offset=si(e),this.length=si(i)}},mr=class{constructor(e,i){this.length=si(e),this.nullCount=si(i)}};function wH(t,e){return()=>{switch(e){case $t.Schema:return ui.fromJSON(t);case $t.RecordBatch:return Vn.fromJSON(t);case $t.DictionaryBatch:return Eo.fromJSON(t)}throw new Error(`Unrecognized Message type: { name: ${$t[e]}, type: ${e} }`)}}function SH(t,e){return()=>{switch(e){case $t.Schema:return ui.decode(t.header(new wo),new Map,t.version());case $t.RecordBatch:return Vn.decode(t.header(new Vo),t.version());case $t.DictionaryBatch:return Eo.decode(t.header(new ha),t.version())}throw new Error(`Unrecognized Message type: { name: ${$t[e]}, type: ${e} }`)}}jt.encode=MH;jt.decode=PH;jt.fromJSON=OL;ui.encode=RH;ui.decode=CH;ui.fromJSON=PL;Vn.encode=zH;Vn.decode=kH;Vn.fromJSON=cC;Eo.encode=OH;Eo.decode=EH;Eo.fromJSON=RL;mr.encode=BH;mr.decode=TH;ko.encode=NH;ko.decode=IH;function CH(t,e=new Map,i=hi.V5){let n=DH(t,e);return new ui(n,dv(t),e,i)}function kH(t,e=hi.V5){if(t.compression()!==null)throw new Error(\"Record batch compression not implemented\");return new Vn(t.length(),AH(t),LH(t,e))}function EH(t,e=hi.V5){return new Eo(Vn.decode(t.data(),e),t.id(),t.isDelta())}function IH(t){return new ko(t.offset(),t.length())}function TH(t){return new mr(t.length(),t.nullCount())}function AH(t){let e=[];for(let i,n=-1,o=-1,r=t.nodesLength();++n<r;)(i=t.nodes(n))&&(e[++o]=mr.decode(i));return e}function LH(t,e){let i=[];for(let n,o=-1,r=-1,s=t.buffersLength();++o<s;)(n=t.buffers(o))&&(e<hi.V4&&(n.bb_pos+=8*(o+1)),i[++r]=ko.decode(n));return i}function DH(t,e){let i=[];for(let n,o=-1,r=-1,s=t.fieldsLength();++o<s;)(n=t.fields(o))&&(i[++r]=jt.decode(n,e));return i}function BL(t,e){let i=[];for(let n,o=-1,r=-1,s=t.childrenLength();++o<s;)(n=t.children(o))&&(i[++r]=jt.decode(n,e));return i}function PH(t,e){let i,n,o,r,s,a;return!e||!(a=t.dictionary())?(o=FL(t,BL(t,e)),n=new jt(t.name(),o,t.nullable(),dv(t))):e.has(i=si(a.id()))?(r=(r=a.indexType())?NL(r):new So,s=new so(e.get(i),r,i,a.isOrdered()),n=new jt(t.name(),s,t.nullable(),dv(t))):(r=(r=a.indexType())?NL(r):new So,e.set(i,o=FL(t,BL(t,e))),s=new so(o,r,i,a.isOrdered()),n=new jt(t.name(),s,t.nullable(),dv(t))),n||null}function dv(t){let e=new Map;if(t)for(let i,n,o=-1,r=Math.trunc(t.customMetadataLength());++o<r;)(i=t.customMetadata(o))&&(n=i.key())!=null&&e.set(n,i.value());return e}function NL(t){return new Sn(t.isSigned(),t.bitWidth())}function FL(t,e){let i=t.typeType();switch(i){case Ci.NONE:return new Un;case Ci.Null:return new Un;case Ci.Binary:return new ma;case Ci.LargeBinary:return new ga;case Ci.Utf8:return new $r;case Ci.LargeUtf8:return new _a;case Ci.Bool:return new qr;case Ci.List:return new Wo((e||[])[0]);case Ci.Struct_:return new ki(e||[])}switch(i){case Ci.Int:{let n=t.type(new jr);return new Sn(n.isSigned(),n.bitWidth())}case Ci.FloatingPoint:{let n=t.type(new Ml);return new dr(n.precision())}case Ci.Decimal:{let n=t.type(new Cs);return new ya(n.scale(),n.precision(),n.bitWidth())}case Ci.Date:{let n=t.type(new Ll);return new ba(n.unit())}case Ci.Time:{let n=t.type(new pa);return new va(n.unit(),n.bitWidth())}case Ci.Timestamp:{let n=t.type(new fa);return new ks(n.unit(),n.timezone())}case Ci.Interval:{let n=t.type(new zl);return new xa(n.unit())}case Ci.Duration:{let n=t.type(new Dl);return new wa(n.unit())}case Ci.Union:{let n=t.type(new Vr);return new Gr(n.mode(),n.typeIdsArray()||[],e||[])}case Ci.FixedSizeBinary:{let n=t.type(new Pl);return new Sa(n.byteWidth())}case Ci.FixedSizeList:{let n=t.type(new Rl);return new Yr(n.listSize(),(e||[])[0])}case Ci.Map:{let n=t.type(new Ol);return new Qr((e||[])[0],n.keysSorted())}}throw new Error(`Unrecognized type: \"${Ci[i]}\" (${i})`)}function RH(t,e){let i=e.fields.map(r=>jt.encode(t,r));wo.startFieldsVector(t,i.length);let n=wo.createFieldsVector(t,i),o=e.metadata&&e.metadata.size>0?wo.createCustomMetadataVector(t,[...e.metadata].map(([r,s])=>{let a=t.createString(`${r}`),l=t.createString(`${s}`);return wn.startKeyValue(t),wn.addKey(t,a),wn.addValue(t,l),wn.endKeyValue(t)})):-1;return wo.startSchema(t),wo.addFields(t,n),wo.addEndianness(t,FH?Al.Little:Al.Big),o!==-1&&wo.addCustomMetadata(t,o),wo.endSchema(t)}function MH(t,e){let i=-1,n=-1,o=-1,r=e.type,s=e.typeId;Qe.isDictionary(r)?(s=r.dictionary.typeId,o=cv.visit(r,t),n=cv.visit(r.dictionary,t)):n=cv.visit(r,t);let a=(r.children||[]).map(u=>jt.encode(t,u)),l=Qn.createChildrenVector(t,a),c=e.metadata&&e.metadata.size>0?Qn.createCustomMetadataVector(t,[...e.metadata].map(([u,d])=>{let h=t.createString(`${u}`),f=t.createString(`${d}`);return wn.startKeyValue(t),wn.addKey(t,h),wn.addValue(t,f),wn.endKeyValue(t)})):-1;return e.name&&(i=t.createString(e.name)),Qn.startField(t),Qn.addType(t,n),Qn.addTypeType(t,s),Qn.addChildren(t,l),Qn.addNullable(t,!!e.nullable),i!==-1&&Qn.addName(t,i),o!==-1&&Qn.addDictionary(t,o),c!==-1&&Qn.addCustomMetadata(t,c),Qn.endField(t)}function zH(t,e){let i=e.nodes||[],n=e.buffers||[];Vo.startNodesVector(t,i.length);for(let s of i.slice().reverse())mr.encode(t,s);let o=t.endVector();Vo.startBuffersVector(t,n.length);for(let s of n.slice().reverse())ko.encode(t,s);let r=t.endVector();return Vo.startRecordBatch(t),Vo.addLength(t,BigInt(e.length)),Vo.addNodes(t,o),Vo.addBuffers(t,r),Vo.endRecordBatch(t)}function OH(t,e){let i=Vn.encode(t,e.data);return ha.startDictionaryBatch(t),ha.addId(t,BigInt(e.id)),ha.addIsDelta(t,e.isDelta),ha.addData(t,i),ha.endDictionaryBatch(t)}function BH(t,e){return Xd.createFieldNode(t,BigInt(e.length),BigInt(e.nullCount))}function NH(t,e){return Qd.createBuffer(t,BigInt(e.offset),BigInt(e.length))}var FH=(()=>{let t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),new Int16Array(t)[0]===256})();var dC=t=>`Expected ${$t[t]} Message in stream, but was null or length 0.`,hC=t=>`Header pointer of flatbuffer-encoded ${$t[t]} Message is null or length 0.`,UL=(t,e)=>`Expected to read ${t} metadata bytes, but only read ${e}.`,jL=(t,e)=>`Expected to read ${t} bytes for message body, but only read ${e}.`,wh=class{constructor(e){this.source=e instanceof Ts?e:new Ts(e)}[Symbol.iterator](){return this}next(){let e;return(e=this.readMetadataLength()).done?Ri:e.value===-1&&(e=this.readMetadataLength()).done?Ri:(e=this.readMetadata(e.value)).done?Ri:e}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}readMessage(e){let i;if((i=this.next()).done)return null;if(e!=null&&i.value.headerType!==e)throw new Error(dC(e));return i.value}readMessageBody(e){if(e<=0)return new Uint8Array(0);let i=St(this.source.read(e));if(i.byteLength<e)throw new Error(jL(e,i.byteLength));return i.byteOffset%8===0&&i.byteOffset+i.byteLength<=i.buffer.byteLength?i:i.slice()}readSchema(e=!1){let i=$t.Schema,n=this.readMessage(i),o=n?.header();if(e&&!o)throw new Error(hC(i));return o}readMetadataLength(){let e=this.source.read(hv),i=e&&new jo(e),n=i?.readInt32(0)||0;return{done:n===0,value:n}}readMetadata(e){let i=this.source.read(e);if(!i)return Ri;if(i.byteLength<e)throw new Error(UL(e,i.byteLength));return{done:!1,value:Io.decode(i)}}},$m=class{constructor(e,i){this.source=e instanceof hr?e:Kb(e)?new Wl(e,i):new hr(e)}[Symbol.asyncIterator](){return this}next(){return Ke(this,void 0,void 0,function*(){let e;return(e=yield this.readMetadataLength()).done?Ri:e.value===-1&&(e=yield this.readMetadataLength()).done?Ri:(e=yield this.readMetadata(e.value)).done?Ri:e})}throw(e){return Ke(this,void 0,void 0,function*(){return yield this.source.throw(e)})}return(e){return Ke(this,void 0,void 0,function*(){return yield this.source.return(e)})}readMessage(e){return Ke(this,void 0,void 0,function*(){let i;if((i=yield this.next()).done)return null;if(e!=null&&i.value.headerType!==e)throw new Error(dC(e));return i.value})}readMessageBody(e){return Ke(this,void 0,void 0,function*(){if(e<=0)return new Uint8Array(0);let i=St(yield this.source.read(e));if(i.byteLength<e)throw new Error(jL(e,i.byteLength));return i.byteOffset%8===0&&i.byteOffset+i.byteLength<=i.buffer.byteLength?i:i.slice()})}readSchema(){return Ke(this,arguments,void 0,function*(e=!1){let i=$t.Schema,n=yield this.readMessage(i),o=n?.header();if(e&&!o)throw new Error(hC(i));return o})}readMetadataLength(){return Ke(this,void 0,void 0,function*(){let e=yield this.source.read(hv),i=e&&new jo(e),n=i?.readInt32(0)||0;return{done:n===0,value:n}})}readMetadata(e){return Ke(this,void 0,void 0,function*(){let i=yield this.source.read(e);if(!i)return Ri;if(i.byteLength<e)throw new Error(UL(e,i.byteLength));return{done:!1,value:Io.decode(i)}})}},qm=class extends wh{constructor(e){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=e instanceof _m?e:new _m(e)}next(){let{_json:e}=this;if(!this._schema)return this._schema=!0,{done:!1,value:Io.fromJSON(e.schema,$t.Schema)};if(this._dictionaryIndex<e.dictionaries.length){let i=e.dictionaries[this._dictionaryIndex++];return this._body=i.data.columns,{done:!1,value:Io.fromJSON(i,$t.DictionaryBatch)}}if(this._batchIndex<e.batches.length){let i=e.batches[this._batchIndex++];return this._body=i.columns,{done:!1,value:Io.fromJSON(i,$t.RecordBatch)}}return this._body=[],Ri}readMessageBody(e){return i(this._body);function i(n){return(n||[]).reduce((o,r)=>[...o,...r.VALIDITY&&[r.VALIDITY]||[],...r.TYPE_ID&&[r.TYPE_ID]||[],...r.OFFSET&&[r.OFFSET]||[],...r.DATA&&[r.DATA]||[],...i(r.children)],[])}}readMessage(e){let i;if((i=this.next()).done)return null;if(e!=null&&i.value.headerType!==e)throw new Error(dC(e));return i.value}readSchema(){let e=$t.Schema,i=this.readMessage(e),n=i?.header();if(!i||!n)throw new Error(hC(e));return n}},hv=4,uC=\"ARROW1\",Sh=new Uint8Array(uC.length);for(let t=0;t<uC.length;t+=1)Sh[t]=uC.codePointAt(t);function pv(t,e=0){for(let i=-1,n=Sh.length;++i<n;)if(Sh[i]!==t[e+i])return!1;return!0}var Ch=Sh.length,pC=Ch+hv,VL=Ch*2+hv;var Wi=class t extends iu{constructor(e){super(),this._impl=e}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(e){return this._impl.throw(e)}return(e){return this._impl.return(e)}cancel(){return this._impl.cancel()}reset(e){return this._impl.reset(e),this._DOMStream=void 0,this._nodeStream=void 0,this}open(e){let i=this._impl.open(e);return Fo(i)?i.then(()=>this):this}readRecordBatch(e){return this._impl.isFile()?this._impl.readRecordBatch(e):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return Fn.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return Fn.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(e){throw new Error('\"throughNode\" not available in this environment')}static throughDOM(e,i){throw new Error('\"throughDOM\" not available in this environment')}static from(e){return e instanceof t?e:Qb(e)?jH(e):Kb(e)?HH(e):Fo(e)?Ke(this,void 0,void 0,function*(){return yield t.from(yield e)}):Zb(e)||Yf(e)||e0(e)||lr(e)?WH(new hr(e)):VH(new Ts(e))}static readAll(e){return e instanceof t?e.isSync()?WL(e):HL(e):Qb(e)||ArrayBuffer.isView(e)||Nr(e)||Xb(e)?WL(e):HL(e)}},Ls=class extends Wi{constructor(e){super(e),this._impl=e}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return No(this,arguments,function*(){yield Ft(yield*Gd(Br(this[Symbol.iterator]())))})}},Hl=class extends Wi{constructor(e){super(e),this._impl=e}readAll(){return Ke(this,void 0,void 0,function*(){var e,i,n,o;let r=new Array;try{for(var s=!0,a=Br(this),l;l=yield a.next(),e=l.done,!e;s=!0){o=l.value,s=!1;let c=o;r.push(c)}}catch(c){i={error:c}}finally{try{!s&&!e&&(n=a.return)&&(yield n.call(a))}finally{if(i)throw i.error}}return r})}[Symbol.iterator](){throw new Error(\"AsyncRecordBatchStreamReader is not Iterable\")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}},$l=class extends Ls{constructor(e){super(e),this._impl=e}},Gm=class extends Hl{constructor(e){super(e),this._impl=e}},fv=class{get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}constructor(e=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=e}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(e){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=e,this.dictionaries=new Map,this}_loadRecordBatch(e,i){let n=this._loadVectors(e,i,this.schema.fields),o=dt({type:new ki(this.schema.fields),length:e.length,children:n});return new Vi(this.schema,o)}_loadDictionaryBatch(e,i){let{id:n,isDelta:o}=e,{dictionaries:r,schema:s}=this,a=r.get(n),l=s.dictionaries.get(n),c=this._loadVectors(e.data,i,[l]);return(a&&o?a.concat(new pt(c)):new pt(c)).memoize()}_loadVectors(e,i,n){return new xm(i,e.nodes,e.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(n)}},kh=class extends fv{constructor(e,i){super(i),this._reader=Qb(e)?new qm(this._handle=e):new wh(this._handle=e)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(e){return this.closed||(this.autoDestroy=$L(this,e),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(e):Ri}return(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(e):Ri}next(){if(this.closed)return Ri;let e,{_reader:i}=this;for(;e=this._readNextMessageAndValidate();)if(e.isSchema())this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;let n=e.header(),o=i.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(n,o)}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;let n=e.header(),o=i.readMessageBody(e.bodyLength),r=this._loadDictionaryBatch(n,o);this.dictionaries.set(n.id,r)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new lu(this.schema)}):this.return()}_readNextMessageAndValidate(e){return this._reader.readMessage(e)}},Eh=class extends fv{constructor(e,i){super(i),this._reader=new $m(this._handle=e)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return Ke(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(e){return Ke(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=$L(this,e),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(e){return Ke(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(e):Ri})}return(e){return Ke(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(e):Ri})}next(){return Ke(this,void 0,void 0,function*(){if(this.closed)return Ri;let e,{_reader:i}=this;for(;e=yield this._readNextMessageAndValidate();)if(e.isSchema())yield this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;let n=e.header(),o=yield i.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(n,o)}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;let n=e.header(),o=yield i.readMessageBody(e.bodyLength),r=this._loadDictionaryBatch(n,o);this.dictionaries.set(n.id,r)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new lu(this.schema)}):yield this.return()})}_readNextMessageAndValidate(e){return Ke(this,void 0,void 0,function*(){return yield this._reader.readMessage(e)})}},mv=class extends kh{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(e,i){super(e instanceof ym?e:new ym(e),i)}isSync(){return!0}isFile(){return!0}open(e){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(let i of this._footer.dictionaryBatches())i&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(e)}readRecordBatch(e){var i;if(this.closed)return null;this._footer||this.open();let n=(i=this._footer)===null||i===void 0?void 0:i.getRecordBatch(e);if(n&&this._handle.seek(n.offset)){let o=this._reader.readMessage($t.RecordBatch);if(o?.isRecordBatch()){let r=o.header(),s=this._reader.readMessageBody(o.bodyLength);return this._loadRecordBatch(r,s)}}return null}_readDictionaryBatch(e){var i;let n=(i=this._footer)===null||i===void 0?void 0:i.getDictionaryBatch(e);if(n&&this._handle.seek(n.offset)){let o=this._reader.readMessage($t.DictionaryBatch);if(o?.isDictionaryBatch()){let r=o.header(),s=this._reader.readMessageBody(o.bodyLength),a=this._loadDictionaryBatch(r,s);this.dictionaries.set(r.id,a)}}}_readFooter(){let{_handle:e}=this,i=e.size-pC,n=e.readInt32(i),o=e.readAt(i-n,n);return Ea.decode(o)}_readNextMessageAndValidate(e){var i;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){let n=(i=this._footer)===null||i===void 0?void 0:i.getRecordBatch(this._recordBatchIndex);if(n&&this._handle.seek(n.offset))return this._reader.readMessage(e)}return null}},fC=class extends Eh{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(e,...i){let n=typeof i[0]!=\"number\"?i.shift():void 0,o=i[0]instanceof Map?i.shift():void 0;super(e instanceof Wl?e:new Wl(e,n),o)}isFile(){return!0}isAsync(){return!0}open(e){let i=Object.create(null,{open:{get:()=>super.open}});return Ke(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(let n of this._footer.dictionaryBatches())n&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield i.open.call(this,e)})}readRecordBatch(e){return Ke(this,void 0,void 0,function*(){var i;if(this.closed)return null;this._footer||(yield this.open());let n=(i=this._footer)===null||i===void 0?void 0:i.getRecordBatch(e);if(n&&(yield this._handle.seek(n.offset))){let o=yield this._reader.readMessage($t.RecordBatch);if(o?.isRecordBatch()){let r=o.header(),s=yield this._reader.readMessageBody(o.bodyLength);return this._loadRecordBatch(r,s)}}return null})}_readDictionaryBatch(e){return Ke(this,void 0,void 0,function*(){var i;let n=(i=this._footer)===null||i===void 0?void 0:i.getDictionaryBatch(e);if(n&&(yield this._handle.seek(n.offset))){let o=yield this._reader.readMessage($t.DictionaryBatch);if(o?.isDictionaryBatch()){let r=o.header(),s=yield this._reader.readMessageBody(o.bodyLength),a=this._loadDictionaryBatch(r,s);this.dictionaries.set(r.id,a)}}})}_readFooter(){return Ke(this,void 0,void 0,function*(){let{_handle:e}=this;e._pending&&(yield e._pending);let i=e.size-pC,n=yield e.readInt32(i),o=yield e.readAt(i-n,n);return Ea.decode(o)})}_readNextMessageAndValidate(e){return Ke(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){let i=this._footer.getRecordBatch(this._recordBatchIndex);if(i&&(yield this._handle.seek(i.offset)))return yield this._reader.readMessage(e)}return null})}},mC=class extends kh{constructor(e,i){super(e,i)}_loadVectors(e,i,n){return new B0(i,e.nodes,e.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(n)}};function $L(t,e){return e&&typeof e.autoDestroy==\"boolean\"?e.autoDestroy:t.autoDestroy}function*WL(t){let e=Wi.from(t);try{if(!e.open({autoDestroy:!1}).closed)do yield e;while(!e.reset().open().closed)}finally{e.cancel()}}function HL(t){return No(this,arguments,function*(){let i=yield Ft(Wi.from(t));try{if(!(yield Ft(i.open({autoDestroy:!1}))).closed)do yield yield Ft(i);while(!(yield Ft(i.reset().open())).closed)}finally{yield Ft(i.cancel())}})}function jH(t){return new Ls(new mC(t))}function VH(t){let e=t.peek(Ch+7&-8);return e&&e.byteLength>=4?pv(e)?new $l(new mv(t.read())):new Ls(new kh(t)):new Ls(new kh(function*(){}()))}function WH(t){return Ke(this,void 0,void 0,function*(){let e=yield t.peek(Ch+7&-8);return e&&e.byteLength>=4?pv(e)?new $l(new mv(yield t.read())):new Hl(new Eh(t)):new Hl(new Eh(function(){return No(this,arguments,function*(){})}()))})}function HH(t){return Ke(this,void 0,void 0,function*(){let{size:e}=yield t.stat(),i=new Wl(t,e);return e>=VL&&pv(yield i.readAt(0,Ch+7&-8))?new Gm(new fC(i)):new Hl(new Eh(i))})}var Hi=class t extends gt{static assemble(...e){let i=o=>o.flatMap(r=>Array.isArray(r)?i(r):r instanceof Vi?r.data.children:r.data),n=new t;return n.visitMany(i(e)),n}constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit(e){if(e instanceof pt)return this.visitMany(e.data),this;let{type:i}=e;if(!Qe.isDictionary(i)){let{length:n}=e;if(n>2147483647)throw new RangeError(\"Cannot write arrays larger than 2^31 - 1 in length\");if(Qe.isUnion(i))this.nodes.push(new mr(n,0));else{let{nullCount:o}=e;Qe.isNull(i)||Jr.call(this,o<=0?new Uint8Array(0):Zc(e.offset,n,e.nullBitmap)),this.nodes.push(new mr(n,o))}}return super.visit(e)}visitNull(e){return this}visitDictionary(e){return this.visit(e.clone(e.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}};function Jr(t){let e=t.byteLength+7&-8;return this.buffers.push(t),this.bufferRegions.push(new ko(this._byteLength,e)),this._byteLength+=e,this}function $H(t){var e;let{type:i,length:n,typeIds:o,valueOffsets:r}=t;if(Jr.call(this,o),i.mode===Si.Sparse)return gC.call(this,t);if(i.mode===Si.Dense){if(t.offset<=0)return Jr.call(this,r),gC.call(this,t);{let s=new Int32Array(n),a=Object.create(null),l=Object.create(null);for(let c,u,d=-1;++d<n;)(c=o[d])!==void 0&&((u=a[c])===void 0&&(u=a[c]=r[d]),s[d]=r[d]-u,l[c]=((e=l[c])!==null&&e!==void 0?e:0)+1);Jr.call(this,s),this.visitMany(t.children.map((c,u)=>{let d=i.typeIds[u],h=a[d],f=l[d];return c.slice(h,Math.min(n,f))}))}}return this}function qH(t){let e;return t.nullCount>=t.length?Jr.call(this,new Uint8Array(0)):(e=t.values)instanceof Uint8Array?Jr.call(this,Zc(t.offset,t.length,e)):Jr.call(this,Jc(t.values))}function za(t){return Jr.call(this,t.values.subarray(0,t.length*t.stride))}function gv(t){let{length:e,values:i,valueOffsets:n}=t,o=si(n[0]),r=si(n[e]),s=Math.min(r-o,i.byteLength-o);return Jr.call(this,i0(-o,e+1,n)),Jr.call(this,i.subarray(o,o+s)),this}function _C(t){let{length:e,valueOffsets:i}=t;if(i){let{[0]:n,[e]:o}=i;return Jr.call(this,i0(-n,e+1,i)),this.visit(t.children[0].slice(n,o-n))}return this.visit(t.children[0])}function gC(t){return this.visitMany(t.type.children.map((e,i)=>t.children[i]).filter(Boolean))[0]}Hi.prototype.visitBool=qH;Hi.prototype.visitInt=za;Hi.prototype.visitFloat=za;Hi.prototype.visitUtf8=gv;Hi.prototype.visitLargeUtf8=gv;Hi.prototype.visitBinary=gv;Hi.prototype.visitLargeBinary=gv;Hi.prototype.visitFixedSizeBinary=za;Hi.prototype.visitDate=za;Hi.prototype.visitTimestamp=za;Hi.prototype.visitTime=za;Hi.prototype.visitDecimal=za;Hi.prototype.visitList=_C;Hi.prototype.visitStruct=gC;Hi.prototype.visitUnion=$H;Hi.prototype.visitInterval=za;Hi.prototype.visitDuration=za;Hi.prototype.visitFixedSizeList=_C;Hi.prototype.visitMap=_C;var cu=class extends iu{static throughNode(e){throw new Error('\"throughNode\" not available in this environment')}static throughDOM(e,i){throw new Error('\"throughDOM\" not available in this environment')}constructor(e){super(),this._position=0,this._started=!1,this._sink=new Is,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,ro(e)||(e={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof e.autoDestroy==\"boolean\"?e.autoDestroy:!0,this._writeLegacyIpcFormat=typeof e.writeLegacyIpcFormat==\"boolean\"?e.writeLegacyIpcFormat:!1}toString(e=!1){return this._sink.toString(e)}toUint8Array(e=!1){return this._sink.toUint8Array(e)}writeAll(e){return Fo(e)?e.then(i=>this.writeAll(i)):lr(e)?bC(this,e):yC(this,e)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(e){return this._sink.toDOMStream(e)}toNodeStream(e){return this._sink.toNodeStream(e)}close(){return this.reset()._sink.close()}abort(e){return this.reset()._sink.abort(e)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(e=this._sink,i=null){return e===this._sink||e instanceof Is?this._sink=e:(this._sink=new Is,e&&aA(e)?this.toDOMStream({type:\"bytes\"}).pipeTo(e):e&&lA(e)&&this.toNodeStream({objectMode:!1}).pipe(e)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,(!i||!au(i,this._schema))&&(i==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=i,this._writeSchema(i))),this}write(e){let i=null;if(this._sink){if(e==null)return this.finish()&&void 0;if(e instanceof fi&&!(i=e.schema))return this.finish()&&void 0;if(e instanceof Vi&&!(i=e.schema))return this.finish()&&void 0}else throw new Error(\"RecordBatchWriter is closed\");if(i&&!au(i,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,i)}e instanceof Vi?e instanceof lu||this._writeRecordBatch(e):e instanceof fi?this.writeAll(e.batches):Nr(e)&&this.writeAll(e)}_writeMessage(e,i=8){let n=i-1,o=Io.encode(e),r=o.byteLength,s=this._writeLegacyIpcFormat?4:8,a=r+s+n&~n,l=a-r-s;return e.headerType===$t.RecordBatch?this._recordBatchBlocks.push(new Ia(a,e.bodyLength,this._position)):e.headerType===$t.DictionaryBatch&&this._dictionaryBlocks.push(new Ia(a,e.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-s)),r>0&&this._write(o),this._writePadding(l)}_write(e){if(this._started){let i=St(e);i&&i.byteLength>0&&(this._sink.write(i),this._position+=i.byteLength)}return this}_writeSchema(e){return this._writeMessage(Io.from(e))}_writeFooter(e){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(Sh)}_writePadding(e){return e>0?this._write(new Uint8Array(e)):this}_writeRecordBatch(e){let{byteLength:i,nodes:n,bufferRegions:o,buffers:r}=Hi.assemble(e),s=new Vn(e.numRows,n,o),a=Io.from(s,i);return this._writeDictionaries(e)._writeMessage(a)._writeBodyBuffers(r)}_writeDictionaryBatch(e,i,n=!1){let{byteLength:o,nodes:r,bufferRegions:s,buffers:a}=Hi.assemble(new pt([e])),l=new Vn(e.length,r,s),c=new Eo(l,i,n),u=Io.from(c,o);return this._writeMessage(u)._writeBodyBuffers(a)}_writeBodyBuffers(e){let i,n,o;for(let r=-1,s=e.length;++r<s;)(i=e[r])&&(n=i.byteLength)>0&&(this._write(i),(o=(n+7&-8)-n)>0&&this._writePadding(o));return this}_writeDictionaries(e){var i,n;for(let[o,r]of e.dictionaries){let s=(i=r?.data)!==null&&i!==void 0?i:[],a=this._seenDictionaries.get(o),l=(n=this._dictionaryDeltaOffsets.get(o))!==null&&n!==void 0?n:0;if(!a||a.data[0]!==s[0])for(let[c,u]of s.entries())this._writeDictionaryBatch(u,o,c>0);else if(l<s.length)for(let c of s.slice(l))this._writeDictionaryBatch(c,o,!0);this._seenDictionaries.set(o,r),this._dictionaryDeltaOffsets.set(o,s.length)}return this}},uu=class t extends cu{static writeAll(e,i){let n=new t(i);return Fo(e)?e.then(o=>n.writeAll(o)):lr(e)?bC(n,e):yC(n,e)}},du=class t extends cu{static writeAll(e){let i=new t;return Fo(e)?e.then(n=>i.writeAll(n)):lr(e)?bC(i,e):yC(i,e)}constructor(){super(),this._autoDestroy=!0}_writeSchema(e){return this._writeMagic()._writePadding(2)}_writeDictionaryBatch(e,i,n=!1){if(!n&&this._seenDictionaries.has(i))throw new Error(\"The Arrow File format does not support replacement dictionaries. \");return super._writeDictionaryBatch(e,i,n)}_writeFooter(e){let i=Ea.encode(new Ea(e,hi.V5,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(e)._write(i)._write(Int32Array.of(i.byteLength))._writeMagic()}};function yC(t,e){let i=e;e instanceof fi&&(i=e.batches,t.reset(void 0,e.schema));for(let n of i)t.write(n);return t.finish()}function bC(t,e){return Ke(this,void 0,void 0,function*(){var i,n,o,r,s,a,l;try{for(i=!0,n=Br(e);o=yield n.next(),r=o.done,!r;i=!0){l=o.value,i=!1;let c=l;t.write(c)}}catch(c){s={error:c}}finally{try{!i&&!r&&(a=n.return)&&(yield a.call(n))}finally{if(s)throw s.error}}return t.finish()})}function qL(t,e){if(lr(t))return YH(t,e);if(Nr(t))return GH(t,e);throw new Error(\"toDOMStream() must be called with an Iterable or AsyncIterable\")}function GH(t,e){let i=null,n=e?.type===\"bytes\"||!1,o=e?.highWaterMark||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},e),{start(s){r(s,i||(i=t[Symbol.iterator]()))},pull(s){i?r(s,i):s.close()},cancel(){(i?.return&&i.return()||!0)&&(i=null)}}),Object.assign({highWaterMark:n?o:void 0},e));function r(s,a){let l,c=null,u=s.desiredSize||null;for(;!(c=a.next(n?u:null)).done;)if(ArrayBuffer.isView(c.value)&&(l=St(c.value))&&(u!=null&&n&&(u=u-l.byteLength+1),c.value=l),s.enqueue(c.value),u!=null&&--u<=0)return;s.close()}}function YH(t,e){let i=null,n=e?.type===\"bytes\"||!1,o=e?.highWaterMark||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},e),{start(s){return Ke(this,void 0,void 0,function*(){yield r(s,i||(i=t[Symbol.asyncIterator]()))})},pull(s){return Ke(this,void 0,void 0,function*(){i?yield r(s,i):s.close()})},cancel(){return Ke(this,void 0,void 0,function*(){(i?.return&&(yield i.return())||!0)&&(i=null)})}}),Object.assign({highWaterMark:n?o:void 0},e));function r(s,a){return Ke(this,void 0,void 0,function*(){let l,c=null,u=s.desiredSize||null;for(;!(c=yield a.next(n?u:null)).done;)if(ArrayBuffer.isView(c.value)&&(l=St(c.value))&&(u!=null&&n&&(u=u-l.byteLength+1),c.value=l),s.enqueue(c.value),u!=null&&--u<=0)return;s.close()})}}function QL(t){return new vC(t)}var vC=class{constructor(e){this._numChunks=0,this._finished=!1,this._bufferedSize=0;let{[\"readableStrategy\"]:i,[\"writableStrategy\"]:n,[\"queueingStrategy\"]:o=\"count\"}=e,r=rA(e,[\"readableStrategy\",\"writableStrategy\",\"queueingStrategy\"]);this._controller=null,this._builder=La(r),this._getSize=o!==\"bytes\"?GL:YL;let{[\"highWaterMark\"]:s=o===\"bytes\"?Math.pow(2,14):1e3}=Object.assign({},i),{[\"highWaterMark\"]:a=o===\"bytes\"?Math.pow(2,14):1e3}=Object.assign({},n);this.readable=new ReadableStream({cancel:()=>{this._builder.clear()},pull:l=>{this._maybeFlush(this._builder,this._controller=l)},start:l=>{this._maybeFlush(this._builder,this._controller=l)}},{highWaterMark:s,size:o!==\"bytes\"?GL:YL}),this.writable=new WritableStream({abort:()=>{this._builder.clear()},write:()=>{this._maybeFlush(this._builder,this._controller)},close:()=>{this._maybeFlush(this._builder.finish(),this._controller)}},{highWaterMark:a,size:l=>this._writeValueAndReturnChunkSize(l)})}_writeValueAndReturnChunkSize(e){let i=this._bufferedSize;return this._bufferedSize=this._getSize(this._builder.append(e)),this._bufferedSize-i}_maybeFlush(e,i){i!=null&&(this._bufferedSize>=i.desiredSize&&++this._numChunks&&this._enqueue(i,e.toVector()),e.finished&&((e.length>0||this._numChunks===0)&&++this._numChunks&&this._enqueue(i,e.toVector()),!this._finished&&(this._finished=!0)&&this._enqueue(i,null)))}_enqueue(e,i){this._bufferedSize=0,this._controller=null,i==null?e.close():e.enqueue(i)}},GL=t=>{var e;return(e=t?.length)!==null&&e!==void 0?e:0},YL=t=>{var e;return(e=t?.byteLength)!==null&&e!==void 0?e:0};function _v(t,e){let i=new Is,n=null,o=new ReadableStream({cancel(){return Ke(this,void 0,void 0,function*(){yield i.close()})},start(a){return Ke(this,void 0,void 0,function*(){yield s(a,n||(n=yield r()))})},pull(a){return Ke(this,void 0,void 0,function*(){n?yield s(a,n):a.close()})}});return{writable:new WritableStream(i,Object.assign({highWaterMark:Math.pow(2,14)},t)),readable:o};function r(){return Ke(this,void 0,void 0,function*(){return yield(yield Wi.from(i)).open(e)})}function s(a,l){return Ke(this,void 0,void 0,function*(){let c=a.desiredSize,u=null;for(;!(u=yield l.next()).done;)if(a.enqueue(u.value),c!=null&&--c<=0)return;a.close()})}}function yv(t,e){let i=new this(t),n=new hr(i),o=new ReadableStream({cancel(){return Ke(this,void 0,void 0,function*(){yield n.cancel()})},pull(s){return Ke(this,void 0,void 0,function*(){yield r(s)})},start(s){return Ke(this,void 0,void 0,function*(){yield r(s)})}},Object.assign({highWaterMark:Math.pow(2,14)},e));return{writable:new WritableStream(i,t),readable:o};function r(s){return Ke(this,void 0,void 0,function*(){let a=null,l=s.desiredSize;for(;a=yield n.read(l||null);)if(s.enqueue(a),l!=null&&(l-=a.byteLength)<=0)return;s.close()})}}function Ym(t){let e=Wi.from(t);return Fo(e)?e.then(i=>Ym(i)):e.isAsync()?e.readAll().then(i=>new fi(i)):new fi(e.readAll())}function ql(t,e=\"stream\"){return(e===\"stream\"?uu:du).writeAll(t).toUint8Array(!0)}var KH=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},D2),iC),G2),P2),C2),q2),I2),{compareSchemas:au,compareFields:CL,compareTypes:rv});Fn.toDOMStream=qL;Ui.throughDOM=QL;Wi.throughDOM=_v;$l.throughDOM=_v;Ls.throughDOM=_v;cu.throughDOM=yv;du.throughDOM=yv;uu.throughDOM=yv;var ZH=Object.create,XL=Object.defineProperty,JH=Object.getOwnPropertyDescriptor,e$=Object.getOwnPropertyNames,t$=Object.getPrototypeOf,i$=Object.prototype.hasOwnProperty,n$=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),o$=(t,e,i,n)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let o of e$(e))!i$.call(t,o)&&o!==i&&XL(t,o,{get:()=>e[o],enumerable:!(n=JH(e,o))||n.enumerable});return t},r$=(t,e,i)=>(i=t!=null?ZH(t$(t)):{},o$(e||!t||!t.__esModule?XL(i,\"default\",{value:t,enumerable:!0}):i,t)),s$=n$((t,e)=>{e.exports=Worker}),a$=(t=>(t[t.UNDEFINED=0]=\"UNDEFINED\",t[t.AUTOMATIC=1]=\"AUTOMATIC\",t[t.READ_ONLY=2]=\"READ_ONLY\",t[t.READ_WRITE=3]=\"READ_WRITE\",t))(a$||{}),l$=(t=>(t[t.IDENTIFIER=0]=\"IDENTIFIER\",t[t.NUMERIC_CONSTANT=1]=\"NUMERIC_CONSTANT\",t[t.STRING_CONSTANT=2]=\"STRING_CONSTANT\",t[t.OPERATOR=3]=\"OPERATOR\",t[t.KEYWORD=4]=\"KEYWORD\",t[t.COMMENT=5]=\"COMMENT\",t))(l$||{}),c$=(t=>(t[t.NONE=0]=\"NONE\",t[t.DEBUG=1]=\"DEBUG\",t[t.INFO=2]=\"INFO\",t[t.WARNING=3]=\"WARNING\",t[t.ERROR=4]=\"ERROR\",t))(c$||{}),u$=(t=>(t[t.NONE=0]=\"NONE\",t[t.CONNECT=1]=\"CONNECT\",t[t.DISCONNECT=2]=\"DISCONNECT\",t[t.OPEN=3]=\"OPEN\",t[t.QUERY=4]=\"QUERY\",t[t.INSTANTIATE=5]=\"INSTANTIATE\",t))(u$||{}),d$=(t=>(t[t.NONE=0]=\"NONE\",t[t.OK=1]=\"OK\",t[t.ERROR=2]=\"ERROR\",t[t.START=3]=\"START\",t[t.RUN=4]=\"RUN\",t[t.CAPTURE=5]=\"CAPTURE\",t))(d$||{}),h$=(t=>(t[t.NONE=0]=\"NONE\",t[t.WEB_WORKER=1]=\"WEB_WORKER\",t[t.NODE_WORKER=2]=\"NODE_WORKER\",t[t.BINDINGS=3]=\"BINDINGS\",t[t.ASYNC_DUCKDB=4]=\"ASYNC_DUCKDB\",t))(h$||{}),KL=class{log(t){}},ZL=class{constructor(t=2){this.level=t}log(t){t.level>=this.level&&console.log(t)}};var p$=(t=>(t[t.SUCCESS=0]=\"SUCCESS\",t[t.MAX_ARROW_ERROR=255]=\"MAX_ARROW_ERROR\",t[t.DUCKDB_WASM_RETRY=256]=\"DUCKDB_WASM_RETRY\",t))(p$||{});var f$=class{constructor(t,e){this._bindings=t,this._conn=e}get bindings(){return this._bindings}async close(){return this._bindings.disconnect(this._conn)}useUnsafe(t){return t(this._bindings,this._conn)}async query(t){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:t});let e=await this._bindings.runQuery(this._conn,t),i=Wi.from(e);return console.assert(i.isSync(),\"Reader is not sync\"),console.assert(i.isFile(),\"Reader is not file\"),new fi(i)}async send(t,e=!1){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:t});let i=await this._bindings.startPendingQuery(this._conn,t,e);for(;i==null;)i=await this._bindings.pollPendingQuery(this._conn);let n=new JL(this._bindings,this._conn,i),o=await Wi.from(n);return console.assert(o.isAsync()),console.assert(o.isStream()),o}async cancelSent(){return await this._bindings.cancelPendingQuery(this._conn)}async getTableNames(t){return await this._bindings.getTableNames(this._conn,t)}async prepare(t){let e=await this._bindings.createPrepared(this._conn,t);return new m$(this._bindings,this._conn,e)}async insertArrowTable(t,e){let i=ql(t,\"stream\");await this.insertArrowFromIPCStream(i,e)}async insertArrowFromIPCStream(t,e){await this._bindings.insertArrowFromIPCStream(this._conn,t,e)}async insertCSVFromPath(t,e){await this._bindings.insertCSVFromPath(this._conn,t,e)}async insertJSONFromPath(t,e){await this._bindings.insertJSONFromPath(this._conn,t,e)}},JL=class{constructor(t,e,i){this.db=t,this.conn=e,this.header=i,this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let t=null;for(this._inFlight!=null&&(t=await this._inFlight,this._inFlight=null);t==null;)t=await this.db.fetchQueryResults(this.conn);return this._depleted=t.length==0,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:t}}[Symbol.asyncIterator](){return this}},m$=class{constructor(t,e,i){this.bindings=t,this.connectionId=e,this.statementId=i}async close(){await this.bindings.closePrepared(this.connectionId,this.statementId)}async query(...t){let e=await this.bindings.runPrepared(this.connectionId,this.statementId,t),i=Wi.from(e);return console.assert(i.isSync()),console.assert(i.isFile()),new fi(i)}async send(...t){let e=await this.bindings.sendPrepared(this.connectionId,this.statementId,t),i=new JL(this.bindings,this.connectionId,e),n=await Wi.from(i);return console.assert(n.isAsync()),console.assert(n.isStream()),n}},g$=(t=>(t.CANCEL_PENDING_QUERY=\"CANCEL_PENDING_QUERY\",t.CLOSE_PREPARED=\"CLOSE_PREPARED\",t.COLLECT_FILE_STATISTICS=\"COLLECT_FILE_STATISTICS\",t.REGISTER_OPFS_FILE_NAME=\"REGISTER_OPFS_FILE_NAME\",t.CONNECT=\"CONNECT\",t.COPY_FILE_TO_BUFFER=\"COPY_FILE_TO_BUFFER\",t.COPY_FILE_TO_PATH=\"COPY_FILE_TO_PATH\",t.CREATE_PREPARED=\"CREATE_PREPARED\",t.DISCONNECT=\"DISCONNECT\",t.DROP_FILE=\"DROP_FILE\",t.DROP_FILES=\"DROP_FILES\",t.EXPORT_FILE_STATISTICS=\"EXPORT_FILE_STATISTICS\",t.FETCH_QUERY_RESULTS=\"FETCH_QUERY_RESULTS\",t.FLUSH_FILES=\"FLUSH_FILES\",t.GET_FEATURE_FLAGS=\"GET_FEATURE_FLAGS\",t.GET_TABLE_NAMES=\"GET_TABLE_NAMES\",t.GET_VERSION=\"GET_VERSION\",t.GLOB_FILE_INFOS=\"GLOB_FILE_INFOS\",t.INSERT_ARROW_FROM_IPC_STREAM=\"INSERT_ARROW_FROM_IPC_STREAM\",t.INSERT_CSV_FROM_PATH=\"IMPORT_CSV_FROM_PATH\",t.INSERT_JSON_FROM_PATH=\"IMPORT_JSON_FROM_PATH\",t.INSTANTIATE=\"INSTANTIATE\",t.OPEN=\"OPEN\",t.PING=\"PING\",t.POLL_PENDING_QUERY=\"POLL_PENDING_QUERY\",t.REGISTER_FILE_BUFFER=\"REGISTER_FILE_BUFFER\",t.REGISTER_FILE_HANDLE=\"REGISTER_FILE_HANDLE\",t.REGISTER_FILE_URL=\"REGISTER_FILE_URL\",t.RESET=\"RESET\",t.RUN_PREPARED=\"RUN_PREPARED\",t.RUN_QUERY=\"RUN_QUERY\",t.SEND_PREPARED=\"SEND_PREPARED\",t.START_PENDING_QUERY=\"START_PENDING_QUERY\",t.TOKENIZE=\"TOKENIZE\",t))(g$||{}),_$=(t=>(t.CONNECTION_INFO=\"CONNECTION_INFO\",t.ERROR=\"ERROR\",t.FEATURE_FLAGS=\"FEATURE_FLAGS\",t.FILE_BUFFER=\"FILE_BUFFER\",t.FILE_INFOS=\"FILE_INFOS\",t.FILE_SIZE=\"FILE_SIZE\",t.FILE_STATISTICS=\"FILE_STATISTICS\",t.INSTANTIATE_PROGRESS=\"INSTANTIATE_PROGRESS\",t.LOG=\"LOG\",t.PROGRESS_UPDATE=\"PROGRESS_UPDATE\",t.OK=\"OK\",t.PREPARED_STATEMENT_ID=\"PREPARED_STATEMENT_ID\",t.QUERY_PLAN=\"QUERY_PLAN\",t.QUERY_RESULT=\"QUERY_RESULT\",t.QUERY_RESULT_CHUNK=\"QUERY_RESULT_CHUNK\",t.QUERY_RESULT_HEADER=\"QUERY_RESULT_HEADER\",t.QUERY_RESULT_HEADER_OR_NULL=\"QUERY_RESULT_HEADER_OR_NULL\",t.REGISTERED_FILE=\"REGISTERED_FILE\",t.SCRIPT_TOKENS=\"SCRIPT_TOKENS\",t.SUCCESS=\"SUCCESS\",t.TABLE_NAMES=\"TABLE_NAMES\",t.VERSION_STRING=\"VERSION_STRING\",t))(_$||{}),ai=class{constructor(t,e){this.promiseResolver=()=>{},this.promiseRejecter=()=>{},this.type=t,this.data=e,this.promise=new Promise((i,n)=>{this.promiseResolver=i,this.promiseRejecter=n})}};function vv(t){switch(t.typeId){case E.Binary:return{sqlType:\"binary\"};case E.Bool:return{sqlType:\"bool\"};case E.Date:return{sqlType:\"date\"};case E.DateDay:return{sqlType:\"date32[d]\"};case E.DateMillisecond:return{sqlType:\"date64[ms]\"};case E.Decimal:{let e=t;return{sqlType:\"decimal\",precision:e.precision,scale:e.scale}}case E.Float:return{sqlType:\"float\"};case E.Float16:return{sqlType:\"float16\"};case E.Float32:return{sqlType:\"float32\"};case E.Float64:return{sqlType:\"float64\"};case E.Int:return{sqlType:\"int32\"};case E.Int16:return{sqlType:\"int16\"};case E.Int32:return{sqlType:\"int32\"};case E.Int64:return{sqlType:\"int64\"};case E.Uint16:return{sqlType:\"uint16\"};case E.Uint32:return{sqlType:\"uint32\"};case E.Uint64:return{sqlType:\"uint64\"};case E.Uint8:return{sqlType:\"uint8\"};case E.IntervalDayTime:return{sqlType:\"interval[dt]\"};case E.IntervalYearMonth:return{sqlType:\"interval[m]\"};case E.List:return{sqlType:\"list\",valueType:vv(t.valueType)};case E.FixedSizeBinary:return{sqlType:\"fixedsizebinary\",byteWidth:t.byteWidth};case E.Null:return{sqlType:\"null\"};case E.Utf8:return{sqlType:\"utf8\"};case E.Struct:return{sqlType:\"struct\",fields:t.children.map(e=>EC(e.name,e.type))};case E.Map:{let e=t;return{sqlType:\"map\",keyType:vv(e.keyType),valueType:vv(e.valueType)}}case E.Time:return{sqlType:\"time[s]\"};case E.TimeMicrosecond:return{sqlType:\"time[us]\"};case E.TimeMillisecond:return{sqlType:\"time[ms]\"};case E.TimeNanosecond:return{sqlType:\"time[ns]\"};case E.TimeSecond:return{sqlType:\"time[s]\"};case E.Timestamp:return{sqlType:\"timestamp\",timezone:t.timezone||void 0};case E.TimestampSecond:return{sqlType:\"timestamp[s]\",timezone:t.timezone||void 0};case E.TimestampMicrosecond:return{sqlType:\"timestamp[us]\",timezone:t.timezone||void 0};case E.TimestampNanosecond:return{sqlType:\"timestamp[ns]\",timezone:t.timezone||void 0};case E.TimestampMillisecond:return{sqlType:\"timestamp[ms]\",timezone:t.timezone||void 0}}throw new Error(\"unsupported arrow type: \".concat(t.toString()))}function EC(t,e){let i=vv(e);return i.name=t,i}var y$=new TextEncoder,e4=class{constructor(t,e=null){this._onInstantiationProgress=[],this._onExecutionProgress=[],this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{},this._nextMessageId=0,this._pendingRequests=new Map,this._logger=t,this._onMessageHandler=this.onMessage.bind(this),this._onErrorHandler=this.onError.bind(this),this._onCloseHandler=this.onClose.bind(this),e!=null&&this.attach(e)}get logger(){return this._logger}attach(t){this._worker=t,this._worker.addEventListener(\"message\",this._onMessageHandler),this._worker.addEventListener(\"error\",this._onErrorHandler),this._worker.addEventListener(\"close\",this._onCloseHandler),this._workerShutdownPromise=new Promise((e,i)=>{this._workerShutdownResolver=e})}detach(){this._worker&&(this._worker.removeEventListener(\"message\",this._onMessageHandler),this._worker.removeEventListener(\"error\",this._onErrorHandler),this._worker.removeEventListener(\"close\",this._onCloseHandler),this._worker=null,this._workerShutdownResolver(null),this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async terminate(){this._worker&&(this._worker.terminate(),this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async postTask(t,e=[]){if(!this._worker){console.error(\"cannot send a message since the worker is not set!\");return}let i=this._nextMessageId++;return this._pendingRequests.set(i,t),this._worker.postMessage({messageId:i,type:t.type,data:t.data},e),await t.promise}onMessage(t){var e;let i=t.data;switch(i.type){case\"PROGRESS_UPDATE\":{for(let o of this._onExecutionProgress)o(i.data);return}case\"LOG\":{this._logger.log(i.data);return}case\"INSTANTIATE_PROGRESS\":{for(let o of this._onInstantiationProgress)o(i.data);return}}let n=this._pendingRequests.get(i.requestId);if(!n){console.warn(\"unassociated response: [\".concat(i.requestId,\", \").concat(i.type.toString(),\"]\"));return}if(this._pendingRequests.delete(i.requestId),i.type==\"ERROR\"){let o=new Error(i.data.message);o.name=i.data.name,(e=Object.getOwnPropertyDescriptor(o,\"stack\"))!=null&&e.writable&&(o.stack=i.data.stack),n.promiseRejecter(o);return}switch(n.type){case\"CLOSE_PREPARED\":case\"COLLECT_FILE_STATISTICS\":case\"REGISTER_OPFS_FILE_NAME\":case\"COPY_FILE_TO_PATH\":case\"DISCONNECT\":case\"DROP_FILE\":case\"DROP_FILES\":case\"FLUSH_FILES\":case\"INSERT_ARROW_FROM_IPC_STREAM\":case\"IMPORT_CSV_FROM_PATH\":case\"IMPORT_JSON_FROM_PATH\":case\"OPEN\":case\"PING\":case\"REGISTER_FILE_BUFFER\":case\"REGISTER_FILE_HANDLE\":case\"REGISTER_FILE_URL\":case\"RESET\":if(i.type==\"OK\"){n.promiseResolver(i.data);return}break;case\"INSTANTIATE\":if(this._onInstantiationProgress=[],i.type==\"OK\"){n.promiseResolver(i.data);return}break;case\"GLOB_FILE_INFOS\":if(i.type==\"FILE_INFOS\"){n.promiseResolver(i.data);return}break;case\"GET_VERSION\":if(i.type==\"VERSION_STRING\"){n.promiseResolver(i.data);return}break;case\"GET_FEATURE_FLAGS\":if(i.type==\"FEATURE_FLAGS\"){n.promiseResolver(i.data);return}break;case\"GET_TABLE_NAMES\":if(i.type==\"TABLE_NAMES\"){n.promiseResolver(i.data);return}break;case\"TOKENIZE\":if(i.type==\"SCRIPT_TOKENS\"){n.promiseResolver(i.data);return}break;case\"COPY_FILE_TO_BUFFER\":if(i.type==\"FILE_BUFFER\"){n.promiseResolver(i.data);return}break;case\"EXPORT_FILE_STATISTICS\":if(i.type==\"FILE_STATISTICS\"){n.promiseResolver(i.data);return}break;case\"CONNECT\":if(i.type==\"CONNECTION_INFO\"){n.promiseResolver(i.data);return}break;case\"RUN_PREPARED\":case\"RUN_QUERY\":if(i.type==\"QUERY_RESULT\"){n.promiseResolver(i.data);return}break;case\"SEND_PREPARED\":if(i.type==\"QUERY_RESULT_HEADER\"){n.promiseResolver(i.data);return}break;case\"START_PENDING_QUERY\":if(i.type==\"QUERY_RESULT_HEADER_OR_NULL\"){n.promiseResolver(i.data);return}break;case\"POLL_PENDING_QUERY\":if(i.type==\"QUERY_RESULT_HEADER_OR_NULL\"){n.promiseResolver(i.data);return}break;case\"CANCEL_PENDING_QUERY\":if(this._onInstantiationProgress=[],i.type==\"SUCCESS\"){n.promiseResolver(i.data);return}break;case\"FETCH_QUERY_RESULTS\":if(i.type==\"QUERY_RESULT_CHUNK\"){n.promiseResolver(i.data);return}break;case\"CREATE_PREPARED\":if(i.type==\"PREPARED_STATEMENT_ID\"){n.promiseResolver(i.data);return}break}n.promiseRejecter(new Error(\"unexpected response type: \".concat(i.type.toString())))}onError(t){console.error(t),console.error(\"error in duckdb worker: \".concat(t.message)),this._pendingRequests.clear()}onClose(){if(this._workerShutdownResolver(null),this._pendingRequests.size!=0){console.warn(\"worker terminated with \".concat(this._pendingRequests.size,\" pending requests\"));return}this._pendingRequests.clear()}async reset(){let t=new ai(\"RESET\",null);return await this.postTask(t)}async ping(){let t=new ai(\"PING\",null);await this.postTask(t)}async dropFile(t){let e=new ai(\"DROP_FILE\",t);return await this.postTask(e)}async dropFiles(){let t=new ai(\"DROP_FILES\",null);return await this.postTask(t)}async flushFiles(){let t=new ai(\"FLUSH_FILES\",null);return await this.postTask(t)}async instantiate(t,e=null,i=n=>{}){this._onInstantiationProgress.push(i);let n=new ai(\"INSTANTIATE\",[t,e]);return await this.postTask(n)}async getVersion(){let t=new ai(\"GET_VERSION\",null);return await this.postTask(t)}async getFeatureFlags(){let t=new ai(\"GET_FEATURE_FLAGS\",null);return await this.postTask(t)}async open(t){let e=new ai(\"OPEN\",t);await this.postTask(e)}async tokenize(t){let e=new ai(\"TOKENIZE\",t);return await this.postTask(e)}async connectInternal(){let t=new ai(\"CONNECT\",null);return await this.postTask(t)}async connect(){let t=await this.connectInternal();return new f$(this,t)}async disconnect(t){let e=new ai(\"DISCONNECT\",t);await this.postTask(e)}async runQuery(t,e){let i=new ai(\"RUN_QUERY\",[t,e]);return await this.postTask(i)}async startPendingQuery(t,e,i=!1){let n=new ai(\"START_PENDING_QUERY\",[t,e,i]);return await this.postTask(n)}async pollPendingQuery(t){let e=new ai(\"POLL_PENDING_QUERY\",t);return await this.postTask(e)}async cancelPendingQuery(t){let e=new ai(\"CANCEL_PENDING_QUERY\",t);return await this.postTask(e)}async fetchQueryResults(t){let e=new ai(\"FETCH_QUERY_RESULTS\",t);return await this.postTask(e)}async getTableNames(t,e){let i=new ai(\"GET_TABLE_NAMES\",[t,e]);return await this.postTask(i)}async createPrepared(t,e){let i=new ai(\"CREATE_PREPARED\",[t,e]);return await this.postTask(i)}async closePrepared(t,e){let i=new ai(\"CLOSE_PREPARED\",[t,e]);await this.postTask(i)}async runPrepared(t,e,i){let n=new ai(\"RUN_PREPARED\",[t,e,i]);return await this.postTask(n)}async sendPrepared(t,e,i){let n=new ai(\"SEND_PREPARED\",[t,e,i]);return await this.postTask(n)}async globFiles(t){let e=new ai(\"GLOB_FILE_INFOS\",t);return await this.postTask(e)}async registerFileText(t,e){let i=y$.encode(e);await this.registerFileBuffer(t,i)}async registerFileURL(t,e,i,n){e===void 0&&(e=t);let o=new ai(\"REGISTER_FILE_URL\",[t,e,i,n]);await this.postTask(o)}async registerEmptyFileBuffer(t){}async registerFileBuffer(t,e){let i=new ai(\"REGISTER_FILE_BUFFER\",[t,e]);await this.postTask(i,[e.buffer])}async registerFileHandle(t,e,i,n){let o=new ai(\"REGISTER_FILE_HANDLE\",[t,e,i,n]);await this.postTask(o,[])}async registerOPFSFileName(t){let e=new ai(\"REGISTER_OPFS_FILE_NAME\",[t]);await this.postTask(e,[])}async collectFileStatistics(t,e){let i=new ai(\"COLLECT_FILE_STATISTICS\",[t,e]);await this.postTask(i,[])}async exportFileStatistics(t){let e=new ai(\"EXPORT_FILE_STATISTICS\",t);return await this.postTask(e,[])}async copyFileToBuffer(t){let e=new ai(\"COPY_FILE_TO_BUFFER\",t);return await this.postTask(e)}async copyFileToPath(t,e){let i=new ai(\"COPY_FILE_TO_PATH\",[t,e]);await this.postTask(i)}async insertArrowFromIPCStream(t,e,i){if(e.length==0)return;let n=new ai(\"INSERT_ARROW_FROM_IPC_STREAM\",[t,e,i]);await this.postTask(n,[e.buffer])}async insertCSVFromPath(t,e,i){if(i.columns!==void 0){let o=[];for(let r in i.columns){let s=i.columns[r];o.push(EC(r,s))}i.columnsFlat=o,delete i.columns}let n=new ai(\"IMPORT_CSV_FROM_PATH\",[t,e,i]);await this.postTask(n)}async insertJSONFromPath(t,e,i){if(i.columns!==void 0){let o=[];for(let r in i.columns){let s=i.columns[r];o.push(EC(r,s))}i.columnsFlat=o,delete i.columns}let n=new ai(\"IMPORT_JSON_FROM_PATH\",[t,e,i]);await this.postTask(n)}};function b$(){let t=new TextDecoder;return e=>(typeof SharedArrayBuffer<\"u\"&&e.buffer instanceof SharedArrayBuffer&&(e=new Uint8Array(e)),t.decode(e))}var L1e=b$(),v$=(t=>(t[t.BUFFER=0]=\"BUFFER\",t[t.NODE_FS=1]=\"NODE_FS\",t[t.BROWSER_FILEREADER=2]=\"BROWSER_FILEREADER\",t[t.BROWSER_FSACCESS=3]=\"BROWSER_FSACCESS\",t[t.HTTP=4]=\"HTTP\",t[t.S3=5]=\"S3\",t))(v$||{});var x$=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),w$=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),S$=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),C$=()=>(async t=>{try{return typeof MessageChannel<\"u\"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(t)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),IC={name:\"@duckdb/duckdb-wasm\",version:\"1.30.0\",description:\"DuckDB powered by WebAssembly\",license:\"MIT\",repository:{type:\"git\",url:\"https://github.com/duckdb/duckdb-wasm.git\"},keywords:[\"sql\",\"duckdb\",\"relational\",\"database\",\"data\",\"query\",\"wasm\",\"analytics\",\"olap\",\"arrow\",\"parquet\",\"json\",\"csv\"],dependencies:{\"apache-arrow\":\"^17.0.0\"},devDependencies:{\"@types/emscripten\":\"^1.39.10\",\"@types/jasmine\":\"^5.1.4\",\"@typescript-eslint/eslint-plugin\":\"^6.21.0\",\"@typescript-eslint/parser\":\"^6.21.0\",esbuild:\"^0.20.2\",eslint:\"^8.57.0\",\"eslint-plugin-jasmine\":\"^4.1.3\",\"eslint-plugin-react\":\"^7.34.0\",\"fast-glob\":\"^3.3.2\",jasmine:\"^5.1.0\",\"jasmine-core\":\"^5.1.2\",\"jasmine-spec-reporter\":\"^7.0.0\",\"js-sha256\":\"^0.11.1\",karma:\"^6.4.2\",\"karma-chrome-launcher\":\"^3.2.0\",\"karma-coverage\":\"^2.2.1\",\"karma-firefox-launcher\":\"^2.1.3\",\"karma-jasmine\":\"^5.1.0\",\"karma-jasmine-html-reporter\":\"^2.1.0\",\"karma-sourcemap-loader\":\"^0.4.0\",\"karma-spec-reporter\":\"^0.0.36\",\"make-dir\":\"^4.0.0\",nyc:\"^15.1.0\",prettier:\"^3.2.5\",puppeteer:\"^22.8.0\",rimraf:\"^5.0.5\",s3rver:\"^3.7.1\",typedoc:\"^0.25.13\",typescript:\"^5.3.3\",\"wasm-feature-detect\":\"^1.6.1\",\"web-worker\":\"^1.2.0\"},scripts:{\"build:debug\":\"node bundle.mjs debug && tsc --emitDeclarationOnly\",\"build:release\":\"node bundle.mjs release && tsc --emitDeclarationOnly\",docs:\"typedoc\",format:'prettier --write \"**/*.+(js|ts)\"',report:\"node ./coverage.mjs\",\"test:node\":\"node --enable-source-maps ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs\",\"test:node:debug\":\"node --inspect-brk --enable-source-maps ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs\",\"test:node:coverage\":\"nyc -r json --report-dir ./coverage/node node ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs\",\"test:firefox\":\"karma start ./karma/tests-firefox.cjs\",\"test:chrome\":\"karma start ./karma/tests-chrome.cjs\",\"test:chrome:eh\":\"karma start ./karma/tests-chrome-eh.cjs\",\"test:chrome:coverage\":\"karma start ./karma/tests-chrome-coverage.cjs\",\"test:browser\":\"karma start ./karma/tests-all.cjs\",\"test:browser:debug\":\"karma start ./karma/tests-debug.cjs\",test:\"npm run test:chrome && npm run test:node\",\"test:coverage\":\"npm run test:chrome:coverage && npm run test:node:coverage && npm run report\",lint:\"eslint src test\"},files:[\"dist\",\"!dist/tests-*\",\"!dist/duckdb-browser-mvp.worker.js.map\",\"!dist/types/test\"],main:\"dist/duckdb-browser.cjs\",module:\"dist/duckdb-browser.mjs\",types:\"dist/duckdb-browser.d.ts\",jsdelivr:\"dist/duckdb-browser.cjs\",unpkg:\"dist/duckdb-browser.mjs\",sideEffects:!1,browser:{fs:!1,path:!1,perf_hooks:!1,os:!1,worker_threads:!1},exports:{\"./dist/duckdb-mvp.wasm\":\"./dist/duckdb-mvp.wasm\",\"./dist/duckdb-eh.wasm\":\"./dist/duckdb-eh.wasm\",\"./dist/duckdb-coi.wasm\":\"./dist/duckdb-coi.wasm\",\"./dist/duckdb-browser\":\"./dist/duckdb-browser.mjs\",\"./dist/duckdb-browser.cjs\":\"./dist/duckdb-browser.cjs\",\"./dist/duckdb-browser.mjs\":\"./dist/duckdb-browser.mjs\",\"./dist/duckdb-browser-coi.pthread.worker.js\":\"./dist/duckdb-browser-coi.pthread.worker.js\",\"./dist/duckdb-browser-coi.worker.js\":\"./dist/duckdb-browser-coi.worker.js\",\"./dist/duckdb-browser-eh.worker.js\":\"./dist/duckdb-browser-eh.worker.js\",\"./dist/duckdb-browser-mvp.worker.js\":\"./dist/duckdb-browser-mvp.worker.js\",\"./dist/duckdb-node\":\"./dist/duckdb-node.cjs\",\"./dist/duckdb-node.cjs\":\"./dist/duckdb-node.cjs\",\"./dist/duckdb-node-blocking\":\"./dist/duckdb-node-blocking.cjs\",\"./dist/duckdb-node-blocking.cjs\":\"./dist/duckdb-node-blocking.cjs\",\"./dist/duckdb-node-eh.worker.cjs\":\"./dist/duckdb-node-eh.worker.cjs\",\"./dist/duckdb-node-mvp.worker.cjs\":\"./dist/duckdb-node-mvp.worker.cjs\",\"./blocking\":{node:{types:\"./dist/duckdb-node-blocking.d.ts\",require:\"./dist/duckdb-node-blocking.cjs\",import:\"./dist/duckdb-node-blocking.cjs\"},types:\"./dist/duckdb-node-blocking.d.ts\",import:\"./dist/duckdb-node-blocking.mjs\",require:\"./dist/duckdb-node-blocking.cjs\"},\".\":{browser:{types:\"./dist/duckdb-browser.d.ts\",import:\"./dist/duckdb-browser.mjs\",require:\"./dist/duckdb-browser.cjs\"},node:{types:\"./dist/duckdb-node.d.ts\",import:\"./dist/duckdb-node.cjs\",require:\"./dist/duckdb-node.cjs\"},types:\"./dist/duckdb-browser.d.ts\",import:\"./dist/duckdb-browser.mjs\",require:\"./dist/duckdb-browser.cjs\"}}},k$=IC.name,E$=IC.version,TC=IC.version.split(\".\"),D1e=TC[0],P1e=TC[1],R1e=TC[2],I$=()=>typeof navigator>\"u\";function t4(){let t=\"https://cdn.jsdelivr.net/npm/\".concat(k$,\"@\").concat(E$,\"/dist/\");return{mvp:{mainModule:\"\".concat(t,\"duckdb-mvp.wasm\"),mainWorker:\"\".concat(t,\"duckdb-browser-mvp.worker.js\")},eh:{mainModule:\"\".concat(t,\"duckdb-eh.wasm\"),mainWorker:\"\".concat(t,\"duckdb-browser-eh.worker.js\")}}}var xC=null,wC=null,SC=null,CC=null,kC=null;async function T$(){return xC==null&&(xC=typeof BigInt64Array<\"u\"),wC==null&&(wC=await w$()),SC==null&&(SC=await C$()),CC==null&&(CC=await S$()),kC==null&&(kC=await x$()),{bigInt64Array:xC,crossOriginIsolated:I$()||globalThis.crossOriginIsolated||!1,wasmExceptions:wC,wasmSIMD:CC,wasmThreads:SC,wasmBulkMemory:kC}}async function i4(t){let e=await T$();if(e.wasmExceptions){if(e.wasmSIMD&&e.wasmThreads&&e.crossOriginIsolated&&t.coi)return{mainModule:t.coi.mainModule,mainWorker:t.coi.mainWorker,pthreadWorker:t.coi.pthreadWorker};if(t.eh)return{mainModule:t.eh.mainModule,mainWorker:t.eh.mainWorker,pthreadWorker:null}}return{mainModule:t.mvp.mainModule,mainWorker:t.mvp.mainWorker,pthreadWorker:null}}var M1e=r$(s$());var Ih=class{_ipc;_options;_db;_con;_config;_loadPromise;constructor(e={}){let{ipc:i,duckdb:n,connection:o,config:r,...s}=e;this._ipc=i,this._options=s,this._db=n,this._con=o,this._config=r}async getDuckDB(){return this._db||await n4(this),this._db}async getConnection(){return this._con||await n4(this),this._con}async query(e){let{type:i,sql:n}=e,o=await this.getConnection(),r=await L$(o,n);return i===\"exec\"?void 0:i===\"arrow\"?pl(r,this._ipc):pl(r).toArray()}};function L$(t,e){return new Promise((i,n)=>{t.useUnsafe(async(o,r)=>{try{let s=await o.runQuery(r,e);i(s)}catch(s){n(s)}})})}function n4(t){return t._loadPromise||(t._loadPromise=(t._db?Promise.resolve(t._db):D$(t._options).then(e=>t._db=e)).then(e=>t._config!=null?e.open(t._config).then(()=>e):e).then(e=>e.connect()).then(e=>t._con=e)),t._loadPromise}async function D$({log:t=!1}={}){let e=t4(),i=await i4(e),n=URL.createObjectURL(new Blob([`importScripts(\"${i.mainWorker}\");`],{type:\"text/javascript\"})),o=new Worker(n),r=t?new ZL:new KL,s=new e4(r,o);return await s.instantiate(i.mainModule,i.pthreadWorker),URL.revokeObjectURL(n),s}var M$=\"count\",z$=\"nulls\",O$=\"max\",B$=\"min\",N$=\"distinct\";var twe={[M$]:vl,[N$]:t=>vl(t).distinct(),[O$]:Vc,[B$]:Nd,[z$]:t=>vl().where(Vd(t))};var Lt=(t,e,i=\"info\")=>{if(window.cosmographDisableLogging)return;let n,o;switch(i){case\"ok\":n=\"#54AE47\",o=\"\\u2705 \";break;case\"info\":n=\"#4196f8\",o=\"\\u2139\\uFE0F \";break;case\"warn\":n=\"#FFA500\",o=\"\\u26A0\\uFE0F \";break;case\"util\":n=\"#666666\",o=\"\\u2699\\uFE0F \";break;case\"error\":n=\"#FF0000\",o=\"\\u{1F6AB} \"}console.log(`%c${o}[${e===\"data-kit\"?\"CosmographDataKit\":\"Cosmograph\"}${e?e===\"data-kit\"?\"\":` > ${e}`:\"\"}]: ${t}`,`color: ${n}; font-weight: bold;`)};var Th=(t,e,i=new Set)=>{if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;if(i.has(t))return!0;i.add(t);for(let n=0;n<t.length;n++)if(!Th(t[n],e[n],i))return!1;return!0}if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(typeof t==\"object\"&&t!==null&&e!==null){if(typeof e!=\"object\")return!1;if(t===e)return!0;if(Object.keys(t).length!==Object.keys(e).length)return!1;if(i.has(t))return!0;i.add(t);for(let n in t)if(!Th(t[n],e[n],i))return!1;return!0}return t===e},xv=t=>{if(!t)return[];let e=t.numRows,i=t.schema.fields,n=new Array(e);for(let o=0;o<e;o++){let r={};for(let s=0;s<i.length;s++){let a=t.getChildAt(s);a&&(r[i[s].name]=a.get(o))}n[o]=r}return n},Ah=()=>{let t;try{t=!!process.env.DEBUG}catch{t=!1}return t},Lh=t=>`'${String(t).replace(/'/g,\"''\")}'`,Gl=t=>t?.typeId===2||t?.typeId===3||t?.typeId===7,wv=t=>t?.typeId===5,Sv=t=>t?.typeId===6||t?.typeId===20,Cv=()=>Math.random().toString(36).substring(2,9),o4=(t,e)=>{let{signal:i}=e;return t.reduce((n,o)=>n.then(()=>i.aborted?Promise.resolve():o()),Promise.resolve()).then(()=>{})};var F$=Object.create,r4=Object.defineProperty,U$=Object.getOwnPropertyDescriptor,j$=Object.getOwnPropertyNames,V$=Object.getPrototypeOf,W$=Object.prototype.hasOwnProperty,H$=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),$$=(t,e,i,n)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let o of j$(e))!W$.call(t,o)&&o!==i&&r4(t,o,{get:()=>e[o],enumerable:!(n=U$(e,o))||n.enumerable});return t},q$=(t,e,i)=>(i=t!=null?F$(V$(t)):{},$$(e||!t||!t.__esModule?r4(i,\"default\",{value:t,enumerable:!0}):i,t)),G$=H$((t,e)=>{e.exports=Worker}),Y$=(t=>(t[t.UNDEFINED=0]=\"UNDEFINED\",t[t.AUTOMATIC=1]=\"AUTOMATIC\",t[t.READ_ONLY=2]=\"READ_ONLY\",t[t.READ_WRITE=3]=\"READ_WRITE\",t))(Y$||{}),Q$=(t=>(t[t.IDENTIFIER=0]=\"IDENTIFIER\",t[t.NUMERIC_CONSTANT=1]=\"NUMERIC_CONSTANT\",t[t.STRING_CONSTANT=2]=\"STRING_CONSTANT\",t[t.OPERATOR=3]=\"OPERATOR\",t[t.KEYWORD=4]=\"KEYWORD\",t[t.COMMENT=5]=\"COMMENT\",t))(Q$||{}),X$=(t=>(t[t.NONE=0]=\"NONE\",t[t.DEBUG=1]=\"DEBUG\",t[t.INFO=2]=\"INFO\",t[t.WARNING=3]=\"WARNING\",t[t.ERROR=4]=\"ERROR\",t))(X$||{}),K$=(t=>(t[t.NONE=0]=\"NONE\",t[t.CONNECT=1]=\"CONNECT\",t[t.DISCONNECT=2]=\"DISCONNECT\",t[t.OPEN=3]=\"OPEN\",t[t.QUERY=4]=\"QUERY\",t[t.INSTANTIATE=5]=\"INSTANTIATE\",t))(K$||{}),Z$=(t=>(t[t.NONE=0]=\"NONE\",t[t.OK=1]=\"OK\",t[t.ERROR=2]=\"ERROR\",t[t.START=3]=\"START\",t[t.RUN=4]=\"RUN\",t[t.CAPTURE=5]=\"CAPTURE\",t))(Z$||{}),J$=(t=>(t[t.NONE=0]=\"NONE\",t[t.WEB_WORKER=1]=\"WEB_WORKER\",t[t.NODE_WORKER=2]=\"NODE_WORKER\",t[t.BINDINGS=3]=\"BINDINGS\",t[t.ASYNC_DUCKDB=4]=\"ASYNC_DUCKDB\",t))(J$||{}),s4=class{log(t){}};var eq=(t=>(t[t.SUCCESS=0]=\"SUCCESS\",t[t.MAX_ARROW_ERROR=255]=\"MAX_ARROW_ERROR\",t[t.DUCKDB_WASM_RETRY=256]=\"DUCKDB_WASM_RETRY\",t))(eq||{});var tq=class{constructor(t,e){this._bindings=t,this._conn=e}get bindings(){return this._bindings}async close(){return this._bindings.disconnect(this._conn)}useUnsafe(t){return t(this._bindings,this._conn)}async query(t){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:t});let e=await this._bindings.runQuery(this._conn,t),i=Wi.from(e);return console.assert(i.isSync(),\"Reader is not sync\"),console.assert(i.isFile(),\"Reader is not file\"),new fi(i)}async send(t,e=!1){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:t});let i=await this._bindings.startPendingQuery(this._conn,t,e);for(;i==null;)i=await this._bindings.pollPendingQuery(this._conn);let n=new a4(this._bindings,this._conn,i),o=await Wi.from(n);return console.assert(o.isAsync()),console.assert(o.isStream()),o}async cancelSent(){return await this._bindings.cancelPendingQuery(this._conn)}async getTableNames(t){return await this._bindings.getTableNames(this._conn,t)}async prepare(t){let e=await this._bindings.createPrepared(this._conn,t);return new iq(this._bindings,this._conn,e)}async insertArrowTable(t,e){let i=ql(t,\"stream\");await this.insertArrowFromIPCStream(i,e)}async insertArrowFromIPCStream(t,e){await this._bindings.insertArrowFromIPCStream(this._conn,t,e)}async insertCSVFromPath(t,e){await this._bindings.insertCSVFromPath(this._conn,t,e)}async insertJSONFromPath(t,e){await this._bindings.insertJSONFromPath(this._conn,t,e)}},a4=class{constructor(t,e,i){this.db=t,this.conn=e,this.header=i,this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let t=null;for(this._inFlight!=null&&(t=await this._inFlight,this._inFlight=null);t==null;)t=await this.db.fetchQueryResults(this.conn);return this._depleted=t.length==0,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:t}}[Symbol.asyncIterator](){return this}},iq=class{constructor(t,e,i){this.bindings=t,this.connectionId=e,this.statementId=i}async close(){await this.bindings.closePrepared(this.connectionId,this.statementId)}async query(...t){let e=await this.bindings.runPrepared(this.connectionId,this.statementId,t),i=Wi.from(e);return console.assert(i.isSync()),console.assert(i.isFile()),new fi(i)}async send(...t){let e=await this.bindings.sendPrepared(this.connectionId,this.statementId,t),i=new a4(this.bindings,this.connectionId,e),n=await Wi.from(i);return console.assert(n.isAsync()),console.assert(n.isStream()),n}},nq=(t=>(t.CANCEL_PENDING_QUERY=\"CANCEL_PENDING_QUERY\",t.CLOSE_PREPARED=\"CLOSE_PREPARED\",t.COLLECT_FILE_STATISTICS=\"COLLECT_FILE_STATISTICS\",t.REGISTER_OPFS_FILE_NAME=\"REGISTER_OPFS_FILE_NAME\",t.CONNECT=\"CONNECT\",t.COPY_FILE_TO_BUFFER=\"COPY_FILE_TO_BUFFER\",t.COPY_FILE_TO_PATH=\"COPY_FILE_TO_PATH\",t.CREATE_PREPARED=\"CREATE_PREPARED\",t.DISCONNECT=\"DISCONNECT\",t.DROP_FILE=\"DROP_FILE\",t.DROP_FILES=\"DROP_FILES\",t.EXPORT_FILE_STATISTICS=\"EXPORT_FILE_STATISTICS\",t.FETCH_QUERY_RESULTS=\"FETCH_QUERY_RESULTS\",t.FLUSH_FILES=\"FLUSH_FILES\",t.GET_FEATURE_FLAGS=\"GET_FEATURE_FLAGS\",t.GET_TABLE_NAMES=\"GET_TABLE_NAMES\",t.GET_VERSION=\"GET_VERSION\",t.GLOB_FILE_INFOS=\"GLOB_FILE_INFOS\",t.INSERT_ARROW_FROM_IPC_STREAM=\"INSERT_ARROW_FROM_IPC_STREAM\",t.INSERT_CSV_FROM_PATH=\"IMPORT_CSV_FROM_PATH\",t.INSERT_JSON_FROM_PATH=\"IMPORT_JSON_FROM_PATH\",t.INSTANTIATE=\"INSTANTIATE\",t.OPEN=\"OPEN\",t.PING=\"PING\",t.POLL_PENDING_QUERY=\"POLL_PENDING_QUERY\",t.REGISTER_FILE_BUFFER=\"REGISTER_FILE_BUFFER\",t.REGISTER_FILE_HANDLE=\"REGISTER_FILE_HANDLE\",t.REGISTER_FILE_URL=\"REGISTER_FILE_URL\",t.RESET=\"RESET\",t.RUN_PREPARED=\"RUN_PREPARED\",t.RUN_QUERY=\"RUN_QUERY\",t.SEND_PREPARED=\"SEND_PREPARED\",t.START_PENDING_QUERY=\"START_PENDING_QUERY\",t.TOKENIZE=\"TOKENIZE\",t))(nq||{}),oq=(t=>(t.CONNECTION_INFO=\"CONNECTION_INFO\",t.ERROR=\"ERROR\",t.FEATURE_FLAGS=\"FEATURE_FLAGS\",t.FILE_BUFFER=\"FILE_BUFFER\",t.FILE_INFOS=\"FILE_INFOS\",t.FILE_SIZE=\"FILE_SIZE\",t.FILE_STATISTICS=\"FILE_STATISTICS\",t.INSTANTIATE_PROGRESS=\"INSTANTIATE_PROGRESS\",t.LOG=\"LOG\",t.PROGRESS_UPDATE=\"PROGRESS_UPDATE\",t.OK=\"OK\",t.PREPARED_STATEMENT_ID=\"PREPARED_STATEMENT_ID\",t.QUERY_PLAN=\"QUERY_PLAN\",t.QUERY_RESULT=\"QUERY_RESULT\",t.QUERY_RESULT_CHUNK=\"QUERY_RESULT_CHUNK\",t.QUERY_RESULT_HEADER=\"QUERY_RESULT_HEADER\",t.QUERY_RESULT_HEADER_OR_NULL=\"QUERY_RESULT_HEADER_OR_NULL\",t.REGISTERED_FILE=\"REGISTERED_FILE\",t.SCRIPT_TOKENS=\"SCRIPT_TOKENS\",t.SUCCESS=\"SUCCESS\",t.TABLE_NAMES=\"TABLE_NAMES\",t.VERSION_STRING=\"VERSION_STRING\",t))(oq||{}),li=class{constructor(t,e){this.promiseResolver=()=>{},this.promiseRejecter=()=>{},this.type=t,this.data=e,this.promise=new Promise((i,n)=>{this.promiseResolver=i,this.promiseRejecter=n})}};function kv(t){switch(t.typeId){case E.Binary:return{sqlType:\"binary\"};case E.Bool:return{sqlType:\"bool\"};case E.Date:return{sqlType:\"date\"};case E.DateDay:return{sqlType:\"date32[d]\"};case E.DateMillisecond:return{sqlType:\"date64[ms]\"};case E.Decimal:{let e=t;return{sqlType:\"decimal\",precision:e.precision,scale:e.scale}}case E.Float:return{sqlType:\"float\"};case E.Float16:return{sqlType:\"float16\"};case E.Float32:return{sqlType:\"float32\"};case E.Float64:return{sqlType:\"float64\"};case E.Int:return{sqlType:\"int32\"};case E.Int16:return{sqlType:\"int16\"};case E.Int32:return{sqlType:\"int32\"};case E.Int64:return{sqlType:\"int64\"};case E.Uint16:return{sqlType:\"uint16\"};case E.Uint32:return{sqlType:\"uint32\"};case E.Uint64:return{sqlType:\"uint64\"};case E.Uint8:return{sqlType:\"uint8\"};case E.IntervalDayTime:return{sqlType:\"interval[dt]\"};case E.IntervalYearMonth:return{sqlType:\"interval[m]\"};case E.List:return{sqlType:\"list\",valueType:kv(t.valueType)};case E.FixedSizeBinary:return{sqlType:\"fixedsizebinary\",byteWidth:t.byteWidth};case E.Null:return{sqlType:\"null\"};case E.Utf8:return{sqlType:\"utf8\"};case E.Struct:return{sqlType:\"struct\",fields:t.children.map(e=>MC(e.name,e.type))};case E.Map:{let e=t;return{sqlType:\"map\",keyType:kv(e.keyType),valueType:kv(e.valueType)}}case E.Time:return{sqlType:\"time[s]\"};case E.TimeMicrosecond:return{sqlType:\"time[us]\"};case E.TimeMillisecond:return{sqlType:\"time[ms]\"};case E.TimeNanosecond:return{sqlType:\"time[ns]\"};case E.TimeSecond:return{sqlType:\"time[s]\"};case E.Timestamp:return{sqlType:\"timestamp\",timezone:t.timezone||void 0};case E.TimestampSecond:return{sqlType:\"timestamp[s]\",timezone:t.timezone||void 0};case E.TimestampMicrosecond:return{sqlType:\"timestamp[us]\",timezone:t.timezone||void 0};case E.TimestampNanosecond:return{sqlType:\"timestamp[ns]\",timezone:t.timezone||void 0};case E.TimestampMillisecond:return{sqlType:\"timestamp[ms]\",timezone:t.timezone||void 0}}throw new Error(\"unsupported arrow type: \".concat(t.toString()))}function MC(t,e){let i=kv(e);return i.name=t,i}var rq=new TextEncoder,l4=class{constructor(t,e=null){this._onInstantiationProgress=[],this._onExecutionProgress=[],this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{},this._nextMessageId=0,this._pendingRequests=new Map,this._logger=t,this._onMessageHandler=this.onMessage.bind(this),this._onErrorHandler=this.onError.bind(this),this._onCloseHandler=this.onClose.bind(this),e!=null&&this.attach(e)}get logger(){return this._logger}attach(t){this._worker=t,this._worker.addEventListener(\"message\",this._onMessageHandler),this._worker.addEventListener(\"error\",this._onErrorHandler),this._worker.addEventListener(\"close\",this._onCloseHandler),this._workerShutdownPromise=new Promise((e,i)=>{this._workerShutdownResolver=e})}detach(){this._worker&&(this._worker.removeEventListener(\"message\",this._onMessageHandler),this._worker.removeEventListener(\"error\",this._onErrorHandler),this._worker.removeEventListener(\"close\",this._onCloseHandler),this._worker=null,this._workerShutdownResolver(null),this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async terminate(){this._worker&&(this._worker.terminate(),this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async postTask(t,e=[]){if(!this._worker){console.error(\"cannot send a message since the worker is not set!\");return}let i=this._nextMessageId++;return this._pendingRequests.set(i,t),this._worker.postMessage({messageId:i,type:t.type,data:t.data},e),await t.promise}onMessage(t){var e;let i=t.data;switch(i.type){case\"PROGRESS_UPDATE\":{for(let o of this._onExecutionProgress)o(i.data);return}case\"LOG\":{this._logger.log(i.data);return}case\"INSTANTIATE_PROGRESS\":{for(let o of this._onInstantiationProgress)o(i.data);return}}let n=this._pendingRequests.get(i.requestId);if(!n){console.warn(\"unassociated response: [\".concat(i.requestId,\", \").concat(i.type.toString(),\"]\"));return}if(this._pendingRequests.delete(i.requestId),i.type==\"ERROR\"){let o=new Error(i.data.message);o.name=i.data.name,(e=Object.getOwnPropertyDescriptor(o,\"stack\"))!=null&&e.writable&&(o.stack=i.data.stack),n.promiseRejecter(o);return}switch(n.type){case\"CLOSE_PREPARED\":case\"COLLECT_FILE_STATISTICS\":case\"REGISTER_OPFS_FILE_NAME\":case\"COPY_FILE_TO_PATH\":case\"DISCONNECT\":case\"DROP_FILE\":case\"DROP_FILES\":case\"FLUSH_FILES\":case\"INSERT_ARROW_FROM_IPC_STREAM\":case\"IMPORT_CSV_FROM_PATH\":case\"IMPORT_JSON_FROM_PATH\":case\"OPEN\":case\"PING\":case\"REGISTER_FILE_BUFFER\":case\"REGISTER_FILE_HANDLE\":case\"REGISTER_FILE_URL\":case\"RESET\":if(i.type==\"OK\"){n.promiseResolver(i.data);return}break;case\"INSTANTIATE\":if(this._onInstantiationProgress=[],i.type==\"OK\"){n.promiseResolver(i.data);return}break;case\"GLOB_FILE_INFOS\":if(i.type==\"FILE_INFOS\"){n.promiseResolver(i.data);return}break;case\"GET_VERSION\":if(i.type==\"VERSION_STRING\"){n.promiseResolver(i.data);return}break;case\"GET_FEATURE_FLAGS\":if(i.type==\"FEATURE_FLAGS\"){n.promiseResolver(i.data);return}break;case\"GET_TABLE_NAMES\":if(i.type==\"TABLE_NAMES\"){n.promiseResolver(i.data);return}break;case\"TOKENIZE\":if(i.type==\"SCRIPT_TOKENS\"){n.promiseResolver(i.data);return}break;case\"COPY_FILE_TO_BUFFER\":if(i.type==\"FILE_BUFFER\"){n.promiseResolver(i.data);return}break;case\"EXPORT_FILE_STATISTICS\":if(i.type==\"FILE_STATISTICS\"){n.promiseResolver(i.data);return}break;case\"CONNECT\":if(i.type==\"CONNECTION_INFO\"){n.promiseResolver(i.data);return}break;case\"RUN_PREPARED\":case\"RUN_QUERY\":if(i.type==\"QUERY_RESULT\"){n.promiseResolver(i.data);return}break;case\"SEND_PREPARED\":if(i.type==\"QUERY_RESULT_HEADER\"){n.promiseResolver(i.data);return}break;case\"START_PENDING_QUERY\":if(i.type==\"QUERY_RESULT_HEADER_OR_NULL\"){n.promiseResolver(i.data);return}break;case\"POLL_PENDING_QUERY\":if(i.type==\"QUERY_RESULT_HEADER_OR_NULL\"){n.promiseResolver(i.data);return}break;case\"CANCEL_PENDING_QUERY\":if(this._onInstantiationProgress=[],i.type==\"SUCCESS\"){n.promiseResolver(i.data);return}break;case\"FETCH_QUERY_RESULTS\":if(i.type==\"QUERY_RESULT_CHUNK\"){n.promiseResolver(i.data);return}break;case\"CREATE_PREPARED\":if(i.type==\"PREPARED_STATEMENT_ID\"){n.promiseResolver(i.data);return}break}n.promiseRejecter(new Error(\"unexpected response type: \".concat(i.type.toString())))}onError(t){console.error(t),console.error(\"error in duckdb worker: \".concat(t.message)),this._pendingRequests.clear()}onClose(){if(this._workerShutdownResolver(null),this._pendingRequests.size!=0){console.warn(\"worker terminated with \".concat(this._pendingRequests.size,\" pending requests\"));return}this._pendingRequests.clear()}async reset(){let t=new li(\"RESET\",null);return await this.postTask(t)}async ping(){let t=new li(\"PING\",null);await this.postTask(t)}async dropFile(t){let e=new li(\"DROP_FILE\",t);return await this.postTask(e)}async dropFiles(){let t=new li(\"DROP_FILES\",null);return await this.postTask(t)}async flushFiles(){let t=new li(\"FLUSH_FILES\",null);return await this.postTask(t)}async instantiate(t,e=null,i=n=>{}){this._onInstantiationProgress.push(i);let n=new li(\"INSTANTIATE\",[t,e]);return await this.postTask(n)}async getVersion(){let t=new li(\"GET_VERSION\",null);return await this.postTask(t)}async getFeatureFlags(){let t=new li(\"GET_FEATURE_FLAGS\",null);return await this.postTask(t)}async open(t){let e=new li(\"OPEN\",t);await this.postTask(e)}async tokenize(t){let e=new li(\"TOKENIZE\",t);return await this.postTask(e)}async connectInternal(){let t=new li(\"CONNECT\",null);return await this.postTask(t)}async connect(){let t=await this.connectInternal();return new tq(this,t)}async disconnect(t){let e=new li(\"DISCONNECT\",t);await this.postTask(e)}async runQuery(t,e){let i=new li(\"RUN_QUERY\",[t,e]);return await this.postTask(i)}async startPendingQuery(t,e,i=!1){let n=new li(\"START_PENDING_QUERY\",[t,e,i]);return await this.postTask(n)}async pollPendingQuery(t){let e=new li(\"POLL_PENDING_QUERY\",t);return await this.postTask(e)}async cancelPendingQuery(t){let e=new li(\"CANCEL_PENDING_QUERY\",t);return await this.postTask(e)}async fetchQueryResults(t){let e=new li(\"FETCH_QUERY_RESULTS\",t);return await this.postTask(e)}async getTableNames(t,e){let i=new li(\"GET_TABLE_NAMES\",[t,e]);return await this.postTask(i)}async createPrepared(t,e){let i=new li(\"CREATE_PREPARED\",[t,e]);return await this.postTask(i)}async closePrepared(t,e){let i=new li(\"CLOSE_PREPARED\",[t,e]);await this.postTask(i)}async runPrepared(t,e,i){let n=new li(\"RUN_PREPARED\",[t,e,i]);return await this.postTask(n)}async sendPrepared(t,e,i){let n=new li(\"SEND_PREPARED\",[t,e,i]);return await this.postTask(n)}async globFiles(t){let e=new li(\"GLOB_FILE_INFOS\",t);return await this.postTask(e)}async registerFileText(t,e){let i=rq.encode(e);await this.registerFileBuffer(t,i)}async registerFileURL(t,e,i,n){e===void 0&&(e=t);let o=new li(\"REGISTER_FILE_URL\",[t,e,i,n]);await this.postTask(o)}async registerEmptyFileBuffer(t){}async registerFileBuffer(t,e){let i=new li(\"REGISTER_FILE_BUFFER\",[t,e]);await this.postTask(i,[e.buffer])}async registerFileHandle(t,e,i,n){let o=new li(\"REGISTER_FILE_HANDLE\",[t,e,i,n]);await this.postTask(o,[])}async registerOPFSFileName(t){let e=new li(\"REGISTER_OPFS_FILE_NAME\",[t]);await this.postTask(e,[])}async collectFileStatistics(t,e){let i=new li(\"COLLECT_FILE_STATISTICS\",[t,e]);await this.postTask(i,[])}async exportFileStatistics(t){let e=new li(\"EXPORT_FILE_STATISTICS\",t);return await this.postTask(e,[])}async copyFileToBuffer(t){let e=new li(\"COPY_FILE_TO_BUFFER\",t);return await this.postTask(e)}async copyFileToPath(t,e){let i=new li(\"COPY_FILE_TO_PATH\",[t,e]);await this.postTask(i)}async insertArrowFromIPCStream(t,e,i){if(e.length==0)return;let n=new li(\"INSERT_ARROW_FROM_IPC_STREAM\",[t,e,i]);await this.postTask(n,[e.buffer])}async insertCSVFromPath(t,e,i){if(i.columns!==void 0){let o=[];for(let r in i.columns){let s=i.columns[r];o.push(MC(r,s))}i.columnsFlat=o,delete i.columns}let n=new li(\"IMPORT_CSV_FROM_PATH\",[t,e,i]);await this.postTask(n)}async insertJSONFromPath(t,e,i){if(i.columns!==void 0){let o=[];for(let r in i.columns){let s=i.columns[r];o.push(MC(r,s))}i.columnsFlat=o,delete i.columns}let n=new li(\"IMPORT_JSON_FROM_PATH\",[t,e,i]);await this.postTask(n)}};function sq(){let t=new TextDecoder;return e=>(typeof SharedArrayBuffer<\"u\"&&e.buffer instanceof SharedArrayBuffer&&(e=new Uint8Array(e)),t.decode(e))}var $we=sq(),zC=(t=>(t[t.BUFFER=0]=\"BUFFER\",t[t.NODE_FS=1]=\"NODE_FS\",t[t.BROWSER_FILEREADER=2]=\"BROWSER_FILEREADER\",t[t.BROWSER_FSACCESS=3]=\"BROWSER_FSACCESS\",t[t.HTTP=4]=\"HTTP\",t[t.S3=5]=\"S3\",t))(zC||{});var aq=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),lq=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),cq=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),uq=()=>(async t=>{try{return typeof MessageChannel<\"u\"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(t)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),OC={name:\"@duckdb/duckdb-wasm\",version:\"1.29.1-dev260.0\",description:\"DuckDB powered by WebAssembly\",license:\"MIT\",repository:{type:\"git\",url:\"https://github.com/duckdb/duckdb-wasm.git\"},keywords:[\"sql\",\"duckdb\",\"relational\",\"database\",\"data\",\"query\",\"wasm\",\"analytics\",\"olap\",\"arrow\",\"parquet\",\"json\",\"csv\"],dependencies:{\"apache-arrow\":\"^17.0.0\"},devDependencies:{\"@types/emscripten\":\"^1.39.10\",\"@types/jasmine\":\"^5.1.4\",\"@typescript-eslint/eslint-plugin\":\"^6.21.0\",\"@typescript-eslint/parser\":\"^6.21.0\",esbuild:\"^0.20.2\",eslint:\"^8.57.0\",\"eslint-plugin-jasmine\":\"^4.1.3\",\"eslint-plugin-react\":\"^7.34.0\",\"fast-glob\":\"^3.3.2\",jasmine:\"^5.1.0\",\"jasmine-core\":\"^5.1.2\",\"jasmine-spec-reporter\":\"^7.0.0\",\"js-sha256\":\"^0.11.1\",karma:\"^6.4.2\",\"karma-chrome-launcher\":\"^3.2.0\",\"karma-coverage\":\"^2.2.1\",\"karma-firefox-launcher\":\"^2.1.3\",\"karma-jasmine\":\"^5.1.0\",\"karma-jasmine-html-reporter\":\"^2.1.0\",\"karma-sourcemap-loader\":\"^0.4.0\",\"karma-spec-reporter\":\"^0.0.36\",\"make-dir\":\"^4.0.0\",nyc:\"^15.1.0\",prettier:\"^3.2.5\",puppeteer:\"^22.8.0\",rimraf:\"^5.0.5\",s3rver:\"^3.7.1\",typedoc:\"^0.25.13\",typescript:\"^5.3.3\",\"wasm-feature-detect\":\"^1.6.1\",\"web-worker\":\"^1.2.0\"},scripts:{\"build:debug\":\"node bundle.mjs debug && tsc --emitDeclarationOnly\",\"build:release\":\"node bundle.mjs release && tsc --emitDeclarationOnly\",docs:\"typedoc\",format:'prettier --write \"**/*.+(js|ts)\"',report:\"node ./coverage.mjs\",\"test:node\":\"node --enable-source-maps ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs\",\"test:node:debug\":\"node --inspect-brk --enable-source-maps ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs\",\"test:node:coverage\":\"nyc -r json --report-dir ./coverage/node node ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs\",\"test:firefox\":\"karma start ./karma/tests-firefox.cjs\",\"test:chrome\":\"karma start ./karma/tests-chrome.cjs\",\"test:chrome:eh\":\"karma start ./karma/tests-chrome-eh.cjs\",\"test:chrome:coverage\":\"karma start ./karma/tests-chrome-coverage.cjs\",\"test:browser\":\"karma start ./karma/tests-all.cjs\",\"test:browser:debug\":\"karma start ./karma/tests-debug.cjs\",test:\"npm run test:chrome && npm run test:node\",\"test:coverage\":\"npm run test:chrome:coverage && npm run test:node:coverage && npm run report\",lint:\"eslint src test\"},files:[\"dist\",\"!dist/tests-*\",\"!dist/duckdb-browser-mvp.worker.js.map\",\"!dist/types/test\"],main:\"dist/duckdb-browser.cjs\",module:\"dist/duckdb-browser.mjs\",types:\"dist/duckdb-browser.d.ts\",jsdelivr:\"dist/duckdb-browser.cjs\",unpkg:\"dist/duckdb-browser.mjs\",sideEffects:!1,browser:{fs:!1,path:!1,perf_hooks:!1,os:!1,worker_threads:!1},exports:{\"./dist/duckdb-mvp.wasm\":\"./dist/duckdb-mvp.wasm\",\"./dist/duckdb-eh.wasm\":\"./dist/duckdb-eh.wasm\",\"./dist/duckdb-coi.wasm\":\"./dist/duckdb-coi.wasm\",\"./dist/duckdb-browser\":\"./dist/duckdb-browser.mjs\",\"./dist/duckdb-browser.cjs\":\"./dist/duckdb-browser.cjs\",\"./dist/duckdb-browser.mjs\":\"./dist/duckdb-browser.mjs\",\"./dist/duckdb-browser-coi.pthread.worker.js\":\"./dist/duckdb-browser-coi.pthread.worker.js\",\"./dist/duckdb-browser-coi.worker.js\":\"./dist/duckdb-browser-coi.worker.js\",\"./dist/duckdb-browser-eh.worker.js\":\"./dist/duckdb-browser-eh.worker.js\",\"./dist/duckdb-browser-mvp.worker.js\":\"./dist/duckdb-browser-mvp.worker.js\",\"./dist/duckdb-node\":\"./dist/duckdb-node.cjs\",\"./dist/duckdb-node.cjs\":\"./dist/duckdb-node.cjs\",\"./dist/duckdb-node-blocking\":\"./dist/duckdb-node-blocking.cjs\",\"./dist/duckdb-node-blocking.cjs\":\"./dist/duckdb-node-blocking.cjs\",\"./dist/duckdb-node-eh.worker.cjs\":\"./dist/duckdb-node-eh.worker.cjs\",\"./dist/duckdb-node-mvp.worker.cjs\":\"./dist/duckdb-node-mvp.worker.cjs\",\"./blocking\":{node:{types:\"./dist/duckdb-node-blocking.d.ts\",require:\"./dist/duckdb-node-blocking.cjs\",import:\"./dist/duckdb-node-blocking.cjs\"},types:\"./dist/duckdb-node-blocking.d.ts\",import:\"./dist/duckdb-node-blocking.mjs\",require:\"./dist/duckdb-node-blocking.cjs\"},\".\":{browser:{types:\"./dist/duckdb-browser.d.ts\",import:\"./dist/duckdb-browser.mjs\",require:\"./dist/duckdb-browser.cjs\"},node:{types:\"./dist/duckdb-node.d.ts\",import:\"./dist/duckdb-node.cjs\",require:\"./dist/duckdb-node.cjs\"},types:\"./dist/duckdb-browser.d.ts\",import:\"./dist/duckdb-browser.mjs\",require:\"./dist/duckdb-browser.cjs\"}}},dq=OC.name,hq=OC.version,BC=OC.version.split(\".\"),qwe=BC[0],Gwe=BC[1],Ywe=BC[2],pq=()=>typeof navigator>\"u\";function c4(){let t=\"https://cdn.jsdelivr.net/npm/\".concat(dq,\"@\").concat(hq,\"/dist/\");return{mvp:{mainModule:\"\".concat(t,\"duckdb-mvp.wasm\"),mainWorker:\"\".concat(t,\"duckdb-browser-mvp.worker.js\")},eh:{mainModule:\"\".concat(t,\"duckdb-eh.wasm\"),mainWorker:\"\".concat(t,\"duckdb-browser-eh.worker.js\")}}}var AC=null,LC=null,DC=null,PC=null,RC=null;async function fq(){return AC==null&&(AC=typeof BigInt64Array<\"u\"),LC==null&&(LC=await lq()),DC==null&&(DC=await uq()),PC==null&&(PC=await cq()),RC==null&&(RC=await aq()),{bigInt64Array:AC,crossOriginIsolated:pq()||globalThis.crossOriginIsolated||!1,wasmExceptions:LC,wasmSIMD:PC,wasmThreads:DC,wasmBulkMemory:RC}}async function u4(t){let e=await fq();if(e.wasmExceptions){if(e.wasmSIMD&&e.wasmThreads&&e.crossOriginIsolated&&t.coi)return{mainModule:t.coi.mainModule,mainWorker:t.coi.mainWorker,pthreadWorker:t.coi.pthreadWorker};if(t.eh)return{mainModule:t.eh.mainModule,mainWorker:t.eh.mainWorker,pthreadWorker:null}}return{mainModule:t.mvp.mainModule,mainWorker:t.mvp.mainWorker,pthreadWorker:null}}var Qwe=q$(G$());var Yt,Ct,Rn;(function(t){t.RawPoints=\"temp_cosmograph_raw_points\",t.RawLinks=\"temp_cosmograph_raw_links\",t.PreparedPoints=\"temp_cosmograph_prepared_points\",t.PreparedLinks=\"temp_cosmograph_prepared_links\",t.Points=\"cosmograph_points\",t.Links=\"cosmograph_links\"})(Yt||(Yt={})),function(t){t.Id=\"id\",t.Idx=\"idx\",t.Sequence=\"points_idx_seq\",t.Source=\"source\",t.SourceIdx=\"sourceidx\",t.Target=\"target\",t.TargetIdx=\"targetidx\"}(Ct||(Ct={})),function(t){t.Parquet=\"parquet\",t.Arrow=\"arrow\",t.CSV=\"csv\",t.JSON=\"json\"}(Rn||(Rn={}));var Dh=Ah(),gq=c4(),Ph=class t{constructor(){this.logTable=async(e,i=!1)=>{var n;if(!Dh)return;let o=`SELECT COUNT(*) as count FROM ${e}`,r=await this.query(o);if(!r)return;let s=(n=r.getChild(\"count\"))===null||n===void 0?void 0:n.get(0),a=`SELECT * FROM ${e} ${i?\"\":\"LIMIT 10\"}`,l=await this.query(a);if(!l)return;let c=xv(l);console.groupCollapsed(`Table: ${e} | ${s} rows ${i?\"\":\"(showing first 10)\"}`),console.table(c),console.groupEnd()}}static async getInstance(){return t._initPromise=(async()=>{let e=new t;return await e._init(),e})(),t._instance=await t._initPromise,t._instance}async _init(){let e=await u4(gq),i=URL.createObjectURL(new Blob([`importScripts(\"${e.mainWorker}\");`],{type:\"text/javascript\"})),n=new Worker(i),o=new s4;this._db=new l4(o,n),await this._db.instantiate(e.mainModule,e.pthreadWorker),this._connection=await this._db.connect(),await this._connection.query(`\n      SET max_expression_depth TO 20000000;\n      SET memory_limit = '10GB';\n    `.trim()),URL.revokeObjectURL(i)}get connection(){if(!this._connection)throw new Error(\"Cosmograph: DuckDB-Wasm connection is not initialized\");return this._connection}get db(){if(!this._db)throw new Error(\"Cosmograph: DuckDB-Wasm is not initialized\");return this._db}async destroy(){await this.connection.close(),await this.db.terminate()}async dropTable(e){await this.query(`DROP TABLE IF EXISTS \"${e}\"`)}async query(e){let i;Dh&&(console.log(\"%cExecuted query:\",\"color: #a6a6a6;\",{sql:e}),i=performance.now());try{return await this.connection.query(e)}catch(n){console.warn(`Couldn't query internal DuckDB instance: ${n}`)}finally{if(Dh&&i!==void 0){let n=performance.now()-i;console.log(\"%cFinished query:\",\"color: #a6a6a6;\",{sql:e,duration:+n.toFixed(1)})}}}async exec(e){await this.query(e)}async send(e,i){Dh&&console.log(e),Dh&&console.time(\"query\");try{let n=await this.connection.send(e),o;for(;!(o=await n.next()).done;){let r=o.value;for(let s=0;s<r.numRows;s++){let a=r.getChildAt(s);i&&i(a)}}}catch(n){console.warn(`Couldn't query internal DuckDB instance: ${n}`)}Dh&&console.timeEnd(\"query\")}async uploadData(e,i,n=!1,o,r){if(Array.isArray(e)&&e.length>0&&e[0]&&typeof e[0]==\"object\")return await this.uploadObject(e,i,n);if(e instanceof Uint8Array||e instanceof ArrayBuffer||e instanceof fi)return await this._uploadArrow(e,i,n);if(typeof e==\"string\"||e instanceof File){let s=c=>c.endsWith(\".arrow\")?Rn.Arrow:c.endsWith(\".parquet\")||c.endsWith(\".pq\")?Rn.Parquet:c.endsWith(\".csv\")||c.endsWith(\".tsv\")?Rn.CSV:c.endsWith(\".json\")?Rn.JSON:\"unknown\",a=e instanceof File?e.name:e,l=s(a);l===\"unknown\"&&console.warn(`Unknown file type: ${a}`);try{switch(l){case Rn.Arrow:return await this._uploadArrow(e,i,n);case Rn.Parquet:return await this._uploadParquet(e,i,n);case Rn.CSV:return await this._uploadCSV(e,i,n,o,r);case Rn.JSON:return await this._uploadJSON(e,i,n);default:throw new Error(\"Unsupported file type\")}}catch(c){return console.warn(`uploadData: ${c}`),{error:c}}}return{error:\"Could not upload data\"}}async uploadArrow(e,i){return await this._uploadArrow(e,i)}async exportTableToArrow(e){try{let i=[],n=await this.connection.send(`SELECT * FROM ${e}`),o;for(;!(o=await n.next()).done;){let r=o.value;r&&r.numRows&&i.push(r)}return i.length?new fi(i):void 0}catch(i){throw console.warn(`exportTableToArrow: Failed to export table \"${e}\":`,i),i}}async exportTableToArrowBuffer(e){let i=await this.exportTableToArrow(e);return i?ql(i):void 0}async exportTableToPq(e){var i,n;let o=`${e}.${Rn.Parquet}`;try{return await this.connection.query(`COPY ${e} TO '${o}' (FORMAT PARQUET)`),await((i=this._db)===null||i===void 0?void 0:i.copyFileToBuffer(o))}catch(r){console.error(`Failed to export table \"${e}\" to file \"${o}\":`,r)}finally{await((n=this._db)===null||n===void 0?void 0:n.registerEmptyFileBuffer(o))}}async exportTableToCSV(e){var i,n;let o=`${e}.${Rn.CSV}`;try{return await this.connection.query(`COPY ${e} TO '${o}' (HEADER, DELIMITER ',')`),await((i=this._db)===null||i===void 0?void 0:i.copyFileToBuffer(o))}catch(r){console.error(`Failed to export table \"${e}\" to file \"${o}\":`,r)}finally{await((n=this._db)===null||n===void 0?void 0:n.registerEmptyFileBuffer(o))}}async uploadObject(e,i,n=!1){if(e.length===0)return{};try{let o=`t_${i}`;await this.query(`DROP TABLE IF EXISTS \"${o}\"`);let r=av(e);return await this.connection.insertArrowTable(r,{name:o}),await this._handleTableInsertion(o,i,n),await this.logTable(i),{}}catch(o){throw new Error(`Failed to upload Object: ${o}`)}}async _uploadCSV(e,i,n=!1,o,r){let s=`t_${i}`,a=null;try{let l;if(e instanceof File){let u=await e.text();a=e.name,await this.db.registerFileText(a,u),l=a}else l=e;let c=`\n        CREATE TABLE ${s} AS SELECT * FROM read_csv_auto(\n          '${l}',\n          SAMPLE_SIZE=-1,\n          allow_quoted_nulls=true,\n          ignore_errors=true\n          ${o?`, timestampformat='${o}'`:\"\"}\n          ${r?`, types=${JSON.stringify(r)}`:\"\"}\n        )`.trim();return await this.query(c),await this._handleTableInsertion(s,i,n),await this.logTable(i),{}}catch(l){throw new Error(`Failed to upload CSV: ${l}`)}finally{a&&await this.db.dropFile(a)}}async _uploadParquet(e,i,n=!1){let o=`t_${i}`,r=null;try{let s;e instanceof File?(r=e.name,await this.db.registerFileHandle(r,e,zC.BROWSER_FILEREADER,!0),s=r):s=e;let a=`CREATE TABLE ${o} AS SELECT * FROM read_parquet('${s}')`;return await this.query(a),await this._handleTableInsertion(o,i,n),await this.logTable(i),{}}catch(s){let a=s instanceof Error?s.message:String(s);throw new Error(`Failed to upload Parquet: ${a}`)}finally{r&&await this.db.dropFile(r)}}async _uploadArrow(e,i,n=!1){try{let o,r=`t_${i}`;if(await this.query(`DROP TABLE IF EXISTS \"${r}\"`),e instanceof File)o=await e.arrayBuffer(),o=new Uint8Array(o);else if(typeof e==\"string\"){let a=await fetch(e);a.ok||console.warn(`Failed to fetch file: ${a.statusText}`),o=await a.arrayBuffer(),o=new Uint8Array(o)}else o=e;let s=e instanceof fi?e:Ym(o);return await this.connection.insertArrowTable(s,{name:r}),await this._handleTableInsertion(r,i,n),await this.logTable(i),{}}catch(o){let r=o instanceof Error?o.message:String(o);throw new Error(`Failed to upload Arrow: ${r}`)}}async _uploadJSON(e,i,n=!1){let o=`t_${i}`;await this.query(`DROP TABLE IF EXISTS \"${o}\"`);try{if(e instanceof File){let r=await e.text();await this.db.registerFileText(\"json\",r)}else{let r=await fetch(e);r.ok||console.warn(`Failed to fetch file: ${r.statusText}`);let s=await r.text();await this.db.registerFileText(\"json\",s)}return await this.connection.insertJSONFromPath(\"json\",{name:o}),await this._handleTableInsertion(o,i,n),await this.logTable(i),{}}catch(r){let s=r instanceof Error?r.message:String(r);throw new Error(`Failed to upload JSON: ${s}`)}finally{await this.db.dropFile(\"json\")}}async _handleTableInsertion(e,i,n){n?(await this.query(`INSERT INTO \"${i}\" SELECT * FROM \"${e}\"`),await this.query(`DROP TABLE IF EXISTS \"${e}\"`)):(await this.query(`DROP TABLE IF EXISTS \"${i}\"`),await this.query(`ALTER TABLE \"${e}\" RENAME TO \"${i}\"`))}};var _q=Ah(),Ev=class t{constructor(e,i){if(!e)return;let n=new $d;n.databaseConnector(e),_q?n.manager.logQueries(!0):n.logger(null),this._coordinator=n,this._internalDB=i}static async create(e){let i,n;try{if(e)typeof e==\"string\"?(i=new qf({uri:e}),Lt(\"Connected to remote DuckDB instance\",\"\",\"ok\")):(i=new Ih(e),Lt(\"Connected to configured duckdb-wasm instance\",\"\",\"ok\"));else{let o=Date.now();n=await Ph.getInstance(),i=new Ih({duckdb:n.db,connection:n.connection});let r=Date.now();Lt(`Initialized local duckdb-wasm instance in ${(r-o).toFixed()}ms`,\"\",\"ok\")}}catch(o){return void Lt(`Couldn't create MosaicDBCoordinator: ${o}`,\"\",\"error\")}return new t(i,n)}get internalDB(){return this._internalDB}connect(e){var i,n;!((i=this._coordinator)===null||i===void 0)&&i.clients.has(e)||(n=this._coordinator)===null||n===void 0||n.connect(e)}disconnect(e){var i,n;!((i=this._coordinator)===null||i===void 0)&&i.clients.has(e)&&((n=this._coordinator)===null||n===void 0||n.disconnect(e))}clearCache(){var e;(e=this._coordinator)===null||e===void 0||e.clear({cache:!0,clients:!1})}async destroy(){var e,i;await((e=this._internalDB)===null||e===void 0?void 0:e.destroy()),(i=this._coordinator)===null||i===void 0||i.clear()}query(e,i={}){let{cache:n=!1,...o}=i;return this._coordinator.query(e,{cache:n,...o})}};var Iv=\"http://www.w3.org/1999/xhtml\",NC={svg:\"http://www.w3.org/2000/svg\",xhtml:Iv,xlink:\"http://www.w3.org/1999/xlink\",xml:\"http://www.w3.org/XML/1998/namespace\",xmlns:\"http://www.w3.org/2000/xmlns/\"};function Oa(t){var e=t+=\"\",i=e.indexOf(\":\");return i>=0&&(e=t.slice(0,i))!==\"xmlns\"&&(t=t.slice(i+1)),NC.hasOwnProperty(e)?{space:NC[e],local:t}:t}function yq(t){return function(){var e=this.ownerDocument,i=this.namespaceURI;return i===Iv&&e.documentElement.namespaceURI===Iv?e.createElement(t):e.createElementNS(i,t)}}function bq(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Tv(t){var e=Oa(t);return(e.local?bq:yq)(e)}function vq(){}function hu(t){return t==null?vq:function(){return this.querySelector(t)}}function d4(t){typeof t!=\"function\"&&(t=hu(t));for(var e=this._groups,i=e.length,n=new Array(i),o=0;o<i;++o)for(var r=e[o],s=r.length,a=n[o]=new Array(s),l,c,u=0;u<s;++u)(l=r[u])&&(c=t.call(l,l.__data__,u,r))&&(\"__data__\"in l&&(c.__data__=l.__data__),a[u]=c);return new nn(n,this._parents)}function FC(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function xq(){return[]}function Qm(t){return t==null?xq:function(){return this.querySelectorAll(t)}}function wq(t){return function(){return FC(t.apply(this,arguments))}}function h4(t){typeof t==\"function\"?t=wq(t):t=Qm(t);for(var e=this._groups,i=e.length,n=[],o=[],r=0;r<i;++r)for(var s=e[r],a=s.length,l,c=0;c<a;++c)(l=s[c])&&(n.push(t.call(l,l.__data__,c,s)),o.push(l));return new nn(n,o)}function Xm(t){return function(){return this.matches(t)}}function Av(t){return function(e){return e.matches(t)}}var Sq=Array.prototype.find;function Cq(t){return function(){return Sq.call(this.children,t)}}function kq(){return this.firstElementChild}function p4(t){return this.select(t==null?kq:Cq(typeof t==\"function\"?t:Av(t)))}var Eq=Array.prototype.filter;function Iq(){return Array.from(this.children)}function Tq(t){return function(){return Eq.call(this.children,t)}}function f4(t){return this.selectAll(t==null?Iq:Tq(typeof t==\"function\"?t:Av(t)))}function m4(t){typeof t!=\"function\"&&(t=Xm(t));for(var e=this._groups,i=e.length,n=new Array(i),o=0;o<i;++o)for(var r=e[o],s=r.length,a=n[o]=[],l,c=0;c<s;++c)(l=r[c])&&t.call(l,l.__data__,c,r)&&a.push(l);return new nn(n,this._parents)}function Lv(t){return new Array(t.length)}function g4(){return new nn(this._enter||this._groups.map(Lv),this._parents)}function Km(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Km.prototype={constructor:Km,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function _4(t){return function(){return t}}function Aq(t,e,i,n,o,r){for(var s=0,a,l=e.length,c=r.length;s<c;++s)(a=e[s])?(a.__data__=r[s],n[s]=a):i[s]=new Km(t,r[s]);for(;s<l;++s)(a=e[s])&&(o[s]=a)}function Lq(t,e,i,n,o,r,s){var a,l,c=new Map,u=e.length,d=r.length,h=new Array(u),f;for(a=0;a<u;++a)(l=e[a])&&(h[a]=f=s.call(l,l.__data__,a,e)+\"\",c.has(f)?o[a]=l:c.set(f,l));for(a=0;a<d;++a)f=s.call(t,r[a],a,r)+\"\",(l=c.get(f))?(n[a]=l,l.__data__=r[a],c.delete(f)):i[a]=new Km(t,r[a]);for(a=0;a<u;++a)(l=e[a])&&c.get(h[a])===l&&(o[a]=l)}function Dq(t){return t.__data__}function y4(t,e){if(!arguments.length)return Array.from(this,Dq);var i=e?Lq:Aq,n=this._parents,o=this._groups;typeof t!=\"function\"&&(t=_4(t));for(var r=o.length,s=new Array(r),a=new Array(r),l=new Array(r),c=0;c<r;++c){var u=n[c],d=o[c],h=d.length,f=Pq(t.call(u,u&&u.__data__,c,n)),v=f.length,L=a[c]=new Array(v),A=s[c]=new Array(v),I=l[c]=new Array(h);i(u,d,L,A,I,f,e);for(var B=0,F=0,k,N;B<v;++B)if(k=L[B]){for(B>=F&&(F=B+1);!(N=A[F])&&++F<v;);k._next=N||null}}return s=new nn(s,n),s._enter=a,s._exit=l,s}function Pq(t){return typeof t==\"object\"&&\"length\"in t?t:Array.from(t)}function b4(){return new nn(this._exit||this._groups.map(Lv),this._parents)}function v4(t,e,i){var n=this.enter(),o=this,r=this.exit();return typeof t==\"function\"?(n=t(n),n&&(n=n.selection())):n=n.append(t+\"\"),e!=null&&(o=e(o),o&&(o=o.selection())),i==null?r.remove():i(r),n&&o?n.merge(o).order():o}function x4(t){for(var e=t.selection?t.selection():t,i=this._groups,n=e._groups,o=i.length,r=n.length,s=Math.min(o,r),a=new Array(o),l=0;l<s;++l)for(var c=i[l],u=n[l],d=c.length,h=a[l]=new Array(d),f,v=0;v<d;++v)(f=c[v]||u[v])&&(h[v]=f);for(;l<o;++l)a[l]=i[l];return new nn(a,this._parents)}function w4(){for(var t=this._groups,e=-1,i=t.length;++e<i;)for(var n=t[e],o=n.length-1,r=n[o],s;--o>=0;)(s=n[o])&&(r&&s.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(s,r),r=s);return this}function S4(t){t||(t=Rq);function e(d,h){return d&&h?t(d.__data__,h.__data__):!d-!h}for(var i=this._groups,n=i.length,o=new Array(n),r=0;r<n;++r){for(var s=i[r],a=s.length,l=o[r]=new Array(a),c,u=0;u<a;++u)(c=s[u])&&(l[u]=c);l.sort(e)}return new nn(o,this._parents).order()}function Rq(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function C4(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function k4(){return Array.from(this)}function E4(){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var n=t[e],o=0,r=n.length;o<r;++o){var s=n[o];if(s)return s}return null}function I4(){let t=0;for(let e of this)++t;return t}function T4(){return!this.node()}function A4(t){for(var e=this._groups,i=0,n=e.length;i<n;++i)for(var o=e[i],r=0,s=o.length,a;r<s;++r)(a=o[r])&&t.call(a,a.__data__,r,o);return this}function Mq(t){return function(){this.removeAttribute(t)}}function zq(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Oq(t,e){return function(){this.setAttribute(t,e)}}function Bq(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Nq(t,e){return function(){var i=e.apply(this,arguments);i==null?this.removeAttribute(t):this.setAttribute(t,i)}}function Fq(t,e){return function(){var i=e.apply(this,arguments);i==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}}function L4(t,e){var i=Oa(t);if(arguments.length<2){var n=this.node();return i.local?n.getAttributeNS(i.space,i.local):n.getAttribute(i)}return this.each((e==null?i.local?zq:Mq:typeof e==\"function\"?i.local?Fq:Nq:i.local?Bq:Oq)(i,e))}function Dv(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Uq(t){return function(){this.style.removeProperty(t)}}function jq(t,e,i){return function(){this.style.setProperty(t,e,i)}}function Vq(t,e,i){return function(){var n=e.apply(this,arguments);n==null?this.style.removeProperty(t):this.style.setProperty(t,n,i)}}function D4(t,e,i){return arguments.length>1?this.each((e==null?Uq:typeof e==\"function\"?Vq:jq)(t,e,i??\"\")):Yl(this.node(),t)}function Yl(t,e){return t.style.getPropertyValue(e)||Dv(t).getComputedStyle(t,null).getPropertyValue(e)}function Wq(t){return function(){delete this[t]}}function Hq(t,e){return function(){this[t]=e}}function $q(t,e){return function(){var i=e.apply(this,arguments);i==null?delete this[t]:this[t]=i}}function P4(t,e){return arguments.length>1?this.each((e==null?Wq:typeof e==\"function\"?$q:Hq)(t,e)):this.node()[t]}function R4(t){return t.trim().split(/^|\\s+/)}function UC(t){return t.classList||new M4(t)}function M4(t){this._node=t,this._names=R4(t.getAttribute(\"class\")||\"\")}M4.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute(\"class\",this._names.join(\" \")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute(\"class\",this._names.join(\" \")))},contains:function(t){return this._names.indexOf(t)>=0}};function z4(t,e){for(var i=UC(t),n=-1,o=e.length;++n<o;)i.add(e[n])}function O4(t,e){for(var i=UC(t),n=-1,o=e.length;++n<o;)i.remove(e[n])}function qq(t){return function(){z4(this,t)}}function Gq(t){return function(){O4(this,t)}}function Yq(t,e){return function(){(e.apply(this,arguments)?z4:O4)(this,t)}}function B4(t,e){var i=R4(t+\"\");if(arguments.length<2){for(var n=UC(this.node()),o=-1,r=i.length;++o<r;)if(!n.contains(i[o]))return!1;return!0}return this.each((typeof e==\"function\"?Yq:e?qq:Gq)(i,e))}function Qq(){this.textContent=\"\"}function Xq(t){return function(){this.textContent=t}}function Kq(t){return function(){var e=t.apply(this,arguments);this.textContent=e??\"\"}}function N4(t){return arguments.length?this.each(t==null?Qq:(typeof t==\"function\"?Kq:Xq)(t)):this.node().textContent}function Zq(){this.innerHTML=\"\"}function Jq(t){return function(){this.innerHTML=t}}function eG(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??\"\"}}function F4(t){return arguments.length?this.each(t==null?Zq:(typeof t==\"function\"?eG:Jq)(t)):this.node().innerHTML}function tG(){this.nextSibling&&this.parentNode.appendChild(this)}function U4(){return this.each(tG)}function iG(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function j4(){return this.each(iG)}function V4(t){var e=typeof t==\"function\"?t:Tv(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function nG(){return null}function W4(t,e){var i=typeof t==\"function\"?t:Tv(t),n=e==null?nG:typeof e==\"function\"?e:hu(e);return this.select(function(){return this.insertBefore(i.apply(this,arguments),n.apply(this,arguments)||null)})}function oG(){var t=this.parentNode;t&&t.removeChild(this)}function H4(){return this.each(oG)}function rG(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function sG(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function $4(t){return this.select(t?sG:rG)}function q4(t){return arguments.length?this.property(\"__data__\",t):this.node().__data__}function aG(t){return function(e){t.call(this,e,this.__data__)}}function lG(t){return t.trim().split(/^|\\s+/).map(function(e){var i=\"\",n=e.indexOf(\".\");return n>=0&&(i=e.slice(n+1),e=e.slice(0,n)),{type:e,name:i}})}function cG(t){return function(){var e=this.__on;if(e){for(var i=0,n=-1,o=e.length,r;i<o;++i)r=e[i],(!t.type||r.type===t.type)&&r.name===t.name?this.removeEventListener(r.type,r.listener,r.options):e[++n]=r;++n?e.length=n:delete this.__on}}}function uG(t,e,i){return function(){var n=this.__on,o,r=aG(e);if(n){for(var s=0,a=n.length;s<a;++s)if((o=n[s]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=r,o.options=i),o.value=e;return}}this.addEventListener(t.type,r,i),o={type:t.type,name:t.name,value:e,listener:r,options:i},n?n.push(o):this.__on=[o]}}function G4(t,e,i){var n=lG(t+\"\"),o,r=n.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(o=0,u=a[l];o<r;++o)if((s=n[o]).type===u.type&&s.name===u.name)return u.value}return}for(a=e?uG:cG,o=0;o<r;++o)this.each(a(n[o],e,i));return this}function Y4(t,e,i){var n=Dv(t),o=n.CustomEvent;typeof o==\"function\"?o=new o(e,i):(o=n.document.createEvent(\"Event\"),i?(o.initEvent(e,i.bubbles,i.cancelable),o.detail=i.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function dG(t,e){return function(){return Y4(this,t,e)}}function hG(t,e){return function(){return Y4(this,t,e.apply(this,arguments))}}function Q4(t,e){return this.each((typeof e==\"function\"?hG:dG)(t,e))}function*X4(){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var n=t[e],o=0,r=n.length,s;o<r;++o)(s=n[o])&&(yield s)}var jC=[null];function nn(t,e){this._groups=t,this._parents=e}function K4(){return new nn([[document.documentElement]],jC)}function pG(){return this}nn.prototype=K4.prototype={constructor:nn,select:d4,selectAll:h4,selectChild:p4,selectChildren:f4,filter:m4,data:y4,enter:g4,exit:b4,join:v4,merge:x4,selection:pG,order:w4,sort:S4,call:C4,nodes:k4,node:E4,size:I4,empty:T4,each:A4,attr:L4,style:D4,property:P4,classed:B4,text:N4,html:F4,raise:U4,lower:j4,append:V4,insert:W4,remove:H4,clone:$4,datum:q4,on:G4,dispatch:Q4,[Symbol.iterator]:X4};var Ba=K4;function Mi(t){return typeof t==\"string\"?new nn([[document.querySelector(t)]],[document.documentElement]):new nn([[t]],jC)}function Z4(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Pv(t,e){if(t=Z4(t),e===void 0&&(e=t.currentTarget),e){var i=e.ownerSVGElement||e;if(i.createSVGPoint){var n=i.createSVGPoint();return n.x=t.clientX,n.y=t.clientY,n=n.matrixTransform(e.getScreenCTM().inverse()),[n.x,n.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}var fG={value:()=>{}};function eD(){for(var t=0,e=arguments.length,i={},n;t<e;++t){if(!(n=arguments[t]+\"\")||n in i||/[\\s.]/.test(n))throw new Error(\"illegal type: \"+n);i[n]=[]}return new Rv(i)}function Rv(t){this._=t}function mG(t,e){return t.trim().split(/^|\\s+/).map(function(i){var n=\"\",o=i.indexOf(\".\");if(o>=0&&(n=i.slice(o+1),i=i.slice(0,o)),i&&!e.hasOwnProperty(i))throw new Error(\"unknown type: \"+i);return{type:i,name:n}})}Rv.prototype=eD.prototype={constructor:Rv,on:function(t,e){var i=this._,n=mG(t+\"\",i),o,r=-1,s=n.length;if(arguments.length<2){for(;++r<s;)if((o=(t=n[r]).type)&&(o=gG(i[o],t.name)))return o;return}if(e!=null&&typeof e!=\"function\")throw new Error(\"invalid callback: \"+e);for(;++r<s;)if(o=(t=n[r]).type)i[o]=J4(i[o],t.name,e);else if(e==null)for(o in i)i[o]=J4(i[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var i in e)t[i]=e[i].slice();return new Rv(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var i=new Array(o),n=0,o,r;n<o;++n)i[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error(\"unknown type: \"+t);for(r=this._[t],n=0,o=r.length;n<o;++n)r[n].value.apply(e,i)},apply:function(t,e,i){if(!this._.hasOwnProperty(t))throw new Error(\"unknown type: \"+t);for(var n=this._[t],o=0,r=n.length;o<r;++o)n[o].value.apply(e,i)}};function gG(t,e){for(var i=0,n=t.length,o;i<n;++i)if((o=t[i]).name===e)return o.value}function J4(t,e,i){for(var n=0,o=t.length;n<o;++n)if(t[n].name===e){t[n]=fG,t=t.slice(0,n).concat(t.slice(n+1));break}return i!=null&&t.push({name:e,value:i}),t}var Zm=eD;var Rh=0,eg=0,Jm=0,iD=1e3,Mv,tg,zv=0,pu=0,Ov=0,ig=typeof performance==\"object\"&&performance.now?performance:Date,nD=typeof window==\"object\"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function og(){return pu||(nD(_G),pu=ig.now()+Ov)}function _G(){pu=0}function ng(){this._call=this._time=this._next=null}ng.prototype=Bv.prototype={constructor:ng,restart:function(t,e,i){if(typeof t!=\"function\")throw new TypeError(\"callback is not a function\");i=(i==null?og():+i)+(e==null?0:+e),!this._next&&tg!==this&&(tg?tg._next=this:Mv=this,tg=this),this._call=t,this._time=i,VC()},stop:function(){this._call&&(this._call=null,this._time=1/0,VC())}};function Bv(t,e,i){var n=new ng;return n.restart(t,e,i),n}function oD(){og(),++Rh;for(var t=Mv,e;t;)(e=pu-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Rh}function tD(){pu=(zv=ig.now())+Ov,Rh=eg=0;try{oD()}finally{Rh=0,bG(),pu=0}}function yG(){var t=ig.now(),e=t-zv;e>iD&&(Ov-=e,zv=t)}function bG(){for(var t,e=Mv,i,n=1/0;e;)e._call?(n>e._time&&(n=e._time),t=e,e=e._next):(i=e._next,e._next=null,e=t?t._next=i:Mv=i);tg=t,VC(n)}function VC(t){if(!Rh){eg&&(eg=clearTimeout(eg));var e=t-pu;e>24?(t<1/0&&(eg=setTimeout(tD,t-ig.now()-Ov)),Jm&&(Jm=clearInterval(Jm))):(Jm||(zv=ig.now(),Jm=setInterval(yG,iD)),Rh=1,nD(tD))}}function Nv(t,e,i){var n=new ng;return e=e==null?0:+e,n.restart(o=>{n.stop(),t(o+e)},e,i),n}var vG=Zm(\"start\",\"end\",\"cancel\",\"interrupt\"),xG=[],aD=0,rD=1,Uv=2,Fv=3,sD=4,jv=5,rg=6;function Ql(t,e,i,n,o,r){var s=t.__transition;if(!s)t.__transition={};else if(i in s)return;wG(t,i,{name:e,index:n,group:o,on:vG,tween:xG,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:aD})}function sg(t,e){var i=Cn(t,e);if(i.state>aD)throw new Error(\"too late; already scheduled\");return i}function Wn(t,e){var i=Cn(t,e);if(i.state>Fv)throw new Error(\"too late; already running\");return i}function Cn(t,e){var i=t.__transition;if(!i||!(i=i[e]))throw new Error(\"transition not found\");return i}function wG(t,e,i){var n=t.__transition,o;n[e]=i,i.timer=Bv(r,0,i.time);function r(c){i.state=rD,i.timer.restart(s,i.delay,i.time),i.delay<=c&&s(c-i.delay)}function s(c){var u,d,h,f;if(i.state!==rD)return l();for(u in n)if(f=n[u],f.name===i.name){if(f.state===Fv)return Nv(s);f.state===sD?(f.state=rg,f.timer.stop(),f.on.call(\"interrupt\",t,t.__data__,f.index,f.group),delete n[u]):+u<e&&(f.state=rg,f.timer.stop(),f.on.call(\"cancel\",t,t.__data__,f.index,f.group),delete n[u])}if(Nv(function(){i.state===Fv&&(i.state=sD,i.timer.restart(a,i.delay,i.time),a(c))}),i.state=Uv,i.on.call(\"start\",t,t.__data__,i.index,i.group),i.state===Uv){for(i.state=Fv,o=new Array(h=i.tween.length),u=0,d=-1;u<h;++u)(f=i.tween[u].value.call(t,t.__data__,i.index,i.group))&&(o[++d]=f);o.length=d+1}}function a(c){for(var u=c<i.duration?i.ease.call(null,c/i.duration):(i.timer.restart(l),i.state=jv,1),d=-1,h=o.length;++d<h;)o[d].call(t,u);i.state===jv&&(i.on.call(\"end\",t,t.__data__,i.index,i.group),l())}function l(){i.state=rg,i.timer.stop(),delete n[e];for(var c in n)return;delete t.__transition}}function Mh(t,e){var i=t.__transition,n,o,r=!0,s;if(i){e=e==null?null:e+\"\";for(s in i){if((n=i[s]).name!==e){r=!1;continue}o=n.state>Uv&&n.state<jv,n.state=rg,n.timer.stop(),n.on.call(o?\"interrupt\":\"cancel\",t,t.__data__,n.index,n.group),delete i[s]}r&&delete t.__transition}}function lD(t){return this.each(function(){Mh(this,t)})}function zh(t,e,i){t.prototype=e.prototype=i,i.constructor=t}function ag(t,e){var i=Object.create(t.prototype);for(var n in e)i[n]=e[n];return i}function _u(){}var Xl=.7,gu=1/Xl,Oh=\"\\\\s*([+-]?\\\\d+)\\\\s*\",lg=\"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",Ds=\"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",SG=/^#([0-9a-f]{3,8})$/,CG=new RegExp(`^rgb\\\\(${Oh},${Oh},${Oh}\\\\)$`),kG=new RegExp(`^rgb\\\\(${Ds},${Ds},${Ds}\\\\)$`),EG=new RegExp(`^rgba\\\\(${Oh},${Oh},${Oh},${lg}\\\\)$`),IG=new RegExp(`^rgba\\\\(${Ds},${Ds},${Ds},${lg}\\\\)$`),TG=new RegExp(`^hsl\\\\(${lg},${Ds},${Ds}\\\\)$`),AG=new RegExp(`^hsla\\\\(${lg},${Ds},${Ds},${lg}\\\\)$`),cD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};zh(_u,To,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:uD,formatHex:uD,formatHex8:LG,formatHsl:DG,formatRgb:dD,toString:dD});function uD(){return this.rgb().formatHex()}function LG(){return this.rgb().formatHex8()}function DG(){return _D(this).formatHsl()}function dD(){return this.rgb().formatRgb()}function To(t){var e,i;return t=(t+\"\").trim().toLowerCase(),(e=SG.exec(t))?(i=e[1].length,e=parseInt(e[1],16),i===6?hD(e):i===3?new Hn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):i===8?Vv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):i===4?Vv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=CG.exec(t))?new Hn(e[1],e[2],e[3],1):(e=kG.exec(t))?new Hn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=EG.exec(t))?Vv(e[1],e[2],e[3],e[4]):(e=IG.exec(t))?Vv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=TG.exec(t))?mD(e[1],e[2]/100,e[3]/100,1):(e=AG.exec(t))?mD(e[1],e[2]/100,e[3]/100,e[4]):cD.hasOwnProperty(t)?hD(cD[t]):t===\"transparent\"?new Hn(NaN,NaN,NaN,0):null}function hD(t){return new Hn(t>>16&255,t>>8&255,t&255,1)}function Vv(t,e,i,n){return n<=0&&(t=e=i=NaN),new Hn(t,e,i,n)}function HC(t){return t instanceof _u||(t=To(t)),t?(t=t.rgb(),new Hn(t.r,t.g,t.b,t.opacity)):new Hn}function Kl(t,e,i,n){return arguments.length===1?HC(t):new Hn(t,e,i,n??1)}function Hn(t,e,i,n){this.r=+t,this.g=+e,this.b=+i,this.opacity=+n}zh(Hn,Kl,ag(_u,{brighter(t){return t=t==null?gu:Math.pow(gu,t),new Hn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Xl:Math.pow(Xl,t),new Hn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Hn(mu(this.r),mu(this.g),mu(this.b),Hv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pD,formatHex:pD,formatHex8:PG,formatRgb:fD,toString:fD}));function pD(){return`#${fu(this.r)}${fu(this.g)}${fu(this.b)}`}function PG(){return`#${fu(this.r)}${fu(this.g)}${fu(this.b)}${fu((isNaN(this.opacity)?1:this.opacity)*255)}`}function fD(){let t=Hv(this.opacity);return`${t===1?\"rgb(\":\"rgba(\"}${mu(this.r)}, ${mu(this.g)}, ${mu(this.b)}${t===1?\")\":`, ${t})`}`}function Hv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function mu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function fu(t){return t=mu(t),(t<16?\"0\":\"\")+t.toString(16)}function mD(t,e,i,n){return n<=0?t=e=i=NaN:i<=0||i>=1?t=e=NaN:e<=0&&(t=NaN),new es(t,e,i,n)}function _D(t){if(t instanceof es)return new es(t.h,t.s,t.l,t.opacity);if(t instanceof _u||(t=To(t)),!t)return new es;if(t instanceof es)return t;t=t.rgb();var e=t.r/255,i=t.g/255,n=t.b/255,o=Math.min(e,i,n),r=Math.max(e,i,n),s=NaN,a=r-o,l=(r+o)/2;return a?(e===r?s=(i-n)/a+(i<n)*6:i===r?s=(n-e)/a+2:s=(e-i)/a+4,a/=l<.5?r+o:2-r-o,s*=60):a=l>0&&l<1?0:s,new es(s,a,l,t.opacity)}function yD(t,e,i,n){return arguments.length===1?_D(t):new es(t,e,i,n??1)}function es(t,e,i,n){this.h=+t,this.s=+e,this.l=+i,this.opacity=+n}zh(es,yD,ag(_u,{brighter(t){return t=t==null?gu:Math.pow(gu,t),new es(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Xl:Math.pow(Xl,t),new es(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,n=i+(i<.5?i:1-i)*e,o=2*i-n;return new Hn(WC(t>=240?t-240:t+120,o,n),WC(t,o,n),WC(t<120?t+240:t-120,o,n),this.opacity)},clamp(){return new es(gD(this.h),Wv(this.s),Wv(this.l),Hv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=Hv(this.opacity);return`${t===1?\"hsl(\":\"hsla(\"}${gD(this.h)}, ${Wv(this.s)*100}%, ${Wv(this.l)*100}%${t===1?\")\":`, ${t})`}`}}));function gD(t){return t=(t||0)%360,t<0?t+360:t}function Wv(t){return Math.max(0,Math.min(1,t||0))}function WC(t,e,i){return(t<60?e+(i-e)*t/60:t<180?i:t<240?e+(i-e)*(240-t)/60:e)*255}var bD=Math.PI/180,vD=180/Math.PI;var CD=-.14861,$C=1.78277,qC=-.29227,$v=-.90649,cg=1.97294,xD=cg*$v,wD=cg*$C,SD=$C*qC-$v*CD;function RG(t){if(t instanceof yu)return new yu(t.h,t.s,t.l,t.opacity);t instanceof Hn||(t=HC(t));var e=t.r/255,i=t.g/255,n=t.b/255,o=(SD*n+xD*e-wD*i)/(SD+xD-wD),r=n-o,s=(cg*(i-o)-qC*r)/$v,a=Math.sqrt(s*s+r*r)/(cg*o*(1-o)),l=a?Math.atan2(s,r)*vD-120:NaN;return new yu(l<0?l+360:l,a,o,t.opacity)}function Bh(t,e,i,n){return arguments.length===1?RG(t):new yu(t,e,i,n??1)}function yu(t,e,i,n){this.h=+t,this.s=+e,this.l=+i,this.opacity=+n}zh(yu,Bh,ag(_u,{brighter(t){return t=t==null?gu:Math.pow(gu,t),new yu(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Xl:Math.pow(Xl,t),new yu(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*bD,e=+this.l,i=isNaN(this.s)?0:this.s*e*(1-e),n=Math.cos(t),o=Math.sin(t);return new Hn(255*(e+i*(CD*n+$C*o)),255*(e+i*(qC*n+$v*o)),255*(e+i*(cg*n)),this.opacity)}}));function GC(t,e,i,n,o){var r=t*t,s=r*t;return((1-3*t+3*r-s)*e+(4-6*r+3*s)*i+(1+3*t+3*r-3*s)*n+s*o)/6}function kD(t){var e=t.length-1;return function(i){var n=i<=0?i=0:i>=1?(i=1,e-1):Math.floor(i*e),o=t[n],r=t[n+1],s=n>0?t[n-1]:2*o-r,a=n<e-1?t[n+2]:2*r-o;return GC((i-n/e)*e,s,o,r,a)}}function ED(t){var e=t.length;return function(i){var n=Math.floor(((i%=1)<0?++i:i)*e),o=t[(n+e-1)%e],r=t[n%e],s=t[(n+1)%e],a=t[(n+2)%e];return GC((i-n/e)*e,o,r,s,a)}}var Nh=t=>()=>t;function ID(t,e){return function(i){return t+i*e}}function MG(t,e,i){return t=Math.pow(t,i),e=Math.pow(e,i)-t,i=1/i,function(n){return Math.pow(t+n*e,i)}}function TD(t,e){var i=e-t;return i?ID(t,i>180||i<-180?i-360*Math.round(i/360):i):Nh(isNaN(t)?e:t)}function AD(t){return(t=+t)==1?Na:function(e,i){return i-e?MG(e,i,t):Nh(isNaN(e)?i:e)}}function Na(t,e){var i=e-t;return i?ID(t,i):Nh(isNaN(t)?e:t)}var bu=function t(e){var i=AD(e);function n(o,r){var s=i((o=Kl(o)).r,(r=Kl(r)).r),a=i(o.g,r.g),l=i(o.b,r.b),c=Na(o.opacity,r.opacity);return function(u){return o.r=s(u),o.g=a(u),o.b=l(u),o.opacity=c(u),o+\"\"}}return n.gamma=t,n}(1);function LD(t){return function(e){var i=e.length,n=new Array(i),o=new Array(i),r=new Array(i),s,a;for(s=0;s<i;++s)a=Kl(e[s]),n[s]=a.r||0,o[s]=a.g||0,r[s]=a.b||0;return n=t(n),o=t(o),r=t(r),a.opacity=1,function(l){return a.r=n(l),a.g=o(l),a.b=r(l),a+\"\"}}}var zG=LD(kD),OG=LD(ED);function DD(t,e){e||(e=[]);var i=t?Math.min(e.length,t.length):0,n=e.slice(),o;return function(r){for(o=0;o<i;++o)n[o]=t[o]*(1-r)+e[o]*r;return n}}function PD(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function RD(t,e){var i=e?e.length:0,n=t?Math.min(i,t.length):0,o=new Array(n),r=new Array(i),s;for(s=0;s<n;++s)o[s]=qo(t[s],e[s]);for(;s<i;++s)r[s]=e[s];return function(a){for(s=0;s<n;++s)r[s]=o[s](a);return r}}function MD(t,e){var i=new Date;return t=+t,e=+e,function(n){return i.setTime(t*(1-n)+e*n),i}}function $n(t,e){return t=+t,e=+e,function(i){return t*(1-i)+e*i}}function zD(t,e){var i={},n={},o;(t===null||typeof t!=\"object\")&&(t={}),(e===null||typeof e!=\"object\")&&(e={});for(o in e)o in t?i[o]=qo(t[o],e[o]):n[o]=e[o];return function(r){for(o in i)n[o]=i[o](r);return n}}var QC=/[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,YC=new RegExp(QC.source,\"g\");function BG(t){return function(){return t}}function NG(t){return function(e){return t(e)+\"\"}}function ug(t,e){var i=QC.lastIndex=YC.lastIndex=0,n,o,r,s=-1,a=[],l=[];for(t=t+\"\",e=e+\"\";(n=QC.exec(t))&&(o=YC.exec(e));)(r=o.index)>i&&(r=e.slice(i,r),a[s]?a[s]+=r:a[++s]=r),(n=n[0])===(o=o[0])?a[s]?a[s]+=o:a[++s]=o:(a[++s]=null,l.push({i:s,x:$n(n,o)})),i=YC.lastIndex;return i<e.length&&(r=e.slice(i),a[s]?a[s]+=r:a[++s]=r),a.length<2?l[0]?NG(l[0].x):BG(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)a[(d=l[u]).i]=d.x(c);return a.join(\"\")})}function qo(t,e){var i=typeof e,n;return e==null||i===\"boolean\"?Nh(e):(i===\"number\"?$n:i===\"string\"?(n=To(e))?(e=n,bu):ug:e instanceof To?bu:e instanceof Date?MD:PD(e)?DD:Array.isArray(e)?RD:typeof e.valueOf!=\"function\"&&typeof e.toString!=\"function\"||isNaN(e)?zD:$n)(t,e)}function dg(t,e){return t=+t,e=+e,function(i){return Math.round(t*(1-i)+e*i)}}var OD=180/Math.PI,qv={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function XC(t,e,i,n,o,r){var s,a,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*i+e*n)&&(i-=t*l,n-=e*l),(a=Math.sqrt(i*i+n*n))&&(i/=a,n/=a,l/=a),t*n<e*i&&(t=-t,e=-e,l=-l,s=-s),{translateX:o,translateY:r,rotate:Math.atan2(e,t)*OD,skewX:Math.atan(l)*OD,scaleX:s,scaleY:a}}var Gv;function BD(t){let e=new(typeof DOMMatrix==\"function\"?DOMMatrix:WebKitCSSMatrix)(t+\"\");return e.isIdentity?qv:XC(e.a,e.b,e.c,e.d,e.e,e.f)}function ND(t){return t==null?qv:(Gv||(Gv=document.createElementNS(\"http://www.w3.org/2000/svg\",\"g\")),Gv.setAttribute(\"transform\",t),(t=Gv.transform.baseVal.consolidate())?(t=t.matrix,XC(t.a,t.b,t.c,t.d,t.e,t.f)):qv)}function FD(t,e,i,n){function o(c){return c.length?c.pop()+\" \":\"\"}function r(c,u,d,h,f,v){if(c!==d||u!==h){var L=f.push(\"translate(\",null,e,null,i);v.push({i:L-4,x:$n(c,d)},{i:L-2,x:$n(u,h)})}else(d||h)&&f.push(\"translate(\"+d+e+h+i)}function s(c,u,d,h){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),h.push({i:d.push(o(d)+\"rotate(\",null,n)-2,x:$n(c,u)})):u&&d.push(o(d)+\"rotate(\"+u+n)}function a(c,u,d,h){c!==u?h.push({i:d.push(o(d)+\"skewX(\",null,n)-2,x:$n(c,u)}):u&&d.push(o(d)+\"skewX(\"+u+n)}function l(c,u,d,h,f,v){if(c!==d||u!==h){var L=f.push(o(f)+\"scale(\",null,\",\",null,\")\");v.push({i:L-4,x:$n(c,d)},{i:L-2,x:$n(u,h)})}else(d!==1||h!==1)&&f.push(o(f)+\"scale(\"+d+\",\"+h+\")\")}return function(c,u){var d=[],h=[];return c=t(c),u=t(u),r(c.translateX,c.translateY,u.translateX,u.translateY,d,h),s(c.rotate,u.rotate,d,h),a(c.skewX,u.skewX,d,h),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,h),c=u=null,function(f){for(var v=-1,L=h.length,A;++v<L;)d[(A=h[v]).i]=A.x(f);return d.join(\"\")}}}var KC=FD(BD,\"px, \",\"px)\",\"deg)\"),ZC=FD(ND,\", \",\")\",\")\");function UD(t){return function e(i){i=+i;function n(o,r){var s=t((o=Bh(o)).h,(r=Bh(r)).h),a=Na(o.s,r.s),l=Na(o.l,r.l),c=Na(o.opacity,r.opacity);return function(u){return o.h=s(u),o.s=a(u),o.l=l(Math.pow(u,i)),o.opacity=c(u),o+\"\"}}return n.gamma=e,n}(1)}var Yv=UD(TD),FG=UD(Na);function hg(t,e){e===void 0&&(e=t,t=qo);for(var i=0,n=e.length-1,o=e[0],r=new Array(n<0?0:n);i<n;)r[i]=t(o,o=e[++i]);return function(s){var a=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return r[a](s-a)}}function JC(t,e){for(var i=new Array(e),n=0;n<e;++n)i[n]=t(n/(e-1));return i}function UG(t,e){var i,n;return function(){var o=Wn(this,t),r=o.tween;if(r!==i){n=i=r;for(var s=0,a=n.length;s<a;++s)if(n[s].name===e){n=n.slice(),n.splice(s,1);break}}o.tween=n}}function jG(t,e,i){var n,o;if(typeof i!=\"function\")throw new Error;return function(){var r=Wn(this,t),s=r.tween;if(s!==n){o=(n=s).slice();for(var a={name:e,value:i},l=0,c=o.length;l<c;++l)if(o[l].name===e){o[l]=a;break}l===c&&o.push(a)}r.tween=o}}function jD(t,e){var i=this._id;if(t+=\"\",arguments.length<2){for(var n=Cn(this.node(),i).tween,o=0,r=n.length,s;o<r;++o)if((s=n[o]).name===t)return s.value;return null}return this.each((e==null?UG:jG)(i,t,e))}function Fh(t,e,i){var n=t._id;return t.each(function(){var o=Wn(this,n);(o.value||(o.value={}))[e]=i.apply(this,arguments)}),function(o){return Cn(o,n).value[e]}}function Qv(t,e){var i;return(typeof e==\"number\"?$n:e instanceof To?bu:(i=To(e))?(e=i,bu):ug)(t,e)}function VG(t){return function(){this.removeAttribute(t)}}function WG(t){return function(){this.removeAttributeNS(t.space,t.local)}}function HG(t,e,i){var n,o=i+\"\",r;return function(){var s=this.getAttribute(t);return s===o?null:s===n?r:r=e(n=s,i)}}function $G(t,e,i){var n,o=i+\"\",r;return function(){var s=this.getAttributeNS(t.space,t.local);return s===o?null:s===n?r:r=e(n=s,i)}}function qG(t,e,i){var n,o,r;return function(){var s,a=i(this),l;return a==null?void this.removeAttribute(t):(s=this.getAttribute(t),l=a+\"\",s===l?null:s===n&&l===o?r:(o=l,r=e(n=s,a)))}}function GG(t,e,i){var n,o,r;return function(){var s,a=i(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),l=a+\"\",s===l?null:s===n&&l===o?r:(o=l,r=e(n=s,a)))}}function VD(t,e){var i=Oa(t),n=i===\"transform\"?ZC:Qv;return this.attrTween(t,typeof e==\"function\"?(i.local?GG:qG)(i,n,Fh(this,\"attr.\"+t,e)):e==null?(i.local?WG:VG)(i):(i.local?$G:HG)(i,n,e))}function YG(t,e){return function(i){this.setAttribute(t,e.call(this,i))}}function QG(t,e){return function(i){this.setAttributeNS(t.space,t.local,e.call(this,i))}}function XG(t,e){var i,n;function o(){var r=e.apply(this,arguments);return r!==n&&(i=(n=r)&&QG(t,r)),i}return o._value=e,o}function KG(t,e){var i,n;function o(){var r=e.apply(this,arguments);return r!==n&&(i=(n=r)&&YG(t,r)),i}return o._value=e,o}function WD(t,e){var i=\"attr.\"+t;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!=\"function\")throw new Error;var n=Oa(t);return this.tween(i,(n.local?XG:KG)(n,e))}function ZG(t,e){return function(){sg(this,t).delay=+e.apply(this,arguments)}}function JG(t,e){return e=+e,function(){sg(this,t).delay=e}}function HD(t){var e=this._id;return arguments.length?this.each((typeof t==\"function\"?ZG:JG)(e,t)):Cn(this.node(),e).delay}function eY(t,e){return function(){Wn(this,t).duration=+e.apply(this,arguments)}}function tY(t,e){return e=+e,function(){Wn(this,t).duration=e}}function $D(t){var e=this._id;return arguments.length?this.each((typeof t==\"function\"?eY:tY)(e,t)):Cn(this.node(),e).duration}function iY(t,e){if(typeof e!=\"function\")throw new Error;return function(){Wn(this,t).ease=e}}function qD(t){var e=this._id;return arguments.length?this.each(iY(e,t)):Cn(this.node(),e).ease}function nY(t,e){return function(){var i=e.apply(this,arguments);if(typeof i!=\"function\")throw new Error;Wn(this,t).ease=i}}function GD(t){if(typeof t!=\"function\")throw new Error;return this.each(nY(this._id,t))}function YD(t){typeof t!=\"function\"&&(t=Xm(t));for(var e=this._groups,i=e.length,n=new Array(i),o=0;o<i;++o)for(var r=e[o],s=r.length,a=n[o]=[],l,c=0;c<s;++c)(l=r[c])&&t.call(l,l.__data__,c,r)&&a.push(l);return new lo(n,this._parents,this._name,this._id)}function QD(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,i=t._groups,n=e.length,o=i.length,r=Math.min(n,o),s=new Array(n),a=0;a<r;++a)for(var l=e[a],c=i[a],u=l.length,d=s[a]=new Array(u),h,f=0;f<u;++f)(h=l[f]||c[f])&&(d[f]=h);for(;a<n;++a)s[a]=e[a];return new lo(s,this._parents,this._name,this._id)}function oY(t){return(t+\"\").trim().split(/^|\\s+/).every(function(e){var i=e.indexOf(\".\");return i>=0&&(e=e.slice(0,i)),!e||e===\"start\"})}function rY(t,e,i){var n,o,r=oY(e)?sg:Wn;return function(){var s=r(this,t),a=s.on;a!==n&&(o=(n=a).copy()).on(e,i),s.on=o}}function XD(t,e){var i=this._id;return arguments.length<2?Cn(this.node(),i).on.on(t):this.each(rY(i,t,e))}function sY(t){return function(){var e=this.parentNode;for(var i in this.__transition)if(+i!==t)return;e&&e.removeChild(this)}}function KD(){return this.on(\"end.remove\",sY(this._id))}function ZD(t){var e=this._name,i=this._id;typeof t!=\"function\"&&(t=hu(t));for(var n=this._groups,o=n.length,r=new Array(o),s=0;s<o;++s)for(var a=n[s],l=a.length,c=r[s]=new Array(l),u,d,h=0;h<l;++h)(u=a[h])&&(d=t.call(u,u.__data__,h,a))&&(\"__data__\"in u&&(d.__data__=u.__data__),c[h]=d,Ql(c[h],e,i,h,c,Cn(u,i)));return new lo(r,this._parents,e,i)}function JD(t){var e=this._name,i=this._id;typeof t!=\"function\"&&(t=Qm(t));for(var n=this._groups,o=n.length,r=[],s=[],a=0;a<o;++a)for(var l=n[a],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var h=t.call(u,u.__data__,d,l),f,v=Cn(u,i),L=0,A=h.length;L<A;++L)(f=h[L])&&Ql(f,e,i,L,h,v);r.push(h),s.push(u)}return new lo(r,s,e,i)}var aY=Ba.prototype.constructor;function eP(){return new aY(this._groups,this._parents)}function lY(t,e){var i,n,o;return function(){var r=Yl(this,t),s=(this.style.removeProperty(t),Yl(this,t));return r===s?null:r===i&&s===n?o:o=e(i=r,n=s)}}function tP(t){return function(){this.style.removeProperty(t)}}function cY(t,e,i){var n,o=i+\"\",r;return function(){var s=Yl(this,t);return s===o?null:s===n?r:r=e(n=s,i)}}function uY(t,e,i){var n,o,r;return function(){var s=Yl(this,t),a=i(this),l=a+\"\";return a==null&&(l=a=(this.style.removeProperty(t),Yl(this,t))),s===l?null:s===n&&l===o?r:(o=l,r=e(n=s,a))}}function dY(t,e){var i,n,o,r=\"style.\"+e,s=\"end.\"+r,a;return function(){var l=Wn(this,t),c=l.on,u=l.value[r]==null?a||(a=tP(e)):void 0;(c!==i||o!==u)&&(n=(i=c).copy()).on(s,o=u),l.on=n}}function iP(t,e,i){var n=(t+=\"\")==\"transform\"?KC:Qv;return e==null?this.styleTween(t,lY(t,n)).on(\"end.style.\"+t,tP(t)):typeof e==\"function\"?this.styleTween(t,uY(t,n,Fh(this,\"style.\"+t,e))).each(dY(this._id,t)):this.styleTween(t,cY(t,n,e),i).on(\"end.style.\"+t,null)}function hY(t,e,i){return function(n){this.style.setProperty(t,e.call(this,n),i)}}function pY(t,e,i){var n,o;function r(){var s=e.apply(this,arguments);return s!==o&&(n=(o=s)&&hY(t,s,i)),n}return r._value=e,r}function nP(t,e,i){var n=\"style.\"+(t+=\"\");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!=\"function\")throw new Error;return this.tween(n,pY(t,e,i??\"\"))}function fY(t){return function(){this.textContent=t}}function mY(t){return function(){var e=t(this);this.textContent=e??\"\"}}function oP(t){return this.tween(\"text\",typeof t==\"function\"?mY(Fh(this,\"text\",t)):fY(t==null?\"\":t+\"\"))}function gY(t){return function(e){this.textContent=t.call(this,e)}}function _Y(t){var e,i;function n(){var o=t.apply(this,arguments);return o!==i&&(e=(i=o)&&gY(o)),e}return n._value=t,n}function rP(t){var e=\"text\";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!=\"function\")throw new Error;return this.tween(e,_Y(t))}function sP(){for(var t=this._name,e=this._id,i=Xv(),n=this._groups,o=n.length,r=0;r<o;++r)for(var s=n[r],a=s.length,l,c=0;c<a;++c)if(l=s[c]){var u=Cn(l,e);Ql(l,t,i,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new lo(n,this._parents,t,i)}function aP(){var t,e,i=this,n=i._id,o=i.size();return new Promise(function(r,s){var a={value:s},l={value:function(){--o===0&&r()}};i.each(function(){var c=Wn(this,n),u=c.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),c.on=e}),o===0&&r()})}var yY=0;function lo(t,e,i,n){this._groups=t,this._parents=e,this._name=i,this._id=n}function lP(t){return Ba().transition(t)}function Xv(){return++yY}var Fa=Ba.prototype;lo.prototype=lP.prototype={constructor:lo,select:ZD,selectAll:JD,selectChild:Fa.selectChild,selectChildren:Fa.selectChildren,filter:YD,merge:QD,selection:eP,transition:sP,call:Fa.call,nodes:Fa.nodes,node:Fa.node,size:Fa.size,empty:Fa.empty,each:Fa.each,on:XD,attr:VD,attrTween:WD,style:iP,styleTween:nP,text:oP,textTween:rP,remove:KD,tween:jD,delay:HD,duration:$D,ease:qD,easeVarying:GD,end:aP,[Symbol.iterator]:Fa[Symbol.iterator]};function Kv(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var bY={time:null,delay:0,duration:250,ease:Kv};function vY(t,e){for(var i;!(i=t.__transition)||!(i=i[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return i}function cP(t){var e,i;t instanceof lo?(e=t._id,t=t._name):(e=Xv(),(i=bY).time=og(),t=t==null?null:t+\"\");for(var n=this._groups,o=n.length,r=0;r<o;++r)for(var s=n[r],a=s.length,l,c=0;c<a;++c)(l=s[c])&&Ql(l,t,e,c,s,i||vY(l,e));return new lo(n,this._parents,t,e)}Ba.prototype.interrupt=lD;Ba.prototype.transition=cP;var gr=[];var uP=function(){return gr.some(function(t){return t.activeTargets.length>0})};var dP=function(){return gr.some(function(t){return t.skippedTargets.length>0})};var hP=\"ResizeObserver loop completed with undelivered notifications.\",pP=function(){var t;typeof ErrorEvent==\"function\"?t=new ErrorEvent(\"error\",{message:hP}):(t=document.createEvent(\"Event\"),t.initEvent(\"error\",!1,!1),t.message=hP),window.dispatchEvent(t)};var vu;(function(t){t.BORDER_BOX=\"border-box\",t.CONTENT_BOX=\"content-box\",t.DEVICE_PIXEL_CONTENT_BOX=\"device-pixel-content-box\"})(vu||(vu={}));var ts=function(t){return Object.freeze(t)};var ek=function(){function t(e,i){this.inlineSize=e,this.blockSize=i,ts(this)}return t}();var tk=function(){function t(e,i,n,o){return this.x=e,this.y=i,this.width=n,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,ts(this)}return t.prototype.toJSON=function(){var e=this,i=e.x,n=e.y,o=e.top,r=e.right,s=e.bottom,a=e.left,l=e.width,c=e.height;return{x:i,y:n,top:o,right:r,bottom:s,left:a,width:l,height:c}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}();var pg=function(t){return t instanceof SVGElement&&\"getBBox\"in t},Zv=function(t){if(pg(t)){var e=t.getBBox(),i=e.width,n=e.height;return!i&&!n}var o=t,r=o.offsetWidth,s=o.offsetHeight;return!(r||s||t.getClientRects().length)},ik=function(t){var e;if(t instanceof Element)return!0;var i=(e=t?.ownerDocument)===null||e===void 0?void 0:e.defaultView;return!!(i&&t instanceof i.Element)},fP=function(t){switch(t.tagName){case\"INPUT\":if(t.type!==\"image\")break;case\"VIDEO\":case\"AUDIO\":case\"EMBED\":case\"OBJECT\":case\"CANVAS\":case\"IFRAME\":case\"IMG\":return!0}return!1};var xu=typeof window<\"u\"?window:{};var Jv=new WeakMap,mP=/auto|scroll/,xY=/^tb|vertical/,wY=/msie|trident/i.test(xu.navigator&&xu.navigator.userAgent),Ps=function(t){return parseFloat(t||\"0\")},Uh=function(t,e,i){return t===void 0&&(t=0),e===void 0&&(e=0),i===void 0&&(i=!1),new ek((i?e:t)||0,(i?t:e)||0)},gP=ts({devicePixelContentBoxSize:Uh(),borderBoxSize:Uh(),contentBoxSize:Uh(),contentRect:new tk(0,0,0,0)}),nk=function(t,e){if(e===void 0&&(e=!1),Jv.has(t)&&!e)return Jv.get(t);if(Zv(t))return Jv.set(t,gP),gP;var i=getComputedStyle(t),n=pg(t)&&t.ownerSVGElement&&t.getBBox(),o=!wY&&i.boxSizing===\"border-box\",r=xY.test(i.writingMode||\"\"),s=!n&&mP.test(i.overflowY||\"\"),a=!n&&mP.test(i.overflowX||\"\"),l=n?0:Ps(i.paddingTop),c=n?0:Ps(i.paddingRight),u=n?0:Ps(i.paddingBottom),d=n?0:Ps(i.paddingLeft),h=n?0:Ps(i.borderTopWidth),f=n?0:Ps(i.borderRightWidth),v=n?0:Ps(i.borderBottomWidth),L=n?0:Ps(i.borderLeftWidth),A=d+c,I=l+u,B=L+f,F=h+v,k=a?t.offsetHeight-F-t.clientHeight:0,N=s?t.offsetWidth-B-t.clientWidth:0,Y=o?A+B:0,z=o?I+F:0,ce=n?n.width:Ps(i.width)-Y-N,Fe=n?n.height:Ps(i.height)-z-k,$e=ce+A+N+B,K=Fe+I+k+F,Xe=ts({devicePixelContentBoxSize:Uh(Math.round(ce*devicePixelRatio),Math.round(Fe*devicePixelRatio),r),borderBoxSize:Uh($e,K,r),contentBoxSize:Uh(ce,Fe,r),contentRect:new tk(d,l,ce,Fe)});return Jv.set(t,Xe),Xe},ex=function(t,e,i){var n=nk(t,i),o=n.borderBoxSize,r=n.contentBoxSize,s=n.devicePixelContentBoxSize;switch(e){case vu.DEVICE_PIXEL_CONTENT_BOX:return s;case vu.BORDER_BOX:return o;default:return r}};var ok=function(){function t(e){var i=nk(e);this.target=e,this.contentRect=i.contentRect,this.borderBoxSize=ts([i.borderBoxSize]),this.contentBoxSize=ts([i.contentBoxSize]),this.devicePixelContentBoxSize=ts([i.devicePixelContentBoxSize])}return t}();var tx=function(t){if(Zv(t))return 1/0;for(var e=0,i=t.parentNode;i;)e+=1,i=i.parentNode;return e};var _P=function(){var t=1/0,e=[];gr.forEach(function(s){if(s.activeTargets.length!==0){var a=[];s.activeTargets.forEach(function(c){var u=new ok(c.target),d=tx(c.target);a.push(u),c.lastReportedSize=ex(c.target,c.observedBox),d<t&&(t=d)}),e.push(function(){s.callback.call(s.observer,a,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var i=0,n=e;i<n.length;i++){var o=n[i];o()}return t};var rk=function(t){gr.forEach(function(i){i.activeTargets.splice(0,i.activeTargets.length),i.skippedTargets.splice(0,i.skippedTargets.length),i.observationTargets.forEach(function(o){o.isActive()&&(tx(o.target)>t?i.activeTargets.push(o):i.skippedTargets.push(o))})})};var yP=function(){var t=0;for(rk(t);uP();)t=_P(),rk(t);return dP()&&pP(),t>0};var sk,bP=[],SY=function(){return bP.splice(0).forEach(function(t){return t()})},vP=function(t){if(!sk){var e=0,i=document.createTextNode(\"\"),n={characterData:!0};new MutationObserver(function(){return SY()}).observe(i,n),sk=function(){i.textContent=\"\".concat(e?e--:e++)}}bP.push(t),sk()};var xP=function(t){vP(function(){requestAnimationFrame(t)})};var ix=0,CY=function(){return!!ix},kY=250,EY={attributes:!0,characterData:!0,childList:!0,subtree:!0},wP=[\"resize\",\"load\",\"transitionend\",\"animationend\",\"animationstart\",\"animationiteration\",\"keyup\",\"keydown\",\"mouseup\",\"mousedown\",\"mouseover\",\"mouseout\",\"blur\",\"focus\"],SP=function(t){return t===void 0&&(t=0),Date.now()+t},ak=!1,IY=function(){function t(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return t.prototype.run=function(e){var i=this;if(e===void 0&&(e=kY),!ak){ak=!0;var n=SP(e);xP(function(){var o=!1;try{o=yP()}finally{if(ak=!1,e=n-SP(),!CY())return;o?i.run(1e3):e>0?i.run(e):i.start()}})}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var e=this,i=function(){return e.observer&&e.observer.observe(document.body,EY)};document.body?i():xu.addEventListener(\"DOMContentLoaded\",i)},t.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),wP.forEach(function(i){return xu.addEventListener(i,e.listener,!0)}))},t.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),wP.forEach(function(i){return xu.removeEventListener(i,e.listener,!0)}),this.stopped=!0)},t}(),nx=new IY,lk=function(t){!ix&&t>0&&nx.start(),ix+=t,!ix&&nx.stop()};var TY=function(t){return!pg(t)&&!fP(t)&&getComputedStyle(t).display===\"inline\"},CP=function(){function t(e,i){this.target=e,this.observedBox=i||vu.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var e=ex(this.target,this.observedBox,!0);return TY(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}();var kP=function(){function t(e,i){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=i}return t}();var ox=new WeakMap,EP=function(t,e){for(var i=0;i<t.length;i+=1)if(t[i].target===e)return i;return-1},fg=function(){function t(){}return t.connect=function(e,i){var n=new kP(e,i);ox.set(e,n)},t.observe=function(e,i,n){var o=ox.get(e),r=o.observationTargets.length===0;EP(o.observationTargets,i)<0&&(r&&gr.push(o),o.observationTargets.push(new CP(i,n&&n.box)),lk(1),nx.schedule())},t.unobserve=function(e,i){var n=ox.get(e),o=EP(n.observationTargets,i),r=n.observationTargets.length===1;o>=0&&(r&&gr.splice(gr.indexOf(n),1),n.observationTargets.splice(o,1),lk(-1))},t.disconnect=function(e){var i=this,n=ox.get(e);n.observationTargets.slice().forEach(function(o){return i.unobserve(e,o.target)}),n.activeTargets.splice(0,n.activeTargets.length)},t}();var rx=function(){function t(e){if(arguments.length===0)throw new TypeError(\"Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.\");if(typeof e!=\"function\")throw new TypeError(\"Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.\");fg.connect(this,e)}return t.prototype.observe=function(e,i){if(arguments.length===0)throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.\");if(!ik(e))throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element\");fg.observe(this,e,i)},t.prototype.unobserve=function(e){if(arguments.length===0)throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.\");if(!ik(e))throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element\");fg.unobserve(this,e)},t.prototype.disconnect=function(){fg.disconnect(this)},t.toString=function(){return\"function ResizeObserver () { [polyfill code] }\"},t}();function IP(t){return t}var ck=1,uk=2,dk=3,sx=4,TP=1e-6;function AY(t){return\"translate(\"+t+\",0)\"}function LY(t){return\"translate(0,\"+t+\")\"}function DY(t){return e=>+t(e)}function PY(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),i=>+t(i)+e}function RY(){return!this.__axis}function MY(t,e){var i=[],n=null,o=null,r=6,s=6,a=3,l=typeof window<\"u\"&&window.devicePixelRatio>1?0:.5,c=t===ck||t===sx?-1:1,u=t===sx||t===uk?\"x\":\"y\",d=t===ck||t===dk?AY:LY;function h(f){var v=n??(e.ticks?e.ticks.apply(e,i):e.domain()),L=o??(e.tickFormat?e.tickFormat.apply(e,i):IP),A=Math.max(r,0)+a,I=e.range(),B=+I[0]+l,F=+I[I.length-1]+l,k=(e.bandwidth?PY:DY)(e.copy(),l),N=f.selection?f.selection():f,Y=N.selectAll(\".domain\").data([null]),z=N.selectAll(\".tick\").data(v,e).order(),ce=z.exit(),Fe=z.enter().append(\"g\").attr(\"class\",\"tick\"),$e=z.select(\"line\"),K=z.select(\"text\");Y=Y.merge(Y.enter().insert(\"path\",\".tick\").attr(\"class\",\"domain\").attr(\"stroke\",\"currentColor\")),z=z.merge(Fe),$e=$e.merge(Fe.append(\"line\").attr(\"stroke\",\"currentColor\").attr(u+\"2\",c*r)),K=K.merge(Fe.append(\"text\").attr(\"fill\",\"currentColor\").attr(u,c*A).attr(\"dy\",t===ck?\"0em\":t===dk?\"0.71em\":\"0.32em\")),f!==N&&(Y=Y.transition(f),z=z.transition(f),$e=$e.transition(f),K=K.transition(f),ce=ce.transition(f).attr(\"opacity\",TP).attr(\"transform\",function(Xe){return isFinite(Xe=k(Xe))?d(Xe+l):this.getAttribute(\"transform\")}),Fe.attr(\"opacity\",TP).attr(\"transform\",function(Xe){var Be=this.parentNode.__axis;return d((Be&&isFinite(Be=Be(Xe))?Be:k(Xe))+l)})),ce.remove(),Y.attr(\"d\",t===sx||t===uk?s?\"M\"+c*s+\",\"+B+\"H\"+l+\"V\"+F+\"H\"+c*s:\"M\"+l+\",\"+B+\"V\"+F:s?\"M\"+B+\",\"+c*s+\"V\"+l+\"H\"+F+\"V\"+c*s:\"M\"+B+\",\"+l+\"H\"+F),z.attr(\"opacity\",1).attr(\"transform\",function(Xe){return d(k(Xe)+l)}),$e.attr(u+\"2\",c*r),K.attr(u,c*A).text(L),N.filter(RY).attr(\"fill\",\"none\").attr(\"font-size\",10).attr(\"font-family\",\"sans-serif\").attr(\"text-anchor\",t===uk?\"start\":t===sx?\"end\":\"middle\"),N.each(function(){this.__axis=k})}return h.scale=function(f){return arguments.length?(e=f,h):e},h.ticks=function(){return i=Array.from(arguments),h},h.tickArguments=function(f){return arguments.length?(i=f==null?[]:Array.from(f),h):i.slice()},h.tickValues=function(f){return arguments.length?(n=f==null?null:Array.from(f),h):n&&n.slice()},h.tickFormat=function(f){return arguments.length?(o=f,h):o},h.tickSize=function(f){return arguments.length?(r=s=+f,h):r},h.tickSizeInner=function(f){return arguments.length?(r=+f,h):r},h.tickSizeOuter=function(f){return arguments.length?(s=+f,h):s},h.tickPadding=function(f){return arguments.length?(a=+f,h):a},h.offset=function(f){return arguments.length?(l=+f,h):l},h}function ax(t){return MY(dk,t)}var lx={capture:!0,passive:!1};function cx(t){t.preventDefault(),t.stopImmediatePropagation()}function hk(t){var e=t.document.documentElement,i=Mi(t).on(\"dragstart.drag\",cx,lx);\"onselectstart\"in e?i.on(\"selectstart.drag\",cx,lx):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect=\"none\")}function pk(t,e){var i=t.document.documentElement,n=Mi(t).on(\"dragstart.drag\",null);e&&(n.on(\"click.drag\",cx,lx),setTimeout(function(){n.on(\"click.drag\",null)},0)),\"onselectstart\"in i?n.on(\"selectstart.drag\",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}var ux=t=>()=>t;function fk(t,{sourceEvent:e,target:i,selection:n,mode:o,dispatch:r}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},selection:{value:n,enumerable:!0,configurable:!0},mode:{value:o,enumerable:!0,configurable:!0},_:{value:r}})}function AP(t){t.stopImmediatePropagation()}function dx(t){t.preventDefault(),t.stopImmediatePropagation()}var LP={name:\"drag\"},mk={name:\"space\"},jh={name:\"handle\"},Vh={name:\"center\"},{abs:DP,max:Xn,min:Kn}=Math;function PP(t){return[+t[0],+t[1]]}function yk(t){return[PP(t[0]),PP(t[1])]}var hx={name:\"x\",handles:[\"w\",\"e\"].map(mg),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},gk={name:\"y\",handles:[\"n\",\"s\"].map(mg),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},zY={name:\"xy\",handles:[\"n\",\"w\",\"e\",\"s\",\"nw\",\"ne\",\"sw\",\"se\"].map(mg),input:function(t){return t==null?null:yk(t)},output:function(t){return t}},Ua={overlay:\"crosshair\",selection:\"move\",n:\"ns-resize\",e:\"ew-resize\",s:\"ns-resize\",w:\"ew-resize\",nw:\"nwse-resize\",ne:\"nesw-resize\",se:\"nwse-resize\",sw:\"nesw-resize\"},RP={e:\"w\",w:\"e\",nw:\"ne\",ne:\"nw\",se:\"sw\",sw:\"se\"},MP={n:\"s\",s:\"n\",nw:\"sw\",ne:\"se\",se:\"ne\",sw:\"nw\"},OY={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},BY={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function mg(t){return{type:t}}function NY(t){return!t.ctrlKey&&!t.button}function FY(){var t=this.ownerSVGElement||this;return t.hasAttribute(\"viewBox\")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function UY(){return navigator.maxTouchPoints||\"ontouchstart\"in this}function _k(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function jY(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function px(){return zP(hx)}function bk(){return zP(zY)}function zP(t){var e=FY,i=NY,n=UY,o=!0,r=Zm(\"start\",\"brush\",\"end\"),s=6,a;function l(A){var I=A.property(\"__brush\",L).selectAll(\".overlay\").data([mg(\"overlay\")]);I.enter().append(\"rect\").attr(\"class\",\"overlay\").attr(\"pointer-events\",\"all\").attr(\"cursor\",Ua.overlay).merge(I).each(function(){var F=_k(this).extent;Mi(this).attr(\"x\",F[0][0]).attr(\"y\",F[0][1]).attr(\"width\",F[1][0]-F[0][0]).attr(\"height\",F[1][1]-F[0][1])}),A.selectAll(\".selection\").data([mg(\"selection\")]).enter().append(\"rect\").attr(\"class\",\"selection\").attr(\"cursor\",Ua.selection).attr(\"fill\",\"#777\").attr(\"fill-opacity\",.3).attr(\"stroke\",\"#fff\").attr(\"shape-rendering\",\"crispEdges\");var B=A.selectAll(\".handle\").data(t.handles,function(F){return F.type});B.exit().remove(),B.enter().append(\"rect\").attr(\"class\",function(F){return\"handle handle--\"+F.type}).attr(\"cursor\",function(F){return Ua[F.type]}),A.each(c).attr(\"fill\",\"none\").attr(\"pointer-events\",\"all\").on(\"mousedown.brush\",h).filter(n).on(\"touchstart.brush\",h).on(\"touchmove.brush\",f).on(\"touchend.brush touchcancel.brush\",v).style(\"touch-action\",\"none\").style(\"-webkit-tap-highlight-color\",\"rgba(0,0,0,0)\")}l.move=function(A,I,B){A.tween?A.on(\"start.brush\",function(F){u(this,arguments).beforestart().start(F)}).on(\"interrupt.brush end.brush\",function(F){u(this,arguments).end(F)}).tween(\"brush\",function(){var F=this,k=F.__brush,N=u(F,arguments),Y=k.selection,z=t.input(typeof I==\"function\"?I.apply(this,arguments):I,k.extent),ce=qo(Y,z);function Fe($e){k.selection=$e===1&&z===null?null:ce($e),c.call(F),N.brush()}return Y!==null&&z!==null?Fe:Fe(1)}):A.each(function(){var F=this,k=arguments,N=F.__brush,Y=t.input(typeof I==\"function\"?I.apply(F,k):I,N.extent),z=u(F,k).beforestart();Mh(F),N.selection=Y===null?null:Y,c.call(F),z.start(B).brush(B).end(B)})},l.clear=function(A,I){l.move(A,null,I)};function c(){var A=Mi(this),I=_k(this).selection;I?(A.selectAll(\".selection\").style(\"display\",null).attr(\"x\",I[0][0]).attr(\"y\",I[0][1]).attr(\"width\",I[1][0]-I[0][0]).attr(\"height\",I[1][1]-I[0][1]),A.selectAll(\".handle\").style(\"display\",null).attr(\"x\",function(B){return B.type[B.type.length-1]===\"e\"?I[1][0]-s/2:I[0][0]-s/2}).attr(\"y\",function(B){return B.type[0]===\"s\"?I[1][1]-s/2:I[0][1]-s/2}).attr(\"width\",function(B){return B.type===\"n\"||B.type===\"s\"?I[1][0]-I[0][0]+s:s}).attr(\"height\",function(B){return B.type===\"e\"||B.type===\"w\"?I[1][1]-I[0][1]+s:s})):A.selectAll(\".selection,.handle\").style(\"display\",\"none\").attr(\"x\",null).attr(\"y\",null).attr(\"width\",null).attr(\"height\",null)}function u(A,I,B){var F=A.__brush.emitter;return F&&(!B||!F.clean)?F:new d(A,I,B)}function d(A,I,B){this.that=A,this.args=I,this.state=A.__brush,this.active=0,this.clean=B}d.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(A,I){return this.starting?(this.starting=!1,this.emit(\"start\",A,I)):this.emit(\"brush\",A),this},brush:function(A,I){return this.emit(\"brush\",A,I),this},end:function(A,I){return--this.active===0&&(delete this.state.emitter,this.emit(\"end\",A,I)),this},emit:function(A,I,B){var F=Mi(this.that).datum();r.call(A,this.that,new fk(A,{sourceEvent:I,target:l,selection:t.output(this.state.selection),mode:B,dispatch:r}),F)}};function h(A){if(a&&!A.touches||!i.apply(this,arguments))return;var I=this,B=A.target.__data__.type,F=(o&&A.metaKey?B=\"overlay\":B)===\"selection\"?LP:o&&A.altKey?Vh:jh,k=t===gk?null:OY[B],N=t===hx?null:BY[B],Y=_k(I),z=Y.extent,ce=Y.selection,Fe=z[0][0],$e,K,Xe=z[0][1],Be,V,Pe=z[1][0],ie,ke,Ge=z[1][1],Oe,Ye,Ae=0,ct=0,ht,ii=k&&N&&o&&A.shiftKey,Je,ci,Gt=Array.from(A.touches||[A],it=>{let Dt=it.identifier;return it=Pv(it,I),it.point0=it.slice(),it.identifier=Dt,it});Mh(I);var _i=u(I,arguments,!0).beforestart();if(B===\"overlay\"){ce&&(ht=!0);let it=[Gt[0],Gt[1]||Gt[0]];Y.selection=ce=[[$e=t===gk?Fe:Kn(it[0][0],it[1][0]),Be=t===hx?Xe:Kn(it[0][1],it[1][1])],[ie=t===gk?Pe:Xn(it[0][0],it[1][0]),Oe=t===hx?Ge:Xn(it[0][1],it[1][1])]],Gt.length>1&&Qt(A)}else $e=ce[0][0],Be=ce[0][1],ie=ce[1][0],Oe=ce[1][1];K=$e,V=Be,ke=ie,Ye=Oe;var He=Mi(I).attr(\"pointer-events\",\"none\"),wt=He.selectAll(\".overlay\").attr(\"cursor\",Ua[B]);if(A.touches)_i.moved=we,_i.ended=Mt;else{var Ut=Mi(A.view).on(\"mousemove.brush\",we,!0).on(\"mouseup.brush\",Mt,!0);o&&Ut.on(\"keydown.brush\",mi,!0).on(\"keyup.brush\",Ai,!0),hk(A.view)}c.call(I),_i.start(A,F.name);function we(it){for(let Dt of it.changedTouches||[it])for(let kn of Gt)kn.identifier===Dt.identifier&&(kn.cur=Pv(Dt,I));if(ii&&!Je&&!ci&&Gt.length===1){let Dt=Gt[0];DP(Dt.cur[0]-Dt[0])>DP(Dt.cur[1]-Dt[1])?ci=!0:Je=!0}for(let Dt of Gt)Dt.cur&&(Dt[0]=Dt.cur[0],Dt[1]=Dt.cur[1]);ht=!0,dx(it),Qt(it)}function Qt(it){let Dt=Gt[0],kn=Dt.point0;var on;switch(Ae=Dt[0]-kn[0],ct=Dt[1]-kn[1],F){case mk:case LP:{k&&(Ae=Xn(Fe-$e,Kn(Pe-ie,Ae)),K=$e+Ae,ke=ie+Ae),N&&(ct=Xn(Xe-Be,Kn(Ge-Oe,ct)),V=Be+ct,Ye=Oe+ct);break}case jh:{Gt[1]?(k&&(K=Xn(Fe,Kn(Pe,Gt[0][0])),ke=Xn(Fe,Kn(Pe,Gt[1][0])),k=1),N&&(V=Xn(Xe,Kn(Ge,Gt[0][1])),Ye=Xn(Xe,Kn(Ge,Gt[1][1])),N=1)):(k<0?(Ae=Xn(Fe-$e,Kn(Pe-$e,Ae)),K=$e+Ae,ke=ie):k>0&&(Ae=Xn(Fe-ie,Kn(Pe-ie,Ae)),K=$e,ke=ie+Ae),N<0?(ct=Xn(Xe-Be,Kn(Ge-Be,ct)),V=Be+ct,Ye=Oe):N>0&&(ct=Xn(Xe-Oe,Kn(Ge-Oe,ct)),V=Be,Ye=Oe+ct));break}case Vh:{k&&(K=Xn(Fe,Kn(Pe,$e-Ae*k)),ke=Xn(Fe,Kn(Pe,ie+Ae*k))),N&&(V=Xn(Xe,Kn(Ge,Be-ct*N)),Ye=Xn(Xe,Kn(Ge,Oe+ct*N)));break}}ke<K&&(k*=-1,on=$e,$e=ie,ie=on,on=K,K=ke,ke=on,B in RP&&wt.attr(\"cursor\",Ua[B=RP[B]])),Ye<V&&(N*=-1,on=Be,Be=Oe,Oe=on,on=V,V=Ye,Ye=on,B in MP&&wt.attr(\"cursor\",Ua[B=MP[B]])),Y.selection&&(ce=Y.selection),Je&&(K=ce[0][0],ke=ce[1][0]),ci&&(V=ce[0][1],Ye=ce[1][1]),(ce[0][0]!==K||ce[0][1]!==V||ce[1][0]!==ke||ce[1][1]!==Ye)&&(Y.selection=[[K,V],[ke,Ye]],c.call(I),_i.brush(it,F.name))}function Mt(it){if(AP(it),it.touches){if(it.touches.length)return;a&&clearTimeout(a),a=setTimeout(function(){a=null},500)}else pk(it.view,ht),Ut.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\",null);He.attr(\"pointer-events\",\"all\"),wt.attr(\"cursor\",Ua.overlay),Y.selection&&(ce=Y.selection),jY(ce)&&(Y.selection=null,c.call(I)),_i.end(it,F.name)}function mi(it){switch(it.keyCode){case 16:{ii=k&&N;break}case 18:{F===jh&&(k&&(ie=ke-Ae*k,$e=K+Ae*k),N&&(Oe=Ye-ct*N,Be=V+ct*N),F=Vh,Qt(it));break}case 32:{(F===jh||F===Vh)&&(k<0?ie=ke-Ae:k>0&&($e=K-Ae),N<0?Oe=Ye-ct:N>0&&(Be=V-ct),F=mk,wt.attr(\"cursor\",Ua.selection),Qt(it));break}default:return}dx(it)}function Ai(it){switch(it.keyCode){case 16:{ii&&(Je=ci=ii=!1,Qt(it));break}case 18:{F===Vh&&(k<0?ie=ke:k>0&&($e=K),N<0?Oe=Ye:N>0&&(Be=V),F=jh,Qt(it));break}case 32:{F===mk&&(it.altKey?(k&&(ie=ke-Ae*k,$e=K+Ae*k),N&&(Oe=Ye-ct*N,Be=V+ct*N),F=Vh):(k<0?ie=ke:k>0&&($e=K),N<0?Oe=Ye:N>0&&(Be=V),F=jh),wt.attr(\"cursor\",Ua[B]),Qt(it));break}default:return}dx(it)}}function f(A){u(this,arguments).moved(A)}function v(A){u(this,arguments).ended(A)}function L(){var A=this.__brush||{selection:null};return A.extent=yk(e.apply(this,arguments)),A.dim=t,A}return l.extent=function(A){return arguments.length?(e=typeof A==\"function\"?A:ux(yk(A)),l):e},l.filter=function(A){return arguments.length?(i=typeof A==\"function\"?A:ux(!!A),l):i},l.touchable=function(A){return arguments.length?(n=typeof A==\"function\"?A:ux(!!A),l):n},l.handleSize=function(A){return arguments.length?(s=+A,l):s},l.keyModifiers=function(A){return arguments.length?(o=!!A,l):o},l.on=function(){var A=r.on.apply(r,arguments);return A===r?l:A},l}function Rs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function vk(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function wu(t){let e,i,n;t.length!==2?(e=Rs,i=(a,l)=>Rs(t(a),l),n=(a,l)=>t(a)-l):(e=t===Rs||t===vk?t:VY,i=t,n=t);function o(a,l,c=0,u=a.length){if(c<u){if(e(l,l)!==0)return u;do{let d=c+u>>>1;i(a[d],l)<0?c=d+1:u=d}while(c<u)}return c}function r(a,l,c=0,u=a.length){if(c<u){if(e(l,l)!==0)return u;do{let d=c+u>>>1;i(a[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function s(a,l,c=0,u=a.length){let d=o(a,l,c,u-1);return d>c&&n(a[d-1],l)>-n(a[d],l)?d-1:d}return{left:o,center:s,right:r}}function VY(){return 0}function fx(t){return t===null?NaN:+t}function*OP(t,e){if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(yield i);else{let i=-1;for(let n of t)(n=e(n,++i,t))!=null&&(n=+n)>=n&&(yield n)}}var BP=wu(Rs),NP=BP.right,WY=BP.left,HY=wu(fx).center,gg=NP;function Mn(t,e){let i,n;if(e===void 0)for(let o of t)o!=null&&(i===void 0?o>=o&&(i=n=o):(i>o&&(i=o),n<o&&(n=o)));else{let o=-1;for(let r of t)(r=e(r,++o,t))!=null&&(i===void 0?r>=r&&(i=n=r):(i>r&&(i=r),n<r&&(n=r)))}return[i,n]}var Wh=class extends Map{constructor(e,i=GY){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:i}}),e!=null)for(let[n,o]of e)this.set(n,o)}get(e){return super.get(FP(this,e))}has(e){return super.has(FP(this,e))}set(e,i){return super.set($Y(this,e),i)}delete(e){return super.delete(qY(this,e))}};function FP({_intern:t,_key:e},i){let n=e(i);return t.has(n)?t.get(n):i}function $Y({_intern:t,_key:e},i){let n=e(i);return t.has(n)?t.get(n):(t.set(n,i),i)}function qY({_intern:t,_key:e},i){let n=e(i);return t.has(n)&&(i=t.get(n),t.delete(n)),i}function GY(t){return t!==null&&typeof t==\"object\"?t.valueOf():t}function UP(t=Rs){if(t===Rs)return xk;if(typeof t!=\"function\")throw new TypeError(\"compare is not a function\");return(e,i)=>{let n=t(e,i);return n||n===0?n:(t(i,i)===0)-(t(e,e)===0)}}function xk(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}var YY=Math.sqrt(50),QY=Math.sqrt(10),XY=Math.sqrt(2);function mx(t,e,i){let n=(e-t)/Math.max(0,i),o=Math.floor(Math.log10(n)),r=n/Math.pow(10,o),s=r>=YY?10:r>=QY?5:r>=XY?2:1,a,l,c;return o<0?(c=Math.pow(10,-o)/s,a=Math.round(t*c),l=Math.round(e*c),a/c<t&&++a,l/c>e&&--l,c=-c):(c=Math.pow(10,o)*s,a=Math.round(t/c),l=Math.round(e/c),a*c<t&&++a,l*c>e&&--l),l<a&&.5<=i&&i<2?mx(t,e,i*2):[a,l,c]}function gx(t,e,i){if(e=+e,t=+t,i=+i,!(i>0))return[];if(t===e)return[t];let n=e<t,[o,r,s]=n?mx(e,t,i):mx(t,e,i);if(!(r>=o))return[];let a=r-o+1,l=new Array(a);if(n)if(s<0)for(let c=0;c<a;++c)l[c]=(r-c)/-s;else for(let c=0;c<a;++c)l[c]=(r-c)*s;else if(s<0)for(let c=0;c<a;++c)l[c]=(o+c)/-s;else for(let c=0;c<a;++c)l[c]=(o+c)*s;return l}function _g(t,e,i){return e=+e,t=+t,i=+i,mx(t,e,i)[2]}function Hh(t,e,i){e=+e,t=+t,i=+i;let n=e<t,o=n?_g(e,t,i):_g(t,e,i);return(n?-1:1)*(o<0?1/-o:o)}function _x(t,e){let i;if(e===void 0)for(let n of t)n!=null&&(i<n||i===void 0&&n>=n)&&(i=n);else{let n=-1;for(let o of t)(o=e(o,++n,t))!=null&&(i<o||i===void 0&&o>=o)&&(i=o)}return i}function yx(t,e){let i;if(e===void 0)for(let n of t)n!=null&&(i>n||i===void 0&&n>=n)&&(i=n);else{let n=-1;for(let o of t)(o=e(o,++n,t))!=null&&(i>o||i===void 0&&o>=o)&&(i=o)}return i}function bx(t,e,i=0,n=1/0,o){if(e=Math.floor(e),i=Math.floor(Math.max(0,i)),n=Math.floor(Math.min(t.length-1,n)),!(i<=e&&e<=n))return t;for(o=o===void 0?xk:UP(o);n>i;){if(n-i>600){let l=n-i+1,c=e-i+1,u=Math.log(l),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),f=Math.max(i,Math.floor(e-c*d/l+h)),v=Math.min(n,Math.floor(e+(l-c)*d/l+h));bx(t,e,f,v,o)}let r=t[e],s=i,a=n;for(yg(t,i,e),o(t[n],r)>0&&yg(t,i,n);s<a;){for(yg(t,s,a),++s,--a;o(t[s],r)<0;)++s;for(;o(t[a],r)>0;)--a}o(t[i],r)===0?yg(t,i,a):(++a,yg(t,a,n)),a<=e&&(i=a+1),e<=a&&(n=a-1)}return t}function yg(t,e,i){let n=t[e];t[e]=t[i],t[i]=n}function Ao(t,e,i){if(t=Float64Array.from(OP(t,i)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return yx(t);if(e>=1)return _x(t);var n,o=(n-1)*e,r=Math.floor(o),s=_x(bx(t,r).subarray(0,r+1)),a=yx(t.subarray(r+1));return s+(a-s)*(o-r)}}function Ms(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function jP(t,e){switch(arguments.length){case 0:break;case 1:{typeof t==\"function\"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e==\"function\"?this.interpolator(e):this.range(e);break}}return this}var wk=Symbol(\"implicit\");function bg(){var t=new Wh,e=[],i=[],n=wk;function o(r){let s=t.get(r);if(s===void 0){if(n!==wk)return n;t.set(r,s=e.push(r)-1)}return i[s%i.length]}return o.domain=function(r){if(!arguments.length)return e.slice();e=[],t=new Wh;for(let s of r)t.has(s)||t.set(s,e.push(s)-1);return o},o.range=function(r){return arguments.length?(i=Array.from(r),o):i.slice()},o.unknown=function(r){return arguments.length?(n=r,o):n},o.copy=function(){return bg(e,i).unknown(n)},Ms.apply(o,arguments),o}function Sk(t){return function(){return t}}function Ck(t){return+t}var VP=[0,1];function ja(t){return t}function kk(t,e){return(e-=t=+t)?function(i){return(i-t)/e}:Sk(isNaN(e)?NaN:.5)}function KY(t,e){var i;return t>e&&(i=t,t=e,e=i),function(n){return Math.max(t,Math.min(e,n))}}function ZY(t,e,i){var n=t[0],o=t[1],r=e[0],s=e[1];return o<n?(n=kk(o,n),r=i(s,r)):(n=kk(n,o),r=i(r,s)),function(a){return r(n(a))}}function JY(t,e,i){var n=Math.min(t.length,e.length)-1,o=new Array(n),r=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)o[s]=kk(t[s],t[s+1]),r[s]=i(e[s],e[s+1]);return function(a){var l=gg(t,a,1,n)-1;return r[l](o[l](a))}}function $h(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ek(){var t=VP,e=VP,i=qo,n,o,r,s=ja,a,l,c;function u(){var h=Math.min(t.length,e.length);return s!==ja&&(s=KY(t[0],t[h-1])),a=h>2?JY:ZY,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?r:(l||(l=a(t.map(n),e,i)))(n(s(h)))}return d.invert=function(h){return s(o((c||(c=a(e,t.map(n),$n)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,Ck),u()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),u()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),i=dg,u()},d.clamp=function(h){return arguments.length?(s=h?!0:ja,u()):s!==ja},d.interpolate=function(h){return arguments.length?(i=h,u()):i},d.unknown=function(h){return arguments.length?(r=h,d):r},function(h,f){return n=h,o=f,u()}}function vg(){return Ek()(ja,ja)}function WP(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString(\"en\").replace(/,/g,\"\"):t.toString(10)}function Su(t,e){if((i=(t=e?t.toExponential(e-1):t.toExponential()).indexOf(\"e\"))<0)return null;var i,n=t.slice(0,i);return[n.length>1?n[0]+n.slice(2):n,+t.slice(i+1)]}function zs(t){return t=Su(Math.abs(t)),t?t[1]:NaN}function HP(t,e){return function(i,n){for(var o=i.length,r=[],s=0,a=t[0],l=0;o>0&&a>0&&(l+a+1>n&&(a=Math.max(1,n-l)),r.push(i.substring(o-=a,o+a)),!((l+=a+1)>n));)a=t[s=(s+1)%t.length];return r.reverse().join(e)}}function $P(t){return function(e){return e.replace(/[0-9]/g,function(i){return t[+i]})}}var eQ=/^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;function Zl(t){if(!(e=eQ.exec(t)))throw new Error(\"invalid format: \"+t);var e;return new vx({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Zl.prototype=vx.prototype;function vx(t){this.fill=t.fill===void 0?\" \":t.fill+\"\",this.align=t.align===void 0?\">\":t.align+\"\",this.sign=t.sign===void 0?\"-\":t.sign+\"\",this.symbol=t.symbol===void 0?\"\":t.symbol+\"\",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?\"\":t.type+\"\"}vx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?\"0\":\"\")+(this.width===void 0?\"\":Math.max(1,this.width|0))+(this.comma?\",\":\"\")+(this.precision===void 0?\"\":\".\"+Math.max(0,this.precision|0))+(this.trim?\"~\":\"\")+this.type};function qP(t){e:for(var e=t.length,i=1,n=-1,o;i<e;++i)switch(t[i]){case\".\":n=o=i;break;case\"0\":n===0&&(n=i),o=i;break;default:if(!+t[i])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(o+1):t}var Ik;function GP(t,e){var i=Su(t,e);if(!i)return t+\"\";var n=i[0],o=i[1],r=o-(Ik=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,s=n.length;return r===s?n:r>s?n+new Array(r-s+1).join(\"0\"):r>0?n.slice(0,r)+\".\"+n.slice(r):\"0.\"+new Array(1-r).join(\"0\")+Su(t,Math.max(0,e+r-1))[0]}function Tk(t,e){var i=Su(t,e);if(!i)return t+\"\";var n=i[0],o=i[1];return o<0?\"0.\"+new Array(-o).join(\"0\")+n:n.length>o+1?n.slice(0,o+1)+\".\"+n.slice(o+1):n+new Array(o-n.length+2).join(\"0\")}var Ak={\"%\":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+\"\",d:WP,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Tk(t*100,e),r:Tk,s:GP,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Lk(t){return t}var YP=Array.prototype.map,QP=[\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\\xB5\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];function XP(t){var e=t.grouping===void 0||t.thousands===void 0?Lk:HP(YP.call(t.grouping,Number),t.thousands+\"\"),i=t.currency===void 0?\"\":t.currency[0]+\"\",n=t.currency===void 0?\"\":t.currency[1]+\"\",o=t.decimal===void 0?\".\":t.decimal+\"\",r=t.numerals===void 0?Lk:$P(YP.call(t.numerals,String)),s=t.percent===void 0?\"%\":t.percent+\"\",a=t.minus===void 0?\"\\u2212\":t.minus+\"\",l=t.nan===void 0?\"NaN\":t.nan+\"\";function c(d){d=Zl(d);var h=d.fill,f=d.align,v=d.sign,L=d.symbol,A=d.zero,I=d.width,B=d.comma,F=d.precision,k=d.trim,N=d.type;N===\"n\"?(B=!0,N=\"g\"):Ak[N]||(F===void 0&&(F=12),k=!0,N=\"g\"),(A||h===\"0\"&&f===\"=\")&&(A=!0,h=\"0\",f=\"=\");var Y=L===\"$\"?i:L===\"#\"&&/[boxX]/.test(N)?\"0\"+N.toLowerCase():\"\",z=L===\"$\"?n:/[%p]/.test(N)?s:\"\",ce=Ak[N],Fe=/[defgprs%]/.test(N);F=F===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,F)):Math.max(0,Math.min(20,F));function $e(K){var Xe=Y,Be=z,V,Pe,ie;if(N===\"c\")Be=ce(K)+Be,K=\"\";else{K=+K;var ke=K<0||1/K<0;if(K=isNaN(K)?l:ce(Math.abs(K),F),k&&(K=qP(K)),ke&&+K==0&&v!==\"+\"&&(ke=!1),Xe=(ke?v===\"(\"?v:a:v===\"-\"||v===\"(\"?\"\":v)+Xe,Be=(N===\"s\"?QP[8+Ik/3]:\"\")+Be+(ke&&v===\"(\"?\")\":\"\"),Fe){for(V=-1,Pe=K.length;++V<Pe;)if(ie=K.charCodeAt(V),48>ie||ie>57){Be=(ie===46?o+K.slice(V+1):K.slice(V))+Be,K=K.slice(0,V);break}}}B&&!A&&(K=e(K,1/0));var Ge=Xe.length+K.length+Be.length,Oe=Ge<I?new Array(I-Ge+1).join(h):\"\";switch(B&&A&&(K=e(Oe+K,Oe.length?I-Be.length:1/0),Oe=\"\"),f){case\"<\":K=Xe+K+Be+Oe;break;case\"=\":K=Xe+Oe+K+Be;break;case\"^\":K=Oe.slice(0,Ge=Oe.length>>1)+Xe+K+Be+Oe.slice(Ge);break;default:K=Oe+Xe+K+Be;break}return r(K)}return $e.toString=function(){return d+\"\"},$e}function u(d,h){var f=c((d=Zl(d),d.type=\"f\",d)),v=Math.max(-8,Math.min(8,Math.floor(zs(h)/3)))*3,L=Math.pow(10,-v),A=QP[8+v/3];return function(I){return f(L*I)+A}}return{format:c,formatPrefix:u}}var xx,qh,wx;Dk({thousands:\",\",grouping:[3],currency:[\"$\",\"\"]});function Dk(t){return xx=XP(t),qh=xx.format,wx=xx.formatPrefix,xx}function Pk(t){return Math.max(0,-zs(Math.abs(t)))}function Rk(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zs(e)/3)))*3-zs(Math.abs(t)))}function Mk(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,zs(e)-zs(t))+1}function zk(t,e,i,n){var o=Hh(t,e,i),r;switch(n=Zl(n??\",f\"),n.type){case\"s\":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(r=Rk(o,s))&&(n.precision=r),wx(n,s)}case\"\":case\"e\":case\"g\":case\"p\":case\"r\":{n.precision==null&&!isNaN(r=Mk(o,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=r-(n.type===\"e\"));break}case\"f\":case\"%\":{n.precision==null&&!isNaN(r=Pk(o))&&(n.precision=r-(n.type===\"%\")*2);break}}return qh(n)}function Cu(t){var e=t.domain;return t.ticks=function(i){var n=e();return gx(n[0],n[n.length-1],i??10)},t.tickFormat=function(i,n){var o=e();return zk(o[0],o[o.length-1],i??10,n)},t.nice=function(i){i==null&&(i=10);var n=e(),o=0,r=n.length-1,s=n[o],a=n[r],l,c,u=10;for(a<s&&(c=s,s=a,a=c,c=o,o=r,r=c);u-- >0;){if(c=_g(s,a,i),c===l)return n[o]=s,n[r]=a,e(n);if(c>0)s=Math.floor(s/c)*c,a=Math.ceil(a/c)*c;else if(c<0)s=Math.ceil(s*c)/c,a=Math.floor(a*c)/c;else break;l=c}return t},t}function Jl(){var t=vg();return t.copy=function(){return $h(t,Jl())},Ms.apply(t,arguments),Cu(t)}function Ok(t,e){t=t.slice();var i=0,n=t.length-1,o=t[i],r=t[n],s;return r<o&&(s=i,i=n,n=s,s=o,o=r,r=s),t[i]=e.floor(o),t[n]=e.ceil(r),t}function KP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function ZP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function tQ(t){var e=1,i=t(KP(e),ZP(e));return i.constant=function(n){return arguments.length?t(KP(e=+n),ZP(e)):e},Cu(i)}function ku(){var t=tQ(Ek());return t.copy=function(){return $h(t,ku()).constant(t.constant())},Ms.apply(t,arguments)}function xg(){var t=0,e=1,i=1,n=[.5],o=[0,1],r;function s(l){return l!=null&&l<=l?o[gg(n,l,0,i)]:r}function a(){var l=-1;for(n=new Array(i);++l<i;)n[l]=((l+1)*e-(l-i)*t)/(i+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(i=(o=Array.from(l)).length-1,a()):o.slice()},s.invertExtent=function(l){var c=o.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,n[0]]:c>=i?[n[i-1],e]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(r=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return xg().domain([t,e]).range(o).unknown(r)},Ms.apply(Cu(s),arguments)}var Bk=new Date,Nk=new Date;function Ti(t,e,i,n){function o(r){return t(r=arguments.length===0?new Date:new Date(+r)),r}return o.floor=r=>(t(r=new Date(+r)),r),o.ceil=r=>(t(r=new Date(r-1)),e(r,1),t(r),r),o.round=r=>{let s=o(r),a=o.ceil(r);return r-s<a-r?s:a},o.offset=(r,s)=>(e(r=new Date(+r),s==null?1:Math.floor(s)),r),o.range=(r,s,a)=>{let l=[];if(r=o.ceil(r),a=a==null?1:Math.floor(a),!(r<s)||!(a>0))return l;let c;do l.push(c=new Date(+r)),e(r,a),t(r);while(c<r&&r<s);return l},o.filter=r=>Ti(s=>{if(s>=s)for(;t(s),!r(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!r(s););else for(;--a>=0;)for(;e(s,1),!r(s););}),i&&(o.count=(r,s)=>(Bk.setTime(+r),Nk.setTime(+s),t(Bk),t(Nk),Math.floor(i(Bk,Nk))),o.every=r=>(r=Math.floor(r),!isFinite(r)||!(r>0)?null:r>1?o.filter(n?s=>n(s)%r===0:s=>o.count(0,s)%r===0):o)),o}var wg=Ti(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);wg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ti(e=>{e.setTime(Math.floor(e/t)*t)},(e,i)=>{e.setTime(+e+i*t)},(e,i)=>(i-e)/t):wg);var mAe=wg.range;var Os=Ti(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*1e3)},(t,e)=>(e-t)/1e3,t=>t.getUTCSeconds()),JP=Os.range;var Gh=Ti(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*1e3)},(t,e)=>{t.setTime(+t+e*6e4)},(t,e)=>(e-t)/6e4,t=>t.getMinutes()),iQ=Gh.range,Sx=Ti(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*6e4)},(t,e)=>(e-t)/6e4,t=>t.getUTCMinutes()),nQ=Sx.range;var Yh=Ti(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*1e3-t.getMinutes()*6e4)},(t,e)=>{t.setTime(+t+e*36e5)},(t,e)=>(e-t)/36e5,t=>t.getHours()),oQ=Yh.range,Cx=Ti(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*36e5)},(t,e)=>(e-t)/36e5,t=>t.getUTCHours()),rQ=Cx.range;var Va=Ti(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/864e5,t=>t.getDate()-1),sQ=Va.range,Cg=Ti(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/864e5,t=>t.getUTCDate()-1),aQ=Cg.range,kx=Ti(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/864e5,t=>Math.floor(t/864e5)),lQ=kx.range;function Tu(t){return Ti(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,i)=>{e.setDate(e.getDate()+i*7)},(e,i)=>(i-e-(i.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/6048e5)}var Wa=Tu(0),Qh=Tu(1),t7=Tu(2),i7=Tu(3),ec=Tu(4),n7=Tu(5),o7=Tu(6),r7=Wa.range,cQ=Qh.range,uQ=t7.range,dQ=i7.range,hQ=ec.range,pQ=n7.range,fQ=o7.range;function Au(t){return Ti(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,i)=>{e.setUTCDate(e.getUTCDate()+i*7)},(e,i)=>(i-e)/6048e5)}var Lu=Au(0),Xh=Au(1),s7=Au(2),a7=Au(3),tc=Au(4),l7=Au(5),c7=Au(6),u7=Lu.range,mQ=Xh.range,gQ=s7.range,_Q=a7.range,yQ=tc.range,bQ=l7.range,vQ=c7.range;var Kh=Ti(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth()),xQ=Kh.range,Ex=Ti(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth()),wQ=Ex.range;var Go=Ti(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Go.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ti(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,i)=>{e.setFullYear(e.getFullYear()+i*t)});var SQ=Go.range,is=Ti(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());is.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ti(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,i)=>{e.setUTCFullYear(e.getUTCFullYear()+i*t)});var CQ=is.range;function h7(t,e,i,n,o,r){let s=[[Os,1,1e3],[Os,5,5*1e3],[Os,15,15*1e3],[Os,30,30*1e3],[r,1,6e4],[r,5,5*6e4],[r,15,15*6e4],[r,30,30*6e4],[o,1,36e5],[o,3,3*36e5],[o,6,6*36e5],[o,12,12*36e5],[n,1,864e5],[n,2,2*864e5],[i,1,6048e5],[e,1,2592e6],[e,3,3*2592e6],[t,1,31536e6]];function a(c,u,d){let h=u<c;h&&([c,u]=[u,c]);let f=d&&typeof d.range==\"function\"?d:l(c,u,d),v=f?f.range(c,+u+1):[];return h?v.reverse():v}function l(c,u,d){let h=Math.abs(u-c)/d,f=wu(([,,A])=>A).right(s,h);if(f===s.length)return t.every(Hh(c/31536e6,u/31536e6,d));if(f===0)return wg.every(Math.max(Hh(c,u,d),1));let[v,L]=s[h/s[f-1][2]<s[f][2]/h?f-1:f];return v.every(L)}return[a,l]}var[EQ,IQ]=h7(is,Ex,Lu,kx,Cx,Sx),[Fk,Uk]=h7(Go,Kh,Wa,Va,Yh,Gh);function jk(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Vk(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function kg(t,e,i){return{y:t,m:e,d:i,H:0,M:0,S:0,L:0}}function Wk(t){var e=t.dateTime,i=t.date,n=t.time,o=t.periods,r=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,c=Eg(o),u=Ig(o),d=Eg(r),h=Ig(r),f=Eg(s),v=Ig(s),L=Eg(a),A=Ig(a),I=Eg(l),B=Ig(l),F={a:ke,A:Ge,b:Oe,B:Ye,c:null,d:y7,e:y7,f:XQ,g:sX,G:lX,H:GQ,I:YQ,j:QQ,L:S7,m:KQ,M:ZQ,p:Ae,q:ct,Q:x7,s:w7,S:JQ,u:eX,U:tX,V:iX,w:nX,W:oX,x:null,X:null,y:rX,Y:aX,Z:cX,\"%\":v7},k={a:ht,A:ii,b:Je,B:ci,c:null,d:b7,e:b7,f:pX,g:SX,G:kX,H:uX,I:dX,j:hX,L:k7,m:fX,M:mX,p:Gt,q:_i,Q:x7,s:w7,S:gX,u:_X,U:yX,V:bX,w:vX,W:xX,x:null,X:null,y:wX,Y:CX,Z:EX,\"%\":v7},N={a:$e,A:K,b:Xe,B:Be,c:V,d:g7,e:g7,f:WQ,g:m7,G:f7,H:_7,I:_7,j:FQ,L:VQ,m:NQ,M:UQ,p:Fe,q:BQ,Q:$Q,s:qQ,S:jQ,u:PQ,U:RQ,V:MQ,w:DQ,W:zQ,x:Pe,X:ie,y:m7,Y:f7,Z:OQ,\"%\":HQ};F.x=Y(i,F),F.X=Y(n,F),F.c=Y(e,F),k.x=Y(i,k),k.X=Y(n,k),k.c=Y(e,k);function Y(He,wt){return function(Ut){var we=[],Qt=-1,Mt=0,mi=He.length,Ai,it,Dt;for(Ut instanceof Date||(Ut=new Date(+Ut));++Qt<mi;)He.charCodeAt(Qt)===37&&(we.push(He.slice(Mt,Qt)),(it=p7[Ai=He.charAt(++Qt)])!=null?Ai=He.charAt(++Qt):it=Ai===\"e\"?\" \":\"0\",(Dt=wt[Ai])&&(Ai=Dt(Ut,it)),we.push(Ai),Mt=Qt+1);return we.push(He.slice(Mt,Qt)),we.join(\"\")}}function z(He,wt){return function(Ut){var we=kg(1900,void 0,1),Qt=ce(we,He,Ut+=\"\",0),Mt,mi;if(Qt!=Ut.length)return null;if(\"Q\"in we)return new Date(we.Q);if(\"s\"in we)return new Date(we.s*1e3+(\"L\"in we?we.L:0));if(wt&&!(\"Z\"in we)&&(we.Z=0),\"p\"in we&&(we.H=we.H%12+we.p*12),we.m===void 0&&(we.m=\"q\"in we?we.q:0),\"V\"in we){if(we.V<1||we.V>53)return null;\"w\"in we||(we.w=1),\"Z\"in we?(Mt=Vk(kg(we.y,0,1)),mi=Mt.getUTCDay(),Mt=mi>4||mi===0?Xh.ceil(Mt):Xh(Mt),Mt=Cg.offset(Mt,(we.V-1)*7),we.y=Mt.getUTCFullYear(),we.m=Mt.getUTCMonth(),we.d=Mt.getUTCDate()+(we.w+6)%7):(Mt=jk(kg(we.y,0,1)),mi=Mt.getDay(),Mt=mi>4||mi===0?Qh.ceil(Mt):Qh(Mt),Mt=Va.offset(Mt,(we.V-1)*7),we.y=Mt.getFullYear(),we.m=Mt.getMonth(),we.d=Mt.getDate()+(we.w+6)%7)}else(\"W\"in we||\"U\"in we)&&(\"w\"in we||(we.w=\"u\"in we?we.u%7:\"W\"in we?1:0),mi=\"Z\"in we?Vk(kg(we.y,0,1)).getUTCDay():jk(kg(we.y,0,1)).getDay(),we.m=0,we.d=\"W\"in we?(we.w+6)%7+we.W*7-(mi+5)%7:we.w+we.U*7-(mi+6)%7);return\"Z\"in we?(we.H+=we.Z/100|0,we.M+=we.Z%100,Vk(we)):jk(we)}}function ce(He,wt,Ut,we){for(var Qt=0,Mt=wt.length,mi=Ut.length,Ai,it;Qt<Mt;){if(we>=mi)return-1;if(Ai=wt.charCodeAt(Qt++),Ai===37){if(Ai=wt.charAt(Qt++),it=N[Ai in p7?wt.charAt(Qt++):Ai],!it||(we=it(He,Ut,we))<0)return-1}else if(Ai!=Ut.charCodeAt(we++))return-1}return we}function Fe(He,wt,Ut){var we=c.exec(wt.slice(Ut));return we?(He.p=u.get(we[0].toLowerCase()),Ut+we[0].length):-1}function $e(He,wt,Ut){var we=f.exec(wt.slice(Ut));return we?(He.w=v.get(we[0].toLowerCase()),Ut+we[0].length):-1}function K(He,wt,Ut){var we=d.exec(wt.slice(Ut));return we?(He.w=h.get(we[0].toLowerCase()),Ut+we[0].length):-1}function Xe(He,wt,Ut){var we=I.exec(wt.slice(Ut));return we?(He.m=B.get(we[0].toLowerCase()),Ut+we[0].length):-1}function Be(He,wt,Ut){var we=L.exec(wt.slice(Ut));return we?(He.m=A.get(we[0].toLowerCase()),Ut+we[0].length):-1}function V(He,wt,Ut){return ce(He,e,wt,Ut)}function Pe(He,wt,Ut){return ce(He,i,wt,Ut)}function ie(He,wt,Ut){return ce(He,n,wt,Ut)}function ke(He){return s[He.getDay()]}function Ge(He){return r[He.getDay()]}function Oe(He){return l[He.getMonth()]}function Ye(He){return a[He.getMonth()]}function Ae(He){return o[+(He.getHours()>=12)]}function ct(He){return 1+~~(He.getMonth()/3)}function ht(He){return s[He.getUTCDay()]}function ii(He){return r[He.getUTCDay()]}function Je(He){return l[He.getUTCMonth()]}function ci(He){return a[He.getUTCMonth()]}function Gt(He){return o[+(He.getUTCHours()>=12)]}function _i(He){return 1+~~(He.getUTCMonth()/3)}return{format:function(He){var wt=Y(He+=\"\",F);return wt.toString=function(){return He},wt},parse:function(He){var wt=z(He+=\"\",!1);return wt.toString=function(){return He},wt},utcFormat:function(He){var wt=Y(He+=\"\",k);return wt.toString=function(){return He},wt},utcParse:function(He){var wt=z(He+=\"\",!0);return wt.toString=function(){return He},wt}}}var p7={\"-\":\"\",_:\" \",0:\"0\"},zn=/^\\s*\\d+/,TQ=/^%/,AQ=/[\\\\^$*+?|[\\]().{}]/g;function di(t,e,i){var n=t<0?\"-\":\"\",o=(n?-t:t)+\"\",r=o.length;return n+(r<i?new Array(i-r+1).join(e)+o:o)}function LQ(t){return t.replace(AQ,\"\\\\$&\")}function Eg(t){return new RegExp(\"^(?:\"+t.map(LQ).join(\"|\")+\")\",\"i\")}function Ig(t){return new Map(t.map((e,i)=>[e.toLowerCase(),i]))}function DQ(t,e,i){var n=zn.exec(e.slice(i,i+1));return n?(t.w=+n[0],i+n[0].length):-1}function PQ(t,e,i){var n=zn.exec(e.slice(i,i+1));return n?(t.u=+n[0],i+n[0].length):-1}function RQ(t,e,i){var n=zn.exec(e.slice(i,i+2));return n?(t.U=+n[0],i+n[0].length):-1}function MQ(t,e,i){var n=zn.exec(e.slice(i,i+2));return n?(t.V=+n[0],i+n[0].length):-1}function zQ(t,e,i){var n=zn.exec(e.slice(i,i+2));return n?(t.W=+n[0],i+n[0].length):-1}function f7(t,e,i){var n=zn.exec(e.slice(i,i+4));return n?(t.y=+n[0],i+n[0].length):-1}function m7(t,e,i){var n=zn.exec(e.slice(i,i+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),i+n[0].length):-1}function OQ(t,e,i){var n=/^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(e.slice(i,i+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||\"00\")),i+n[0].length):-1}function BQ(t,e,i){var n=zn.exec(e.slice(i,i+1));return n?(t.q=n[0]*3-3,i+n[0].length):-1}function NQ(t,e,i){var n=zn.exec(e.slice(i,i+2));return n?(t.m=n[0]-1,i+n[0].length):-1}function g7(t,e,i){var n=zn.exec(e.slice(i,i+2));return n?(t.d=+n[0],i+n[0].length):-1}function FQ(t,e,i){var n=zn.exec(e.slice(i,i+3));return n?(t.m=0,t.d=+n[0],i+n[0].length):-1}function _7(t,e,i){var n=zn.exec(e.slice(i,i+2));return n?(t.H=+n[0],i+n[0].length):-1}function UQ(t,e,i){var n=zn.exec(e.slice(i,i+2));return n?(t.M=+n[0],i+n[0].length):-1}function jQ(t,e,i){var n=zn.exec(e.slice(i,i+2));return n?(t.S=+n[0],i+n[0].length):-1}function VQ(t,e,i){var n=zn.exec(e.slice(i,i+3));return n?(t.L=+n[0],i+n[0].length):-1}function WQ(t,e,i){var n=zn.exec(e.slice(i,i+6));return n?(t.L=Math.floor(n[0]/1e3),i+n[0].length):-1}function HQ(t,e,i){var n=TQ.exec(e.slice(i,i+1));return n?i+n[0].length:-1}function $Q(t,e,i){var n=zn.exec(e.slice(i));return n?(t.Q=+n[0],i+n[0].length):-1}function qQ(t,e,i){var n=zn.exec(e.slice(i));return n?(t.s=+n[0],i+n[0].length):-1}function y7(t,e){return di(t.getDate(),e,2)}function GQ(t,e){return di(t.getHours(),e,2)}function YQ(t,e){return di(t.getHours()%12||12,e,2)}function QQ(t,e){return di(1+Va.count(Go(t),t),e,3)}function S7(t,e){return di(t.getMilliseconds(),e,3)}function XQ(t,e){return S7(t,e)+\"000\"}function KQ(t,e){return di(t.getMonth()+1,e,2)}function ZQ(t,e){return di(t.getMinutes(),e,2)}function JQ(t,e){return di(t.getSeconds(),e,2)}function eX(t){var e=t.getDay();return e===0?7:e}function tX(t,e){return di(Wa.count(Go(t)-1,t),e,2)}function C7(t){var e=t.getDay();return e>=4||e===0?ec(t):ec.ceil(t)}function iX(t,e){return t=C7(t),di(ec.count(Go(t),t)+(Go(t).getDay()===4),e,2)}function nX(t){return t.getDay()}function oX(t,e){return di(Qh.count(Go(t)-1,t),e,2)}function rX(t,e){return di(t.getFullYear()%100,e,2)}function sX(t,e){return t=C7(t),di(t.getFullYear()%100,e,2)}function aX(t,e){return di(t.getFullYear()%1e4,e,4)}function lX(t,e){var i=t.getDay();return t=i>=4||i===0?ec(t):ec.ceil(t),di(t.getFullYear()%1e4,e,4)}function cX(t){var e=t.getTimezoneOffset();return(e>0?\"-\":(e*=-1,\"+\"))+di(e/60|0,\"0\",2)+di(e%60,\"0\",2)}function b7(t,e){return di(t.getUTCDate(),e,2)}function uX(t,e){return di(t.getUTCHours(),e,2)}function dX(t,e){return di(t.getUTCHours()%12||12,e,2)}function hX(t,e){return di(1+Cg.count(is(t),t),e,3)}function k7(t,e){return di(t.getUTCMilliseconds(),e,3)}function pX(t,e){return k7(t,e)+\"000\"}function fX(t,e){return di(t.getUTCMonth()+1,e,2)}function mX(t,e){return di(t.getUTCMinutes(),e,2)}function gX(t,e){return di(t.getUTCSeconds(),e,2)}function _X(t){var e=t.getUTCDay();return e===0?7:e}function yX(t,e){return di(Lu.count(is(t)-1,t),e,2)}function E7(t){var e=t.getUTCDay();return e>=4||e===0?tc(t):tc.ceil(t)}function bX(t,e){return t=E7(t),di(tc.count(is(t),t)+(is(t).getUTCDay()===4),e,2)}function vX(t){return t.getUTCDay()}function xX(t,e){return di(Xh.count(is(t)-1,t),e,2)}function wX(t,e){return di(t.getUTCFullYear()%100,e,2)}function SX(t,e){return t=E7(t),di(t.getUTCFullYear()%100,e,2)}function CX(t,e){return di(t.getUTCFullYear()%1e4,e,4)}function kX(t,e){var i=t.getUTCDay();return t=i>=4||i===0?tc(t):tc.ceil(t),di(t.getUTCFullYear()%1e4,e,4)}function EX(){return\"+0000\"}function v7(){return\"%\"}function x7(t){return+t}function w7(t){return Math.floor(+t/1e3)}var Zh,Yo,I7,T7,A7;Hk({dateTime:\"%x, %X\",date:\"%-m/%-d/%Y\",time:\"%-I:%M:%S %p\",periods:[\"AM\",\"PM\"],days:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],shortDays:[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],months:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],shortMonths:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"]});function Hk(t){return Zh=Wk(t),Yo=Zh.format,I7=Zh.parse,T7=Zh.utcFormat,A7=Zh.utcParse,Zh}function IX(t){return new Date(t)}function TX(t){return t instanceof Date?+t:+new Date(+t)}function L7(t,e,i,n,o,r,s,a,l,c){var u=vg(),d=u.invert,h=u.domain,f=c(\".%L\"),v=c(\":%S\"),L=c(\"%I:%M\"),A=c(\"%I %p\"),I=c(\"%a %d\"),B=c(\"%b %d\"),F=c(\"%B\"),k=c(\"%Y\");function N(Y){return(l(Y)<Y?f:a(Y)<Y?v:s(Y)<Y?L:r(Y)<Y?A:n(Y)<Y?o(Y)<Y?I:B:i(Y)<Y?F:k)(Y)}return u.invert=function(Y){return new Date(d(Y))},u.domain=function(Y){return arguments.length?h(Array.from(Y,TX)):h().map(IX)},u.ticks=function(Y){var z=h();return t(z[0],z[z.length-1],Y??10)},u.tickFormat=function(Y,z){return z==null?N:c(z)},u.nice=function(Y){var z=h();return(!Y||typeof Y.range!=\"function\")&&(Y=e(z[0],z[z.length-1],Y??10)),Y?h(Ok(z,Y)):u},u.copy=function(){return $h(u,L7(t,e,i,n,o,r,s,a,l,c))},u}function Ix(){return Ms.apply(L7(Fk,Uk,Go,Kh,Wa,Va,Yh,Gh,Os,Yo).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function AX(){var t=0,e=1,i,n,o,r,s=ja,a=!1,l;function c(d){return d==null||isNaN(d=+d)?l:s(o===0?.5:(d=(r(d)-i)*o,a?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([t,e]=d,i=r(t=+t),n=r(e=+e),o=i===n?0:1/(n-i),c):[t,e]},c.clamp=function(d){return arguments.length?(a=!!d,c):a},c.interpolator=function(d){return arguments.length?(s=d,c):s};function u(d){return function(h){var f,v;return arguments.length?([f,v]=h,s=d(f,v),c):[s(0),s(1)]}}return c.range=u(qo),c.rangeRound=u(dg),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return r=d,i=d(t),n=d(e),o=i===n?0:1/(n-i),c}}function LX(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Tg(){var t=Cu(AX()(ja));return t.copy=function(){return LX(t,Tg())},jP.apply(t,arguments)}var D7='<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 320 512\"><path fill=\"currentColor\" d=\"M48 64C21.5 64 0 85.5 0 112V400c0 26.5 21.5 48 48 48H80c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H48zm192 0c-26.5 0-48 21.5-48 48V400c0 26.5 21.5 48 48 48h32c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H240z\"/></svg>',P7='<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\"><path fill=\"currentColor\" d=\"M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z\"/></svg>';var DX={top:1,left:5,bottom:1,right:5},Ag={allowSelection:!0,showAnimationControls:!1,animationSpeed:50,padding:DX,axisTickHeight:16,selectionRadius:3,selectionPadding:8,barCount:250,barRadius:1,barPadding:.1,barTopMargin:20,minBarHeight:1,dataStep:void 0,tickStep:void 0,stickySelection:!0,formatter:void 0,onBrush:void 0,onBarHover:void 0,onAnimationPlay:void 0,onAnimationPause:void 0,onAnimationTick:void 0,noDataMessage:\"No timeline data\",loadingMessage:\"Data loading...\"};var PX=t=>typeof t==\"function\";var RX=t=>Array.isArray(t),MX=t=>t instanceof Object,Tx=t=>t.constructor.name!==\"Function\"&&t.constructor.name!==\"Object\",R7=t=>MX(t)&&!RX(t)&&!PX(t)&&!Tx(t),Ax=(t,e=new Map)=>{if(typeof t!=\"object\"||t===null)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof Array){let i=[];e.set(t,i);for(let n of t)i.push(e.has(n)?e.get(n):Ax(n,e));return t}if(Tx(t))return t;if(t instanceof Object){let i={};e.set(t,i);let n=t;return Object.keys(t).reduce((o,r)=>(o[r]=e.has(n[r])?e.get(n[r]):Ax(n[r],e),o),i),i}return t},Kt=(t,e,i=new Map)=>{let n=Tx(t)?t:Ax(t);return t===e?t:i.has(e)?i.get(e):(i.set(e,n),Object.keys(e).forEach(o=>{R7(t[o])&&R7(e[o])?n[o]=Kt(t[o],e[o],i):Tx(e)?n[o]=e:n[o]=Ax(e[o])}),n)};var M7=t=>{let e=getComputedStyle(t),i=t.clientWidth,n=t.clientHeight;return n-=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom),i-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight),{height:n,width:i}};var ns=(t,e=\"\",i,n)=>{if(!t)return\"0\";let o,r;i?(o=t,r=i):Math.abs(t)>=7e11?(o=t/1e12,r=\"T\"):Math.abs(t)>=2e8?(o=t/1e9,r=\"B\"):Math.abs(t)>=1e6?(o=t/1e6,r=\"M\"):Math.abs(t)>=1e3?(o=t/1e3,r=\"K\"):(o=t,r=\"\");let s=Math.abs(o);n===void 0&&(Number.isInteger(s)?n=0:s<.1?n=3:s<1?n=2:s<10?n=1:n=0);let a=s>0&&s<.5/Math.pow(10,n);if(a){let c=n;for(;a&&c<8;)c++,a=s<.5/Math.pow(10,c);if(!a)n=c;else return`~${e??\"\"}0`}let l=t<0?\"-\":\"\";return e&&(l+=e),`${l}${qh(`.${n}~f`)(s)}${r}`};function zX(t,e,i=e,n=[]){if(!t.length||!e.length||!i.length)return new Array(e.length).fill(0);let o=new Array(e.length).fill(0),r=new Map;for(let[l,c]of i){r.has(l)||r.set(l,new Map);for(let u=0;u<e.length;u++){let[d,h]=e[u];if(l===d&&c===h){r.get(l).set(c,u);break}}}let s=n.length>0?n[n.length-1]:e[e.length-1][1],a=[...i].sort((l,c)=>l[0]-c[0]);for(let l of t){let c=0,u=a.length-1;for(;c<=u;){let d=Math.floor((c+u)/2),[h,f]=a[d],v=f===s;if(l>=h&&(v?l<=f:l<f)){let L=r.get(h);if(L){let A=L.get(f);A!==void 0&&o[A]++}break}else l<h?u=d-1:c=d+1}}return o}function $k(t,e,i){if(!t)return[];let[n,o]=t,r=Math.abs(+o-+n),s=Number.isFinite(r)&&e>1?r/(e-1):1,a=i??s;if(a===0)return[];let l=Array.from({length:e},(c,u)=>+n+u*a);return l[e-1]=+o,l}function Lx(t,e,i,n=!1,o=!0){let r=Array.from({length:e.length-1},(l,c)=>[e[c],e[c+1]]),s=i&&n?r.filter(([l,c])=>{let[u,d]=i;return l<+u?!1:c>=+d?c>+u&&l<+d:!0}):r,a=zX(t,r,s,e);return r.map(([l,c],u)=>{var d;return{rangeStart:o?l:new Date(l),rangeEnd:o?c:new Date(c),count:(d=a[u])!==null&&d!==void 0?d:0}})}var OX=Yo(\".%L\"),BX=Yo(\":%S\"),NX=Yo(\"%I:%M\"),FX=Yo(\"%I %p\"),UX=Yo(\"%a %d\"),jX=Yo(\"%d %b\"),VX=Yo(\"%b %Y\"),WX=Yo(\"%Y\"),HX=1,z7=1e3*HX,O7=60*z7,B7=60*O7,Dx=24*B7,$X=7*Dx,qX=30*Dx,GX=365*Dx,qk=(t,e=null,i=!1)=>{if(i)return ns(t);let n=new Date(t),o=e!==null?e:Date.now()-n.getTime();return(o<z7?OX:o<O7?BX:o<B7?NX:o<Dx?FX:o<qX?o<$X?UX:jX:o>GX*20?WX:VX)(n)};var YX=\"style_module_displayState__6ae19b84\",QX=\"style_module_fadeIn__ffac87fd\",N7={displayState:YX,fadeIn:QX};(function(){\"use strict\";try{if(typeof document<\"u\"){var t=document.createElement(\"style\");t.appendChild(document.createTextNode('@keyframes style_module_fadeIn__ffac87fd{0%{opacity:0}to{opacity:.2}}.style_module_displayState__6ae19b84{position:absolute;color:var(--cosmograph-ui-text);display:flex;justify-content:center;align-items:center;height:100%;width:100%;min-width:100px;opacity:.2;margin:auto;font-size:calc(var(--cosmograph-ui-font-size) + 1px);letter-spacing:-.02em;font-weight:200;user-select:none;-webkit-user-select:none;animation:style_module_fadeIn__ffac87fd .3s ease-in-out}:root{--cosmograph-timeline-selection-color: var(--cosmograph-ui-selection-control-color);--cosmograph-timeline-selection-opacity: .5;--cosmograph-timeline-bar-color: var(--cosmograph-ui-element-color);--cosmograph-timeline-highlighted-bar-color: var(--cosmograph-ui-highlighted-element-color);--cosmograph-timeline-font-family: var(--cosmograph-ui-font-family);--cosmograph-timeline-font-size: var(--cosmograph-ui-tick-font-size);--cosmograph-timeline-background: var(--cosmograph-ui-background);--cosmograph-timeline-text-color: var(--cosmograph-ui-text);--cosmograph-timeline-axis-color: var(--cosmograph-ui-text)}.style_module_timeline__736434f7{position:relative;display:flex;background:var(--cosmograph-timeline-background);width:100%;min-height:25px;overflow:hidden}.style_module_timelineSvg__b916ad04{position:relative;width:100%;height:100%}.style_module_selection__ebee57f8{fill:var(--cosmograph-timeline-selection-color);fill-opacity:var(--cosmograph-timeline-selection-opacity);stroke:none}.style_module_axisTick__5865631d{color:var(--cosmograph-timeline-axis-color);font:var(--cosmograph-timeline-font-family);font-size:var(--cosmograph-timeline-font-size);user-select:none;-webkit-user-select:none;opacity:1;font-weight:300;text-anchor:initial;font-feature-settings:\"tnum\";alignment-baseline:text-before-edge}.style_module_axisLine__992b502d{opacity:.2;color:var(--cosmograph-timeline-axis-color)}.style_module_bar__114fa79f{fill:var(--cosmograph-timeline-bar-color);transform:scaleY(-1);opacity:0}.style_module_animationControl__ee52cd66{color:var(--cosmograph-timeline-axis-color);width:6%;max-width:30px;min-width:20px;cursor:pointer;display:none;align-items:center;user-select:none;-webkit-user-select:none;opacity:.5;position:relative;justify-content:center}.style_module_animationControl__ee52cd66>svg{width:50%;max-height:20px;padding-right:2px}.style_module_hidden__a73fe81a{display:none}.style_module_disabled__eb988570{opacity:.2;pointer-events:none}.style_module_highlightedBar__c2fc9bdc{fill:var(--cosmograph-timeline-highlighted-bar-color);transform:scaleY(-1);pointer-events:none}:root{--cosmograph-search-font-family: var(--cosmograph-ui-font-family);--cosmograph-search-font-size: 14px;--cosmograph-search-list-font-size: 13.5px;--cosmograph-search-text-color: var(--cosmograph-ui-text);--cosmograph-search-background: transparent;--cosmograph-search-list-background: rgba(0, 0, 0, .2);--cosmograph-search-list-match-background: rgba(255, 255, 255, .2);--cosmograph-search-list-match-color: var(--cosmograph-ui-text)}.style_module_searchInput__d7830601:hover{filter:brightness(1.2) contrast(1)}.style_module_searchInput__d7830601{width:100%;background:transparent;color:var(--cosmograph-search-text-color);border:none;border-bottom:.5px solid var(--cosmograph-search-text-color);padding:4px 20px 5px 2px;font-family:var(--cosmograph-search-font-family);font-size:var(--cosmograph-search-font-size);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;transition:opacity .2s ease-out}.style_module_searchInput__d7830601::selection{background:var(--cosmograph-search-list-match-background)}.style_module_searchInput__d7830601:focus{outline:none}.style_module_searchSuggestions__b0d3f71e{color:#fff;width:100%;padding:0;margin:0;background:transparent;overflow-y:auto;flex:1;min-height:0}.style_module_searchSuggestions__b0d3f71e li{padding:5px 10px;cursor:pointer;-webkit-user-select:none;user-select:none;display:block;font-weight:500;font-size:var(--cosmograph-search-list-font-size);max-width:100%;overflow:hidden}.style_module_searchSuggestions__b0d3f71e li>div{white-space:nowrap;font-weight:200;overflow:hidden;text-overflow:ellipsis;width:100%}.style_module_searchSuggestions__b0d3f71e li:hover{background:#ffffff1a}.style_module_searchSuggestions__b0d3f71e mark{background:var(--cosmograph-search-list-match-background);color:var(--cosmograph-search-list-match-color);border-radius:2px}.style_module_clearButton__5ebb41de{position:absolute;right:0;top:0;height:100%;background:none;border:none;color:var(--cosmograph-search-text-color);font-weight:300;cursor:pointer;font-size:16px;padding:0 4px;opacity:0;display:flex;align-items:center;justify-content:center;transition:opacity .2s ease-out}.style_module_clearButton__5ebb41de.style_module_visible__5be7493d:hover{transition:opacity .1s ease-in-out;opacity:1}.style_module_clearButton__5ebb41de.style_module_visible__5be7493d{opacity:.7}.style_module_placeholderWrapper__72d5eb0e{z-index:1;color:var(--cosmograph-search-text-color);font-family:var(--cosmograph-search-font-family);font-size:var(--cosmograph-search-font-size);position:absolute;top:0;left:0;width:100%;bottom:0;display:flex;line-height:1.25;align-items:center;transition:transform .3s ease-out,opacity .3s ease-out}.style_module_placeholderWrapper__72d5eb0e.style_module_hidden__acfb8431{transform:translate(-30px);pointer-events:none;opacity:0}.style_module_searchInput__d7830601:disabled,.style_module_searchInput__d7830601.style_module_disabled__62c35dc5{opacity:.2;cursor:not-allowed;pointer-events:none}.style_module_disabled__62c35dc5 .style_module_clearButton__5ebb41de{display:none}.style_module_disabled__62c35dc5 .style_module_placeholderWrapper__72d5eb0e{opacity:.3;cursor:not-allowed}.style_module_searchInputWrapper__1edbcb22{position:relative;display:flex;width:100%}.style_module_noResults__363397c3{opacity:.3!important;cursor:default;font-weight:300!important;padding:6px!important;text-align:center;pointer-events:none}.style_module_noResults__363397c3:hover{background:none}.style_module_loading__296e0212{opacity:.7!important;cursor:default;font-weight:300!important;padding:6px!important;text-align:center;pointer-events:none;-webkit-user-select:none;user-select:none}.style_module_dropdownContainer__d98287da{position:absolute;top:100%;left:0;width:100%;background:var(--cosmograph-search-list-background);border-radius:4px;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);opacity:0;transform:translateY(-10px);transition:opacity .2s ease-out,transform .2s ease-out;pointer-events:none;overflow:hidden;z-index:10;display:flex;flex-direction:column;padding-bottom:2px}.style_module_dropdownContainer__d98287da.style_module_upwards__e0b4831b{top:auto;bottom:100%;transform:translateY(10px)}.style_module_dropdownContainer__d98287da.style_module_visible__5be7493d{opacity:1;transform:translateY(0);pointer-events:auto}.style_module_dropdownContainer__d98287da.style_module_upwards__e0b4831b.style_module_visible__5be7493d{opacity:1;transform:translateY(-2px);pointer-events:auto}.style_module_footerContainer__73e7a066{flex-shrink:0}:root{--cosmograph-scrollbar-background: rgba(255, 255, 255, .1);--cosmograph-ui-background: rgb(45, 49, 58);--cosmograph-ui-text: #ffffffc7;--cosmograph-ui-tick-font-size: 11px;--cosmograph-ui-font-size: 12px;--cosmograph-ui-font-family: inherit;--cosmograph-ui-element-color: #5C616A;--cosmograph-ui-highlighted-element-color: white;--cosmograph-ui-selection-control-color: #8d949ea8;-webkit-font-smoothing:antialiased!important;text-rendering:optimizeLegibility!important}.style_module_cosmograph-ui__5acb97f1{background:var(--cosmograph-ui-background);color:var(--cosmograph-ui-text)}.style_module_scrollbar__f1516254 *::-webkit-scrollbar{width:5px;height:5px;border-radius:.3rem}.style_module_scrollbar__f1516254 *::-webkit-scrollbar-track{border-radius:.3rem}.style_module_scrollbar__f1516254 *::-webkit-scrollbar-corner{background:none!important}.style_module_scrollbar__f1516254 *::-webkit-scrollbar-button{display:none!important}.style_module_scrollbar__f1516254 *::-webkit-scrollbar-thumb{background-color:var(--cosmograph-scrollbar-background);transition:background-color .5s;border-radius:20px;border:3px solid var(--cosmograph-scrollbar-background)}@-moz-document url-prefix(){.style_module_scrollbar__f1516254 *{scrollbar-width:thin;scrollbar-color:var(--cosmograph-scrollbar-background) transparent;scrollbar-track-color:transparent;scrollbar-face-color:var(--cosmograph-scrollbar-background)}}:root{--cosmograph-histogram-background: var(--cosmograph-ui-background);--cosmograph-histogram-text-color: var(--cosmograph-ui-text);--cosmograph-histogram-axis-color: var(--cosmograph-ui-text);--cosmograph-histogram-selection-color: var(--cosmograph-ui-selection-control-color);--cosmograph-histogram-selection-opacity: .5;--cosmograph-histogram-bar-color: var(--cosmograph-ui-element-color);--cosmograph-histogram-highlighted-bar-color: var( --cosmograph-ui-highlighted-element-color);--cosmograph-histogram-font-family: var(--cosmograph-ui-font-family);--cosmograph-histogram-font-size: var(--cosmograph-ui-tick-font-size)}.style_module_histogram__9d8a77ea{position:relative;display:flex;min-height:25px;background:var(--cosmograph-histogram-background);width:100%}.style_module_histogramSvg__ccccb628{position:relative;width:100%;height:100%}.style_module_selection__7db96137{fill:var(--cosmograph-histogram-selection-color);fill-opacity:var(--cosmograph-histogram-selection-opacity);stroke:none}.style_module_axisTick__898e1f39{color:var(--cosmograph-histogram-axis-color);font-family:var(--cosmograph-histogram-font-family);font-size:var(--cosmograph-histogram-font-size);user-select:none;-webkit-user-select:none;alignment-baseline:text-before-edge;opacity:1;font-weight:300;text-anchor:initial;font-feature-settings:\"tnum\"}.style_module_bar__3c9ab488{fill:var(--cosmograph-histogram-bar-color);transform:scaleY(-1)}.style_module_highlightedBar__b193a8de{fill:var(--cosmograph-histogram-highlighted-bar-color);transform:scaleY(-1);pointer-events:none}:root{--cosmograph-bars-font-color: var(--cosmograph-ui-text);--cosmograph-bars-font-family: var(--cosmograph-ui-font-family);--cosmograph-bars-font-size: var(--cosmograph-ui-font-size);--cosmograph-bars-ui-font-size: 11.5px;--cosmograph-bars-background: var(--cosmograph-ui-element-color);--cosmograph-bars-bar-height: 20px;--cosmograph-bars-bar-bottom-margin: 2px;--cosmograph-bars-highlighted-color: var( --cosmograph-ui-highlighted-element-color)}.style_module_bars__25497ded{position:relative;width:100%;min-height:100px;user-select:none;flex-direction:column;-webkit-user-select:none}.style_module_bars__25497ded .scroll-container{position:relative;width:100%;overflow-y:hidden;overflow-x:hidden}.style_module_bars__25497ded .bars-container{position:relative;width:calc(100% - 1px);font-family:var(--cosmograph-bars-font-family)}.style_module_bars__25497ded .highlighted-bars-container{position:absolute;top:0;left:0;pointer-events:none}.style_module_bars__25497ded .row{height:var(--cosmograph-bars-bar-height);display:flex;align-items:center;margin-bottom:var(--cosmograph-bars-bar-bottom-margin);width:100%;transition:opacity .1s linear,filter .1s linear}.style_module_bars__25497ded .row:hover{filter:brightness(1.15) contrast(1.05);transition:opacity .1s linear,filter .1s linear}.style_module_bars__25497ded .row.unselected:hover{filter:brightness(.95) contrast(1.15);transition:filter .05s linear}.style_module_bars__25497ded .unselected{opacity:.85;filter:brightness(.8) contrast(1.1)}.style_module_bars__25497ded .selected{filter:brightness(1.05) contrast(1.05)}.style_module_bars__25497ded .selected>.info>.label{font-weight:600;filter:brightness(1.1) contrast(1.05)}.style_module_bars__25497ded .unselected>.info>.label{font-weight:300}.style_module_bars__25497ded .bar{height:100%;background-color:var(--cosmograph-bars-background);opacity:.8;transition:opacity .3s ease,width .3s ease}.style_module_bars__25497ded .bar-highlighted{height:100%;background-color:var(--cosmograph-bars-highlighted-color);opacity:.2;transition:opacity .3s ease,width .3s ease}.style_module_bars__25497ded .info{display:flex;justify-content:space-between;width:100%;padding:0 4px;position:absolute;font-size:var(--cosmograph-bars-font-size);font-feature-settings:\"tnum\";color:var(--cosmograph-bars-font-color);gap:2px}.style_module_bars__25497ded .label{min-width:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;transition:opacity .05s linear}.style_module_bars__25497ded .count{flex-shrink:0;font-weight:300;opacity:.8;transition:opacity .05s linear}.style_module_bars__25497ded .show-more{cursor:pointer;padding-top:2px;display:flex;font-weight:300;color:var(--cosmograph-bars-font-color);font-size:11px;justify-content:space-between;opacity:.6;font-size:var(--cosmograph-bars-ui-font-size);pointer-events:none;transition:opacity .1s linear}.style_module_bars__25497ded .show-more:hover{opacity:1;text-decoration:underline;text-underline-offset:1.5px;text-decoration-thickness:.25px}.style_module_bars__25497ded .show-more>span{pointer-events:all}.style_module_bars__25497ded .show-more-count{padding-right:5px;pointer-events:all;font-feature-settings:\"tnum\"}.style_module_bars__25497ded .unselected>.info>.label,.style_module_bars__25497ded .unselected>.info>.count{opacity:.5}.style_module_bars__25497ded .unselected:hover>.info>.label,.style_module_bars__25497ded .unselected:hover>.info>.count{opacity:1}.style_module_bars__25497ded .search-input{background:transparent;border:none;border-bottom:1px solid rgba(255,255,255,.3);font-size:13px!important;color:var(--cosmograph-bars-font-color);line-height:1.5;padding:2px;width:100%;position:relative;transition:border-bottom-color .2s}.style_module_bars__25497ded .search-input::placeholder{color:var(--cosmograph-bars-font-color)!important;opacity:.4;font-weight:300;font-family:inherit}.style_module_bars__25497ded .search-container{position:relative;width:100%;margin-bottom:4px;display:none;z-index:1}.style_module_bars__25497ded .clear-button{position:absolute;right:0;top:50%;transform:translateY(-50%);background:none;border:none;cursor:pointer;color:var(--cosmograph-bars-font-color);font-weight:300;font-size:16px;padding:0 4px;opacity:0;display:flex;align-items:center;justify-content:center;transition:opacity .2s ease-out}.style_module_bars__25497ded .clear-button.visible:hover{transition:opacity .1s ease-in-out;opacity:1}.style_module_bars__25497ded .clear-button.visible{opacity:.7}.style_module_bars__25497ded .clear-button svg{width:10px;height:10px;fill:currentColor}.style_module_bars__25497ded .sorting-block{visibility:hidden;margin-top:1px;display:flex;justify-content:space-between}.style_module_bars__25497ded .buttons-container{margin-top:4px;font-size:var(--cosmograph-bars-ui-font-size);display:flex;gap:4px;line-height:1.25}.style_module_bars__25497ded .buttons-container>div{transition:opacity .05s linear,filter .05s linear;padding:1px 5px;background:var(--cosmograph-bars-background);border-radius:4px;opacity:.9;display:flex;cursor:pointer;align-items:center}.style_module_bars__25497ded .buttons-container>div:hover{filter:brightness(1.2)}.style_module_bars__25497ded .reset-text{transition:opacity .05s linear,filter .05s linear;display:flex;font-size:var(--cosmograph-bars-ui-font-size);align-items:end;padding-right:4px;cursor:pointer;font-weight:300}.style_module_bars__25497ded .reset-text:hover{text-decoration:underline;text-underline-offset:1.5px;text-decoration-thickness:.25px}.style_module_bars__25497ded .reset-text.unselected{pointer-events:none;cursor:default;opacity:.7}.style_module_bars__25497ded :scope.reset-text:hover:not(.unselected){filter:brightness(1.5);opacity:1}:root{--cosmograph-size-legend-form-color: var(--cosmograph-ui-text);--cosmograph-size-legend-font-color: var(--cosmograph-ui-text);--cosmograph-size-legend-font-family: inherit;--cosmograph-size-legend-font-size: var(--cosmograph-ui-font-size);--cosmograph-size-legend-sublabel-font-size: 10px;--cosmograph-size-legend-hover-color: var(--cosmograph-ui-highlighted-element-color);--cosmograph-size-legend-line-radius: 2px;--cosmograph-size-legend-line-width: 30px;--cosmograph-size-legend-hide-transform: translateY(100%);--cosmograph-size-legend-show-transform: translateX(0)}.style_module_container__d2889234{display:flex;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete;overflow:hidden;min-height:25px}.style_module_legend__75c167f2{width:auto;display:flex;flex-direction:column;position:relative;font-size:var(--cosmograph-size-legend-font-size);font-family:var(--cosmograph-size-legend-font-family);user-select:none;-webkit-user-select:none;cursor:default;text-align:center;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete;font-weight:300;letter-spacing:-.04em;text-rendering:optimizelegibility;-webkit-font-smoothing:antialiased}.style_module_enabled__91eae57a{opacity:1;transform:var(--cosmograph-size-legend-show-transform)}.style_module_disabled__d51f7a10{opacity:0;transform:var(--cosmograph-size-legend-hide-transform);pointer-events:none;display:none!important}@starting-style{.style_module_container__d2889234.style_module_enabled__91eae57a,.style_module_legend__75c167f2.style_module_enabled__91eae57a{opacity:0;transform:var(--cosmograph-size-legend-hide-transform)}}.style_module_legend__75c167f2 .legend-content>div:first-child:not(:only-child){margin-right:.75rem}.style_module_legend__75c167f2 .circle{background-color:var(--cosmograph-size-legend-form-color);border-radius:50%;transition:background-color .15s ease-in-out;display:inline-block}.style_module_legend__75c167f2 .line{background-color:var(--cosmograph-size-legend-form-color);border-radius:var(--cosmograph-size-legend-line-radius);width:var(--cosmograph-size-legend-line-width);transition:background-color .15s ease-in-out;display:inline-block}.style_module_legend__75c167f2.style_module_events__894316a8{pointer-events:auto;cursor:pointer}.style_module_legend__75c167f2 .legend-content{display:flex;align-items:end;justify-content:center}.style_module_legend__75c167f2 .legend-content>div{transition:filter .1s ease-in-out,opacity .1s ease-in-out}.style_module_legend__75c167f2 .labels-wrapper{white-space:nowrap}.style_module_legend__75c167f2 .legend-item{display:flex;align-items:center;margin-top:var(--cosmograph-size-legend-items-margin)}.style_module_legend__75c167f2 .name{align-items:center;text-align:center;justify-content:center;display:flex;color:var(--cosmograph-size-legend-font-color);overflow:hidden;width:100%;margin-top:3px;word-break:break-all;white-space:pre-line;transition:color .15s ease-in-out;letter-spacing:-.02em}.style_module_legend__75c167f2 .label{color:var(--cosmograph-size-legend-font-color);overflow:hidden;transition:color .15s ease-in-out;text-overflow:ellipsis;font-feature-settings:\"tnum\"}.style_module_legend__75c167f2 .sublabel{padding-top:1px;font-size:var(--cosmograph-size-legend-sublabel-font-size);opacity:.5;line-height:1;min-width:10px;transition:color .15s ease-in-out}.style_module_hovered__1206707f .label,.style_module_hovered__1206707f .sublabel{color:var(--cosmograph-size-legend-hover-color);cursor:pointer}.style_module_hovered__1206707f .circle,.style_module_hovered__1206707f .line{background-color:var(--cosmograph-size-legend-hover-color);cursor:pointer}:root{--cosmograph-color-legend-range-font-color: var(--cosmograph-ui-text);--cosmograph-color-legend-range-font-family: var(--cosmograph-ui-font-family);--cosmograph-color-legend-range-font-size: var(--cosmograph-ui-font-size);--cosmograph-color-legend-range-label-font-size: var(--cosmograph-ui-font-size);--cosmograph-color-legend-range-sublabel-font-size: 10px;--cosmograph-color-legend-range-hover-color: var(--cosmograph-ui-highlighted-element-color);--cosmograph-color-legend-range-gradient-height: 6px;--cosmograph-color-legend-range-gradient-radius: 8px;--cosmograph-color-legend-range-gradient-top-margin: 6px;--cosmograph-color-legend-hide-transform: translateY(100%);--cosmograph-color-legend-show-transform: translateX(0)}.style_module_container__05cc807d{display:flex;min-width:150px;min-height:25px;width:100%;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete}.style_module_legend__a3e235e4{width:100%;font-weight:300;letter-spacing:-.04em;display:flex;flex-direction:column;font-size:var(--cosmograph-color-legend-range-font-size);font-family:var(--cosmograph-color-legend-range-font-family);user-select:none;-webkit-user-select:none;pointer-events:none;cursor:default;text-align:center;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete;text-rendering:optimizelegibility;-webkit-font-smoothing:antialiased}.style_module_enabled__b3120e27{opacity:1;transform:var(--cosmograph-color-legend-show-transform);pointer-events:auto}.style_module_disabled__c2dc158c{opacity:0;transform:var(--cosmograph-color-legend-hide-transform);pointer-events:none;display:none}@starting-style{.style_module_container__05cc807d.style_module_enabled__b3120e27,.style_module_legend__a3e235e4.style_module_enabled__b3120e27{opacity:0;transform:var(--cosmograph-color-legend-hide-transform)}}.style_module_legend__a3e235e4 .legend-content{display:flex;align-items:end;justify-content:space-between}.style_module_hovered__dfd7bb2c .label,.style_module_hovered__dfd7bb2c .sublabel{color:var(--cosmograph-size-legend-hover-color)!important;cursor:pointer}.style_module_legend__a3e235e4 .extent{white-space:nowrap;transition:filter .1s ease-in-out,opacity .1s ease-in-out}.style_module_legend__a3e235e4 .gradient{width:100%;margin-top:var(--cosmograph-color-legend-range-gradient-top-margin);height:var(--cosmograph-color-legend-range-gradient-height);border-radius:var(--cosmograph-color-legend-range-gradient-radius)}.style_module_legend__a3e235e4 .legend-item{display:flex;align-items:center;margin-top:var(--cosmograph-color-legend-range-items-margin)}.style_module_legend__a3e235e4 .name{align-items:center;text-align:center;justify-content:space-around;display:flex;color:var(--cosmograph-color-legend-range-font-color);overflow:hidden;width:100%;word-break:break-word;text-wrap:balance;white-space:pre-line;transition:color .15s ease-in-out;margin:0 4px;letter-spacing:-.02em;line-height:1.25}.style_module_legend__a3e235e4 .label{color:var(--cosmograph-color-legend-range-font-color);overflow:hidden;max-width:150px;text-overflow:ellipsis;font-size:var(--cosmograph-color-legend-range-label-font-size);transition:color .15s ease-in-out;line-height:1;font-feature-settings:\"tnum\"}.style_module_legend__a3e235e4 .sublabel{padding-top:1px;color:var(--cosmograph-color-legend-range-font-color);opacity:.55;font-size:var(--cosmograph-color-legend-range-sublabel-font-size);line-height:1;transition:color .15s ease-in-out}:root{--cosmograph-color-legend-type-font-color: var(--cosmograph-ui-text);--cosmograph-color-legend-type-font-family: var(--cosmograph-ui-font-family);--cosmograph-color-legend-type-font-size: 11px;--cosmograph-color-legend-type-hover-color: var(--cosmograph-ui-highlighted-element-color);--cosmograph-color-legend-type-others-color: #bab0ab;--cosmograph-color-legend-type-bullet-size: 8px;--cosmograph-color-legend-type-bullet-radius: 1rem;--cosmograph-color-legend-type-items-margin: 4px;--cosmograph-color-legend-type-hide-transform: translateY(125%);--cosmograph-color-legend-type-show-transform: translateX(0)}.style_module_enabled__277b2403{opacity:1;transform:var(--cosmograph-color-legend-type-show-transform)}.style_module_disabled__7a587f96{opacity:0;transform:var(--cosmograph-color-legend-type-hide-transform);display:none!important}.style_module_wrapper__ea8ca7f4{position:relative;max-width:100%;width:fit-content;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete}.style_module_typeLegend__15bf4b2f{position:relative;width:fit-content;max-width:100%;min-height:25px;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete;font-weight:300;letter-spacing:-.015em;text-rendering:optimizelegibility;-webkit-font-smoothing:antialiased}.style_module_typeLegend__15bf4b2f .reverted{flex-direction:row-reverse}.style_module_typeLegend__15bf4b2f .scroll-container{width:100%;display:flex;flex-direction:column;position:relative;font-size:var(--cosmograph-color-legend-type-font-size);font-family:var(--cosmograph-color-legend-type-font-family);user-select:none;-webkit-user-select:none;line-height:normal;overflow-x:hidden;overflow-y:auto;will-change:transform}@starting-style{.style_module_typeLegend__15bf4b2f.style_module_enabled__277b2403,.style_module_wrapper__ea8ca7f4.style_module_enabled__277b2403{opacity:0;transform:var(--cosmograph-color-legend-type-hide-transform)}}.style_module_typeLegend__15bf4b2f .legend-item{display:flex;align-items:center;position:absolute;margin-bottom:var(--cosmograph-color-legend-type-items-margin);pointer-events:none;width:100%;padding-left:1px;font-weight:300;transition:filter .1s ease-in-out,opacity .1s ease-in-out;min-height:calc(var(--cosmograph-color-legend-type-bullet-size) + 2px + var(--cosmograph-color-legend-type-items-margin));height:calc(var(--cosmograph-color-legend-type-bullet-size) + 2px);box-sizing:border-box}.style_module_typeLegend__15bf4b2f .unknown{background-color:var(--cosmograph-color-legend-type-unknown-color)}.style_module_typeLegend__15bf4b2f .others{background-color:var(--cosmograph-color-legend-type-others-color)}.style_module_typeLegend__15bf4b2f .bullet{height:var(--cosmograph-color-legend-type-bullet-size);width:var(--cosmograph-color-legend-type-bullet-size);min-height:var(--cosmograph-color-legend-type-bullet-size);min-width:var(--cosmograph-color-legend-type-bullet-size);border-radius:var(--cosmograph-color-legend-type-bullet-radius);pointer-events:all;margin-right:5px}.style_module_typeLegend__15bf4b2f .label{color:var(--cosmograph-color-legend-type-font-color);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - var(--cosmograph-color-legend-type-bullet-size) - 5px);pointer-events:all;transition:.05s linear color}.style_module_typeLegend__15bf4b2f .legend-item.reverted>.bullet{margin-right:0}.style_module_typeLegend__15bf4b2f .legend-item.reverted>.label{margin-right:5px}.style_module_typeLegend__15bf4b2f .show-more{cursor:pointer;padding-top:4px;display:none;font-weight:300;color:var(--cosmograph-color-legend-type-font-color);font-size:11px;opacity:.6;pointer-events:all;justify-content:space-between;transition:opacity .1s linear;font-feature-settings:\"tnum\"}.style_module_typeLegend__15bf4b2f .show-more:hover{opacity:1}.style_module_hovered__c0993502 .label,.style_module_hovered__c0993502 .sublabel{color:var(--cosmograph-color-legend-type-hover-color)!important;cursor:pointer}.style_module_selected__36e1dd81{filter:brightness(1)}.style_module_selected__36e1dd81>.style_module_label__afecc7a3{filter:brightness(1.2)}.style_module_unselected__4826cfb7{filter:brightness(.5)}:root{--cosmograph-button-color: var(--cosmograph-ui-text);--cosmograph-button-background: var(--cosmograph-ui-element-color);--cosmograph-button-border-radius: 2px}.style_module_button__e95a1138{background:var(--cosmograph-button-background);color:var(--cosmograph-button-color);border-radius:var(--cosmograph-button-border-radius);display:none;align-items:center;justify-content:center;width:25px;height:25px;margin:3px;padding:5px;cursor:pointer;filter:brightness(.95) contrast(.9);transition:filter .1s}.style_module_button__e95a1138:hover{filter:brightness(1.2) contrast(1)}')),document.head.appendChild(t)}}catch(e){console.error(\"vite-plugin-css-injected-by-js\",e)}})();var Px={noDataMessage:\"No data\",loadingMessage:\"Data loading...\",disableStateMessages:!1,allowPointerEvents:!1},mn=class{static extractConfig(e,i){var n,o,r,s;return{noDataMessage:(n=e.noDataMessage)!==null&&n!==void 0?n:i.noDataMessage,loadingMessage:(o=e.loadingMessage)!==null&&o!==void 0?o:i.loadingMessage,disableStateMessages:(r=e.disableStateMessages)!==null&&r!==void 0?r:i.disableStateMessages,allowPointerEvents:(s=e.allowPointerEvents)!==null&&s!==void 0?s:i.allowPointerEvents}}constructor(e,i){this._displayStateTimeout=null,this._displayStateContainerNode=e,this._displayStateConfig={...Px,...i},this._displayStateDiv=this._createDisplayStateElement(),this._displayStateContainerNode.appendChild(this._displayStateDiv)}_createDisplayStateElement(){let e=document.createElement(\"div\");return e.classList.add(N7.displayState),this._displayStateConfig.allowPointerEvents===!1&&(this._displayStateConfig.noDataMessage===!1?this._displayStateContainerNode.style.pointerEvents=\"none\":this._displayStateContainerNode.style.pointerEvents=\"\"),!this._displayStateConfig.disableStateMessages&&this._displayStateConfig.noDataMessage!==!1&&(e.textContent=typeof this._displayStateConfig.noDataMessage==\"string\"?this._displayStateConfig.noDataMessage:Px.noDataMessage),e}setLoadingState(){!this._displayStateConfig.disableStateMessages&&this._displayStateConfig.loadingMessage!==!1?this._displayStateDiv.textContent=typeof this._displayStateConfig.loadingMessage==\"string\"?this._displayStateConfig.loadingMessage:Px.loadingMessage:this._displayStateDiv.textContent=\"\"}showState(e){this._resetDisplayStateTimeout(),this._displayStateConfig.disableStateMessages?this._displayStateDiv.textContent=\"\":e?this._displayStateDiv.textContent=e:this._displayStateConfig.noDataMessage!==!1?this._displayStateDiv.textContent=typeof this._displayStateConfig.noDataMessage==\"string\"?this._displayStateConfig.noDataMessage:Px.noDataMessage:this._displayStateDiv.textContent=\"\",this._displayStateConfig.allowPointerEvents===!1&&(this._displayStateContainerNode.style.pointerEvents=\"none\"),this._displayStateDiv.style.display!==\"flex\"&&(this._displayStateTimeout=setTimeout(()=>{this._displayStateDiv.style.display=\"flex\"},150))}hideState(){this._resetDisplayStateTimeout(),this._displayStateDiv.style.display=\"none\",this._displayStateContainerNode.style.pointerEvents=\"\"}setDisplayStateConfig(e){this._displayStateConfig={...this._displayStateConfig,...e}}_resetDisplayStateTimeout(){this._displayStateTimeout&&(clearTimeout(this._displayStateTimeout),this._displayStateTimeout=null)}destroy(){var e,i;this._resetDisplayStateTimeout(),(i=(e=this._displayStateDiv)===null||e===void 0?void 0:e.parentNode)===null||i===void 0||i.removeChild(this._displayStateDiv)}};var XX=\"style_module_timeline__736434f7\",KX=\"style_module_timelineSvg__b916ad04\",ZX=\"style_module_selection__ebee57f8\",JX=\"style_module_axisTick__5865631d\",eK=\"style_module_axisLine__992b502d\",tK=\"style_module_bar__114fa79f\",iK=\"style_module_axis__5ff3086c\",nK=\"style_module_bars__097b45e0\",oK=\"style_module_brush__39277182\",rK=\"style_module_animationControl__ee52cd66\",sK=\"style_module_hidden__a73fe81a\",aK=\"style_module_disabled__eb988570\",lK=\"style_module_highlightedBar__c2fc9bdc\",cK=\"style_module_playAnimation__c1180703\",uK=\"style_module_pauseAnimation__d6cfd97b\",oi={timeline:XX,timelineSvg:KX,selection:ZX,axisTick:JX,axisLine:eK,bar:tK,axis:iK,bars:nK,brush:oK,animationControl:rK,hidden:sK,disabled:aK,highlightedBar:lK,playAnimation:cK,pauseAnimation:uK};(function(){\"use strict\";try{if(typeof document<\"u\"){var t=document.createElement(\"style\");t.appendChild(document.createTextNode('@keyframes style_module_fadeIn__ffac87fd{0%{opacity:0}to{opacity:.2}}.style_module_displayState__6ae19b84{position:absolute;color:var(--cosmograph-ui-text);display:flex;justify-content:center;align-items:center;height:100%;width:100%;min-width:100px;opacity:.2;margin:auto;font-size:calc(var(--cosmograph-ui-font-size) + 1px);letter-spacing:-.02em;font-weight:200;user-select:none;-webkit-user-select:none;animation:style_module_fadeIn__ffac87fd .3s ease-in-out}:root{--cosmograph-timeline-selection-color: var(--cosmograph-ui-selection-control-color);--cosmograph-timeline-selection-opacity: .5;--cosmograph-timeline-bar-color: var(--cosmograph-ui-element-color);--cosmograph-timeline-highlighted-bar-color: var(--cosmograph-ui-highlighted-element-color);--cosmograph-timeline-font-family: var(--cosmograph-ui-font-family);--cosmograph-timeline-font-size: var(--cosmograph-ui-tick-font-size);--cosmograph-timeline-background: var(--cosmograph-ui-background);--cosmograph-timeline-text-color: var(--cosmograph-ui-text);--cosmograph-timeline-axis-color: var(--cosmograph-ui-text)}.style_module_timeline__736434f7{position:relative;display:flex;background:var(--cosmograph-timeline-background);width:100%;min-height:25px;overflow:hidden}.style_module_timelineSvg__b916ad04{position:relative;width:100%;height:100%}.style_module_selection__ebee57f8{fill:var(--cosmograph-timeline-selection-color);fill-opacity:var(--cosmograph-timeline-selection-opacity);stroke:none}.style_module_axisTick__5865631d{color:var(--cosmograph-timeline-axis-color);font:var(--cosmograph-timeline-font-family);font-size:var(--cosmograph-timeline-font-size);user-select:none;-webkit-user-select:none;opacity:1;font-weight:300;text-anchor:initial;font-feature-settings:\"tnum\";alignment-baseline:text-before-edge}.style_module_axisLine__992b502d{opacity:.2;color:var(--cosmograph-timeline-axis-color)}.style_module_bar__114fa79f{fill:var(--cosmograph-timeline-bar-color);transform:scaleY(-1);opacity:0}.style_module_animationControl__ee52cd66{color:var(--cosmograph-timeline-axis-color);width:6%;max-width:30px;min-width:20px;cursor:pointer;display:none;align-items:center;user-select:none;-webkit-user-select:none;opacity:.5;position:relative;justify-content:center}.style_module_animationControl__ee52cd66>svg{width:50%;max-height:20px;padding-right:2px}.style_module_hidden__a73fe81a{display:none}.style_module_disabled__eb988570{opacity:.2;pointer-events:none}.style_module_highlightedBar__c2fc9bdc{fill:var(--cosmograph-timeline-highlighted-bar-color);transform:scaleY(-1);pointer-events:none}:root{--cosmograph-search-font-family: var(--cosmograph-ui-font-family);--cosmograph-search-font-size: 14px;--cosmograph-search-list-font-size: 13.5px;--cosmograph-search-text-color: var(--cosmograph-ui-text);--cosmograph-search-background: transparent;--cosmograph-search-list-background: rgba(0, 0, 0, .2);--cosmograph-search-list-match-background: rgba(255, 255, 255, .2);--cosmograph-search-list-match-color: var(--cosmograph-ui-text)}.style_module_searchInput__d7830601:hover{filter:brightness(1.2) contrast(1)}.style_module_searchInput__d7830601{width:100%;background:transparent;color:var(--cosmograph-search-text-color);border:none;border-bottom:.5px solid var(--cosmograph-search-text-color);padding:4px 20px 5px 2px;font-family:var(--cosmograph-search-font-family);font-size:var(--cosmograph-search-font-size);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;transition:opacity .2s ease-out}.style_module_searchInput__d7830601::selection{background:var(--cosmograph-search-list-match-background)}.style_module_searchInput__d7830601:focus{outline:none}.style_module_searchSuggestions__b0d3f71e{color:#fff;width:100%;padding:0;margin:0;background:transparent;overflow-y:auto;flex:1;min-height:0}.style_module_searchSuggestions__b0d3f71e li{padding:5px 10px;cursor:pointer;-webkit-user-select:none;user-select:none;display:block;font-weight:500;font-size:var(--cosmograph-search-list-font-size);max-width:100%;overflow:hidden}.style_module_searchSuggestions__b0d3f71e li>div{white-space:nowrap;font-weight:200;overflow:hidden;text-overflow:ellipsis;width:100%}.style_module_searchSuggestions__b0d3f71e li:hover{background:#ffffff1a}.style_module_searchSuggestions__b0d3f71e mark{background:var(--cosmograph-search-list-match-background);color:var(--cosmograph-search-list-match-color);border-radius:2px}.style_module_clearButton__5ebb41de{position:absolute;right:0;top:0;height:100%;background:none;border:none;color:var(--cosmograph-search-text-color);font-weight:300;cursor:pointer;font-size:16px;padding:0 4px;opacity:0;display:flex;align-items:center;justify-content:center;transition:opacity .2s ease-out}.style_module_clearButton__5ebb41de.style_module_visible__5be7493d:hover{transition:opacity .1s ease-in-out;opacity:1}.style_module_clearButton__5ebb41de.style_module_visible__5be7493d{opacity:.7}.style_module_placeholderWrapper__72d5eb0e{z-index:1;color:var(--cosmograph-search-text-color);font-family:var(--cosmograph-search-font-family);font-size:var(--cosmograph-search-font-size);position:absolute;top:0;left:0;width:100%;bottom:0;display:flex;line-height:1.25;align-items:center;transition:transform .3s ease-out,opacity .3s ease-out}.style_module_placeholderWrapper__72d5eb0e.style_module_hidden__acfb8431{transform:translate(-30px);pointer-events:none;opacity:0}.style_module_searchInput__d7830601:disabled,.style_module_searchInput__d7830601.style_module_disabled__62c35dc5{opacity:.2;cursor:not-allowed;pointer-events:none}.style_module_disabled__62c35dc5 .style_module_clearButton__5ebb41de{display:none}.style_module_disabled__62c35dc5 .style_module_placeholderWrapper__72d5eb0e{opacity:.3;cursor:not-allowed}.style_module_searchInputWrapper__1edbcb22{position:relative;display:flex;width:100%}.style_module_noResults__363397c3{opacity:.3!important;cursor:default;font-weight:300!important;padding:6px!important;text-align:center;pointer-events:none}.style_module_noResults__363397c3:hover{background:none}.style_module_loading__296e0212{opacity:.7!important;cursor:default;font-weight:300!important;padding:6px!important;text-align:center;pointer-events:none;-webkit-user-select:none;user-select:none}.style_module_dropdownContainer__d98287da{position:absolute;top:100%;left:0;width:100%;background:var(--cosmograph-search-list-background);border-radius:4px;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);opacity:0;transform:translateY(-10px);transition:opacity .2s ease-out,transform .2s ease-out;pointer-events:none;overflow:hidden;z-index:10;display:flex;flex-direction:column;padding-bottom:2px}.style_module_dropdownContainer__d98287da.style_module_upwards__e0b4831b{top:auto;bottom:100%;transform:translateY(10px)}.style_module_dropdownContainer__d98287da.style_module_visible__5be7493d{opacity:1;transform:translateY(0);pointer-events:auto}.style_module_dropdownContainer__d98287da.style_module_upwards__e0b4831b.style_module_visible__5be7493d{opacity:1;transform:translateY(-2px);pointer-events:auto}.style_module_footerContainer__73e7a066{flex-shrink:0}:root{--cosmograph-scrollbar-background: rgba(255, 255, 255, .1);--cosmograph-ui-background: rgb(45, 49, 58);--cosmograph-ui-text: #ffffffc7;--cosmograph-ui-tick-font-size: 11px;--cosmograph-ui-font-size: 12px;--cosmograph-ui-font-family: inherit;--cosmograph-ui-element-color: #5C616A;--cosmograph-ui-highlighted-element-color: white;--cosmograph-ui-selection-control-color: #8d949ea8;-webkit-font-smoothing:antialiased!important;text-rendering:optimizeLegibility!important}.style_module_cosmograph-ui__5acb97f1{background:var(--cosmograph-ui-background);color:var(--cosmograph-ui-text)}.style_module_scrollbar__f1516254 *::-webkit-scrollbar{width:5px;height:5px;border-radius:.3rem}.style_module_scrollbar__f1516254 *::-webkit-scrollbar-track{border-radius:.3rem}.style_module_scrollbar__f1516254 *::-webkit-scrollbar-corner{background:none!important}.style_module_scrollbar__f1516254 *::-webkit-scrollbar-button{display:none!important}.style_module_scrollbar__f1516254 *::-webkit-scrollbar-thumb{background-color:var(--cosmograph-scrollbar-background);transition:background-color .5s;border-radius:20px;border:3px solid var(--cosmograph-scrollbar-background)}@-moz-document url-prefix(){.style_module_scrollbar__f1516254 *{scrollbar-width:thin;scrollbar-color:var(--cosmograph-scrollbar-background) transparent;scrollbar-track-color:transparent;scrollbar-face-color:var(--cosmograph-scrollbar-background)}}:root{--cosmograph-histogram-background: var(--cosmograph-ui-background);--cosmograph-histogram-text-color: var(--cosmograph-ui-text);--cosmograph-histogram-axis-color: var(--cosmograph-ui-text);--cosmograph-histogram-selection-color: var(--cosmograph-ui-selection-control-color);--cosmograph-histogram-selection-opacity: .5;--cosmograph-histogram-bar-color: var(--cosmograph-ui-element-color);--cosmograph-histogram-highlighted-bar-color: var( --cosmograph-ui-highlighted-element-color);--cosmograph-histogram-font-family: var(--cosmograph-ui-font-family);--cosmograph-histogram-font-size: var(--cosmograph-ui-tick-font-size)}.style_module_histogram__9d8a77ea{position:relative;display:flex;min-height:25px;background:var(--cosmograph-histogram-background);width:100%}.style_module_histogramSvg__ccccb628{position:relative;width:100%;height:100%}.style_module_selection__7db96137{fill:var(--cosmograph-histogram-selection-color);fill-opacity:var(--cosmograph-histogram-selection-opacity);stroke:none}.style_module_axisTick__898e1f39{color:var(--cosmograph-histogram-axis-color);font-family:var(--cosmograph-histogram-font-family);font-size:var(--cosmograph-histogram-font-size);user-select:none;-webkit-user-select:none;alignment-baseline:text-before-edge;opacity:1;font-weight:300;text-anchor:initial;font-feature-settings:\"tnum\"}.style_module_bar__3c9ab488{fill:var(--cosmograph-histogram-bar-color);transform:scaleY(-1)}.style_module_highlightedBar__b193a8de{fill:var(--cosmograph-histogram-highlighted-bar-color);transform:scaleY(-1);pointer-events:none}:root{--cosmograph-bars-font-color: var(--cosmograph-ui-text);--cosmograph-bars-font-family: var(--cosmograph-ui-font-family);--cosmograph-bars-font-size: var(--cosmograph-ui-font-size);--cosmograph-bars-ui-font-size: 11.5px;--cosmograph-bars-background: var(--cosmograph-ui-element-color);--cosmograph-bars-bar-height: 20px;--cosmograph-bars-bar-bottom-margin: 2px;--cosmograph-bars-highlighted-color: var( --cosmograph-ui-highlighted-element-color)}.style_module_bars__25497ded{position:relative;width:100%;min-height:100px;user-select:none;flex-direction:column;-webkit-user-select:none}.style_module_bars__25497ded .scroll-container{position:relative;width:100%;overflow-y:hidden;overflow-x:hidden}.style_module_bars__25497ded .bars-container{position:relative;width:calc(100% - 1px);font-family:var(--cosmograph-bars-font-family)}.style_module_bars__25497ded .highlighted-bars-container{position:absolute;top:0;left:0;pointer-events:none}.style_module_bars__25497ded .row{height:var(--cosmograph-bars-bar-height);display:flex;align-items:center;margin-bottom:var(--cosmograph-bars-bar-bottom-margin);width:100%;transition:opacity .1s linear,filter .1s linear}.style_module_bars__25497ded .row:hover{filter:brightness(1.15) contrast(1.05);transition:opacity .1s linear,filter .1s linear}.style_module_bars__25497ded .row.unselected:hover{filter:brightness(.95) contrast(1.15);transition:filter .05s linear}.style_module_bars__25497ded .unselected{opacity:.85;filter:brightness(.8) contrast(1.1)}.style_module_bars__25497ded .selected{filter:brightness(1.05) contrast(1.05)}.style_module_bars__25497ded .selected>.info>.label{font-weight:600;filter:brightness(1.1) contrast(1.05)}.style_module_bars__25497ded .unselected>.info>.label{font-weight:300}.style_module_bars__25497ded .bar{height:100%;background-color:var(--cosmograph-bars-background);opacity:.8;transition:opacity .3s ease,width .3s ease}.style_module_bars__25497ded .bar-highlighted{height:100%;background-color:var(--cosmograph-bars-highlighted-color);opacity:.2;transition:opacity .3s ease,width .3s ease}.style_module_bars__25497ded .info{display:flex;justify-content:space-between;width:100%;padding:0 4px;position:absolute;font-size:var(--cosmograph-bars-font-size);font-feature-settings:\"tnum\";color:var(--cosmograph-bars-font-color);gap:2px}.style_module_bars__25497ded .label{min-width:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;transition:opacity .05s linear}.style_module_bars__25497ded .count{flex-shrink:0;font-weight:300;opacity:.8;transition:opacity .05s linear}.style_module_bars__25497ded .show-more{cursor:pointer;padding-top:2px;display:flex;font-weight:300;color:var(--cosmograph-bars-font-color);font-size:11px;justify-content:space-between;opacity:.6;font-size:var(--cosmograph-bars-ui-font-size);pointer-events:none;transition:opacity .1s linear}.style_module_bars__25497ded .show-more:hover{opacity:1;text-decoration:underline;text-underline-offset:1.5px;text-decoration-thickness:.25px}.style_module_bars__25497ded .show-more>span{pointer-events:all}.style_module_bars__25497ded .show-more-count{padding-right:5px;pointer-events:all;font-feature-settings:\"tnum\"}.style_module_bars__25497ded .unselected>.info>.label,.style_module_bars__25497ded .unselected>.info>.count{opacity:.5}.style_module_bars__25497ded .unselected:hover>.info>.label,.style_module_bars__25497ded .unselected:hover>.info>.count{opacity:1}.style_module_bars__25497ded .search-input{background:transparent;border:none;border-bottom:1px solid rgba(255,255,255,.3);font-size:13px!important;color:var(--cosmograph-bars-font-color);line-height:1.5;padding:2px;width:100%;position:relative;transition:border-bottom-color .2s}.style_module_bars__25497ded .search-input::placeholder{color:var(--cosmograph-bars-font-color)!important;opacity:.4;font-weight:300;font-family:inherit}.style_module_bars__25497ded .search-container{position:relative;width:100%;margin-bottom:4px;display:none;z-index:1}.style_module_bars__25497ded .clear-button{position:absolute;right:0;top:50%;transform:translateY(-50%);background:none;border:none;cursor:pointer;color:var(--cosmograph-bars-font-color);font-weight:300;font-size:16px;padding:0 4px;opacity:0;display:flex;align-items:center;justify-content:center;transition:opacity .2s ease-out}.style_module_bars__25497ded .clear-button.visible:hover{transition:opacity .1s ease-in-out;opacity:1}.style_module_bars__25497ded .clear-button.visible{opacity:.7}.style_module_bars__25497ded .clear-button svg{width:10px;height:10px;fill:currentColor}.style_module_bars__25497ded .sorting-block{visibility:hidden;margin-top:1px;display:flex;justify-content:space-between}.style_module_bars__25497ded .buttons-container{margin-top:4px;font-size:var(--cosmograph-bars-ui-font-size);display:flex;gap:4px;line-height:1.25}.style_module_bars__25497ded .buttons-container>div{transition:opacity .05s linear,filter .05s linear;padding:1px 5px;background:var(--cosmograph-bars-background);border-radius:4px;opacity:.9;display:flex;cursor:pointer;align-items:center}.style_module_bars__25497ded .buttons-container>div:hover{filter:brightness(1.2)}.style_module_bars__25497ded .reset-text{transition:opacity .05s linear,filter .05s linear;display:flex;font-size:var(--cosmograph-bars-ui-font-size);align-items:end;padding-right:4px;cursor:pointer;font-weight:300}.style_module_bars__25497ded .reset-text:hover{text-decoration:underline;text-underline-offset:1.5px;text-decoration-thickness:.25px}.style_module_bars__25497ded .reset-text.unselected{pointer-events:none;cursor:default;opacity:.7}.style_module_bars__25497ded :scope.reset-text:hover:not(.unselected){filter:brightness(1.5);opacity:1}:root{--cosmograph-size-legend-form-color: var(--cosmograph-ui-text);--cosmograph-size-legend-font-color: var(--cosmograph-ui-text);--cosmograph-size-legend-font-family: inherit;--cosmograph-size-legend-font-size: var(--cosmograph-ui-font-size);--cosmograph-size-legend-sublabel-font-size: 10px;--cosmograph-size-legend-hover-color: var(--cosmograph-ui-highlighted-element-color);--cosmograph-size-legend-line-radius: 2px;--cosmograph-size-legend-line-width: 30px;--cosmograph-size-legend-hide-transform: translateY(100%);--cosmograph-size-legend-show-transform: translateX(0)}.style_module_container__d2889234{display:flex;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete;overflow:hidden;min-height:25px}.style_module_legend__75c167f2{width:auto;display:flex;flex-direction:column;position:relative;font-size:var(--cosmograph-size-legend-font-size);font-family:var(--cosmograph-size-legend-font-family);user-select:none;-webkit-user-select:none;cursor:default;text-align:center;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete;font-weight:300;letter-spacing:-.04em;text-rendering:optimizelegibility;-webkit-font-smoothing:antialiased}.style_module_enabled__91eae57a{opacity:1;transform:var(--cosmograph-size-legend-show-transform)}.style_module_disabled__d51f7a10{opacity:0;transform:var(--cosmograph-size-legend-hide-transform);pointer-events:none;display:none!important}@starting-style{.style_module_container__d2889234.style_module_enabled__91eae57a,.style_module_legend__75c167f2.style_module_enabled__91eae57a{opacity:0;transform:var(--cosmograph-size-legend-hide-transform)}}.style_module_legend__75c167f2 .legend-content>div:first-child:not(:only-child){margin-right:.75rem}.style_module_legend__75c167f2 .circle{background-color:var(--cosmograph-size-legend-form-color);border-radius:50%;transition:background-color .15s ease-in-out;display:inline-block}.style_module_legend__75c167f2 .line{background-color:var(--cosmograph-size-legend-form-color);border-radius:var(--cosmograph-size-legend-line-radius);width:var(--cosmograph-size-legend-line-width);transition:background-color .15s ease-in-out;display:inline-block}.style_module_legend__75c167f2.style_module_events__894316a8{pointer-events:auto;cursor:pointer}.style_module_legend__75c167f2 .legend-content{display:flex;align-items:end;justify-content:center}.style_module_legend__75c167f2 .legend-content>div{transition:filter .1s ease-in-out,opacity .1s ease-in-out}.style_module_legend__75c167f2 .labels-wrapper{white-space:nowrap}.style_module_legend__75c167f2 .legend-item{display:flex;align-items:center;margin-top:var(--cosmograph-size-legend-items-margin)}.style_module_legend__75c167f2 .name{align-items:center;text-align:center;justify-content:center;display:flex;color:var(--cosmograph-size-legend-font-color);overflow:hidden;width:100%;margin-top:3px;word-break:break-all;white-space:pre-line;transition:color .15s ease-in-out;letter-spacing:-.02em}.style_module_legend__75c167f2 .label{color:var(--cosmograph-size-legend-font-color);overflow:hidden;transition:color .15s ease-in-out;text-overflow:ellipsis;font-feature-settings:\"tnum\"}.style_module_legend__75c167f2 .sublabel{padding-top:1px;font-size:var(--cosmograph-size-legend-sublabel-font-size);opacity:.5;line-height:1;min-width:10px;transition:color .15s ease-in-out}.style_module_hovered__1206707f .label,.style_module_hovered__1206707f .sublabel{color:var(--cosmograph-size-legend-hover-color);cursor:pointer}.style_module_hovered__1206707f .circle,.style_module_hovered__1206707f .line{background-color:var(--cosmograph-size-legend-hover-color);cursor:pointer}:root{--cosmograph-color-legend-range-font-color: var(--cosmograph-ui-text);--cosmograph-color-legend-range-font-family: var(--cosmograph-ui-font-family);--cosmograph-color-legend-range-font-size: var(--cosmograph-ui-font-size);--cosmograph-color-legend-range-label-font-size: var(--cosmograph-ui-font-size);--cosmograph-color-legend-range-sublabel-font-size: 10px;--cosmograph-color-legend-range-hover-color: var(--cosmograph-ui-highlighted-element-color);--cosmograph-color-legend-range-gradient-height: 6px;--cosmograph-color-legend-range-gradient-radius: 8px;--cosmograph-color-legend-range-gradient-top-margin: 6px;--cosmograph-color-legend-hide-transform: translateY(100%);--cosmograph-color-legend-show-transform: translateX(0)}.style_module_container__05cc807d{display:flex;min-width:150px;min-height:25px;width:100%;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete}.style_module_legend__a3e235e4{width:100%;font-weight:300;letter-spacing:-.04em;display:flex;flex-direction:column;font-size:var(--cosmograph-color-legend-range-font-size);font-family:var(--cosmograph-color-legend-range-font-family);user-select:none;-webkit-user-select:none;pointer-events:none;cursor:default;text-align:center;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete;text-rendering:optimizelegibility;-webkit-font-smoothing:antialiased}.style_module_enabled__b3120e27{opacity:1;transform:var(--cosmograph-color-legend-show-transform);pointer-events:auto}.style_module_disabled__c2dc158c{opacity:0;transform:var(--cosmograph-color-legend-hide-transform);pointer-events:none;display:none}@starting-style{.style_module_container__05cc807d.style_module_enabled__b3120e27,.style_module_legend__a3e235e4.style_module_enabled__b3120e27{opacity:0;transform:var(--cosmograph-color-legend-hide-transform)}}.style_module_legend__a3e235e4 .legend-content{display:flex;align-items:end;justify-content:space-between}.style_module_hovered__dfd7bb2c .label,.style_module_hovered__dfd7bb2c .sublabel{color:var(--cosmograph-size-legend-hover-color)!important;cursor:pointer}.style_module_legend__a3e235e4 .extent{white-space:nowrap;transition:filter .1s ease-in-out,opacity .1s ease-in-out}.style_module_legend__a3e235e4 .gradient{width:100%;margin-top:var(--cosmograph-color-legend-range-gradient-top-margin);height:var(--cosmograph-color-legend-range-gradient-height);border-radius:var(--cosmograph-color-legend-range-gradient-radius)}.style_module_legend__a3e235e4 .legend-item{display:flex;align-items:center;margin-top:var(--cosmograph-color-legend-range-items-margin)}.style_module_legend__a3e235e4 .name{align-items:center;text-align:center;justify-content:space-around;display:flex;color:var(--cosmograph-color-legend-range-font-color);overflow:hidden;width:100%;word-break:break-word;text-wrap:balance;white-space:pre-line;transition:color .15s ease-in-out;margin:0 4px;letter-spacing:-.02em;line-height:1.25}.style_module_legend__a3e235e4 .label{color:var(--cosmograph-color-legend-range-font-color);overflow:hidden;max-width:150px;text-overflow:ellipsis;font-size:var(--cosmograph-color-legend-range-label-font-size);transition:color .15s ease-in-out;line-height:1;font-feature-settings:\"tnum\"}.style_module_legend__a3e235e4 .sublabel{padding-top:1px;color:var(--cosmograph-color-legend-range-font-color);opacity:.55;font-size:var(--cosmograph-color-legend-range-sublabel-font-size);line-height:1;transition:color .15s ease-in-out}:root{--cosmograph-color-legend-type-font-color: var(--cosmograph-ui-text);--cosmograph-color-legend-type-font-family: var(--cosmograph-ui-font-family);--cosmograph-color-legend-type-font-size: 11px;--cosmograph-color-legend-type-hover-color: var(--cosmograph-ui-highlighted-element-color);--cosmograph-color-legend-type-others-color: #bab0ab;--cosmograph-color-legend-type-bullet-size: 8px;--cosmograph-color-legend-type-bullet-radius: 1rem;--cosmograph-color-legend-type-items-margin: 4px;--cosmograph-color-legend-type-hide-transform: translateY(125%);--cosmograph-color-legend-type-show-transform: translateX(0)}.style_module_enabled__277b2403{opacity:1;transform:var(--cosmograph-color-legend-type-show-transform)}.style_module_disabled__7a587f96{opacity:0;transform:var(--cosmograph-color-legend-type-hide-transform);display:none!important}.style_module_wrapper__ea8ca7f4{position:relative;max-width:100%;width:fit-content;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete}.style_module_typeLegend__15bf4b2f{position:relative;width:fit-content;max-width:100%;min-height:25px;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete;font-weight:300;letter-spacing:-.015em;text-rendering:optimizelegibility;-webkit-font-smoothing:antialiased}.style_module_typeLegend__15bf4b2f .reverted{flex-direction:row-reverse}.style_module_typeLegend__15bf4b2f .scroll-container{width:100%;display:flex;flex-direction:column;position:relative;font-size:var(--cosmograph-color-legend-type-font-size);font-family:var(--cosmograph-color-legend-type-font-family);user-select:none;-webkit-user-select:none;line-height:normal;overflow-x:hidden;overflow-y:auto;will-change:transform}@starting-style{.style_module_typeLegend__15bf4b2f.style_module_enabled__277b2403,.style_module_wrapper__ea8ca7f4.style_module_enabled__277b2403{opacity:0;transform:var(--cosmograph-color-legend-type-hide-transform)}}.style_module_typeLegend__15bf4b2f .legend-item{display:flex;align-items:center;position:absolute;margin-bottom:var(--cosmograph-color-legend-type-items-margin);pointer-events:none;width:100%;padding-left:1px;font-weight:300;transition:filter .1s ease-in-out,opacity .1s ease-in-out;min-height:calc(var(--cosmograph-color-legend-type-bullet-size) + 2px + var(--cosmograph-color-legend-type-items-margin));height:calc(var(--cosmograph-color-legend-type-bullet-size) + 2px);box-sizing:border-box}.style_module_typeLegend__15bf4b2f .unknown{background-color:var(--cosmograph-color-legend-type-unknown-color)}.style_module_typeLegend__15bf4b2f .others{background-color:var(--cosmograph-color-legend-type-others-color)}.style_module_typeLegend__15bf4b2f .bullet{height:var(--cosmograph-color-legend-type-bullet-size);width:var(--cosmograph-color-legend-type-bullet-size);min-height:var(--cosmograph-color-legend-type-bullet-size);min-width:var(--cosmograph-color-legend-type-bullet-size);border-radius:var(--cosmograph-color-legend-type-bullet-radius);pointer-events:all;margin-right:5px}.style_module_typeLegend__15bf4b2f .label{color:var(--cosmograph-color-legend-type-font-color);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - var(--cosmograph-color-legend-type-bullet-size) - 5px);pointer-events:all;transition:.05s linear color}.style_module_typeLegend__15bf4b2f .legend-item.reverted>.bullet{margin-right:0}.style_module_typeLegend__15bf4b2f .legend-item.reverted>.label{margin-right:5px}.style_module_typeLegend__15bf4b2f .show-more{cursor:pointer;padding-top:4px;display:none;font-weight:300;color:var(--cosmograph-color-legend-type-font-color);font-size:11px;opacity:.6;pointer-events:all;justify-content:space-between;transition:opacity .1s linear;font-feature-settings:\"tnum\"}.style_module_typeLegend__15bf4b2f .show-more:hover{opacity:1}.style_module_hovered__c0993502 .label,.style_module_hovered__c0993502 .sublabel{color:var(--cosmograph-color-legend-type-hover-color)!important;cursor:pointer}.style_module_selected__36e1dd81{filter:brightness(1)}.style_module_selected__36e1dd81>.style_module_label__afecc7a3{filter:brightness(1.2)}.style_module_unselected__4826cfb7{filter:brightness(.5)}:root{--cosmograph-button-color: var(--cosmograph-ui-text);--cosmograph-button-background: var(--cosmograph-ui-element-color);--cosmograph-button-border-radius: 2px}.style_module_button__e95a1138{background:var(--cosmograph-button-background);color:var(--cosmograph-button-color);border-radius:var(--cosmograph-button-border-radius);display:none;align-items:center;justify-content:center;width:25px;height:25px;margin:3px;padding:5px;cursor:pointer;filter:brightness(.95) contrast(.9);transition:filter .1s}.style_module_button__e95a1138:hover{filter:brightness(1.2) contrast(1)}')),document.head.appendChild(t)}}catch(e){console.error(\"vite-plugin-css-injected-by-js\",e)}})();var Lg=class extends mn{constructor(e,i){let n=Kt(Ag,i??{});super(e,mn.extractConfig(n,Ag)),this._isAnimationRunning=!1,this._svgParser=new DOMParser,this._height=0,this._width=0,this._timelineWidth=0,this._timelineHeight=0,this._barWidth=0,this._maxCount=0,this._barsData=[],this._highlightedBarsData=[],this._bandIntervals=[],this._isNumericTimeline=!1,this._firstRender=!0,this._yScale=ku(),this._timeScale=Ix(),this._numScale=Jl(),this._activeAxisScale=this._timeScale,this._timeAxis=ax(this._timeScale),this._numAxis=ax(this._numScale),this._toggleAnimation=o=>{o.preventDefault(),this._isAnimationRunning?this.pauseAnimation():this.playAnimation()},this._disableAnimation=()=>{var o,r;this.pauseAnimation(),(o=this._animationControlDiv)===null||o===void 0||o.removeEventListener(\"click\",this._toggleAnimation),(r=this._animationControlDiv)===null||r===void 0||r.remove()},this.playAnimation=()=>{var o,r,s,a,l;clearInterval(this._animationInterval),this._currentSelectionInPixels&&(this._animationInterval=setInterval(this._animateSelection,(o=this._config.animationSpeed)!==null&&o!==void 0?o:0),this._isAnimationRunning=!0,(s=(r=this._config).onAnimationPlay)===null||s===void 0||s.call(r,this._isAnimationRunning,this._currentSelection),(a=this._pauseButtonSvg)===null||a===void 0||a.classList.remove(oi.hidden),(l=this._playButtonSvg)===null||l===void 0||l.classList.add(oi.hidden))},this.pauseAnimation=()=>{var o,r,s,a;clearInterval(this._animationInterval),this._isAnimationRunning=!1,(r=(o=this._config).onAnimationPause)===null||r===void 0||r.call(o,this._isAnimationRunning,this._currentSelection),(s=this._pauseButtonSvg)===null||s===void 0||s.classList.add(oi.hidden),(a=this._playButtonSvg)===null||a===void 0||a.classList.remove(oi.hidden)},this.stopAnimation=()=>{var o,r;this.pauseAnimation(),this.setSelection(void 0),(r=(o=this._config).onBrush)===null||r===void 0||r.call(o,void 0)},this._animateSelection=()=>{var o,r,s,a;let l=this._currentSelectionInPixels;l&&l[0]!==void 0&&l[1]!==void 0&&(this._setSelectionInPixels([l[0]+this._barWidth,l[1]+this._barWidth]),(r=(o=this._config).onAnimationTick)===null||r===void 0||r.call(o,this._currentSelection),(l[1]===((s=this._currentSelectionInPixels)===null||s===void 0?void 0:s[1])||((a=this._currentSelectionInPixels)===null||a===void 0?void 0:a[1])===void 0)&&this.stopAnimation())},this.destroy=()=>{super.destroy(),this._resizeObserver.disconnect(),this._containerNode.innerHTML=\"\",clearInterval(this._animationInterval)},this._config=n,this._containerNode=e,this._containerNode.classList.add(oi.timeline),this._animationControlDiv=document.createElement(\"div\"),this._animationControlDiv.classList.add(oi.animationControl),this._containerNode.appendChild(this._animationControlDiv),this._initializeSVG(),this._initializeGroups(),this._initAnimationControls(),this._resizeObserver=new rx(()=>{this.resize()}),this._resizeObserver.observe(this._containerNode)}_initializeSVG(){this._svg=document.createElementNS(\"http://www.w3.org/2000/svg\",\"svg\"),this._svg.classList.add(oi.timelineSvg),this._containerNode.appendChild(this._svg)}async _initAnimationControls(){await(async()=>{var e,i;if(!this._animationControlDiv.firstChild){let n=this._svgParser.parseFromString(P7,\"image/svg+xml\").firstChild,o=this._svgParser.parseFromString(D7,\"image/svg+xml\").firstChild;this._pauseButtonSvg=(e=this._animationControlDiv)===null||e===void 0?void 0:e.appendChild(o),this._playButtonSvg=(i=this._animationControlDiv)===null||i===void 0?void 0:i.appendChild(n)}})().then(()=>{var e,i,n,o,r;this._isAnimationRunning?((n=this._playButtonSvg)===null||n===void 0||n.classList.add(oi.playAnimation,oi.hidden),(o=this._pauseButtonSvg)===null||o===void 0||o.classList.add(oi.pauseAnimation)):((e=this._playButtonSvg)===null||e===void 0||e.classList.add(oi.playAnimation),(i=this._pauseButtonSvg)===null||i===void 0||i.classList.add(oi.pauseAnimation,oi.hidden)),this._currentSelection||(r=this._animationControlDiv)===null||r===void 0||r.classList.add(oi.disabled),this._animationControlDiv.addEventListener(\"click\",this._toggleAnimation)})}setLoadingState(){super.setLoadingState()}_initializeGroups(){this._axisGroup=Mi(this._svg).append(\"g\").attr(\"class\",oi.axis),this._barsGroup=Mi(this._svg).append(\"g\").attr(\"class\",oi.bars),this._highlightedBarsGroup=Mi(this._svg).append(\"g\").attr(\"class\",oi.bars),this._brushGroup=Mi(this._svg).append(\"g\").attr(\"class\",oi.brush)}get _barPadding(){var e;return this._barWidth*((e=this._config.barPadding)!==null&&e!==void 0?e:0)}getCurrentSelection(){return this._currentSelection}getCurrentSelectionInPixels(){return this._currentSelectionInPixels}getBarWidth(){return this._barWidth-this._barPadding}getConfig(){return this._config}getIsAnimationRunning(){return this._isAnimationRunning}setConfig(e){var i,n,o,r;let s=JSON.parse(JSON.stringify(this._config));this._config=Kt(Ag,e??{}),this.setDisplayStateConfig(mn.extractConfig(this._config,Ag)),s.formatter!==this._config.formatter&&this._checkFormatter(),!((i=this._config)===null||i===void 0)&&i.showAnimationControls?!((n=this._animationControlDiv)===null||n===void 0)&&n.isConnected||this._initAnimationControls():this._animationControlDiv&&this._disableAnimation(),this._config.allowSelection||this._disableBrush(),(((o=this._config)===null||o===void 0?void 0:o.dataStep)!==s.dataStep||((r=this._config)===null||r===void 0?void 0:r.barCount)!==s.barCount)&&(this._updateTimelineData(this._timeData),this._updateTimelineData(this._highlightedData,!0)),this.resize()}_checkFormatter(){this._config.formatter?(this._timeAxis.tickFormat(e=>this._config.formatter(e)),this._numAxis.tickFormat(e=>this._config.formatter(e))):this._extent&&(this._timeAxis.tickFormat(e=>qk(e,+this._extent[1]-+this._extent[0],this._isNumericTimeline)),this._numAxis.tickFormat(e=>qk(e,+this._extent[1]-+this._extent[0],this._isNumericTimeline)))}_parseData(e){if(!(e!=null&&e.length))return[];let i=new Float64Array(e.length),n=0;for(let o=0;o<e.length;o++){let r=e[o],s;r instanceof Date?s=r.getTime():s=r,s&&!isNaN(s)&&(i[n++]=this._normalizeTimeToMilliseconds(s))}return Array.from(i.subarray(0,n))}setTimeData(e,i){if(this._highlightedBarsData=[],this._timeData=[],this._currentSelection=void 0,i&&i[1]<=i[0])return;if(this._brushCurrentSelection(),e&&e.length>1){let s=e[0],a=s instanceof Date&&!isNaN(s.getTime()),l=typeof s==\"number\"&&new Date(s).getFullYear()>1970;this._isNumericTimeline=!a&&!l}let n=this._parseData(e),o=i||Mn(n),r=o[0]<o[1]&&n.length>1;Mi(this._animationControlDiv).style(\"display\",r?\"flex\":\"none\"),r?(this.hideState(),this._timeData=n,this._extent=o,this._firstRender=!0):(this.showState(\"Empty or invalid timeline data\"),this.render()),this._updateTimelineData(this._timeData),this._updateScales(),this.render()}setHighlightedData(e){this._highlightedBarsData=[],this._timeData&&(this._highlightedData=this._parseData(e),this._updateTimelineData(this._highlightedData,!0),this._updateBars(!0))}_updateTimelineData(e=[],i=!1){let n=i?\"_highlightedBarsData\":\"_barsData\";if(!this._extent){this[n]=[];return}if(!e.length){this[n]=Lx([],this._bandIntervals,this._currentSelection,i);return}i||this._generateBandIntervals();let o=Lx(e,this._bandIntervals,this._currentSelection,i);this[n]=o,i||(this._maxCount=Math.max(...o.map(r=>r.count)))}_generateBandIntervals(){if(!this._extent)return;let{barCount:e=30,dataStep:i}=this._config;this._bandIntervals=$k(this._extent,e,i)}setSelection(e,i=!1){var n,o,r,s,a,l,c;let u=this._currentSelection;if(e&&this._extent){let d=[Math.max(+this._extent[0],Math.min(+e[0],+this._extent[1])),Math.min(+this._extent[1],Math.max(+e[1],+this._extent[0]))];if(d[0]<d[1]){if(this._config.stickySelection){let h=d.map(this._activeAxisScale);this._mapSelection(h)}else this._currentSelection=d;(n=this._animationControlDiv)===null||n===void 0||n.classList.remove(oi.disabled)}else this._currentSelection=void 0,(o=this._animationControlDiv)===null||o===void 0||o.classList.add(oi.disabled)}else this._currentSelection=void 0,(r=this._animationControlDiv)===null||r===void 0||r.classList.add(oi.disabled);!i&&(u?.[0]!==((s=this._currentSelection)===null||s===void 0?void 0:s[0])||u?.[1]!==((a=this._currentSelection)===null||a===void 0?void 0:a[1]))&&((c=(l=this._config).onBrush)===null||c===void 0||c.call(l,this._currentSelection,!0)),this._brushCurrentSelection()}_setSelectionInPixels(e){var i,n,o,r,s;if(e){let a=[Math.max(0,Math.min(e[0],this._timelineWidth)),Math.min(this._timelineWidth,Math.max(e[1],0))];a[0]<a[1]?(this._currentSelection=a.map(l=>this._activeAxisScale.invert(l)),(i=this._animationControlDiv)===null||i===void 0||i.classList.remove(oi.disabled)):(this._currentSelection=void 0,(n=this._animationControlDiv)===null||n===void 0||n.classList.add(oi.disabled))}else this._currentSelection=void 0,(o=this._animationControlDiv)===null||o===void 0||o.classList.add(oi.disabled);(s=(r=this._config).onBrush)===null||s===void 0||s.call(r,this._currentSelection),this._brushCurrentSelection()}updateDimensions(){var e,i,n,o,r,s,a,l;let{height:c,width:u}=M7(this._containerNode),{offsetWidth:d}=this._animationControlDiv;this._width=u,this._height=c,this._timelineWidth=this._width-((i=(e=this._config.padding)===null||e===void 0?void 0:e.left)!==null&&i!==void 0?i:0)-((o=(n=this._config.padding)===null||n===void 0?void 0:n.right)!==null&&o!==void 0?o:0)-d,this._timelineHeight=this._height-((s=(r=this._config.padding)===null||r===void 0?void 0:r.top)!==null&&s!==void 0?s:0)-((l=(a=this._config.padding)===null||a===void 0?void 0:a.bottom)!==null&&l!==void 0?l:0)}resize(){var e,i,n,o;this.updateDimensions();let r=(i=(e=this._config.padding)===null||e===void 0?void 0:e.top)!==null&&i!==void 0?i:0,s=(o=(n=this._config.padding)===null||n===void 0?void 0:n.bottom)!==null&&o!==void 0?o:0;this._timelineHeight>r+s&&(this._updateScales(),this._checkLastTickPosition(),this._currentSelection&&this.setSelection(this._currentSelection,!0),this.render())}render(){if(this._timelineHeight<=0||this._timelineWidth<=0){this._axisGroup.style(\"display\",\"none\");return}this._firstRender&&(this.updateDimensions(),this._updateScales(),this._checkLastTickPosition()),this._updateBrush(),this._updateBars(),this._updateBars(!0),this._updateAxis(),this._firstRender&&(this._firstRender=!1)}_updateAxis(){var e,i;if(!this._timeData||!this._timeData.length){this._axisGroup.style(\"display\",\"none\");return}let{padding:n,axisTickHeight:o,selectionPadding:r}=this._config;this._axisGroup.style(\"transform\",`translate(${((e=n?.left)!==null&&e!==void 0?e:0)+1}px, ${((i=n?.top)!==null&&i!==void 0?i:0)+(o??0)+1+(r??0)/2}px)`).call(this._isNumericTimeline?this._numAxis:this._timeAxis).call(s=>s.select(\".domain\").remove()),this._axisGroup.selectAll(\".tick\").select(\"text\").attr(\"class\",oi.axisTick).attr(\"y\",0).attr(\"dy\",-(o??0)).attr(\"dx\",\"5px\"),this._axisGroup.selectAll(\"line\").attr(\"class\",oi.axisLine).attr(\"y2\",-(o??0))}_updateBrush(){var e,i;if(!this._config.allowSelection||this._timelineHeight<0||this._timelineWidth<0){this._brushGroup.selectAll(\"*\").remove();return}let{selectionPadding:n,padding:o,selectionRadius:r}=this._config,s=this._timelineHeight-(n??0),a=[[0,(n??0)/2],[this._timelineWidth,s+(n??0)/2]];this._brushInstance=px().extent(a),this._brushInstance.on(\"end\",({selection:l,sourceEvent:c})=>{var u,d,h,f,v,L;c&&(l?(this._config.stickySelection?this._mapSelection(l):this._currentSelection=l.map(A=>this._activeAxisScale.invert(A)),(u=this._animationControlDiv)===null||u===void 0||u.classList.remove(oi.disabled),(h=(d=this._config).onBrush)===null||h===void 0||h.call(d,this._currentSelection)):(this._currentSelection=void 0,(v=(f=this._config).onBrush)===null||v===void 0||v.call(f,void 0),(L=this._animationControlDiv)===null||L===void 0||L.classList.add(oi.disabled)),this._brushCurrentSelection())}),this._brushGroup.style(\"transform\",`translate(${(e=o?.left)!==null&&e!==void 0?e:0}px, ${(i=o?.top)!==null&&i!==void 0?i:0}px)`).call(this._brushInstance).call(this._brushInstance.move,this._currentSelectionInPixels||null),this._brushGroup.select(\"rect.selection\").classed(oi.selection,!0).attr(\"rx\",r??0).attr(\"ry\",r??0)}_updateBars(e=!1){var i,n;let{padding:o,selectionPadding:r}=this._config,s=e?this._highlightedBarsGroup:this._barsGroup;if(!this._timeData||!this._timeData.length){s.selectAll(\"rect\").remove();return}s.style(\"transform\",`translate(${(i=o?.left)!==null&&i!==void 0?i:0}px, ${((n=o?.top)!==null&&n!==void 0?n:0)-(r??0)/2}px)`);let a=e?.5:1,l=this._createBars(s,e);!e&&this._config.onBarHover&&l.on(\"mouseover\",c=>{var u,d;return(d=(u=this._config).onBarHover)===null||d===void 0?void 0:d.call(u,c)}),this._animateBars(l,e,a)}_createBars(e,i){var n,o;return!this._activeAxisScale||!this._yScale||!this._barsData.length?(e.selectAll(\"rect\").remove(),e.selectAll(\"rect\")):e.selectAll(`.${i?oi.highlightedBar:oi.bar}`).data(i?this._highlightedBarsData:this._barsData).join(\"rect\").attr(\"class\",i?oi.highlightedBar:oi.bar).attr(\"x\",r=>this._activeAxisScale(r.rangeStart)+this._barPadding/2).attr(\"width\",this.getBarWidth()).attr(\"rx\",(n=this._config.barRadius)!==null&&n!==void 0?n:0).attr(\"ry\",(o=this._config.barRadius)!==null&&o!==void 0?o:0).attr(\"y\",-this._timelineHeight)}_animateBars(e,i,n){e.transition().duration(this._isAnimationRunning?0:300).attr(\"height\",o=>i?o.count===0?0:this._yScale(o.count):this._yScale(o.count)).style(\"opacity\",o=>{var r;return this._yScale(o.count)===((r=this._config.minBarHeight)!==null&&r!==void 0?r:0)?.4:n})}_updateScales(){var e,i,n;if(!this._extent||!this._barsData.length||this._timelineHeight<0||this._timelineWidth<0){this._axisGroup.style(\"display\",\"none\");return}this._checkFormatter(),this._axisGroup.style(\"display\",\"inherit\");let o=this._barsData[this._barsData.length-1],r=Math.floor(this._timelineWidth/100),s=this._barsData.map(A=>A.rangeStart),a;if(s.length>r){let A=Math.ceil(s.length/r);a=s.filter((I,B)=>B%A===0)}else a=s;(this._isNumericTimeline?this._numAxis:this._timeAxis).tickValues(a);let l=Math.max(0,this._maxCount),c=Math.max(0,(e=this._config.minBarHeight)!==null&&e!==void 0?e:0),u=Math.max(0,this._timelineHeight-((i=this._config.barTopMargin)!==null&&i!==void 0?i:0)-((n=this._config.selectionPadding)!==null&&n!==void 0?n:0));this._yScale.range([c,u]).domain([0,l]).clamp(!0);let d=[this._extent[0],o.rangeEnd],h=[0,this._timelineWidth],f=this._isNumericTimeline?this._numScale:this._timeScale;f.domain(d),f.range(h),f.clamp(!0),this._activeAxisScale=f;let v=this._barsData[0],L=this._activeAxisScale(v.rangeEnd)-this._activeAxisScale(v.rangeStart);this._barWidth=L}_disableBrush(){var e,i;(e=this._brushInstance)===null||e===void 0||e.clear(this._brushGroup),this._currentSelectionInPixels=void 0,this._currentSelection=void 0,this.pauseAnimation(),this._brushGroup.selectAll(\"*\").remove(),this._config.showAnimationControls&&((i=this._animationControlDiv)===null||i===void 0||i.classList.add(oi.disabled))}_mapSelection(e){if(!this._barsData.length)return;let i=this._activeAxisScale.invert(e[0]),n=this._activeAxisScale.invert(e[1]),o=this._getClosestRange(+i),r=this._getClosestRange(+n,!0);o&&r&&o.rangeStart<=r.rangeEnd&&e[1]-e[0]>this.getBarWidth()/2?this._currentSelection=[o.rangeStart,r.rangeEnd]:this._currentSelection=void 0}_getClosestRange(e,i){return this._barsData.reduce((n,o)=>{let r=i?n.rangeEnd:n.rangeStart,s=i?o.rangeEnd:o.rangeStart;return Math.abs(+s-+e)<Math.abs(+r-+e)?o:n})}_checkLastTickPosition(){var e;let i=this._axisGroup.selectAll(\".tick:last-of-type\").nodes();if(i!=null&&i.length){let n=i[0],o=n?.getBoundingClientRect().right,r=(e=this._svg)===null||e===void 0?void 0:e.getBoundingClientRect().right;n.style.display=o>=r?\"none\":\"inherit\"}}_brushCurrentSelection(){var e;this._currentSelection?(this._currentSelectionInPixels=this._currentSelection.map(this._activeAxisScale),this._brushInstance&&!this._firstRender&&this._brushGroup.call(this._brushInstance.move,this._currentSelectionInPixels)):(this._currentSelectionInPixels=void 0,(e=this._brushInstance)===null||e===void 0||e.clear(this._brushGroup))}_normalizeTimeToMilliseconds(e){if(e<1e13)return e;let i=10**(Math.floor(Math.log10(e))-12);return Math.round(e/i*1e3)/1e3}};(function(){\"use strict\";try{if(typeof document<\"u\"){var t=document.createElement(\"style\");t.appendChild(document.createTextNode('@keyframes style_module_fadeIn__ffac87fd{0%{opacity:0}to{opacity:.2}}.style_module_displayState__6ae19b84{position:absolute;color:var(--cosmograph-ui-text);display:flex;justify-content:center;align-items:center;height:100%;width:100%;min-width:100px;opacity:.2;margin:auto;font-size:calc(var(--cosmograph-ui-font-size) + 1px);letter-spacing:-.02em;font-weight:200;user-select:none;-webkit-user-select:none;animation:style_module_fadeIn__ffac87fd .3s ease-in-out}:root{--cosmograph-timeline-selection-color: var(--cosmograph-ui-selection-control-color);--cosmograph-timeline-selection-opacity: .5;--cosmograph-timeline-bar-color: var(--cosmograph-ui-element-color);--cosmograph-timeline-highlighted-bar-color: var(--cosmograph-ui-highlighted-element-color);--cosmograph-timeline-font-family: var(--cosmograph-ui-font-family);--cosmograph-timeline-font-size: var(--cosmograph-ui-tick-font-size);--cosmograph-timeline-background: var(--cosmograph-ui-background);--cosmograph-timeline-text-color: var(--cosmograph-ui-text);--cosmograph-timeline-axis-color: var(--cosmograph-ui-text)}.style_module_timeline__736434f7{position:relative;display:flex;background:var(--cosmograph-timeline-background);width:100%;min-height:25px;overflow:hidden}.style_module_timelineSvg__b916ad04{position:relative;width:100%;height:100%}.style_module_selection__ebee57f8{fill:var(--cosmograph-timeline-selection-color);fill-opacity:var(--cosmograph-timeline-selection-opacity);stroke:none}.style_module_axisTick__5865631d{color:var(--cosmograph-timeline-axis-color);font:var(--cosmograph-timeline-font-family);font-size:var(--cosmograph-timeline-font-size);user-select:none;-webkit-user-select:none;opacity:1;font-weight:300;text-anchor:initial;font-feature-settings:\"tnum\";alignment-baseline:text-before-edge}.style_module_axisLine__992b502d{opacity:.2;color:var(--cosmograph-timeline-axis-color)}.style_module_bar__114fa79f{fill:var(--cosmograph-timeline-bar-color);transform:scaleY(-1);opacity:0}.style_module_animationControl__ee52cd66{color:var(--cosmograph-timeline-axis-color);width:6%;max-width:30px;min-width:20px;cursor:pointer;display:none;align-items:center;user-select:none;-webkit-user-select:none;opacity:.5;position:relative;justify-content:center}.style_module_animationControl__ee52cd66>svg{width:50%;max-height:20px;padding-right:2px}.style_module_hidden__a73fe81a{display:none}.style_module_disabled__eb988570{opacity:.2;pointer-events:none}.style_module_highlightedBar__c2fc9bdc{fill:var(--cosmograph-timeline-highlighted-bar-color);transform:scaleY(-1);pointer-events:none}:root{--cosmograph-search-font-family: var(--cosmograph-ui-font-family);--cosmograph-search-font-size: 14px;--cosmograph-search-list-font-size: 13.5px;--cosmograph-search-text-color: var(--cosmograph-ui-text);--cosmograph-search-background: transparent;--cosmograph-search-list-background: rgba(0, 0, 0, .2);--cosmograph-search-list-match-background: rgba(255, 255, 255, .2);--cosmograph-search-list-match-color: var(--cosmograph-ui-text)}.style_module_searchInput__d7830601:hover{filter:brightness(1.2) contrast(1)}.style_module_searchInput__d7830601{width:100%;background:transparent;color:var(--cosmograph-search-text-color);border:none;border-bottom:.5px solid var(--cosmograph-search-text-color);padding:4px 20px 5px 2px;font-family:var(--cosmograph-search-font-family);font-size:var(--cosmograph-search-font-size);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;transition:opacity .2s ease-out}.style_module_searchInput__d7830601::selection{background:var(--cosmograph-search-list-match-background)}.style_module_searchInput__d7830601:focus{outline:none}.style_module_searchSuggestions__b0d3f71e{color:#fff;width:100%;padding:0;margin:0;background:transparent;overflow-y:auto;flex:1;min-height:0}.style_module_searchSuggestions__b0d3f71e li{padding:5px 10px;cursor:pointer;-webkit-user-select:none;user-select:none;display:block;font-weight:500;font-size:var(--cosmograph-search-list-font-size);max-width:100%;overflow:hidden}.style_module_searchSuggestions__b0d3f71e li>div{white-space:nowrap;font-weight:200;overflow:hidden;text-overflow:ellipsis;width:100%}.style_module_searchSuggestions__b0d3f71e li:hover{background:#ffffff1a}.style_module_searchSuggestions__b0d3f71e mark{background:var(--cosmograph-search-list-match-background);color:var(--cosmograph-search-list-match-color);border-radius:2px}.style_module_clearButton__5ebb41de{position:absolute;right:0;top:0;height:100%;background:none;border:none;color:var(--cosmograph-search-text-color);font-weight:300;cursor:pointer;font-size:16px;padding:0 4px;opacity:0;display:flex;align-items:center;justify-content:center;transition:opacity .2s ease-out}.style_module_clearButton__5ebb41de.style_module_visible__5be7493d:hover{transition:opacity .1s ease-in-out;opacity:1}.style_module_clearButton__5ebb41de.style_module_visible__5be7493d{opacity:.7}.style_module_placeholderWrapper__72d5eb0e{z-index:1;color:var(--cosmograph-search-text-color);font-family:var(--cosmograph-search-font-family);font-size:var(--cosmograph-search-font-size);position:absolute;top:0;left:0;width:100%;bottom:0;display:flex;line-height:1.25;align-items:center;transition:transform .3s ease-out,opacity .3s ease-out}.style_module_placeholderWrapper__72d5eb0e.style_module_hidden__acfb8431{transform:translate(-30px);pointer-events:none;opacity:0}.style_module_searchInput__d7830601:disabled,.style_module_searchInput__d7830601.style_module_disabled__62c35dc5{opacity:.2;cursor:not-allowed;pointer-events:none}.style_module_disabled__62c35dc5 .style_module_clearButton__5ebb41de{display:none}.style_module_disabled__62c35dc5 .style_module_placeholderWrapper__72d5eb0e{opacity:.3;cursor:not-allowed}.style_module_searchInputWrapper__1edbcb22{position:relative;display:flex;width:100%}.style_module_noResults__363397c3{opacity:.3!important;cursor:default;font-weight:300!important;padding:6px!important;text-align:center;pointer-events:none}.style_module_noResults__363397c3:hover{background:none}.style_module_loading__296e0212{opacity:.7!important;cursor:default;font-weight:300!important;padding:6px!important;text-align:center;pointer-events:none;-webkit-user-select:none;user-select:none}.style_module_dropdownContainer__d98287da{position:absolute;top:100%;left:0;width:100%;background:var(--cosmograph-search-list-background);border-radius:4px;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);opacity:0;transform:translateY(-10px);transition:opacity .2s ease-out,transform .2s ease-out;pointer-events:none;overflow:hidden;z-index:10;display:flex;flex-direction:column;padding-bottom:2px}.style_module_dropdownContainer__d98287da.style_module_upwards__e0b4831b{top:auto;bottom:100%;transform:translateY(10px)}.style_module_dropdownContainer__d98287da.style_module_visible__5be7493d{opacity:1;transform:translateY(0);pointer-events:auto}.style_module_dropdownContainer__d98287da.style_module_upwards__e0b4831b.style_module_visible__5be7493d{opacity:1;transform:translateY(-2px);pointer-events:auto}.style_module_footerContainer__73e7a066{flex-shrink:0}:root{--cosmograph-scrollbar-background: rgba(255, 255, 255, .1);--cosmograph-ui-background: rgb(45, 49, 58);--cosmograph-ui-text: #ffffffc7;--cosmograph-ui-tick-font-size: 11px;--cosmograph-ui-font-size: 12px;--cosmograph-ui-font-family: inherit;--cosmograph-ui-element-color: #5C616A;--cosmograph-ui-highlighted-element-color: white;--cosmograph-ui-selection-control-color: #8d949ea8;-webkit-font-smoothing:antialiased!important;text-rendering:optimizeLegibility!important}.style_module_cosmograph-ui__5acb97f1{background:var(--cosmograph-ui-background);color:var(--cosmograph-ui-text)}.style_module_scrollbar__f1516254 *::-webkit-scrollbar{width:5px;height:5px;border-radius:.3rem}.style_module_scrollbar__f1516254 *::-webkit-scrollbar-track{border-radius:.3rem}.style_module_scrollbar__f1516254 *::-webkit-scrollbar-corner{background:none!important}.style_module_scrollbar__f1516254 *::-webkit-scrollbar-button{display:none!important}.style_module_scrollbar__f1516254 *::-webkit-scrollbar-thumb{background-color:var(--cosmograph-scrollbar-background);transition:background-color .5s;border-radius:20px;border:3px solid var(--cosmograph-scrollbar-background)}@-moz-document url-prefix(){.style_module_scrollbar__f1516254 *{scrollbar-width:thin;scrollbar-color:var(--cosmograph-scrollbar-background) transparent;scrollbar-track-color:transparent;scrollbar-face-color:var(--cosmograph-scrollbar-background)}}:root{--cosmograph-histogram-background: var(--cosmograph-ui-background);--cosmograph-histogram-text-color: var(--cosmograph-ui-text);--cosmograph-histogram-axis-color: var(--cosmograph-ui-text);--cosmograph-histogram-selection-color: var(--cosmograph-ui-selection-control-color);--cosmograph-histogram-selection-opacity: .5;--cosmograph-histogram-bar-color: var(--cosmograph-ui-element-color);--cosmograph-histogram-highlighted-bar-color: var( --cosmograph-ui-highlighted-element-color);--cosmograph-histogram-font-family: var(--cosmograph-ui-font-family);--cosmograph-histogram-font-size: var(--cosmograph-ui-tick-font-size)}.style_module_histogram__9d8a77ea{position:relative;display:flex;min-height:25px;background:var(--cosmograph-histogram-background);width:100%}.style_module_histogramSvg__ccccb628{position:relative;width:100%;height:100%}.style_module_selection__7db96137{fill:var(--cosmograph-histogram-selection-color);fill-opacity:var(--cosmograph-histogram-selection-opacity);stroke:none}.style_module_axisTick__898e1f39{color:var(--cosmograph-histogram-axis-color);font-family:var(--cosmograph-histogram-font-family);font-size:var(--cosmograph-histogram-font-size);user-select:none;-webkit-user-select:none;alignment-baseline:text-before-edge;opacity:1;font-weight:300;text-anchor:initial;font-feature-settings:\"tnum\"}.style_module_bar__3c9ab488{fill:var(--cosmograph-histogram-bar-color);transform:scaleY(-1)}.style_module_highlightedBar__b193a8de{fill:var(--cosmograph-histogram-highlighted-bar-color);transform:scaleY(-1);pointer-events:none}:root{--cosmograph-bars-font-color: var(--cosmograph-ui-text);--cosmograph-bars-font-family: var(--cosmograph-ui-font-family);--cosmograph-bars-font-size: var(--cosmograph-ui-font-size);--cosmograph-bars-ui-font-size: 11.5px;--cosmograph-bars-background: var(--cosmograph-ui-element-color);--cosmograph-bars-bar-height: 20px;--cosmograph-bars-bar-bottom-margin: 2px;--cosmograph-bars-highlighted-color: var( --cosmograph-ui-highlighted-element-color)}.style_module_bars__25497ded{position:relative;width:100%;min-height:100px;user-select:none;flex-direction:column;-webkit-user-select:none}.style_module_bars__25497ded .scroll-container{position:relative;width:100%;overflow-y:hidden;overflow-x:hidden}.style_module_bars__25497ded .bars-container{position:relative;width:calc(100% - 1px);font-family:var(--cosmograph-bars-font-family)}.style_module_bars__25497ded .highlighted-bars-container{position:absolute;top:0;left:0;pointer-events:none}.style_module_bars__25497ded .row{height:var(--cosmograph-bars-bar-height);display:flex;align-items:center;margin-bottom:var(--cosmograph-bars-bar-bottom-margin);width:100%;transition:opacity .1s linear,filter .1s linear}.style_module_bars__25497ded .row:hover{filter:brightness(1.15) contrast(1.05);transition:opacity .1s linear,filter .1s linear}.style_module_bars__25497ded .row.unselected:hover{filter:brightness(.95) contrast(1.15);transition:filter .05s linear}.style_module_bars__25497ded .unselected{opacity:.85;filter:brightness(.8) contrast(1.1)}.style_module_bars__25497ded .selected{filter:brightness(1.05) contrast(1.05)}.style_module_bars__25497ded .selected>.info>.label{font-weight:600;filter:brightness(1.1) contrast(1.05)}.style_module_bars__25497ded .unselected>.info>.label{font-weight:300}.style_module_bars__25497ded .bar{height:100%;background-color:var(--cosmograph-bars-background);opacity:.8;transition:opacity .3s ease,width .3s ease}.style_module_bars__25497ded .bar-highlighted{height:100%;background-color:var(--cosmograph-bars-highlighted-color);opacity:.2;transition:opacity .3s ease,width .3s ease}.style_module_bars__25497ded .info{display:flex;justify-content:space-between;width:100%;padding:0 4px;position:absolute;font-size:var(--cosmograph-bars-font-size);font-feature-settings:\"tnum\";color:var(--cosmograph-bars-font-color);gap:2px}.style_module_bars__25497ded .label{min-width:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;transition:opacity .05s linear}.style_module_bars__25497ded .count{flex-shrink:0;font-weight:300;opacity:.8;transition:opacity .05s linear}.style_module_bars__25497ded .show-more{cursor:pointer;padding-top:2px;display:flex;font-weight:300;color:var(--cosmograph-bars-font-color);font-size:11px;justify-content:space-between;opacity:.6;font-size:var(--cosmograph-bars-ui-font-size);pointer-events:none;transition:opacity .1s linear}.style_module_bars__25497ded .show-more:hover{opacity:1;text-decoration:underline;text-underline-offset:1.5px;text-decoration-thickness:.25px}.style_module_bars__25497ded .show-more>span{pointer-events:all}.style_module_bars__25497ded .show-more-count{padding-right:5px;pointer-events:all;font-feature-settings:\"tnum\"}.style_module_bars__25497ded .unselected>.info>.label,.style_module_bars__25497ded .unselected>.info>.count{opacity:.5}.style_module_bars__25497ded .unselected:hover>.info>.label,.style_module_bars__25497ded .unselected:hover>.info>.count{opacity:1}.style_module_bars__25497ded .search-input{background:transparent;border:none;border-bottom:1px solid rgba(255,255,255,.3);font-size:13px!important;color:var(--cosmograph-bars-font-color);line-height:1.5;padding:2px;width:100%;position:relative;transition:border-bottom-color .2s}.style_module_bars__25497ded .search-input::placeholder{color:var(--cosmograph-bars-font-color)!important;opacity:.4;font-weight:300;font-family:inherit}.style_module_bars__25497ded .search-container{position:relative;width:100%;margin-bottom:4px;display:none;z-index:1}.style_module_bars__25497ded .clear-button{position:absolute;right:0;top:50%;transform:translateY(-50%);background:none;border:none;cursor:pointer;color:var(--cosmograph-bars-font-color);font-weight:300;font-size:16px;padding:0 4px;opacity:0;display:flex;align-items:center;justify-content:center;transition:opacity .2s ease-out}.style_module_bars__25497ded .clear-button.visible:hover{transition:opacity .1s ease-in-out;opacity:1}.style_module_bars__25497ded .clear-button.visible{opacity:.7}.style_module_bars__25497ded .clear-button svg{width:10px;height:10px;fill:currentColor}.style_module_bars__25497ded .sorting-block{visibility:hidden;margin-top:1px;display:flex;justify-content:space-between}.style_module_bars__25497ded .buttons-container{margin-top:4px;font-size:var(--cosmograph-bars-ui-font-size);display:flex;gap:4px;line-height:1.25}.style_module_bars__25497ded .buttons-container>div{transition:opacity .05s linear,filter .05s linear;padding:1px 5px;background:var(--cosmograph-bars-background);border-radius:4px;opacity:.9;display:flex;cursor:pointer;align-items:center}.style_module_bars__25497ded .buttons-container>div:hover{filter:brightness(1.2)}.style_module_bars__25497ded .reset-text{transition:opacity .05s linear,filter .05s linear;display:flex;font-size:var(--cosmograph-bars-ui-font-size);align-items:end;padding-right:4px;cursor:pointer;font-weight:300}.style_module_bars__25497ded .reset-text:hover{text-decoration:underline;text-underline-offset:1.5px;text-decoration-thickness:.25px}.style_module_bars__25497ded .reset-text.unselected{pointer-events:none;cursor:default;opacity:.7}.style_module_bars__25497ded :scope.reset-text:hover:not(.unselected){filter:brightness(1.5);opacity:1}:root{--cosmograph-size-legend-form-color: var(--cosmograph-ui-text);--cosmograph-size-legend-font-color: var(--cosmograph-ui-text);--cosmograph-size-legend-font-family: inherit;--cosmograph-size-legend-font-size: var(--cosmograph-ui-font-size);--cosmograph-size-legend-sublabel-font-size: 10px;--cosmograph-size-legend-hover-color: var(--cosmograph-ui-highlighted-element-color);--cosmograph-size-legend-line-radius: 2px;--cosmograph-size-legend-line-width: 30px;--cosmograph-size-legend-hide-transform: translateY(100%);--cosmograph-size-legend-show-transform: translateX(0)}.style_module_container__d2889234{display:flex;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete;overflow:hidden;min-height:25px}.style_module_legend__75c167f2{width:auto;display:flex;flex-direction:column;position:relative;font-size:var(--cosmograph-size-legend-font-size);font-family:var(--cosmograph-size-legend-font-family);user-select:none;-webkit-user-select:none;cursor:default;text-align:center;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete;font-weight:300;letter-spacing:-.04em;text-rendering:optimizelegibility;-webkit-font-smoothing:antialiased}.style_module_enabled__91eae57a{opacity:1;transform:var(--cosmograph-size-legend-show-transform)}.style_module_disabled__d51f7a10{opacity:0;transform:var(--cosmograph-size-legend-hide-transform);pointer-events:none;display:none!important}@starting-style{.style_module_container__d2889234.style_module_enabled__91eae57a,.style_module_legend__75c167f2.style_module_enabled__91eae57a{opacity:0;transform:var(--cosmograph-size-legend-hide-transform)}}.style_module_legend__75c167f2 .legend-content>div:first-child:not(:only-child){margin-right:.75rem}.style_module_legend__75c167f2 .circle{background-color:var(--cosmograph-size-legend-form-color);border-radius:50%;transition:background-color .15s ease-in-out;display:inline-block}.style_module_legend__75c167f2 .line{background-color:var(--cosmograph-size-legend-form-color);border-radius:var(--cosmograph-size-legend-line-radius);width:var(--cosmograph-size-legend-line-width);transition:background-color .15s ease-in-out;display:inline-block}.style_module_legend__75c167f2.style_module_events__894316a8{pointer-events:auto;cursor:pointer}.style_module_legend__75c167f2 .legend-content{display:flex;align-items:end;justify-content:center}.style_module_legend__75c167f2 .legend-content>div{transition:filter .1s ease-in-out,opacity .1s ease-in-out}.style_module_legend__75c167f2 .labels-wrapper{white-space:nowrap}.style_module_legend__75c167f2 .legend-item{display:flex;align-items:center;margin-top:var(--cosmograph-size-legend-items-margin)}.style_module_legend__75c167f2 .name{align-items:center;text-align:center;justify-content:center;display:flex;color:var(--cosmograph-size-legend-font-color);overflow:hidden;width:100%;margin-top:3px;word-break:break-all;white-space:pre-line;transition:color .15s ease-in-out;letter-spacing:-.02em}.style_module_legend__75c167f2 .label{color:var(--cosmograph-size-legend-font-color);overflow:hidden;transition:color .15s ease-in-out;text-overflow:ellipsis;font-feature-settings:\"tnum\"}.style_module_legend__75c167f2 .sublabel{padding-top:1px;font-size:var(--cosmograph-size-legend-sublabel-font-size);opacity:.5;line-height:1;min-width:10px;transition:color .15s ease-in-out}.style_module_hovered__1206707f .label,.style_module_hovered__1206707f .sublabel{color:var(--cosmograph-size-legend-hover-color);cursor:pointer}.style_module_hovered__1206707f .circle,.style_module_hovered__1206707f .line{background-color:var(--cosmograph-size-legend-hover-color);cursor:pointer}:root{--cosmograph-color-legend-range-font-color: var(--cosmograph-ui-text);--cosmograph-color-legend-range-font-family: var(--cosmograph-ui-font-family);--cosmograph-color-legend-range-font-size: var(--cosmograph-ui-font-size);--cosmograph-color-legend-range-label-font-size: var(--cosmograph-ui-font-size);--cosmograph-color-legend-range-sublabel-font-size: 10px;--cosmograph-color-legend-range-hover-color: var(--cosmograph-ui-highlighted-element-color);--cosmograph-color-legend-range-gradient-height: 6px;--cosmograph-color-legend-range-gradient-radius: 8px;--cosmograph-color-legend-range-gradient-top-margin: 6px;--cosmograph-color-legend-hide-transform: translateY(100%);--cosmograph-color-legend-show-transform: translateX(0)}.style_module_container__05cc807d{display:flex;min-width:150px;min-height:25px;width:100%;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete}.style_module_legend__a3e235e4{width:100%;font-weight:300;letter-spacing:-.04em;display:flex;flex-direction:column;font-size:var(--cosmograph-color-legend-range-font-size);font-family:var(--cosmograph-color-legend-range-font-family);user-select:none;-webkit-user-select:none;pointer-events:none;cursor:default;text-align:center;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete;text-rendering:optimizelegibility;-webkit-font-smoothing:antialiased}.style_module_enabled__b3120e27{opacity:1;transform:var(--cosmograph-color-legend-show-transform);pointer-events:auto}.style_module_disabled__c2dc158c{opacity:0;transform:var(--cosmograph-color-legend-hide-transform);pointer-events:none;display:none}@starting-style{.style_module_container__05cc807d.style_module_enabled__b3120e27,.style_module_legend__a3e235e4.style_module_enabled__b3120e27{opacity:0;transform:var(--cosmograph-color-legend-hide-transform)}}.style_module_legend__a3e235e4 .legend-content{display:flex;align-items:end;justify-content:space-between}.style_module_hovered__dfd7bb2c .label,.style_module_hovered__dfd7bb2c .sublabel{color:var(--cosmograph-size-legend-hover-color)!important;cursor:pointer}.style_module_legend__a3e235e4 .extent{white-space:nowrap;transition:filter .1s ease-in-out,opacity .1s ease-in-out}.style_module_legend__a3e235e4 .gradient{width:100%;margin-top:var(--cosmograph-color-legend-range-gradient-top-margin);height:var(--cosmograph-color-legend-range-gradient-height);border-radius:var(--cosmograph-color-legend-range-gradient-radius)}.style_module_legend__a3e235e4 .legend-item{display:flex;align-items:center;margin-top:var(--cosmograph-color-legend-range-items-margin)}.style_module_legend__a3e235e4 .name{align-items:center;text-align:center;justify-content:space-around;display:flex;color:var(--cosmograph-color-legend-range-font-color);overflow:hidden;width:100%;word-break:break-word;text-wrap:balance;white-space:pre-line;transition:color .15s ease-in-out;margin:0 4px;letter-spacing:-.02em;line-height:1.25}.style_module_legend__a3e235e4 .label{color:var(--cosmograph-color-legend-range-font-color);overflow:hidden;max-width:150px;text-overflow:ellipsis;font-size:var(--cosmograph-color-legend-range-label-font-size);transition:color .15s ease-in-out;line-height:1;font-feature-settings:\"tnum\"}.style_module_legend__a3e235e4 .sublabel{padding-top:1px;color:var(--cosmograph-color-legend-range-font-color);opacity:.55;font-size:var(--cosmograph-color-legend-range-sublabel-font-size);line-height:1;transition:color .15s ease-in-out}:root{--cosmograph-color-legend-type-font-color: var(--cosmograph-ui-text);--cosmograph-color-legend-type-font-family: var(--cosmograph-ui-font-family);--cosmograph-color-legend-type-font-size: 11px;--cosmograph-color-legend-type-hover-color: var(--cosmograph-ui-highlighted-element-color);--cosmograph-color-legend-type-others-color: #bab0ab;--cosmograph-color-legend-type-bullet-size: 8px;--cosmograph-color-legend-type-bullet-radius: 1rem;--cosmograph-color-legend-type-items-margin: 4px;--cosmograph-color-legend-type-hide-transform: translateY(125%);--cosmograph-color-legend-type-show-transform: translateX(0)}.style_module_enabled__277b2403{opacity:1;transform:var(--cosmograph-color-legend-type-show-transform)}.style_module_disabled__7a587f96{opacity:0;transform:var(--cosmograph-color-legend-type-hide-transform);display:none!important}.style_module_wrapper__ea8ca7f4{position:relative;max-width:100%;width:fit-content;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete}.style_module_typeLegend__15bf4b2f{position:relative;width:fit-content;max-width:100%;min-height:25px;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete;font-weight:300;letter-spacing:-.015em;text-rendering:optimizelegibility;-webkit-font-smoothing:antialiased}.style_module_typeLegend__15bf4b2f .reverted{flex-direction:row-reverse}.style_module_typeLegend__15bf4b2f .scroll-container{width:100%;display:flex;flex-direction:column;position:relative;font-size:var(--cosmograph-color-legend-type-font-size);font-family:var(--cosmograph-color-legend-type-font-family);user-select:none;-webkit-user-select:none;line-height:normal;overflow-x:hidden;overflow-y:auto;will-change:transform}@starting-style{.style_module_typeLegend__15bf4b2f.style_module_enabled__277b2403,.style_module_wrapper__ea8ca7f4.style_module_enabled__277b2403{opacity:0;transform:var(--cosmograph-color-legend-type-hide-transform)}}.style_module_typeLegend__15bf4b2f .legend-item{display:flex;align-items:center;position:absolute;margin-bottom:var(--cosmograph-color-legend-type-items-margin);pointer-events:none;width:100%;padding-left:1px;font-weight:300;transition:filter .1s ease-in-out,opacity .1s ease-in-out;min-height:calc(var(--cosmograph-color-legend-type-bullet-size) + 2px + var(--cosmograph-color-legend-type-items-margin));height:calc(var(--cosmograph-color-legend-type-bullet-size) + 2px);box-sizing:border-box}.style_module_typeLegend__15bf4b2f .unknown{background-color:var(--cosmograph-color-legend-type-unknown-color)}.style_module_typeLegend__15bf4b2f .others{background-color:var(--cosmograph-color-legend-type-others-color)}.style_module_typeLegend__15bf4b2f .bullet{height:var(--cosmograph-color-legend-type-bullet-size);width:var(--cosmograph-color-legend-type-bullet-size);min-height:var(--cosmograph-color-legend-type-bullet-size);min-width:var(--cosmograph-color-legend-type-bullet-size);border-radius:var(--cosmograph-color-legend-type-bullet-radius);pointer-events:all;margin-right:5px}.style_module_typeLegend__15bf4b2f .label{color:var(--cosmograph-color-legend-type-font-color);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - var(--cosmograph-color-legend-type-bullet-size) - 5px);pointer-events:all;transition:.05s linear color}.style_module_typeLegend__15bf4b2f .legend-item.reverted>.bullet{margin-right:0}.style_module_typeLegend__15bf4b2f .legend-item.reverted>.label{margin-right:5px}.style_module_typeLegend__15bf4b2f .show-more{cursor:pointer;padding-top:4px;display:none;font-weight:300;color:var(--cosmograph-color-legend-type-font-color);font-size:11px;opacity:.6;pointer-events:all;justify-content:space-between;transition:opacity .1s linear;font-feature-settings:\"tnum\"}.style_module_typeLegend__15bf4b2f .show-more:hover{opacity:1}.style_module_hovered__c0993502 .label,.style_module_hovered__c0993502 .sublabel{color:var(--cosmograph-color-legend-type-hover-color)!important;cursor:pointer}.style_module_selected__36e1dd81{filter:brightness(1)}.style_module_selected__36e1dd81>.style_module_label__afecc7a3{filter:brightness(1.2)}.style_module_unselected__4826cfb7{filter:brightness(.5)}:root{--cosmograph-button-color: var(--cosmograph-ui-text);--cosmograph-button-background: var(--cosmograph-ui-element-color);--cosmograph-button-border-radius: 2px}.style_module_button__e95a1138{background:var(--cosmograph-button-background);color:var(--cosmograph-button-color);border-radius:var(--cosmograph-button-border-radius);display:none;align-items:center;justify-content:center;width:25px;height:25px;margin:3px;padding:5px;cursor:pointer;filter:brightness(.95) contrast(.9);transition:filter .1s}.style_module_button__e95a1138:hover{filter:brightness(1.2) contrast(1)}')),document.head.appendChild(t)}}catch(e){console.error(\"vite-plugin-css-injected-by-js\",e)}})();var dK=\"style_module_cosmograph-ui__5acb97f1\",hK=\"style_module_scrollbar__f1516254\",Rx={\"cosmograph-ui\":\"style_module_cosmograph-ui__5acb97f1\",cosmographUi:dK,scrollbar:hK};(function(){\"use strict\";try{if(typeof document<\"u\"){var t=document.createElement(\"style\");t.appendChild(document.createTextNode('@keyframes style_module_fadeIn__ffac87fd{0%{opacity:0}to{opacity:.2}}.style_module_displayState__6ae19b84{position:absolute;color:var(--cosmograph-ui-text);display:flex;justify-content:center;align-items:center;height:100%;width:100%;min-width:100px;opacity:.2;margin:auto;font-size:calc(var(--cosmograph-ui-font-size) + 1px);letter-spacing:-.02em;font-weight:200;user-select:none;-webkit-user-select:none;animation:style_module_fadeIn__ffac87fd .3s ease-in-out}:root{--cosmograph-timeline-selection-color: var(--cosmograph-ui-selection-control-color);--cosmograph-timeline-selection-opacity: .5;--cosmograph-timeline-bar-color: var(--cosmograph-ui-element-color);--cosmograph-timeline-highlighted-bar-color: var(--cosmograph-ui-highlighted-element-color);--cosmograph-timeline-font-family: var(--cosmograph-ui-font-family);--cosmograph-timeline-font-size: var(--cosmograph-ui-tick-font-size);--cosmograph-timeline-background: var(--cosmograph-ui-background);--cosmograph-timeline-text-color: var(--cosmograph-ui-text);--cosmograph-timeline-axis-color: var(--cosmograph-ui-text)}.style_module_timeline__736434f7{position:relative;display:flex;background:var(--cosmograph-timeline-background);width:100%;min-height:25px;overflow:hidden}.style_module_timelineSvg__b916ad04{position:relative;width:100%;height:100%}.style_module_selection__ebee57f8{fill:var(--cosmograph-timeline-selection-color);fill-opacity:var(--cosmograph-timeline-selection-opacity);stroke:none}.style_module_axisTick__5865631d{color:var(--cosmograph-timeline-axis-color);font:var(--cosmograph-timeline-font-family);font-size:var(--cosmograph-timeline-font-size);user-select:none;-webkit-user-select:none;opacity:1;font-weight:300;text-anchor:initial;font-feature-settings:\"tnum\";alignment-baseline:text-before-edge}.style_module_axisLine__992b502d{opacity:.2;color:var(--cosmograph-timeline-axis-color)}.style_module_bar__114fa79f{fill:var(--cosmograph-timeline-bar-color);transform:scaleY(-1);opacity:0}.style_module_animationControl__ee52cd66{color:var(--cosmograph-timeline-axis-color);width:6%;max-width:30px;min-width:20px;cursor:pointer;display:none;align-items:center;user-select:none;-webkit-user-select:none;opacity:.5;position:relative;justify-content:center}.style_module_animationControl__ee52cd66>svg{width:50%;max-height:20px;padding-right:2px}.style_module_hidden__a73fe81a{display:none}.style_module_disabled__eb988570{opacity:.2;pointer-events:none}.style_module_highlightedBar__c2fc9bdc{fill:var(--cosmograph-timeline-highlighted-bar-color);transform:scaleY(-1);pointer-events:none}:root{--cosmograph-search-font-family: var(--cosmograph-ui-font-family);--cosmograph-search-font-size: 14px;--cosmograph-search-list-font-size: 13.5px;--cosmograph-search-text-color: var(--cosmograph-ui-text);--cosmograph-search-background: transparent;--cosmograph-search-list-background: rgba(0, 0, 0, .2);--cosmograph-search-list-match-background: rgba(255, 255, 255, .2);--cosmograph-search-list-match-color: var(--cosmograph-ui-text)}.style_module_searchInput__d7830601:hover{filter:brightness(1.2) contrast(1)}.style_module_searchInput__d7830601{width:100%;background:transparent;color:var(--cosmograph-search-text-color);border:none;border-bottom:.5px solid var(--cosmograph-search-text-color);padding:4px 20px 5px 2px;font-family:var(--cosmograph-search-font-family);font-size:var(--cosmograph-search-font-size);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;transition:opacity .2s ease-out}.style_module_searchInput__d7830601::selection{background:var(--cosmograph-search-list-match-background)}.style_module_searchInput__d7830601:focus{outline:none}.style_module_searchSuggestions__b0d3f71e{color:#fff;width:100%;padding:0;margin:0;background:transparent;overflow-y:auto;flex:1;min-height:0}.style_module_searchSuggestions__b0d3f71e li{padding:5px 10px;cursor:pointer;-webkit-user-select:none;user-select:none;display:block;font-weight:500;font-size:var(--cosmograph-search-list-font-size);max-width:100%;overflow:hidden}.style_module_searchSuggestions__b0d3f71e li>div{white-space:nowrap;font-weight:200;overflow:hidden;text-overflow:ellipsis;width:100%}.style_module_searchSuggestions__b0d3f71e li:hover{background:#ffffff1a}.style_module_searchSuggestions__b0d3f71e mark{background:var(--cosmograph-search-list-match-background);color:var(--cosmograph-search-list-match-color);border-radius:2px}.style_module_clearButton__5ebb41de{position:absolute;right:0;top:0;height:100%;background:none;border:none;color:var(--cosmograph-search-text-color);font-weight:300;cursor:pointer;font-size:16px;padding:0 4px;opacity:0;display:flex;align-items:center;justify-content:center;transition:opacity .2s ease-out}.style_module_clearButton__5ebb41de.style_module_visible__5be7493d:hover{transition:opacity .1s ease-in-out;opacity:1}.style_module_clearButton__5ebb41de.style_module_visible__5be7493d{opacity:.7}.style_module_placeholderWrapper__72d5eb0e{z-index:1;color:var(--cosmograph-search-text-color);font-family:var(--cosmograph-search-font-family);font-size:var(--cosmograph-search-font-size);position:absolute;top:0;left:0;width:100%;bottom:0;display:flex;line-height:1.25;align-items:center;transition:transform .3s ease-out,opacity .3s ease-out}.style_module_placeholderWrapper__72d5eb0e.style_module_hidden__acfb8431{transform:translate(-30px);pointer-events:none;opacity:0}.style_module_searchInput__d7830601:disabled,.style_module_searchInput__d7830601.style_module_disabled__62c35dc5{opacity:.2;cursor:not-allowed;pointer-events:none}.style_module_disabled__62c35dc5 .style_module_clearButton__5ebb41de{display:none}.style_module_disabled__62c35dc5 .style_module_placeholderWrapper__72d5eb0e{opacity:.3;cursor:not-allowed}.style_module_searchInputWrapper__1edbcb22{position:relative;display:flex;width:100%}.style_module_noResults__363397c3{opacity:.3!important;cursor:default;font-weight:300!important;padding:6px!important;text-align:center;pointer-events:none}.style_module_noResults__363397c3:hover{background:none}.style_module_loading__296e0212{opacity:.7!important;cursor:default;font-weight:300!important;padding:6px!important;text-align:center;pointer-events:none;-webkit-user-select:none;user-select:none}.style_module_dropdownContainer__d98287da{position:absolute;top:100%;left:0;width:100%;background:var(--cosmograph-search-list-background);border-radius:4px;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);opacity:0;transform:translateY(-10px);transition:opacity .2s ease-out,transform .2s ease-out;pointer-events:none;overflow:hidden;z-index:10;display:flex;flex-direction:column;padding-bottom:2px}.style_module_dropdownContainer__d98287da.style_module_upwards__e0b4831b{top:auto;bottom:100%;transform:translateY(10px)}.style_module_dropdownContainer__d98287da.style_module_visible__5be7493d{opacity:1;transform:translateY(0);pointer-events:auto}.style_module_dropdownContainer__d98287da.style_module_upwards__e0b4831b.style_module_visible__5be7493d{opacity:1;transform:translateY(-2px);pointer-events:auto}.style_module_footerContainer__73e7a066{flex-shrink:0}:root{--cosmograph-scrollbar-background: rgba(255, 255, 255, .1);--cosmograph-ui-background: rgb(45, 49, 58);--cosmograph-ui-text: #ffffffc7;--cosmograph-ui-tick-font-size: 11px;--cosmograph-ui-font-size: 12px;--cosmograph-ui-font-family: inherit;--cosmograph-ui-element-color: #5C616A;--cosmograph-ui-highlighted-element-color: white;--cosmograph-ui-selection-control-color: #8d949ea8;-webkit-font-smoothing:antialiased!important;text-rendering:optimizeLegibility!important}.style_module_cosmograph-ui__5acb97f1{background:var(--cosmograph-ui-background);color:var(--cosmograph-ui-text)}.style_module_scrollbar__f1516254 *::-webkit-scrollbar{width:5px;height:5px;border-radius:.3rem}.style_module_scrollbar__f1516254 *::-webkit-scrollbar-track{border-radius:.3rem}.style_module_scrollbar__f1516254 *::-webkit-scrollbar-corner{background:none!important}.style_module_scrollbar__f1516254 *::-webkit-scrollbar-button{display:none!important}.style_module_scrollbar__f1516254 *::-webkit-scrollbar-thumb{background-color:var(--cosmograph-scrollbar-background);transition:background-color .5s;border-radius:20px;border:3px solid var(--cosmograph-scrollbar-background)}@-moz-document url-prefix(){.style_module_scrollbar__f1516254 *{scrollbar-width:thin;scrollbar-color:var(--cosmograph-scrollbar-background) transparent;scrollbar-track-color:transparent;scrollbar-face-color:var(--cosmograph-scrollbar-background)}}:root{--cosmograph-histogram-background: var(--cosmograph-ui-background);--cosmograph-histogram-text-color: var(--cosmograph-ui-text);--cosmograph-histogram-axis-color: var(--cosmograph-ui-text);--cosmograph-histogram-selection-color: var(--cosmograph-ui-selection-control-color);--cosmograph-histogram-selection-opacity: .5;--cosmograph-histogram-bar-color: var(--cosmograph-ui-element-color);--cosmograph-histogram-highlighted-bar-color: var( --cosmograph-ui-highlighted-element-color);--cosmograph-histogram-font-family: var(--cosmograph-ui-font-family);--cosmograph-histogram-font-size: var(--cosmograph-ui-tick-font-size)}.style_module_histogram__9d8a77ea{position:relative;display:flex;min-height:25px;background:var(--cosmograph-histogram-background);width:100%}.style_module_histogramSvg__ccccb628{position:relative;width:100%;height:100%}.style_module_selection__7db96137{fill:var(--cosmograph-histogram-selection-color);fill-opacity:var(--cosmograph-histogram-selection-opacity);stroke:none}.style_module_axisTick__898e1f39{color:var(--cosmograph-histogram-axis-color);font-family:var(--cosmograph-histogram-font-family);font-size:var(--cosmograph-histogram-font-size);user-select:none;-webkit-user-select:none;alignment-baseline:text-before-edge;opacity:1;font-weight:300;text-anchor:initial;font-feature-settings:\"tnum\"}.style_module_bar__3c9ab488{fill:var(--cosmograph-histogram-bar-color);transform:scaleY(-1)}.style_module_highlightedBar__b193a8de{fill:var(--cosmograph-histogram-highlighted-bar-color);transform:scaleY(-1);pointer-events:none}:root{--cosmograph-bars-font-color: var(--cosmograph-ui-text);--cosmograph-bars-font-family: var(--cosmograph-ui-font-family);--cosmograph-bars-font-size: var(--cosmograph-ui-font-size);--cosmograph-bars-ui-font-size: 11.5px;--cosmograph-bars-background: var(--cosmograph-ui-element-color);--cosmograph-bars-bar-height: 20px;--cosmograph-bars-bar-bottom-margin: 2px;--cosmograph-bars-highlighted-color: var( --cosmograph-ui-highlighted-element-color)}.style_module_bars__25497ded{position:relative;width:100%;min-height:100px;user-select:none;flex-direction:column;-webkit-user-select:none}.style_module_bars__25497ded .scroll-container{position:relative;width:100%;overflow-y:hidden;overflow-x:hidden}.style_module_bars__25497ded .bars-container{position:relative;width:calc(100% - 1px);font-family:var(--cosmograph-bars-font-family)}.style_module_bars__25497ded .highlighted-bars-container{position:absolute;top:0;left:0;pointer-events:none}.style_module_bars__25497ded .row{height:var(--cosmograph-bars-bar-height);display:flex;align-items:center;margin-bottom:var(--cosmograph-bars-bar-bottom-margin);width:100%;transition:opacity .1s linear,filter .1s linear}.style_module_bars__25497ded .row:hover{filter:brightness(1.15) contrast(1.05);transition:opacity .1s linear,filter .1s linear}.style_module_bars__25497ded .row.unselected:hover{filter:brightness(.95) contrast(1.15);transition:filter .05s linear}.style_module_bars__25497ded .unselected{opacity:.85;filter:brightness(.8) contrast(1.1)}.style_module_bars__25497ded .selected{filter:brightness(1.05) contrast(1.05)}.style_module_bars__25497ded .selected>.info>.label{font-weight:600;filter:brightness(1.1) contrast(1.05)}.style_module_bars__25497ded .unselected>.info>.label{font-weight:300}.style_module_bars__25497ded .bar{height:100%;background-color:var(--cosmograph-bars-background);opacity:.8;transition:opacity .3s ease,width .3s ease}.style_module_bars__25497ded .bar-highlighted{height:100%;background-color:var(--cosmograph-bars-highlighted-color);opacity:.2;transition:opacity .3s ease,width .3s ease}.style_module_bars__25497ded .info{display:flex;justify-content:space-between;width:100%;padding:0 4px;position:absolute;font-size:var(--cosmograph-bars-font-size);font-feature-settings:\"tnum\";color:var(--cosmograph-bars-font-color);gap:2px}.style_module_bars__25497ded .label{min-width:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;transition:opacity .05s linear}.style_module_bars__25497ded .count{flex-shrink:0;font-weight:300;opacity:.8;transition:opacity .05s linear}.style_module_bars__25497ded .show-more{cursor:pointer;padding-top:2px;display:flex;font-weight:300;color:var(--cosmograph-bars-font-color);font-size:11px;justify-content:space-between;opacity:.6;font-size:var(--cosmograph-bars-ui-font-size);pointer-events:none;transition:opacity .1s linear}.style_module_bars__25497ded .show-more:hover{opacity:1;text-decoration:underline;text-underline-offset:1.5px;text-decoration-thickness:.25px}.style_module_bars__25497ded .show-more>span{pointer-events:all}.style_module_bars__25497ded .show-more-count{padding-right:5px;pointer-events:all;font-feature-settings:\"tnum\"}.style_module_bars__25497ded .unselected>.info>.label,.style_module_bars__25497ded .unselected>.info>.count{opacity:.5}.style_module_bars__25497ded .unselected:hover>.info>.label,.style_module_bars__25497ded .unselected:hover>.info>.count{opacity:1}.style_module_bars__25497ded .search-input{background:transparent;border:none;border-bottom:1px solid rgba(255,255,255,.3);font-size:13px!important;color:var(--cosmograph-bars-font-color);line-height:1.5;padding:2px;width:100%;position:relative;transition:border-bottom-color .2s}.style_module_bars__25497ded .search-input::placeholder{color:var(--cosmograph-bars-font-color)!important;opacity:.4;font-weight:300;font-family:inherit}.style_module_bars__25497ded .search-container{position:relative;width:100%;margin-bottom:4px;display:none;z-index:1}.style_module_bars__25497ded .clear-button{position:absolute;right:0;top:50%;transform:translateY(-50%);background:none;border:none;cursor:pointer;color:var(--cosmograph-bars-font-color);font-weight:300;font-size:16px;padding:0 4px;opacity:0;display:flex;align-items:center;justify-content:center;transition:opacity .2s ease-out}.style_module_bars__25497ded .clear-button.visible:hover{transition:opacity .1s ease-in-out;opacity:1}.style_module_bars__25497ded .clear-button.visible{opacity:.7}.style_module_bars__25497ded .clear-button svg{width:10px;height:10px;fill:currentColor}.style_module_bars__25497ded .sorting-block{visibility:hidden;margin-top:1px;display:flex;justify-content:space-between}.style_module_bars__25497ded .buttons-container{margin-top:4px;font-size:var(--cosmograph-bars-ui-font-size);display:flex;gap:4px;line-height:1.25}.style_module_bars__25497ded .buttons-container>div{transition:opacity .05s linear,filter .05s linear;padding:1px 5px;background:var(--cosmograph-bars-background);border-radius:4px;opacity:.9;display:flex;cursor:pointer;align-items:center}.style_module_bars__25497ded .buttons-container>div:hover{filter:brightness(1.2)}.style_module_bars__25497ded .reset-text{transition:opacity .05s linear,filter .05s linear;display:flex;font-size:var(--cosmograph-bars-ui-font-size);align-items:end;padding-right:4px;cursor:pointer;font-weight:300}.style_module_bars__25497ded .reset-text:hover{text-decoration:underline;text-underline-offset:1.5px;text-decoration-thickness:.25px}.style_module_bars__25497ded .reset-text.unselected{pointer-events:none;cursor:default;opacity:.7}.style_module_bars__25497ded :scope.reset-text:hover:not(.unselected){filter:brightness(1.5);opacity:1}:root{--cosmograph-size-legend-form-color: var(--cosmograph-ui-text);--cosmograph-size-legend-font-color: var(--cosmograph-ui-text);--cosmograph-size-legend-font-family: inherit;--cosmograph-size-legend-font-size: var(--cosmograph-ui-font-size);--cosmograph-size-legend-sublabel-font-size: 10px;--cosmograph-size-legend-hover-color: var(--cosmograph-ui-highlighted-element-color);--cosmograph-size-legend-line-radius: 2px;--cosmograph-size-legend-line-width: 30px;--cosmograph-size-legend-hide-transform: translateY(100%);--cosmograph-size-legend-show-transform: translateX(0)}.style_module_container__d2889234{display:flex;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete;overflow:hidden;min-height:25px}.style_module_legend__75c167f2{width:auto;display:flex;flex-direction:column;position:relative;font-size:var(--cosmograph-size-legend-font-size);font-family:var(--cosmograph-size-legend-font-family);user-select:none;-webkit-user-select:none;cursor:default;text-align:center;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete;font-weight:300;letter-spacing:-.04em;text-rendering:optimizelegibility;-webkit-font-smoothing:antialiased}.style_module_enabled__91eae57a{opacity:1;transform:var(--cosmograph-size-legend-show-transform)}.style_module_disabled__d51f7a10{opacity:0;transform:var(--cosmograph-size-legend-hide-transform);pointer-events:none;display:none!important}@starting-style{.style_module_container__d2889234.style_module_enabled__91eae57a,.style_module_legend__75c167f2.style_module_enabled__91eae57a{opacity:0;transform:var(--cosmograph-size-legend-hide-transform)}}.style_module_legend__75c167f2 .legend-content>div:first-child:not(:only-child){margin-right:.75rem}.style_module_legend__75c167f2 .circle{background-color:var(--cosmograph-size-legend-form-color);border-radius:50%;transition:background-color .15s ease-in-out;display:inline-block}.style_module_legend__75c167f2 .line{background-color:var(--cosmograph-size-legend-form-color);border-radius:var(--cosmograph-size-legend-line-radius);width:var(--cosmograph-size-legend-line-width);transition:background-color .15s ease-in-out;display:inline-block}.style_module_legend__75c167f2.style_module_events__894316a8{pointer-events:auto;cursor:pointer}.style_module_legend__75c167f2 .legend-content{display:flex;align-items:end;justify-content:center}.style_module_legend__75c167f2 .legend-content>div{transition:filter .1s ease-in-out,opacity .1s ease-in-out}.style_module_legend__75c167f2 .labels-wrapper{white-space:nowrap}.style_module_legend__75c167f2 .legend-item{display:flex;align-items:center;margin-top:var(--cosmograph-size-legend-items-margin)}.style_module_legend__75c167f2 .name{align-items:center;text-align:center;justify-content:center;display:flex;color:var(--cosmograph-size-legend-font-color);overflow:hidden;width:100%;margin-top:3px;word-break:break-all;white-space:pre-line;transition:color .15s ease-in-out;letter-spacing:-.02em}.style_module_legend__75c167f2 .label{color:var(--cosmograph-size-legend-font-color);overflow:hidden;transition:color .15s ease-in-out;text-overflow:ellipsis;font-feature-settings:\"tnum\"}.style_module_legend__75c167f2 .sublabel{padding-top:1px;font-size:var(--cosmograph-size-legend-sublabel-font-size);opacity:.5;line-height:1;min-width:10px;transition:color .15s ease-in-out}.style_module_hovered__1206707f .label,.style_module_hovered__1206707f .sublabel{color:var(--cosmograph-size-legend-hover-color);cursor:pointer}.style_module_hovered__1206707f .circle,.style_module_hovered__1206707f .line{background-color:var(--cosmograph-size-legend-hover-color);cursor:pointer}:root{--cosmograph-color-legend-range-font-color: var(--cosmograph-ui-text);--cosmograph-color-legend-range-font-family: var(--cosmograph-ui-font-family);--cosmograph-color-legend-range-font-size: var(--cosmograph-ui-font-size);--cosmograph-color-legend-range-label-font-size: var(--cosmograph-ui-font-size);--cosmograph-color-legend-range-sublabel-font-size: 10px;--cosmograph-color-legend-range-hover-color: var(--cosmograph-ui-highlighted-element-color);--cosmograph-color-legend-range-gradient-height: 6px;--cosmograph-color-legend-range-gradient-radius: 8px;--cosmograph-color-legend-range-gradient-top-margin: 6px;--cosmograph-color-legend-hide-transform: translateY(100%);--cosmograph-color-legend-show-transform: translateX(0)}.style_module_container__05cc807d{display:flex;min-width:150px;min-height:25px;width:100%;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete}.style_module_legend__a3e235e4{width:100%;font-weight:300;letter-spacing:-.04em;display:flex;flex-direction:column;font-size:var(--cosmograph-color-legend-range-font-size);font-family:var(--cosmograph-color-legend-range-font-family);user-select:none;-webkit-user-select:none;pointer-events:none;cursor:default;text-align:center;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete;text-rendering:optimizelegibility;-webkit-font-smoothing:antialiased}.style_module_enabled__b3120e27{opacity:1;transform:var(--cosmograph-color-legend-show-transform);pointer-events:auto}.style_module_disabled__c2dc158c{opacity:0;transform:var(--cosmograph-color-legend-hide-transform);pointer-events:none;display:none}@starting-style{.style_module_container__05cc807d.style_module_enabled__b3120e27,.style_module_legend__a3e235e4.style_module_enabled__b3120e27{opacity:0;transform:var(--cosmograph-color-legend-hide-transform)}}.style_module_legend__a3e235e4 .legend-content{display:flex;align-items:end;justify-content:space-between}.style_module_hovered__dfd7bb2c .label,.style_module_hovered__dfd7bb2c .sublabel{color:var(--cosmograph-size-legend-hover-color)!important;cursor:pointer}.style_module_legend__a3e235e4 .extent{white-space:nowrap;transition:filter .1s ease-in-out,opacity .1s ease-in-out}.style_module_legend__a3e235e4 .gradient{width:100%;margin-top:var(--cosmograph-color-legend-range-gradient-top-margin);height:var(--cosmograph-color-legend-range-gradient-height);border-radius:var(--cosmograph-color-legend-range-gradient-radius)}.style_module_legend__a3e235e4 .legend-item{display:flex;align-items:center;margin-top:var(--cosmograph-color-legend-range-items-margin)}.style_module_legend__a3e235e4 .name{align-items:center;text-align:center;justify-content:space-around;display:flex;color:var(--cosmograph-color-legend-range-font-color);overflow:hidden;width:100%;word-break:break-word;text-wrap:balance;white-space:pre-line;transition:color .15s ease-in-out;margin:0 4px;letter-spacing:-.02em;line-height:1.25}.style_module_legend__a3e235e4 .label{color:var(--cosmograph-color-legend-range-font-color);overflow:hidden;max-width:150px;text-overflow:ellipsis;font-size:var(--cosmograph-color-legend-range-label-font-size);transition:color .15s ease-in-out;line-height:1;font-feature-settings:\"tnum\"}.style_module_legend__a3e235e4 .sublabel{padding-top:1px;color:var(--cosmograph-color-legend-range-font-color);opacity:.55;font-size:var(--cosmograph-color-legend-range-sublabel-font-size);line-height:1;transition:color .15s ease-in-out}:root{--cosmograph-color-legend-type-font-color: var(--cosmograph-ui-text);--cosmograph-color-legend-type-font-family: var(--cosmograph-ui-font-family);--cosmograph-color-legend-type-font-size: 11px;--cosmograph-color-legend-type-hover-color: var(--cosmograph-ui-highlighted-element-color);--cosmograph-color-legend-type-others-color: #bab0ab;--cosmograph-color-legend-type-bullet-size: 8px;--cosmograph-color-legend-type-bullet-radius: 1rem;--cosmograph-color-legend-type-items-margin: 4px;--cosmograph-color-legend-type-hide-transform: translateY(125%);--cosmograph-color-legend-type-show-transform: translateX(0)}.style_module_enabled__277b2403{opacity:1;transform:var(--cosmograph-color-legend-type-show-transform)}.style_module_disabled__7a587f96{opacity:0;transform:var(--cosmograph-color-legend-type-hide-transform);display:none!important}.style_module_wrapper__ea8ca7f4{position:relative;max-width:100%;width:fit-content;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete}.style_module_typeLegend__15bf4b2f{position:relative;width:fit-content;max-width:100%;min-height:25px;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete;font-weight:300;letter-spacing:-.015em;text-rendering:optimizelegibility;-webkit-font-smoothing:antialiased}.style_module_typeLegend__15bf4b2f .reverted{flex-direction:row-reverse}.style_module_typeLegend__15bf4b2f .scroll-container{width:100%;display:flex;flex-direction:column;position:relative;font-size:var(--cosmograph-color-legend-type-font-size);font-family:var(--cosmograph-color-legend-type-font-family);user-select:none;-webkit-user-select:none;line-height:normal;overflow-x:hidden;overflow-y:auto;will-change:transform}@starting-style{.style_module_typeLegend__15bf4b2f.style_module_enabled__277b2403,.style_module_wrapper__ea8ca7f4.style_module_enabled__277b2403{opacity:0;transform:var(--cosmograph-color-legend-type-hide-transform)}}.style_module_typeLegend__15bf4b2f .legend-item{display:flex;align-items:center;position:absolute;margin-bottom:var(--cosmograph-color-legend-type-items-margin);pointer-events:none;width:100%;padding-left:1px;font-weight:300;transition:filter .1s ease-in-out,opacity .1s ease-in-out;min-height:calc(var(--cosmograph-color-legend-type-bullet-size) + 2px + var(--cosmograph-color-legend-type-items-margin));height:calc(var(--cosmograph-color-legend-type-bullet-size) + 2px);box-sizing:border-box}.style_module_typeLegend__15bf4b2f .unknown{background-color:var(--cosmograph-color-legend-type-unknown-color)}.style_module_typeLegend__15bf4b2f .others{background-color:var(--cosmograph-color-legend-type-others-color)}.style_module_typeLegend__15bf4b2f .bullet{height:var(--cosmograph-color-legend-type-bullet-size);width:var(--cosmograph-color-legend-type-bullet-size);min-height:var(--cosmograph-color-legend-type-bullet-size);min-width:var(--cosmograph-color-legend-type-bullet-size);border-radius:var(--cosmograph-color-legend-type-bullet-radius);pointer-events:all;margin-right:5px}.style_module_typeLegend__15bf4b2f .label{color:var(--cosmograph-color-legend-type-font-color);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - var(--cosmograph-color-legend-type-bullet-size) - 5px);pointer-events:all;transition:.05s linear color}.style_module_typeLegend__15bf4b2f .legend-item.reverted>.bullet{margin-right:0}.style_module_typeLegend__15bf4b2f .legend-item.reverted>.label{margin-right:5px}.style_module_typeLegend__15bf4b2f .show-more{cursor:pointer;padding-top:4px;display:none;font-weight:300;color:var(--cosmograph-color-legend-type-font-color);font-size:11px;opacity:.6;pointer-events:all;justify-content:space-between;transition:opacity .1s linear;font-feature-settings:\"tnum\"}.style_module_typeLegend__15bf4b2f .show-more:hover{opacity:1}.style_module_hovered__c0993502 .label,.style_module_hovered__c0993502 .sublabel{color:var(--cosmograph-color-legend-type-hover-color)!important;cursor:pointer}.style_module_selected__36e1dd81{filter:brightness(1)}.style_module_selected__36e1dd81>.style_module_label__afecc7a3{filter:brightness(1.2)}.style_module_unselected__4826cfb7{filter:brightness(.5)}:root{--cosmograph-button-color: var(--cosmograph-ui-text);--cosmograph-button-background: var(--cosmograph-ui-element-color);--cosmograph-button-border-radius: 2px}.style_module_button__e95a1138{background:var(--cosmograph-button-background);color:var(--cosmograph-button-color);border-radius:var(--cosmograph-button-border-radius);display:none;align-items:center;justify-content:center;width:25px;height:25px;margin:3px;padding:5px;cursor:pointer;filter:brightness(.95) contrast(.9);transition:filter .1s}.style_module_button__e95a1138:hover{filter:brightness(1.2) contrast(1)}')),document.head.appendChild(t)}}catch(e){console.error(\"vite-plugin-css-injected-by-js\",e)}})();(function(){\"use strict\";try{if(typeof document<\"u\"){var t=document.createElement(\"style\");t.appendChild(document.createTextNode('@keyframes style_module_fadeIn__ffac87fd{0%{opacity:0}to{opacity:.2}}.style_module_displayState__6ae19b84{position:absolute;color:var(--cosmograph-ui-text);display:flex;justify-content:center;align-items:center;height:100%;width:100%;min-width:100px;opacity:.2;margin:auto;font-size:calc(var(--cosmograph-ui-font-size) + 1px);letter-spacing:-.02em;font-weight:200;user-select:none;-webkit-user-select:none;animation:style_module_fadeIn__ffac87fd .3s ease-in-out}:root{--cosmograph-timeline-selection-color: var(--cosmograph-ui-selection-control-color);--cosmograph-timeline-selection-opacity: .5;--cosmograph-timeline-bar-color: var(--cosmograph-ui-element-color);--cosmograph-timeline-highlighted-bar-color: var(--cosmograph-ui-highlighted-element-color);--cosmograph-timeline-font-family: var(--cosmograph-ui-font-family);--cosmograph-timeline-font-size: var(--cosmograph-ui-tick-font-size);--cosmograph-timeline-background: var(--cosmograph-ui-background);--cosmograph-timeline-text-color: var(--cosmograph-ui-text);--cosmograph-timeline-axis-color: var(--cosmograph-ui-text)}.style_module_timeline__736434f7{position:relative;display:flex;background:var(--cosmograph-timeline-background);width:100%;min-height:25px;overflow:hidden}.style_module_timelineSvg__b916ad04{position:relative;width:100%;height:100%}.style_module_selection__ebee57f8{fill:var(--cosmograph-timeline-selection-color);fill-opacity:var(--cosmograph-timeline-selection-opacity);stroke:none}.style_module_axisTick__5865631d{color:var(--cosmograph-timeline-axis-color);font:var(--cosmograph-timeline-font-family);font-size:var(--cosmograph-timeline-font-size);user-select:none;-webkit-user-select:none;opacity:1;font-weight:300;text-anchor:initial;font-feature-settings:\"tnum\";alignment-baseline:text-before-edge}.style_module_axisLine__992b502d{opacity:.2;color:var(--cosmograph-timeline-axis-color)}.style_module_bar__114fa79f{fill:var(--cosmograph-timeline-bar-color);transform:scaleY(-1);opacity:0}.style_module_animationControl__ee52cd66{color:var(--cosmograph-timeline-axis-color);width:6%;max-width:30px;min-width:20px;cursor:pointer;display:none;align-items:center;user-select:none;-webkit-user-select:none;opacity:.5;position:relative;justify-content:center}.style_module_animationControl__ee52cd66>svg{width:50%;max-height:20px;padding-right:2px}.style_module_hidden__a73fe81a{display:none}.style_module_disabled__eb988570{opacity:.2;pointer-events:none}.style_module_highlightedBar__c2fc9bdc{fill:var(--cosmograph-timeline-highlighted-bar-color);transform:scaleY(-1);pointer-events:none}:root{--cosmograph-search-font-family: var(--cosmograph-ui-font-family);--cosmograph-search-font-size: 14px;--cosmograph-search-list-font-size: 13.5px;--cosmograph-search-text-color: var(--cosmograph-ui-text);--cosmograph-search-background: transparent;--cosmograph-search-list-background: rgba(0, 0, 0, .2);--cosmograph-search-list-match-background: rgba(255, 255, 255, .2);--cosmograph-search-list-match-color: var(--cosmograph-ui-text)}.style_module_searchInput__d7830601:hover{filter:brightness(1.2) contrast(1)}.style_module_searchInput__d7830601{width:100%;background:transparent;color:var(--cosmograph-search-text-color);border:none;border-bottom:.5px solid var(--cosmograph-search-text-color);padding:4px 20px 5px 2px;font-family:var(--cosmograph-search-font-family);font-size:var(--cosmograph-search-font-size);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;transition:opacity .2s ease-out}.style_module_searchInput__d7830601::selection{background:var(--cosmograph-search-list-match-background)}.style_module_searchInput__d7830601:focus{outline:none}.style_module_searchSuggestions__b0d3f71e{color:#fff;width:100%;padding:0;margin:0;background:transparent;overflow-y:auto;flex:1;min-height:0}.style_module_searchSuggestions__b0d3f71e li{padding:5px 10px;cursor:pointer;-webkit-user-select:none;user-select:none;display:block;font-weight:500;font-size:var(--cosmograph-search-list-font-size);max-width:100%;overflow:hidden}.style_module_searchSuggestions__b0d3f71e li>div{white-space:nowrap;font-weight:200;overflow:hidden;text-overflow:ellipsis;width:100%}.style_module_searchSuggestions__b0d3f71e li:hover{background:#ffffff1a}.style_module_searchSuggestions__b0d3f71e mark{background:var(--cosmograph-search-list-match-background);color:var(--cosmograph-search-list-match-color);border-radius:2px}.style_module_clearButton__5ebb41de{position:absolute;right:0;top:0;height:100%;background:none;border:none;color:var(--cosmograph-search-text-color);font-weight:300;cursor:pointer;font-size:16px;padding:0 4px;opacity:0;display:flex;align-items:center;justify-content:center;transition:opacity .2s ease-out}.style_module_clearButton__5ebb41de.style_module_visible__5be7493d:hover{transition:opacity .1s ease-in-out;opacity:1}.style_module_clearButton__5ebb41de.style_module_visible__5be7493d{opacity:.7}.style_module_placeholderWrapper__72d5eb0e{z-index:1;color:var(--cosmograph-search-text-color);font-family:var(--cosmograph-search-font-family);font-size:var(--cosmograph-search-font-size);position:absolute;top:0;left:0;width:100%;bottom:0;display:flex;line-height:1.25;align-items:center;transition:transform .3s ease-out,opacity .3s ease-out}.style_module_placeholderWrapper__72d5eb0e.style_module_hidden__acfb8431{transform:translate(-30px);pointer-events:none;opacity:0}.style_module_searchInput__d7830601:disabled,.style_module_searchInput__d7830601.style_module_disabled__62c35dc5{opacity:.2;cursor:not-allowed;pointer-events:none}.style_module_disabled__62c35dc5 .style_module_clearButton__5ebb41de{display:none}.style_module_disabled__62c35dc5 .style_module_placeholderWrapper__72d5eb0e{opacity:.3;cursor:not-allowed}.style_module_searchInputWrapper__1edbcb22{position:relative;display:flex;width:100%}.style_module_noResults__363397c3{opacity:.3!important;cursor:default;font-weight:300!important;padding:6px!important;text-align:center;pointer-events:none}.style_module_noResults__363397c3:hover{background:none}.style_module_loading__296e0212{opacity:.7!important;cursor:default;font-weight:300!important;padding:6px!important;text-align:center;pointer-events:none;-webkit-user-select:none;user-select:none}.style_module_dropdownContainer__d98287da{position:absolute;top:100%;left:0;width:100%;background:var(--cosmograph-search-list-background);border-radius:4px;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);opacity:0;transform:translateY(-10px);transition:opacity .2s ease-out,transform .2s ease-out;pointer-events:none;overflow:hidden;z-index:10;display:flex;flex-direction:column;padding-bottom:2px}.style_module_dropdownContainer__d98287da.style_module_upwards__e0b4831b{top:auto;bottom:100%;transform:translateY(10px)}.style_module_dropdownContainer__d98287da.style_module_visible__5be7493d{opacity:1;transform:translateY(0);pointer-events:auto}.style_module_dropdownContainer__d98287da.style_module_upwards__e0b4831b.style_module_visible__5be7493d{opacity:1;transform:translateY(-2px);pointer-events:auto}.style_module_footerContainer__73e7a066{flex-shrink:0}:root{--cosmograph-scrollbar-background: rgba(255, 255, 255, .1);--cosmograph-ui-background: rgb(45, 49, 58);--cosmograph-ui-text: #ffffffc7;--cosmograph-ui-tick-font-size: 11px;--cosmograph-ui-font-size: 12px;--cosmograph-ui-font-family: inherit;--cosmograph-ui-element-color: #5C616A;--cosmograph-ui-highlighted-element-color: white;--cosmograph-ui-selection-control-color: #8d949ea8;-webkit-font-smoothing:antialiased!important;text-rendering:optimizeLegibility!important}.style_module_cosmograph-ui__5acb97f1{background:var(--cosmograph-ui-background);color:var(--cosmograph-ui-text)}.style_module_scrollbar__f1516254 *::-webkit-scrollbar{width:5px;height:5px;border-radius:.3rem}.style_module_scrollbar__f1516254 *::-webkit-scrollbar-track{border-radius:.3rem}.style_module_scrollbar__f1516254 *::-webkit-scrollbar-corner{background:none!important}.style_module_scrollbar__f1516254 *::-webkit-scrollbar-button{display:none!important}.style_module_scrollbar__f1516254 *::-webkit-scrollbar-thumb{background-color:var(--cosmograph-scrollbar-background);transition:background-color .5s;border-radius:20px;border:3px solid var(--cosmograph-scrollbar-background)}@-moz-document url-prefix(){.style_module_scrollbar__f1516254 *{scrollbar-width:thin;scrollbar-color:var(--cosmograph-scrollbar-background) transparent;scrollbar-track-color:transparent;scrollbar-face-color:var(--cosmograph-scrollbar-background)}}:root{--cosmograph-histogram-background: var(--cosmograph-ui-background);--cosmograph-histogram-text-color: var(--cosmograph-ui-text);--cosmograph-histogram-axis-color: var(--cosmograph-ui-text);--cosmograph-histogram-selection-color: var(--cosmograph-ui-selection-control-color);--cosmograph-histogram-selection-opacity: .5;--cosmograph-histogram-bar-color: var(--cosmograph-ui-element-color);--cosmograph-histogram-highlighted-bar-color: var( --cosmograph-ui-highlighted-element-color);--cosmograph-histogram-font-family: var(--cosmograph-ui-font-family);--cosmograph-histogram-font-size: var(--cosmograph-ui-tick-font-size)}.style_module_histogram__9d8a77ea{position:relative;display:flex;min-height:25px;background:var(--cosmograph-histogram-background);width:100%}.style_module_histogramSvg__ccccb628{position:relative;width:100%;height:100%}.style_module_selection__7db96137{fill:var(--cosmograph-histogram-selection-color);fill-opacity:var(--cosmograph-histogram-selection-opacity);stroke:none}.style_module_axisTick__898e1f39{color:var(--cosmograph-histogram-axis-color);font-family:var(--cosmograph-histogram-font-family);font-size:var(--cosmograph-histogram-font-size);user-select:none;-webkit-user-select:none;alignment-baseline:text-before-edge;opacity:1;font-weight:300;text-anchor:initial;font-feature-settings:\"tnum\"}.style_module_bar__3c9ab488{fill:var(--cosmograph-histogram-bar-color);transform:scaleY(-1)}.style_module_highlightedBar__b193a8de{fill:var(--cosmograph-histogram-highlighted-bar-color);transform:scaleY(-1);pointer-events:none}:root{--cosmograph-bars-font-color: var(--cosmograph-ui-text);--cosmograph-bars-font-family: var(--cosmograph-ui-font-family);--cosmograph-bars-font-size: var(--cosmograph-ui-font-size);--cosmograph-bars-ui-font-size: 11.5px;--cosmograph-bars-background: var(--cosmograph-ui-element-color);--cosmograph-bars-bar-height: 20px;--cosmograph-bars-bar-bottom-margin: 2px;--cosmograph-bars-highlighted-color: var( --cosmograph-ui-highlighted-element-color)}.style_module_bars__25497ded{position:relative;width:100%;min-height:100px;user-select:none;flex-direction:column;-webkit-user-select:none}.style_module_bars__25497ded .scroll-container{position:relative;width:100%;overflow-y:hidden;overflow-x:hidden}.style_module_bars__25497ded .bars-container{position:relative;width:calc(100% - 1px);font-family:var(--cosmograph-bars-font-family)}.style_module_bars__25497ded .highlighted-bars-container{position:absolute;top:0;left:0;pointer-events:none}.style_module_bars__25497ded .row{height:var(--cosmograph-bars-bar-height);display:flex;align-items:center;margin-bottom:var(--cosmograph-bars-bar-bottom-margin);width:100%;transition:opacity .1s linear,filter .1s linear}.style_module_bars__25497ded .row:hover{filter:brightness(1.15) contrast(1.05);transition:opacity .1s linear,filter .1s linear}.style_module_bars__25497ded .row.unselected:hover{filter:brightness(.95) contrast(1.15);transition:filter .05s linear}.style_module_bars__25497ded .unselected{opacity:.85;filter:brightness(.8) contrast(1.1)}.style_module_bars__25497ded .selected{filter:brightness(1.05) contrast(1.05)}.style_module_bars__25497ded .selected>.info>.label{font-weight:600;filter:brightness(1.1) contrast(1.05)}.style_module_bars__25497ded .unselected>.info>.label{font-weight:300}.style_module_bars__25497ded .bar{height:100%;background-color:var(--cosmograph-bars-background);opacity:.8;transition:opacity .3s ease,width .3s ease}.style_module_bars__25497ded .bar-highlighted{height:100%;background-color:var(--cosmograph-bars-highlighted-color);opacity:.2;transition:opacity .3s ease,width .3s ease}.style_module_bars__25497ded .info{display:flex;justify-content:space-between;width:100%;padding:0 4px;position:absolute;font-size:var(--cosmograph-bars-font-size);font-feature-settings:\"tnum\";color:var(--cosmograph-bars-font-color);gap:2px}.style_module_bars__25497ded .label{min-width:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;transition:opacity .05s linear}.style_module_bars__25497ded .count{flex-shrink:0;font-weight:300;opacity:.8;transition:opacity .05s linear}.style_module_bars__25497ded .show-more{cursor:pointer;padding-top:2px;display:flex;font-weight:300;color:var(--cosmograph-bars-font-color);font-size:11px;justify-content:space-between;opacity:.6;font-size:var(--cosmograph-bars-ui-font-size);pointer-events:none;transition:opacity .1s linear}.style_module_bars__25497ded .show-more:hover{opacity:1;text-decoration:underline;text-underline-offset:1.5px;text-decoration-thickness:.25px}.style_module_bars__25497ded .show-more>span{pointer-events:all}.style_module_bars__25497ded .show-more-count{padding-right:5px;pointer-events:all;font-feature-settings:\"tnum\"}.style_module_bars__25497ded .unselected>.info>.label,.style_module_bars__25497ded .unselected>.info>.count{opacity:.5}.style_module_bars__25497ded .unselected:hover>.info>.label,.style_module_bars__25497ded .unselected:hover>.info>.count{opacity:1}.style_module_bars__25497ded .search-input{background:transparent;border:none;border-bottom:1px solid rgba(255,255,255,.3);font-size:13px!important;color:var(--cosmograph-bars-font-color);line-height:1.5;padding:2px;width:100%;position:relative;transition:border-bottom-color .2s}.style_module_bars__25497ded .search-input::placeholder{color:var(--cosmograph-bars-font-color)!important;opacity:.4;font-weight:300;font-family:inherit}.style_module_bars__25497ded .search-container{position:relative;width:100%;margin-bottom:4px;display:none;z-index:1}.style_module_bars__25497ded .clear-button{position:absolute;right:0;top:50%;transform:translateY(-50%);background:none;border:none;cursor:pointer;color:var(--cosmograph-bars-font-color);font-weight:300;font-size:16px;padding:0 4px;opacity:0;display:flex;align-items:center;justify-content:center;transition:opacity .2s ease-out}.style_module_bars__25497ded .clear-button.visible:hover{transition:opacity .1s ease-in-out;opacity:1}.style_module_bars__25497ded .clear-button.visible{opacity:.7}.style_module_bars__25497ded .clear-button svg{width:10px;height:10px;fill:currentColor}.style_module_bars__25497ded .sorting-block{visibility:hidden;margin-top:1px;display:flex;justify-content:space-between}.style_module_bars__25497ded .buttons-container{margin-top:4px;font-size:var(--cosmograph-bars-ui-font-size);display:flex;gap:4px;line-height:1.25}.style_module_bars__25497ded .buttons-container>div{transition:opacity .05s linear,filter .05s linear;padding:1px 5px;background:var(--cosmograph-bars-background);border-radius:4px;opacity:.9;display:flex;cursor:pointer;align-items:center}.style_module_bars__25497ded .buttons-container>div:hover{filter:brightness(1.2)}.style_module_bars__25497ded .reset-text{transition:opacity .05s linear,filter .05s linear;display:flex;font-size:var(--cosmograph-bars-ui-font-size);align-items:end;padding-right:4px;cursor:pointer;font-weight:300}.style_module_bars__25497ded .reset-text:hover{text-decoration:underline;text-underline-offset:1.5px;text-decoration-thickness:.25px}.style_module_bars__25497ded .reset-text.unselected{pointer-events:none;cursor:default;opacity:.7}.style_module_bars__25497ded :scope.reset-text:hover:not(.unselected){filter:brightness(1.5);opacity:1}:root{--cosmograph-size-legend-form-color: var(--cosmograph-ui-text);--cosmograph-size-legend-font-color: var(--cosmograph-ui-text);--cosmograph-size-legend-font-family: inherit;--cosmograph-size-legend-font-size: var(--cosmograph-ui-font-size);--cosmograph-size-legend-sublabel-font-size: 10px;--cosmograph-size-legend-hover-color: var(--cosmograph-ui-highlighted-element-color);--cosmograph-size-legend-line-radius: 2px;--cosmograph-size-legend-line-width: 30px;--cosmograph-size-legend-hide-transform: translateY(100%);--cosmograph-size-legend-show-transform: translateX(0)}.style_module_container__d2889234{display:flex;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete;overflow:hidden;min-height:25px}.style_module_legend__75c167f2{width:auto;display:flex;flex-direction:column;position:relative;font-size:var(--cosmograph-size-legend-font-size);font-family:var(--cosmograph-size-legend-font-family);user-select:none;-webkit-user-select:none;cursor:default;text-align:center;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete;font-weight:300;letter-spacing:-.04em;text-rendering:optimizelegibility;-webkit-font-smoothing:antialiased}.style_module_enabled__91eae57a{opacity:1;transform:var(--cosmograph-size-legend-show-transform)}.style_module_disabled__d51f7a10{opacity:0;transform:var(--cosmograph-size-legend-hide-transform);pointer-events:none;display:none!important}@starting-style{.style_module_container__d2889234.style_module_enabled__91eae57a,.style_module_legend__75c167f2.style_module_enabled__91eae57a{opacity:0;transform:var(--cosmograph-size-legend-hide-transform)}}.style_module_legend__75c167f2 .legend-content>div:first-child:not(:only-child){margin-right:.75rem}.style_module_legend__75c167f2 .circle{background-color:var(--cosmograph-size-legend-form-color);border-radius:50%;transition:background-color .15s ease-in-out;display:inline-block}.style_module_legend__75c167f2 .line{background-color:var(--cosmograph-size-legend-form-color);border-radius:var(--cosmograph-size-legend-line-radius);width:var(--cosmograph-size-legend-line-width);transition:background-color .15s ease-in-out;display:inline-block}.style_module_legend__75c167f2.style_module_events__894316a8{pointer-events:auto;cursor:pointer}.style_module_legend__75c167f2 .legend-content{display:flex;align-items:end;justify-content:center}.style_module_legend__75c167f2 .legend-content>div{transition:filter .1s ease-in-out,opacity .1s ease-in-out}.style_module_legend__75c167f2 .labels-wrapper{white-space:nowrap}.style_module_legend__75c167f2 .legend-item{display:flex;align-items:center;margin-top:var(--cosmograph-size-legend-items-margin)}.style_module_legend__75c167f2 .name{align-items:center;text-align:center;justify-content:center;display:flex;color:var(--cosmograph-size-legend-font-color);overflow:hidden;width:100%;margin-top:3px;word-break:break-all;white-space:pre-line;transition:color .15s ease-in-out;letter-spacing:-.02em}.style_module_legend__75c167f2 .label{color:var(--cosmograph-size-legend-font-color);overflow:hidden;transition:color .15s ease-in-out;text-overflow:ellipsis;font-feature-settings:\"tnum\"}.style_module_legend__75c167f2 .sublabel{padding-top:1px;font-size:var(--cosmograph-size-legend-sublabel-font-size);opacity:.5;line-height:1;min-width:10px;transition:color .15s ease-in-out}.style_module_hovered__1206707f .label,.style_module_hovered__1206707f .sublabel{color:var(--cosmograph-size-legend-hover-color);cursor:pointer}.style_module_hovered__1206707f .circle,.style_module_hovered__1206707f .line{background-color:var(--cosmograph-size-legend-hover-color);cursor:pointer}:root{--cosmograph-color-legend-range-font-color: var(--cosmograph-ui-text);--cosmograph-color-legend-range-font-family: var(--cosmograph-ui-font-family);--cosmograph-color-legend-range-font-size: var(--cosmograph-ui-font-size);--cosmograph-color-legend-range-label-font-size: var(--cosmograph-ui-font-size);--cosmograph-color-legend-range-sublabel-font-size: 10px;--cosmograph-color-legend-range-hover-color: var(--cosmograph-ui-highlighted-element-color);--cosmograph-color-legend-range-gradient-height: 6px;--cosmograph-color-legend-range-gradient-radius: 8px;--cosmograph-color-legend-range-gradient-top-margin: 6px;--cosmograph-color-legend-hide-transform: translateY(100%);--cosmograph-color-legend-show-transform: translateX(0)}.style_module_container__05cc807d{display:flex;min-width:150px;min-height:25px;width:100%;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete}.style_module_legend__a3e235e4{width:100%;font-weight:300;letter-spacing:-.04em;display:flex;flex-direction:column;font-size:var(--cosmograph-color-legend-range-font-size);font-family:var(--cosmograph-color-legend-range-font-family);user-select:none;-webkit-user-select:none;pointer-events:none;cursor:default;text-align:center;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete;text-rendering:optimizelegibility;-webkit-font-smoothing:antialiased}.style_module_enabled__b3120e27{opacity:1;transform:var(--cosmograph-color-legend-show-transform);pointer-events:auto}.style_module_disabled__c2dc158c{opacity:0;transform:var(--cosmograph-color-legend-hide-transform);pointer-events:none;display:none}@starting-style{.style_module_container__05cc807d.style_module_enabled__b3120e27,.style_module_legend__a3e235e4.style_module_enabled__b3120e27{opacity:0;transform:var(--cosmograph-color-legend-hide-transform)}}.style_module_legend__a3e235e4 .legend-content{display:flex;align-items:end;justify-content:space-between}.style_module_hovered__dfd7bb2c .label,.style_module_hovered__dfd7bb2c .sublabel{color:var(--cosmograph-size-legend-hover-color)!important;cursor:pointer}.style_module_legend__a3e235e4 .extent{white-space:nowrap;transition:filter .1s ease-in-out,opacity .1s ease-in-out}.style_module_legend__a3e235e4 .gradient{width:100%;margin-top:var(--cosmograph-color-legend-range-gradient-top-margin);height:var(--cosmograph-color-legend-range-gradient-height);border-radius:var(--cosmograph-color-legend-range-gradient-radius)}.style_module_legend__a3e235e4 .legend-item{display:flex;align-items:center;margin-top:var(--cosmograph-color-legend-range-items-margin)}.style_module_legend__a3e235e4 .name{align-items:center;text-align:center;justify-content:space-around;display:flex;color:var(--cosmograph-color-legend-range-font-color);overflow:hidden;width:100%;word-break:break-word;text-wrap:balance;white-space:pre-line;transition:color .15s ease-in-out;margin:0 4px;letter-spacing:-.02em;line-height:1.25}.style_module_legend__a3e235e4 .label{color:var(--cosmograph-color-legend-range-font-color);overflow:hidden;max-width:150px;text-overflow:ellipsis;font-size:var(--cosmograph-color-legend-range-label-font-size);transition:color .15s ease-in-out;line-height:1;font-feature-settings:\"tnum\"}.style_module_legend__a3e235e4 .sublabel{padding-top:1px;color:var(--cosmograph-color-legend-range-font-color);opacity:.55;font-size:var(--cosmograph-color-legend-range-sublabel-font-size);line-height:1;transition:color .15s ease-in-out}:root{--cosmograph-color-legend-type-font-color: var(--cosmograph-ui-text);--cosmograph-color-legend-type-font-family: var(--cosmograph-ui-font-family);--cosmograph-color-legend-type-font-size: 11px;--cosmograph-color-legend-type-hover-color: var(--cosmograph-ui-highlighted-element-color);--cosmograph-color-legend-type-others-color: #bab0ab;--cosmograph-color-legend-type-bullet-size: 8px;--cosmograph-color-legend-type-bullet-radius: 1rem;--cosmograph-color-legend-type-items-margin: 4px;--cosmograph-color-legend-type-hide-transform: translateY(125%);--cosmograph-color-legend-type-show-transform: translateX(0)}.style_module_enabled__277b2403{opacity:1;transform:var(--cosmograph-color-legend-type-show-transform)}.style_module_disabled__7a587f96{opacity:0;transform:var(--cosmograph-color-legend-type-hide-transform);display:none!important}.style_module_wrapper__ea8ca7f4{position:relative;max-width:100%;width:fit-content;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete}.style_module_typeLegend__15bf4b2f{position:relative;width:fit-content;max-width:100%;min-height:25px;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete;font-weight:300;letter-spacing:-.015em;text-rendering:optimizelegibility;-webkit-font-smoothing:antialiased}.style_module_typeLegend__15bf4b2f .reverted{flex-direction:row-reverse}.style_module_typeLegend__15bf4b2f .scroll-container{width:100%;display:flex;flex-direction:column;position:relative;font-size:var(--cosmograph-color-legend-type-font-size);font-family:var(--cosmograph-color-legend-type-font-family);user-select:none;-webkit-user-select:none;line-height:normal;overflow-x:hidden;overflow-y:auto;will-change:transform}@starting-style{.style_module_typeLegend__15bf4b2f.style_module_enabled__277b2403,.style_module_wrapper__ea8ca7f4.style_module_enabled__277b2403{opacity:0;transform:var(--cosmograph-color-legend-type-hide-transform)}}.style_module_typeLegend__15bf4b2f .legend-item{display:flex;align-items:center;position:absolute;margin-bottom:var(--cosmograph-color-legend-type-items-margin);pointer-events:none;width:100%;padding-left:1px;font-weight:300;transition:filter .1s ease-in-out,opacity .1s ease-in-out;min-height:calc(var(--cosmograph-color-legend-type-bullet-size) + 2px + var(--cosmograph-color-legend-type-items-margin));height:calc(var(--cosmograph-color-legend-type-bullet-size) + 2px);box-sizing:border-box}.style_module_typeLegend__15bf4b2f .unknown{background-color:var(--cosmograph-color-legend-type-unknown-color)}.style_module_typeLegend__15bf4b2f .others{background-color:var(--cosmograph-color-legend-type-others-color)}.style_module_typeLegend__15bf4b2f .bullet{height:var(--cosmograph-color-legend-type-bullet-size);width:var(--cosmograph-color-legend-type-bullet-size);min-height:var(--cosmograph-color-legend-type-bullet-size);min-width:var(--cosmograph-color-legend-type-bullet-size);border-radius:var(--cosmograph-color-legend-type-bullet-radius);pointer-events:all;margin-right:5px}.style_module_typeLegend__15bf4b2f .label{color:var(--cosmograph-color-legend-type-font-color);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - var(--cosmograph-color-legend-type-bullet-size) - 5px);pointer-events:all;transition:.05s linear color}.style_module_typeLegend__15bf4b2f .legend-item.reverted>.bullet{margin-right:0}.style_module_typeLegend__15bf4b2f .legend-item.reverted>.label{margin-right:5px}.style_module_typeLegend__15bf4b2f .show-more{cursor:pointer;padding-top:4px;display:none;font-weight:300;color:var(--cosmograph-color-legend-type-font-color);font-size:11px;opacity:.6;pointer-events:all;justify-content:space-between;transition:opacity .1s linear;font-feature-settings:\"tnum\"}.style_module_typeLegend__15bf4b2f .show-more:hover{opacity:1}.style_module_hovered__c0993502 .label,.style_module_hovered__c0993502 .sublabel{color:var(--cosmograph-color-legend-type-hover-color)!important;cursor:pointer}.style_module_selected__36e1dd81{filter:brightness(1)}.style_module_selected__36e1dd81>.style_module_label__afecc7a3{filter:brightness(1.2)}.style_module_unselected__4826cfb7{filter:brightness(.5)}:root{--cosmograph-button-color: var(--cosmograph-ui-text);--cosmograph-button-background: var(--cosmograph-ui-element-color);--cosmograph-button-border-radius: 2px}.style_module_button__e95a1138{background:var(--cosmograph-button-background);color:var(--cosmograph-button-color);border-radius:var(--cosmograph-button-border-radius);display:none;align-items:center;justify-content:center;width:25px;height:25px;margin:3px;padding:5px;cursor:pointer;filter:brightness(.95) contrast(.9);transition:filter .1s}.style_module_button__e95a1138:hover{filter:brightness(1.2) contrast(1)}')),document.head.appendChild(t)}}catch(e){console.error(\"vite-plugin-css-injected-by-js\",e)}})();(function(){\"use strict\";try{if(typeof document<\"u\"){var t=document.createElement(\"style\");t.appendChild(document.createTextNode('@keyframes style_module_fadeIn__ffac87fd{0%{opacity:0}to{opacity:.2}}.style_module_displayState__6ae19b84{position:absolute;color:var(--cosmograph-ui-text);display:flex;justify-content:center;align-items:center;height:100%;width:100%;min-width:100px;opacity:.2;margin:auto;font-size:calc(var(--cosmograph-ui-font-size) + 1px);letter-spacing:-.02em;font-weight:200;user-select:none;-webkit-user-select:none;animation:style_module_fadeIn__ffac87fd .3s ease-in-out}:root{--cosmograph-timeline-selection-color: var(--cosmograph-ui-selection-control-color);--cosmograph-timeline-selection-opacity: .5;--cosmograph-timeline-bar-color: var(--cosmograph-ui-element-color);--cosmograph-timeline-highlighted-bar-color: var(--cosmograph-ui-highlighted-element-color);--cosmograph-timeline-font-family: var(--cosmograph-ui-font-family);--cosmograph-timeline-font-size: var(--cosmograph-ui-tick-font-size);--cosmograph-timeline-background: var(--cosmograph-ui-background);--cosmograph-timeline-text-color: var(--cosmograph-ui-text);--cosmograph-timeline-axis-color: var(--cosmograph-ui-text)}.style_module_timeline__736434f7{position:relative;display:flex;background:var(--cosmograph-timeline-background);width:100%;min-height:25px;overflow:hidden}.style_module_timelineSvg__b916ad04{position:relative;width:100%;height:100%}.style_module_selection__ebee57f8{fill:var(--cosmograph-timeline-selection-color);fill-opacity:var(--cosmograph-timeline-selection-opacity);stroke:none}.style_module_axisTick__5865631d{color:var(--cosmograph-timeline-axis-color);font:var(--cosmograph-timeline-font-family);font-size:var(--cosmograph-timeline-font-size);user-select:none;-webkit-user-select:none;opacity:1;font-weight:300;text-anchor:initial;font-feature-settings:\"tnum\";alignment-baseline:text-before-edge}.style_module_axisLine__992b502d{opacity:.2;color:var(--cosmograph-timeline-axis-color)}.style_module_bar__114fa79f{fill:var(--cosmograph-timeline-bar-color);transform:scaleY(-1);opacity:0}.style_module_animationControl__ee52cd66{color:var(--cosmograph-timeline-axis-color);width:6%;max-width:30px;min-width:20px;cursor:pointer;display:none;align-items:center;user-select:none;-webkit-user-select:none;opacity:.5;position:relative;justify-content:center}.style_module_animationControl__ee52cd66>svg{width:50%;max-height:20px;padding-right:2px}.style_module_hidden__a73fe81a{display:none}.style_module_disabled__eb988570{opacity:.2;pointer-events:none}.style_module_highlightedBar__c2fc9bdc{fill:var(--cosmograph-timeline-highlighted-bar-color);transform:scaleY(-1);pointer-events:none}:root{--cosmograph-search-font-family: var(--cosmograph-ui-font-family);--cosmograph-search-font-size: 14px;--cosmograph-search-list-font-size: 13.5px;--cosmograph-search-text-color: var(--cosmograph-ui-text);--cosmograph-search-background: transparent;--cosmograph-search-list-background: rgba(0, 0, 0, .2);--cosmograph-search-list-match-background: rgba(255, 255, 255, .2);--cosmograph-search-list-match-color: var(--cosmograph-ui-text)}.style_module_searchInput__d7830601:hover{filter:brightness(1.2) contrast(1)}.style_module_searchInput__d7830601{width:100%;background:transparent;color:var(--cosmograph-search-text-color);border:none;border-bottom:.5px solid var(--cosmograph-search-text-color);padding:4px 20px 5px 2px;font-family:var(--cosmograph-search-font-family);font-size:var(--cosmograph-search-font-size);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;transition:opacity .2s ease-out}.style_module_searchInput__d7830601::selection{background:var(--cosmograph-search-list-match-background)}.style_module_searchInput__d7830601:focus{outline:none}.style_module_searchSuggestions__b0d3f71e{color:#fff;width:100%;padding:0;margin:0;background:transparent;overflow-y:auto;flex:1;min-height:0}.style_module_searchSuggestions__b0d3f71e li{padding:5px 10px;cursor:pointer;-webkit-user-select:none;user-select:none;display:block;font-weight:500;font-size:var(--cosmograph-search-list-font-size);max-width:100%;overflow:hidden}.style_module_searchSuggestions__b0d3f71e li>div{white-space:nowrap;font-weight:200;overflow:hidden;text-overflow:ellipsis;width:100%}.style_module_searchSuggestions__b0d3f71e li:hover{background:#ffffff1a}.style_module_searchSuggestions__b0d3f71e mark{background:var(--cosmograph-search-list-match-background);color:var(--cosmograph-search-list-match-color);border-radius:2px}.style_module_clearButton__5ebb41de{position:absolute;right:0;top:0;height:100%;background:none;border:none;color:var(--cosmograph-search-text-color);font-weight:300;cursor:pointer;font-size:16px;padding:0 4px;opacity:0;display:flex;align-items:center;justify-content:center;transition:opacity .2s ease-out}.style_module_clearButton__5ebb41de.style_module_visible__5be7493d:hover{transition:opacity .1s ease-in-out;opacity:1}.style_module_clearButton__5ebb41de.style_module_visible__5be7493d{opacity:.7}.style_module_placeholderWrapper__72d5eb0e{z-index:1;color:var(--cosmograph-search-text-color);font-family:var(--cosmograph-search-font-family);font-size:var(--cosmograph-search-font-size);position:absolute;top:0;left:0;width:100%;bottom:0;display:flex;line-height:1.25;align-items:center;transition:transform .3s ease-out,opacity .3s ease-out}.style_module_placeholderWrapper__72d5eb0e.style_module_hidden__acfb8431{transform:translate(-30px);pointer-events:none;opacity:0}.style_module_searchInput__d7830601:disabled,.style_module_searchInput__d7830601.style_module_disabled__62c35dc5{opacity:.2;cursor:not-allowed;pointer-events:none}.style_module_disabled__62c35dc5 .style_module_clearButton__5ebb41de{display:none}.style_module_disabled__62c35dc5 .style_module_placeholderWrapper__72d5eb0e{opacity:.3;cursor:not-allowed}.style_module_searchInputWrapper__1edbcb22{position:relative;display:flex;width:100%}.style_module_noResults__363397c3{opacity:.3!important;cursor:default;font-weight:300!important;padding:6px!important;text-align:center;pointer-events:none}.style_module_noResults__363397c3:hover{background:none}.style_module_loading__296e0212{opacity:.7!important;cursor:default;font-weight:300!important;padding:6px!important;text-align:center;pointer-events:none;-webkit-user-select:none;user-select:none}.style_module_dropdownContainer__d98287da{position:absolute;top:100%;left:0;width:100%;background:var(--cosmograph-search-list-background);border-radius:4px;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);opacity:0;transform:translateY(-10px);transition:opacity .2s ease-out,transform .2s ease-out;pointer-events:none;overflow:hidden;z-index:10;display:flex;flex-direction:column;padding-bottom:2px}.style_module_dropdownContainer__d98287da.style_module_upwards__e0b4831b{top:auto;bottom:100%;transform:translateY(10px)}.style_module_dropdownContainer__d98287da.style_module_visible__5be7493d{opacity:1;transform:translateY(0);pointer-events:auto}.style_module_dropdownContainer__d98287da.style_module_upwards__e0b4831b.style_module_visible__5be7493d{opacity:1;transform:translateY(-2px);pointer-events:auto}.style_module_footerContainer__73e7a066{flex-shrink:0}:root{--cosmograph-scrollbar-background: rgba(255, 255, 255, .1);--cosmograph-ui-background: rgb(45, 49, 58);--cosmograph-ui-text: #ffffffc7;--cosmograph-ui-tick-font-size: 11px;--cosmograph-ui-font-size: 12px;--cosmograph-ui-font-family: inherit;--cosmograph-ui-element-color: #5C616A;--cosmograph-ui-highlighted-element-color: white;--cosmograph-ui-selection-control-color: #8d949ea8;-webkit-font-smoothing:antialiased!important;text-rendering:optimizeLegibility!important}.style_module_cosmograph-ui__5acb97f1{background:var(--cosmograph-ui-background);color:var(--cosmograph-ui-text)}.style_module_scrollbar__f1516254 *::-webkit-scrollbar{width:5px;height:5px;border-radius:.3rem}.style_module_scrollbar__f1516254 *::-webkit-scrollbar-track{border-radius:.3rem}.style_module_scrollbar__f1516254 *::-webkit-scrollbar-corner{background:none!important}.style_module_scrollbar__f1516254 *::-webkit-scrollbar-button{display:none!important}.style_module_scrollbar__f1516254 *::-webkit-scrollbar-thumb{background-color:var(--cosmograph-scrollbar-background);transition:background-color .5s;border-radius:20px;border:3px solid var(--cosmograph-scrollbar-background)}@-moz-document url-prefix(){.style_module_scrollbar__f1516254 *{scrollbar-width:thin;scrollbar-color:var(--cosmograph-scrollbar-background) transparent;scrollbar-track-color:transparent;scrollbar-face-color:var(--cosmograph-scrollbar-background)}}:root{--cosmograph-histogram-background: var(--cosmograph-ui-background);--cosmograph-histogram-text-color: var(--cosmograph-ui-text);--cosmograph-histogram-axis-color: var(--cosmograph-ui-text);--cosmograph-histogram-selection-color: var(--cosmograph-ui-selection-control-color);--cosmograph-histogram-selection-opacity: .5;--cosmograph-histogram-bar-color: var(--cosmograph-ui-element-color);--cosmograph-histogram-highlighted-bar-color: var( --cosmograph-ui-highlighted-element-color);--cosmograph-histogram-font-family: var(--cosmograph-ui-font-family);--cosmograph-histogram-font-size: var(--cosmograph-ui-tick-font-size)}.style_module_histogram__9d8a77ea{position:relative;display:flex;min-height:25px;background:var(--cosmograph-histogram-background);width:100%}.style_module_histogramSvg__ccccb628{position:relative;width:100%;height:100%}.style_module_selection__7db96137{fill:var(--cosmograph-histogram-selection-color);fill-opacity:var(--cosmograph-histogram-selection-opacity);stroke:none}.style_module_axisTick__898e1f39{color:var(--cosmograph-histogram-axis-color);font-family:var(--cosmograph-histogram-font-family);font-size:var(--cosmograph-histogram-font-size);user-select:none;-webkit-user-select:none;alignment-baseline:text-before-edge;opacity:1;font-weight:300;text-anchor:initial;font-feature-settings:\"tnum\"}.style_module_bar__3c9ab488{fill:var(--cosmograph-histogram-bar-color);transform:scaleY(-1)}.style_module_highlightedBar__b193a8de{fill:var(--cosmograph-histogram-highlighted-bar-color);transform:scaleY(-1);pointer-events:none}:root{--cosmograph-bars-font-color: var(--cosmograph-ui-text);--cosmograph-bars-font-family: var(--cosmograph-ui-font-family);--cosmograph-bars-font-size: var(--cosmograph-ui-font-size);--cosmograph-bars-ui-font-size: 11.5px;--cosmograph-bars-background: var(--cosmograph-ui-element-color);--cosmograph-bars-bar-height: 20px;--cosmograph-bars-bar-bottom-margin: 2px;--cosmograph-bars-highlighted-color: var( --cosmograph-ui-highlighted-element-color)}.style_module_bars__25497ded{position:relative;width:100%;min-height:100px;user-select:none;flex-direction:column;-webkit-user-select:none}.style_module_bars__25497ded .scroll-container{position:relative;width:100%;overflow-y:hidden;overflow-x:hidden}.style_module_bars__25497ded .bars-container{position:relative;width:calc(100% - 1px);font-family:var(--cosmograph-bars-font-family)}.style_module_bars__25497ded .highlighted-bars-container{position:absolute;top:0;left:0;pointer-events:none}.style_module_bars__25497ded .row{height:var(--cosmograph-bars-bar-height);display:flex;align-items:center;margin-bottom:var(--cosmograph-bars-bar-bottom-margin);width:100%;transition:opacity .1s linear,filter .1s linear}.style_module_bars__25497ded .row:hover{filter:brightness(1.15) contrast(1.05);transition:opacity .1s linear,filter .1s linear}.style_module_bars__25497ded .row.unselected:hover{filter:brightness(.95) contrast(1.15);transition:filter .05s linear}.style_module_bars__25497ded .unselected{opacity:.85;filter:brightness(.8) contrast(1.1)}.style_module_bars__25497ded .selected{filter:brightness(1.05) contrast(1.05)}.style_module_bars__25497ded .selected>.info>.label{font-weight:600;filter:brightness(1.1) contrast(1.05)}.style_module_bars__25497ded .unselected>.info>.label{font-weight:300}.style_module_bars__25497ded .bar{height:100%;background-color:var(--cosmograph-bars-background);opacity:.8;transition:opacity .3s ease,width .3s ease}.style_module_bars__25497ded .bar-highlighted{height:100%;background-color:var(--cosmograph-bars-highlighted-color);opacity:.2;transition:opacity .3s ease,width .3s ease}.style_module_bars__25497ded .info{display:flex;justify-content:space-between;width:100%;padding:0 4px;position:absolute;font-size:var(--cosmograph-bars-font-size);font-feature-settings:\"tnum\";color:var(--cosmograph-bars-font-color);gap:2px}.style_module_bars__25497ded .label{min-width:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;transition:opacity .05s linear}.style_module_bars__25497ded .count{flex-shrink:0;font-weight:300;opacity:.8;transition:opacity .05s linear}.style_module_bars__25497ded .show-more{cursor:pointer;padding-top:2px;display:flex;font-weight:300;color:var(--cosmograph-bars-font-color);font-size:11px;justify-content:space-between;opacity:.6;font-size:var(--cosmograph-bars-ui-font-size);pointer-events:none;transition:opacity .1s linear}.style_module_bars__25497ded .show-more:hover{opacity:1;text-decoration:underline;text-underline-offset:1.5px;text-decoration-thickness:.25px}.style_module_bars__25497ded .show-more>span{pointer-events:all}.style_module_bars__25497ded .show-more-count{padding-right:5px;pointer-events:all;font-feature-settings:\"tnum\"}.style_module_bars__25497ded .unselected>.info>.label,.style_module_bars__25497ded .unselected>.info>.count{opacity:.5}.style_module_bars__25497ded .unselected:hover>.info>.label,.style_module_bars__25497ded .unselected:hover>.info>.count{opacity:1}.style_module_bars__25497ded .search-input{background:transparent;border:none;border-bottom:1px solid rgba(255,255,255,.3);font-size:13px!important;color:var(--cosmograph-bars-font-color);line-height:1.5;padding:2px;width:100%;position:relative;transition:border-bottom-color .2s}.style_module_bars__25497ded .search-input::placeholder{color:var(--cosmograph-bars-font-color)!important;opacity:.4;font-weight:300;font-family:inherit}.style_module_bars__25497ded .search-container{position:relative;width:100%;margin-bottom:4px;display:none;z-index:1}.style_module_bars__25497ded .clear-button{position:absolute;right:0;top:50%;transform:translateY(-50%);background:none;border:none;cursor:pointer;color:var(--cosmograph-bars-font-color);font-weight:300;font-size:16px;padding:0 4px;opacity:0;display:flex;align-items:center;justify-content:center;transition:opacity .2s ease-out}.style_module_bars__25497ded .clear-button.visible:hover{transition:opacity .1s ease-in-out;opacity:1}.style_module_bars__25497ded .clear-button.visible{opacity:.7}.style_module_bars__25497ded .clear-button svg{width:10px;height:10px;fill:currentColor}.style_module_bars__25497ded .sorting-block{visibility:hidden;margin-top:1px;display:flex;justify-content:space-between}.style_module_bars__25497ded .buttons-container{margin-top:4px;font-size:var(--cosmograph-bars-ui-font-size);display:flex;gap:4px;line-height:1.25}.style_module_bars__25497ded .buttons-container>div{transition:opacity .05s linear,filter .05s linear;padding:1px 5px;background:var(--cosmograph-bars-background);border-radius:4px;opacity:.9;display:flex;cursor:pointer;align-items:center}.style_module_bars__25497ded .buttons-container>div:hover{filter:brightness(1.2)}.style_module_bars__25497ded .reset-text{transition:opacity .05s linear,filter .05s linear;display:flex;font-size:var(--cosmograph-bars-ui-font-size);align-items:end;padding-right:4px;cursor:pointer;font-weight:300}.style_module_bars__25497ded .reset-text:hover{text-decoration:underline;text-underline-offset:1.5px;text-decoration-thickness:.25px}.style_module_bars__25497ded .reset-text.unselected{pointer-events:none;cursor:default;opacity:.7}.style_module_bars__25497ded :scope.reset-text:hover:not(.unselected){filter:brightness(1.5);opacity:1}:root{--cosmograph-size-legend-form-color: var(--cosmograph-ui-text);--cosmograph-size-legend-font-color: var(--cosmograph-ui-text);--cosmograph-size-legend-font-family: inherit;--cosmograph-size-legend-font-size: var(--cosmograph-ui-font-size);--cosmograph-size-legend-sublabel-font-size: 10px;--cosmograph-size-legend-hover-color: var(--cosmograph-ui-highlighted-element-color);--cosmograph-size-legend-line-radius: 2px;--cosmograph-size-legend-line-width: 30px;--cosmograph-size-legend-hide-transform: translateY(100%);--cosmograph-size-legend-show-transform: translateX(0)}.style_module_container__d2889234{display:flex;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete;overflow:hidden;min-height:25px}.style_module_legend__75c167f2{width:auto;display:flex;flex-direction:column;position:relative;font-size:var(--cosmograph-size-legend-font-size);font-family:var(--cosmograph-size-legend-font-family);user-select:none;-webkit-user-select:none;cursor:default;text-align:center;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete;font-weight:300;letter-spacing:-.04em;text-rendering:optimizelegibility;-webkit-font-smoothing:antialiased}.style_module_enabled__91eae57a{opacity:1;transform:var(--cosmograph-size-legend-show-transform)}.style_module_disabled__d51f7a10{opacity:0;transform:var(--cosmograph-size-legend-hide-transform);pointer-events:none;display:none!important}@starting-style{.style_module_container__d2889234.style_module_enabled__91eae57a,.style_module_legend__75c167f2.style_module_enabled__91eae57a{opacity:0;transform:var(--cosmograph-size-legend-hide-transform)}}.style_module_legend__75c167f2 .legend-content>div:first-child:not(:only-child){margin-right:.75rem}.style_module_legend__75c167f2 .circle{background-color:var(--cosmograph-size-legend-form-color);border-radius:50%;transition:background-color .15s ease-in-out;display:inline-block}.style_module_legend__75c167f2 .line{background-color:var(--cosmograph-size-legend-form-color);border-radius:var(--cosmograph-size-legend-line-radius);width:var(--cosmograph-size-legend-line-width);transition:background-color .15s ease-in-out;display:inline-block}.style_module_legend__75c167f2.style_module_events__894316a8{pointer-events:auto;cursor:pointer}.style_module_legend__75c167f2 .legend-content{display:flex;align-items:end;justify-content:center}.style_module_legend__75c167f2 .legend-content>div{transition:filter .1s ease-in-out,opacity .1s ease-in-out}.style_module_legend__75c167f2 .labels-wrapper{white-space:nowrap}.style_module_legend__75c167f2 .legend-item{display:flex;align-items:center;margin-top:var(--cosmograph-size-legend-items-margin)}.style_module_legend__75c167f2 .name{align-items:center;text-align:center;justify-content:center;display:flex;color:var(--cosmograph-size-legend-font-color);overflow:hidden;width:100%;margin-top:3px;word-break:break-all;white-space:pre-line;transition:color .15s ease-in-out;letter-spacing:-.02em}.style_module_legend__75c167f2 .label{color:var(--cosmograph-size-legend-font-color);overflow:hidden;transition:color .15s ease-in-out;text-overflow:ellipsis;font-feature-settings:\"tnum\"}.style_module_legend__75c167f2 .sublabel{padding-top:1px;font-size:var(--cosmograph-size-legend-sublabel-font-size);opacity:.5;line-height:1;min-width:10px;transition:color .15s ease-in-out}.style_module_hovered__1206707f .label,.style_module_hovered__1206707f .sublabel{color:var(--cosmograph-size-legend-hover-color);cursor:pointer}.style_module_hovered__1206707f .circle,.style_module_hovered__1206707f .line{background-color:var(--cosmograph-size-legend-hover-color);cursor:pointer}:root{--cosmograph-color-legend-range-font-color: var(--cosmograph-ui-text);--cosmograph-color-legend-range-font-family: var(--cosmograph-ui-font-family);--cosmograph-color-legend-range-font-size: var(--cosmograph-ui-font-size);--cosmograph-color-legend-range-label-font-size: var(--cosmograph-ui-font-size);--cosmograph-color-legend-range-sublabel-font-size: 10px;--cosmograph-color-legend-range-hover-color: var(--cosmograph-ui-highlighted-element-color);--cosmograph-color-legend-range-gradient-height: 6px;--cosmograph-color-legend-range-gradient-radius: 8px;--cosmograph-color-legend-range-gradient-top-margin: 6px;--cosmograph-color-legend-hide-transform: translateY(100%);--cosmograph-color-legend-show-transform: translateX(0)}.style_module_container__05cc807d{display:flex;min-width:150px;min-height:25px;width:100%;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete}.style_module_legend__a3e235e4{width:100%;font-weight:300;letter-spacing:-.04em;display:flex;flex-direction:column;font-size:var(--cosmograph-color-legend-range-font-size);font-family:var(--cosmograph-color-legend-range-font-family);user-select:none;-webkit-user-select:none;pointer-events:none;cursor:default;text-align:center;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete;text-rendering:optimizelegibility;-webkit-font-smoothing:antialiased}.style_module_enabled__b3120e27{opacity:1;transform:var(--cosmograph-color-legend-show-transform);pointer-events:auto}.style_module_disabled__c2dc158c{opacity:0;transform:var(--cosmograph-color-legend-hide-transform);pointer-events:none;display:none}@starting-style{.style_module_container__05cc807d.style_module_enabled__b3120e27,.style_module_legend__a3e235e4.style_module_enabled__b3120e27{opacity:0;transform:var(--cosmograph-color-legend-hide-transform)}}.style_module_legend__a3e235e4 .legend-content{display:flex;align-items:end;justify-content:space-between}.style_module_hovered__dfd7bb2c .label,.style_module_hovered__dfd7bb2c .sublabel{color:var(--cosmograph-size-legend-hover-color)!important;cursor:pointer}.style_module_legend__a3e235e4 .extent{white-space:nowrap;transition:filter .1s ease-in-out,opacity .1s ease-in-out}.style_module_legend__a3e235e4 .gradient{width:100%;margin-top:var(--cosmograph-color-legend-range-gradient-top-margin);height:var(--cosmograph-color-legend-range-gradient-height);border-radius:var(--cosmograph-color-legend-range-gradient-radius)}.style_module_legend__a3e235e4 .legend-item{display:flex;align-items:center;margin-top:var(--cosmograph-color-legend-range-items-margin)}.style_module_legend__a3e235e4 .name{align-items:center;text-align:center;justify-content:space-around;display:flex;color:var(--cosmograph-color-legend-range-font-color);overflow:hidden;width:100%;word-break:break-word;text-wrap:balance;white-space:pre-line;transition:color .15s ease-in-out;margin:0 4px;letter-spacing:-.02em;line-height:1.25}.style_module_legend__a3e235e4 .label{color:var(--cosmograph-color-legend-range-font-color);overflow:hidden;max-width:150px;text-overflow:ellipsis;font-size:var(--cosmograph-color-legend-range-label-font-size);transition:color .15s ease-in-out;line-height:1;font-feature-settings:\"tnum\"}.style_module_legend__a3e235e4 .sublabel{padding-top:1px;color:var(--cosmograph-color-legend-range-font-color);opacity:.55;font-size:var(--cosmograph-color-legend-range-sublabel-font-size);line-height:1;transition:color .15s ease-in-out}:root{--cosmograph-color-legend-type-font-color: var(--cosmograph-ui-text);--cosmograph-color-legend-type-font-family: var(--cosmograph-ui-font-family);--cosmograph-color-legend-type-font-size: 11px;--cosmograph-color-legend-type-hover-color: var(--cosmograph-ui-highlighted-element-color);--cosmograph-color-legend-type-others-color: #bab0ab;--cosmograph-color-legend-type-bullet-size: 8px;--cosmograph-color-legend-type-bullet-radius: 1rem;--cosmograph-color-legend-type-items-margin: 4px;--cosmograph-color-legend-type-hide-transform: translateY(125%);--cosmograph-color-legend-type-show-transform: translateX(0)}.style_module_enabled__277b2403{opacity:1;transform:var(--cosmograph-color-legend-type-show-transform)}.style_module_disabled__7a587f96{opacity:0;transform:var(--cosmograph-color-legend-type-hide-transform);display:none!important}.style_module_wrapper__ea8ca7f4{position:relative;max-width:100%;width:fit-content;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete}.style_module_typeLegend__15bf4b2f{position:relative;width:fit-content;max-width:100%;min-height:25px;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete;font-weight:300;letter-spacing:-.015em;text-rendering:optimizelegibility;-webkit-font-smoothing:antialiased}.style_module_typeLegend__15bf4b2f .reverted{flex-direction:row-reverse}.style_module_typeLegend__15bf4b2f .scroll-container{width:100%;display:flex;flex-direction:column;position:relative;font-size:var(--cosmograph-color-legend-type-font-size);font-family:var(--cosmograph-color-legend-type-font-family);user-select:none;-webkit-user-select:none;line-height:normal;overflow-x:hidden;overflow-y:auto;will-change:transform}@starting-style{.style_module_typeLegend__15bf4b2f.style_module_enabled__277b2403,.style_module_wrapper__ea8ca7f4.style_module_enabled__277b2403{opacity:0;transform:var(--cosmograph-color-legend-type-hide-transform)}}.style_module_typeLegend__15bf4b2f .legend-item{display:flex;align-items:center;position:absolute;margin-bottom:var(--cosmograph-color-legend-type-items-margin);pointer-events:none;width:100%;padding-left:1px;font-weight:300;transition:filter .1s ease-in-out,opacity .1s ease-in-out;min-height:calc(var(--cosmograph-color-legend-type-bullet-size) + 2px + var(--cosmograph-color-legend-type-items-margin));height:calc(var(--cosmograph-color-legend-type-bullet-size) + 2px);box-sizing:border-box}.style_module_typeLegend__15bf4b2f .unknown{background-color:var(--cosmograph-color-legend-type-unknown-color)}.style_module_typeLegend__15bf4b2f .others{background-color:var(--cosmograph-color-legend-type-others-color)}.style_module_typeLegend__15bf4b2f .bullet{height:var(--cosmograph-color-legend-type-bullet-size);width:var(--cosmograph-color-legend-type-bullet-size);min-height:var(--cosmograph-color-legend-type-bullet-size);min-width:var(--cosmograph-color-legend-type-bullet-size);border-radius:var(--cosmograph-color-legend-type-bullet-radius);pointer-events:all;margin-right:5px}.style_module_typeLegend__15bf4b2f .label{color:var(--cosmograph-color-legend-type-font-color);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - var(--cosmograph-color-legend-type-bullet-size) - 5px);pointer-events:all;transition:.05s linear color}.style_module_typeLegend__15bf4b2f .legend-item.reverted>.bullet{margin-right:0}.style_module_typeLegend__15bf4b2f .legend-item.reverted>.label{margin-right:5px}.style_module_typeLegend__15bf4b2f .show-more{cursor:pointer;padding-top:4px;display:none;font-weight:300;color:var(--cosmograph-color-legend-type-font-color);font-size:11px;opacity:.6;pointer-events:all;justify-content:space-between;transition:opacity .1s linear;font-feature-settings:\"tnum\"}.style_module_typeLegend__15bf4b2f .show-more:hover{opacity:1}.style_module_hovered__c0993502 .label,.style_module_hovered__c0993502 .sublabel{color:var(--cosmograph-color-legend-type-hover-color)!important;cursor:pointer}.style_module_selected__36e1dd81{filter:brightness(1)}.style_module_selected__36e1dd81>.style_module_label__afecc7a3{filter:brightness(1.2)}.style_module_unselected__4826cfb7{filter:brightness(.5)}:root{--cosmograph-button-color: var(--cosmograph-ui-text);--cosmograph-button-background: var(--cosmograph-ui-element-color);--cosmograph-button-border-radius: 2px}.style_module_button__e95a1138{background:var(--cosmograph-button-background);color:var(--cosmograph-button-color);border-radius:var(--cosmograph-button-border-radius);display:none;align-items:center;justify-content:center;width:25px;height:25px;margin:3px;padding:5px;cursor:pointer;filter:brightness(.95) contrast(.9);transition:filter .1s}.style_module_button__e95a1138:hover{filter:brightness(1.2) contrast(1)}')),document.head.appendChild(t)}}catch(e){console.error(\"vite-plugin-css-injected-by-js\",e)}})();var Dg={label:\"\",labelFormatter:ns,extent:void 0,extentLabels:void 0,enableEvents:!0,form:\"point\",showSublabels:!1,minSubLabel:\"min\",maxSubLabel:\"max\",sizeMultiplier:void 0,onClick:void 0,onMinClick:void 0,onMaxClick:void 0,onHover:void 0,noDataMessage:\"No legend data\",loadingMessage:\"Data loading...\"};var pK=\"style_module_container__d2889234\",fK=\"style_module_legend__75c167f2\",mK=\"style_module_enabled__91eae57a\",gK=\"style_module_disabled__d51f7a10\",_K=\"style_module_events__894316a8\",yK=\"style_module_hovered__1206707f\",_r={container:pK,legend:fK,enabled:mK,disabled:gK,events:_K,hovered:yK};(function(){\"use strict\";try{if(typeof document<\"u\"){var t=document.createElement(\"style\");t.appendChild(document.createTextNode('@keyframes style_module_fadeIn__ffac87fd{0%{opacity:0}to{opacity:.2}}.style_module_displayState__6ae19b84{position:absolute;color:var(--cosmograph-ui-text);display:flex;justify-content:center;align-items:center;height:100%;width:100%;min-width:100px;opacity:.2;margin:auto;font-size:calc(var(--cosmograph-ui-font-size) + 1px);letter-spacing:-.02em;font-weight:200;user-select:none;-webkit-user-select:none;animation:style_module_fadeIn__ffac87fd .3s ease-in-out}:root{--cosmograph-timeline-selection-color: var(--cosmograph-ui-selection-control-color);--cosmograph-timeline-selection-opacity: .5;--cosmograph-timeline-bar-color: var(--cosmograph-ui-element-color);--cosmograph-timeline-highlighted-bar-color: var(--cosmograph-ui-highlighted-element-color);--cosmograph-timeline-font-family: var(--cosmograph-ui-font-family);--cosmograph-timeline-font-size: var(--cosmograph-ui-tick-font-size);--cosmograph-timeline-background: var(--cosmograph-ui-background);--cosmograph-timeline-text-color: var(--cosmograph-ui-text);--cosmograph-timeline-axis-color: var(--cosmograph-ui-text)}.style_module_timeline__736434f7{position:relative;display:flex;background:var(--cosmograph-timeline-background);width:100%;min-height:25px;overflow:hidden}.style_module_timelineSvg__b916ad04{position:relative;width:100%;height:100%}.style_module_selection__ebee57f8{fill:var(--cosmograph-timeline-selection-color);fill-opacity:var(--cosmograph-timeline-selection-opacity);stroke:none}.style_module_axisTick__5865631d{color:var(--cosmograph-timeline-axis-color);font:var(--cosmograph-timeline-font-family);font-size:var(--cosmograph-timeline-font-size);user-select:none;-webkit-user-select:none;opacity:1;font-weight:300;text-anchor:initial;font-feature-settings:\"tnum\";alignment-baseline:text-before-edge}.style_module_axisLine__992b502d{opacity:.2;color:var(--cosmograph-timeline-axis-color)}.style_module_bar__114fa79f{fill:var(--cosmograph-timeline-bar-color);transform:scaleY(-1);opacity:0}.style_module_animationControl__ee52cd66{color:var(--cosmograph-timeline-axis-color);width:6%;max-width:30px;min-width:20px;cursor:pointer;display:none;align-items:center;user-select:none;-webkit-user-select:none;opacity:.5;position:relative;justify-content:center}.style_module_animationControl__ee52cd66>svg{width:50%;max-height:20px;padding-right:2px}.style_module_hidden__a73fe81a{display:none}.style_module_disabled__eb988570{opacity:.2;pointer-events:none}.style_module_highlightedBar__c2fc9bdc{fill:var(--cosmograph-timeline-highlighted-bar-color);transform:scaleY(-1);pointer-events:none}:root{--cosmograph-search-font-family: var(--cosmograph-ui-font-family);--cosmograph-search-font-size: 14px;--cosmograph-search-list-font-size: 13.5px;--cosmograph-search-text-color: var(--cosmograph-ui-text);--cosmograph-search-background: transparent;--cosmograph-search-list-background: rgba(0, 0, 0, .2);--cosmograph-search-list-match-background: rgba(255, 255, 255, .2);--cosmograph-search-list-match-color: var(--cosmograph-ui-text)}.style_module_searchInput__d7830601:hover{filter:brightness(1.2) contrast(1)}.style_module_searchInput__d7830601{width:100%;background:transparent;color:var(--cosmograph-search-text-color);border:none;border-bottom:.5px solid var(--cosmograph-search-text-color);padding:4px 20px 5px 2px;font-family:var(--cosmograph-search-font-family);font-size:var(--cosmograph-search-font-size);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;transition:opacity .2s ease-out}.style_module_searchInput__d7830601::selection{background:var(--cosmograph-search-list-match-background)}.style_module_searchInput__d7830601:focus{outline:none}.style_module_searchSuggestions__b0d3f71e{color:#fff;width:100%;padding:0;margin:0;background:transparent;overflow-y:auto;flex:1;min-height:0}.style_module_searchSuggestions__b0d3f71e li{padding:5px 10px;cursor:pointer;-webkit-user-select:none;user-select:none;display:block;font-weight:500;font-size:var(--cosmograph-search-list-font-size);max-width:100%;overflow:hidden}.style_module_searchSuggestions__b0d3f71e li>div{white-space:nowrap;font-weight:200;overflow:hidden;text-overflow:ellipsis;width:100%}.style_module_searchSuggestions__b0d3f71e li:hover{background:#ffffff1a}.style_module_searchSuggestions__b0d3f71e mark{background:var(--cosmograph-search-list-match-background);color:var(--cosmograph-search-list-match-color);border-radius:2px}.style_module_clearButton__5ebb41de{position:absolute;right:0;top:0;height:100%;background:none;border:none;color:var(--cosmograph-search-text-color);font-weight:300;cursor:pointer;font-size:16px;padding:0 4px;opacity:0;display:flex;align-items:center;justify-content:center;transition:opacity .2s ease-out}.style_module_clearButton__5ebb41de.style_module_visible__5be7493d:hover{transition:opacity .1s ease-in-out;opacity:1}.style_module_clearButton__5ebb41de.style_module_visible__5be7493d{opacity:.7}.style_module_placeholderWrapper__72d5eb0e{z-index:1;color:var(--cosmograph-search-text-color);font-family:var(--cosmograph-search-font-family);font-size:var(--cosmograph-search-font-size);position:absolute;top:0;left:0;width:100%;bottom:0;display:flex;line-height:1.25;align-items:center;transition:transform .3s ease-out,opacity .3s ease-out}.style_module_placeholderWrapper__72d5eb0e.style_module_hidden__acfb8431{transform:translate(-30px);pointer-events:none;opacity:0}.style_module_searchInput__d7830601:disabled,.style_module_searchInput__d7830601.style_module_disabled__62c35dc5{opacity:.2;cursor:not-allowed;pointer-events:none}.style_module_disabled__62c35dc5 .style_module_clearButton__5ebb41de{display:none}.style_module_disabled__62c35dc5 .style_module_placeholderWrapper__72d5eb0e{opacity:.3;cursor:not-allowed}.style_module_searchInputWrapper__1edbcb22{position:relative;display:flex;width:100%}.style_module_noResults__363397c3{opacity:.3!important;cursor:default;font-weight:300!important;padding:6px!important;text-align:center;pointer-events:none}.style_module_noResults__363397c3:hover{background:none}.style_module_loading__296e0212{opacity:.7!important;cursor:default;font-weight:300!important;padding:6px!important;text-align:center;pointer-events:none;-webkit-user-select:none;user-select:none}.style_module_dropdownContainer__d98287da{position:absolute;top:100%;left:0;width:100%;background:var(--cosmograph-search-list-background);border-radius:4px;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);opacity:0;transform:translateY(-10px);transition:opacity .2s ease-out,transform .2s ease-out;pointer-events:none;overflow:hidden;z-index:10;display:flex;flex-direction:column;padding-bottom:2px}.style_module_dropdownContainer__d98287da.style_module_upwards__e0b4831b{top:auto;bottom:100%;transform:translateY(10px)}.style_module_dropdownContainer__d98287da.style_module_visible__5be7493d{opacity:1;transform:translateY(0);pointer-events:auto}.style_module_dropdownContainer__d98287da.style_module_upwards__e0b4831b.style_module_visible__5be7493d{opacity:1;transform:translateY(-2px);pointer-events:auto}.style_module_footerContainer__73e7a066{flex-shrink:0}:root{--cosmograph-scrollbar-background: rgba(255, 255, 255, .1);--cosmograph-ui-background: rgb(45, 49, 58);--cosmograph-ui-text: #ffffffc7;--cosmograph-ui-tick-font-size: 11px;--cosmograph-ui-font-size: 12px;--cosmograph-ui-font-family: inherit;--cosmograph-ui-element-color: #5C616A;--cosmograph-ui-highlighted-element-color: white;--cosmograph-ui-selection-control-color: #8d949ea8;-webkit-font-smoothing:antialiased!important;text-rendering:optimizeLegibility!important}.style_module_cosmograph-ui__5acb97f1{background:var(--cosmograph-ui-background);color:var(--cosmograph-ui-text)}.style_module_scrollbar__f1516254 *::-webkit-scrollbar{width:5px;height:5px;border-radius:.3rem}.style_module_scrollbar__f1516254 *::-webkit-scrollbar-track{border-radius:.3rem}.style_module_scrollbar__f1516254 *::-webkit-scrollbar-corner{background:none!important}.style_module_scrollbar__f1516254 *::-webkit-scrollbar-button{display:none!important}.style_module_scrollbar__f1516254 *::-webkit-scrollbar-thumb{background-color:var(--cosmograph-scrollbar-background);transition:background-color .5s;border-radius:20px;border:3px solid var(--cosmograph-scrollbar-background)}@-moz-document url-prefix(){.style_module_scrollbar__f1516254 *{scrollbar-width:thin;scrollbar-color:var(--cosmograph-scrollbar-background) transparent;scrollbar-track-color:transparent;scrollbar-face-color:var(--cosmograph-scrollbar-background)}}:root{--cosmograph-histogram-background: var(--cosmograph-ui-background);--cosmograph-histogram-text-color: var(--cosmograph-ui-text);--cosmograph-histogram-axis-color: var(--cosmograph-ui-text);--cosmograph-histogram-selection-color: var(--cosmograph-ui-selection-control-color);--cosmograph-histogram-selection-opacity: .5;--cosmograph-histogram-bar-color: var(--cosmograph-ui-element-color);--cosmograph-histogram-highlighted-bar-color: var( --cosmograph-ui-highlighted-element-color);--cosmograph-histogram-font-family: var(--cosmograph-ui-font-family);--cosmograph-histogram-font-size: var(--cosmograph-ui-tick-font-size)}.style_module_histogram__9d8a77ea{position:relative;display:flex;min-height:25px;background:var(--cosmograph-histogram-background);width:100%}.style_module_histogramSvg__ccccb628{position:relative;width:100%;height:100%}.style_module_selection__7db96137{fill:var(--cosmograph-histogram-selection-color);fill-opacity:var(--cosmograph-histogram-selection-opacity);stroke:none}.style_module_axisTick__898e1f39{color:var(--cosmograph-histogram-axis-color);font-family:var(--cosmograph-histogram-font-family);font-size:var(--cosmograph-histogram-font-size);user-select:none;-webkit-user-select:none;alignment-baseline:text-before-edge;opacity:1;font-weight:300;text-anchor:initial;font-feature-settings:\"tnum\"}.style_module_bar__3c9ab488{fill:var(--cosmograph-histogram-bar-color);transform:scaleY(-1)}.style_module_highlightedBar__b193a8de{fill:var(--cosmograph-histogram-highlighted-bar-color);transform:scaleY(-1);pointer-events:none}:root{--cosmograph-bars-font-color: var(--cosmograph-ui-text);--cosmograph-bars-font-family: var(--cosmograph-ui-font-family);--cosmograph-bars-font-size: var(--cosmograph-ui-font-size);--cosmograph-bars-ui-font-size: 11.5px;--cosmograph-bars-background: var(--cosmograph-ui-element-color);--cosmograph-bars-bar-height: 20px;--cosmograph-bars-bar-bottom-margin: 2px;--cosmograph-bars-highlighted-color: var( --cosmograph-ui-highlighted-element-color)}.style_module_bars__25497ded{position:relative;width:100%;min-height:100px;user-select:none;flex-direction:column;-webkit-user-select:none}.style_module_bars__25497ded .scroll-container{position:relative;width:100%;overflow-y:hidden;overflow-x:hidden}.style_module_bars__25497ded .bars-container{position:relative;width:calc(100% - 1px);font-family:var(--cosmograph-bars-font-family)}.style_module_bars__25497ded .highlighted-bars-container{position:absolute;top:0;left:0;pointer-events:none}.style_module_bars__25497ded .row{height:var(--cosmograph-bars-bar-height);display:flex;align-items:center;margin-bottom:var(--cosmograph-bars-bar-bottom-margin);width:100%;transition:opacity .1s linear,filter .1s linear}.style_module_bars__25497ded .row:hover{filter:brightness(1.15) contrast(1.05);transition:opacity .1s linear,filter .1s linear}.style_module_bars__25497ded .row.unselected:hover{filter:brightness(.95) contrast(1.15);transition:filter .05s linear}.style_module_bars__25497ded .unselected{opacity:.85;filter:brightness(.8) contrast(1.1)}.style_module_bars__25497ded .selected{filter:brightness(1.05) contrast(1.05)}.style_module_bars__25497ded .selected>.info>.label{font-weight:600;filter:brightness(1.1) contrast(1.05)}.style_module_bars__25497ded .unselected>.info>.label{font-weight:300}.style_module_bars__25497ded .bar{height:100%;background-color:var(--cosmograph-bars-background);opacity:.8;transition:opacity .3s ease,width .3s ease}.style_module_bars__25497ded .bar-highlighted{height:100%;background-color:var(--cosmograph-bars-highlighted-color);opacity:.2;transition:opacity .3s ease,width .3s ease}.style_module_bars__25497ded .info{display:flex;justify-content:space-between;width:100%;padding:0 4px;position:absolute;font-size:var(--cosmograph-bars-font-size);font-feature-settings:\"tnum\";color:var(--cosmograph-bars-font-color);gap:2px}.style_module_bars__25497ded .label{min-width:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;transition:opacity .05s linear}.style_module_bars__25497ded .count{flex-shrink:0;font-weight:300;opacity:.8;transition:opacity .05s linear}.style_module_bars__25497ded .show-more{cursor:pointer;padding-top:2px;display:flex;font-weight:300;color:var(--cosmograph-bars-font-color);font-size:11px;justify-content:space-between;opacity:.6;font-size:var(--cosmograph-bars-ui-font-size);pointer-events:none;transition:opacity .1s linear}.style_module_bars__25497ded .show-more:hover{opacity:1;text-decoration:underline;text-underline-offset:1.5px;text-decoration-thickness:.25px}.style_module_bars__25497ded .show-more>span{pointer-events:all}.style_module_bars__25497ded .show-more-count{padding-right:5px;pointer-events:all;font-feature-settings:\"tnum\"}.style_module_bars__25497ded .unselected>.info>.label,.style_module_bars__25497ded .unselected>.info>.count{opacity:.5}.style_module_bars__25497ded .unselected:hover>.info>.label,.style_module_bars__25497ded .unselected:hover>.info>.count{opacity:1}.style_module_bars__25497ded .search-input{background:transparent;border:none;border-bottom:1px solid rgba(255,255,255,.3);font-size:13px!important;color:var(--cosmograph-bars-font-color);line-height:1.5;padding:2px;width:100%;position:relative;transition:border-bottom-color .2s}.style_module_bars__25497ded .search-input::placeholder{color:var(--cosmograph-bars-font-color)!important;opacity:.4;font-weight:300;font-family:inherit}.style_module_bars__25497ded .search-container{position:relative;width:100%;margin-bottom:4px;display:none;z-index:1}.style_module_bars__25497ded .clear-button{position:absolute;right:0;top:50%;transform:translateY(-50%);background:none;border:none;cursor:pointer;color:var(--cosmograph-bars-font-color);font-weight:300;font-size:16px;padding:0 4px;opacity:0;display:flex;align-items:center;justify-content:center;transition:opacity .2s ease-out}.style_module_bars__25497ded .clear-button.visible:hover{transition:opacity .1s ease-in-out;opacity:1}.style_module_bars__25497ded .clear-button.visible{opacity:.7}.style_module_bars__25497ded .clear-button svg{width:10px;height:10px;fill:currentColor}.style_module_bars__25497ded .sorting-block{visibility:hidden;margin-top:1px;display:flex;justify-content:space-between}.style_module_bars__25497ded .buttons-container{margin-top:4px;font-size:var(--cosmograph-bars-ui-font-size);display:flex;gap:4px;line-height:1.25}.style_module_bars__25497ded .buttons-container>div{transition:opacity .05s linear,filter .05s linear;padding:1px 5px;background:var(--cosmograph-bars-background);border-radius:4px;opacity:.9;display:flex;cursor:pointer;align-items:center}.style_module_bars__25497ded .buttons-container>div:hover{filter:brightness(1.2)}.style_module_bars__25497ded .reset-text{transition:opacity .05s linear,filter .05s linear;display:flex;font-size:var(--cosmograph-bars-ui-font-size);align-items:end;padding-right:4px;cursor:pointer;font-weight:300}.style_module_bars__25497ded .reset-text:hover{text-decoration:underline;text-underline-offset:1.5px;text-decoration-thickness:.25px}.style_module_bars__25497ded .reset-text.unselected{pointer-events:none;cursor:default;opacity:.7}.style_module_bars__25497ded :scope.reset-text:hover:not(.unselected){filter:brightness(1.5);opacity:1}:root{--cosmograph-size-legend-form-color: var(--cosmograph-ui-text);--cosmograph-size-legend-font-color: var(--cosmograph-ui-text);--cosmograph-size-legend-font-family: inherit;--cosmograph-size-legend-font-size: var(--cosmograph-ui-font-size);--cosmograph-size-legend-sublabel-font-size: 10px;--cosmograph-size-legend-hover-color: var(--cosmograph-ui-highlighted-element-color);--cosmograph-size-legend-line-radius: 2px;--cosmograph-size-legend-line-width: 30px;--cosmograph-size-legend-hide-transform: translateY(100%);--cosmograph-size-legend-show-transform: translateX(0)}.style_module_container__d2889234{display:flex;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete;overflow:hidden;min-height:25px}.style_module_legend__75c167f2{width:auto;display:flex;flex-direction:column;position:relative;font-size:var(--cosmograph-size-legend-font-size);font-family:var(--cosmograph-size-legend-font-family);user-select:none;-webkit-user-select:none;cursor:default;text-align:center;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete;font-weight:300;letter-spacing:-.04em;text-rendering:optimizelegibility;-webkit-font-smoothing:antialiased}.style_module_enabled__91eae57a{opacity:1;transform:var(--cosmograph-size-legend-show-transform)}.style_module_disabled__d51f7a10{opacity:0;transform:var(--cosmograph-size-legend-hide-transform);pointer-events:none;display:none!important}@starting-style{.style_module_container__d2889234.style_module_enabled__91eae57a,.style_module_legend__75c167f2.style_module_enabled__91eae57a{opacity:0;transform:var(--cosmograph-size-legend-hide-transform)}}.style_module_legend__75c167f2 .legend-content>div:first-child:not(:only-child){margin-right:.75rem}.style_module_legend__75c167f2 .circle{background-color:var(--cosmograph-size-legend-form-color);border-radius:50%;transition:background-color .15s ease-in-out;display:inline-block}.style_module_legend__75c167f2 .line{background-color:var(--cosmograph-size-legend-form-color);border-radius:var(--cosmograph-size-legend-line-radius);width:var(--cosmograph-size-legend-line-width);transition:background-color .15s ease-in-out;display:inline-block}.style_module_legend__75c167f2.style_module_events__894316a8{pointer-events:auto;cursor:pointer}.style_module_legend__75c167f2 .legend-content{display:flex;align-items:end;justify-content:center}.style_module_legend__75c167f2 .legend-content>div{transition:filter .1s ease-in-out,opacity .1s ease-in-out}.style_module_legend__75c167f2 .labels-wrapper{white-space:nowrap}.style_module_legend__75c167f2 .legend-item{display:flex;align-items:center;margin-top:var(--cosmograph-size-legend-items-margin)}.style_module_legend__75c167f2 .name{align-items:center;text-align:center;justify-content:center;display:flex;color:var(--cosmograph-size-legend-font-color);overflow:hidden;width:100%;margin-top:3px;word-break:break-all;white-space:pre-line;transition:color .15s ease-in-out;letter-spacing:-.02em}.style_module_legend__75c167f2 .label{color:var(--cosmograph-size-legend-font-color);overflow:hidden;transition:color .15s ease-in-out;text-overflow:ellipsis;font-feature-settings:\"tnum\"}.style_module_legend__75c167f2 .sublabel{padding-top:1px;font-size:var(--cosmograph-size-legend-sublabel-font-size);opacity:.5;line-height:1;min-width:10px;transition:color .15s ease-in-out}.style_module_hovered__1206707f .label,.style_module_hovered__1206707f .sublabel{color:var(--cosmograph-size-legend-hover-color);cursor:pointer}.style_module_hovered__1206707f .circle,.style_module_hovered__1206707f .line{background-color:var(--cosmograph-size-legend-hover-color);cursor:pointer}:root{--cosmograph-color-legend-range-font-color: var(--cosmograph-ui-text);--cosmograph-color-legend-range-font-family: var(--cosmograph-ui-font-family);--cosmograph-color-legend-range-font-size: var(--cosmograph-ui-font-size);--cosmograph-color-legend-range-label-font-size: var(--cosmograph-ui-font-size);--cosmograph-color-legend-range-sublabel-font-size: 10px;--cosmograph-color-legend-range-hover-color: var(--cosmograph-ui-highlighted-element-color);--cosmograph-color-legend-range-gradient-height: 6px;--cosmograph-color-legend-range-gradient-radius: 8px;--cosmograph-color-legend-range-gradient-top-margin: 6px;--cosmograph-color-legend-hide-transform: translateY(100%);--cosmograph-color-legend-show-transform: translateX(0)}.style_module_container__05cc807d{display:flex;min-width:150px;min-height:25px;width:100%;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete}.style_module_legend__a3e235e4{width:100%;font-weight:300;letter-spacing:-.04em;display:flex;flex-direction:column;font-size:var(--cosmograph-color-legend-range-font-size);font-family:var(--cosmograph-color-legend-range-font-family);user-select:none;-webkit-user-select:none;pointer-events:none;cursor:default;text-align:center;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete;text-rendering:optimizelegibility;-webkit-font-smoothing:antialiased}.style_module_enabled__b3120e27{opacity:1;transform:var(--cosmograph-color-legend-show-transform);pointer-events:auto}.style_module_disabled__c2dc158c{opacity:0;transform:var(--cosmograph-color-legend-hide-transform);pointer-events:none;display:none}@starting-style{.style_module_container__05cc807d.style_module_enabled__b3120e27,.style_module_legend__a3e235e4.style_module_enabled__b3120e27{opacity:0;transform:var(--cosmograph-color-legend-hide-transform)}}.style_module_legend__a3e235e4 .legend-content{display:flex;align-items:end;justify-content:space-between}.style_module_hovered__dfd7bb2c .label,.style_module_hovered__dfd7bb2c .sublabel{color:var(--cosmograph-size-legend-hover-color)!important;cursor:pointer}.style_module_legend__a3e235e4 .extent{white-space:nowrap;transition:filter .1s ease-in-out,opacity .1s ease-in-out}.style_module_legend__a3e235e4 .gradient{width:100%;margin-top:var(--cosmograph-color-legend-range-gradient-top-margin);height:var(--cosmograph-color-legend-range-gradient-height);border-radius:var(--cosmograph-color-legend-range-gradient-radius)}.style_module_legend__a3e235e4 .legend-item{display:flex;align-items:center;margin-top:var(--cosmograph-color-legend-range-items-margin)}.style_module_legend__a3e235e4 .name{align-items:center;text-align:center;justify-content:space-around;display:flex;color:var(--cosmograph-color-legend-range-font-color);overflow:hidden;width:100%;word-break:break-word;text-wrap:balance;white-space:pre-line;transition:color .15s ease-in-out;margin:0 4px;letter-spacing:-.02em;line-height:1.25}.style_module_legend__a3e235e4 .label{color:var(--cosmograph-color-legend-range-font-color);overflow:hidden;max-width:150px;text-overflow:ellipsis;font-size:var(--cosmograph-color-legend-range-label-font-size);transition:color .15s ease-in-out;line-height:1;font-feature-settings:\"tnum\"}.style_module_legend__a3e235e4 .sublabel{padding-top:1px;color:var(--cosmograph-color-legend-range-font-color);opacity:.55;font-size:var(--cosmograph-color-legend-range-sublabel-font-size);line-height:1;transition:color .15s ease-in-out}:root{--cosmograph-color-legend-type-font-color: var(--cosmograph-ui-text);--cosmograph-color-legend-type-font-family: var(--cosmograph-ui-font-family);--cosmograph-color-legend-type-font-size: 11px;--cosmograph-color-legend-type-hover-color: var(--cosmograph-ui-highlighted-element-color);--cosmograph-color-legend-type-others-color: #bab0ab;--cosmograph-color-legend-type-bullet-size: 8px;--cosmograph-color-legend-type-bullet-radius: 1rem;--cosmograph-color-legend-type-items-margin: 4px;--cosmograph-color-legend-type-hide-transform: translateY(125%);--cosmograph-color-legend-type-show-transform: translateX(0)}.style_module_enabled__277b2403{opacity:1;transform:var(--cosmograph-color-legend-type-show-transform)}.style_module_disabled__7a587f96{opacity:0;transform:var(--cosmograph-color-legend-type-hide-transform);display:none!important}.style_module_wrapper__ea8ca7f4{position:relative;max-width:100%;width:fit-content;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete}.style_module_typeLegend__15bf4b2f{position:relative;width:fit-content;max-width:100%;min-height:25px;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete;font-weight:300;letter-spacing:-.015em;text-rendering:optimizelegibility;-webkit-font-smoothing:antialiased}.style_module_typeLegend__15bf4b2f .reverted{flex-direction:row-reverse}.style_module_typeLegend__15bf4b2f .scroll-container{width:100%;display:flex;flex-direction:column;position:relative;font-size:var(--cosmograph-color-legend-type-font-size);font-family:var(--cosmograph-color-legend-type-font-family);user-select:none;-webkit-user-select:none;line-height:normal;overflow-x:hidden;overflow-y:auto;will-change:transform}@starting-style{.style_module_typeLegend__15bf4b2f.style_module_enabled__277b2403,.style_module_wrapper__ea8ca7f4.style_module_enabled__277b2403{opacity:0;transform:var(--cosmograph-color-legend-type-hide-transform)}}.style_module_typeLegend__15bf4b2f .legend-item{display:flex;align-items:center;position:absolute;margin-bottom:var(--cosmograph-color-legend-type-items-margin);pointer-events:none;width:100%;padding-left:1px;font-weight:300;transition:filter .1s ease-in-out,opacity .1s ease-in-out;min-height:calc(var(--cosmograph-color-legend-type-bullet-size) + 2px + var(--cosmograph-color-legend-type-items-margin));height:calc(var(--cosmograph-color-legend-type-bullet-size) + 2px);box-sizing:border-box}.style_module_typeLegend__15bf4b2f .unknown{background-color:var(--cosmograph-color-legend-type-unknown-color)}.style_module_typeLegend__15bf4b2f .others{background-color:var(--cosmograph-color-legend-type-others-color)}.style_module_typeLegend__15bf4b2f .bullet{height:var(--cosmograph-color-legend-type-bullet-size);width:var(--cosmograph-color-legend-type-bullet-size);min-height:var(--cosmograph-color-legend-type-bullet-size);min-width:var(--cosmograph-color-legend-type-bullet-size);border-radius:var(--cosmograph-color-legend-type-bullet-radius);pointer-events:all;margin-right:5px}.style_module_typeLegend__15bf4b2f .label{color:var(--cosmograph-color-legend-type-font-color);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - var(--cosmograph-color-legend-type-bullet-size) - 5px);pointer-events:all;transition:.05s linear color}.style_module_typeLegend__15bf4b2f .legend-item.reverted>.bullet{margin-right:0}.style_module_typeLegend__15bf4b2f .legend-item.reverted>.label{margin-right:5px}.style_module_typeLegend__15bf4b2f .show-more{cursor:pointer;padding-top:4px;display:none;font-weight:300;color:var(--cosmograph-color-legend-type-font-color);font-size:11px;opacity:.6;pointer-events:all;justify-content:space-between;transition:opacity .1s linear;font-feature-settings:\"tnum\"}.style_module_typeLegend__15bf4b2f .show-more:hover{opacity:1}.style_module_hovered__c0993502 .label,.style_module_hovered__c0993502 .sublabel{color:var(--cosmograph-color-legend-type-hover-color)!important;cursor:pointer}.style_module_selected__36e1dd81{filter:brightness(1)}.style_module_selected__36e1dd81>.style_module_label__afecc7a3{filter:brightness(1.2)}.style_module_unselected__4826cfb7{filter:brightness(.5)}:root{--cosmograph-button-color: var(--cosmograph-ui-text);--cosmograph-button-background: var(--cosmograph-ui-element-color);--cosmograph-button-border-radius: 2px}.style_module_button__e95a1138{background:var(--cosmograph-button-background);color:var(--cosmograph-button-color);border-radius:var(--cosmograph-button-border-radius);display:none;align-items:center;justify-content:center;width:25px;height:25px;margin:3px;padding:5px;cursor:pointer;filter:brightness(.95) contrast(.9);transition:filter .1s}.style_module_button__e95a1138:hover{filter:brightness(1.2) contrast(1)}')),document.head.appendChild(t)}}catch(e){console.error(\"vite-plugin-css-injected-by-js\",e)}})();var Pg=class extends mn{constructor(e,i){let n=Kt(Dg,i??{});super(e,mn.extractConfig(n,Dg)),this._sizeElements=null,this._isHidden=!1,this._handleClick=o=>{var r,s;this._config.enableEvents&&((s=(r=this._config).onClick)===null||s===void 0||s.call(r,o))},this._handleHover=o=>{var r,s;this._config.enableEvents&&((s=(r=this._config).onHover)===null||s===void 0||s.call(r,o))},this._handleSizeElementHover=o=>{var r,s,a,l;if(!this._config.enableEvents||!this._config.extent||!this._sizeElements)return;let c=o.currentTarget;if(!c)return;let u=c.classList.contains(\"min\")?\"min\":\"max\",d=o.type===\"mouseenter\",h=u===\"min\"?0:this._config.extent.length-1,f=(r=this._config.extent)===null||r===void 0?void 0:r[h],v=(s=this._config.extentLabels)===null||s===void 0?void 0:s[h];c.classList.toggle(_r.hovered,d),(l=(a=this._config).onHover)===null||l===void 0||l.call(a,{target:c,type:u,size:f,value:v})},this._handleSizeElementClick=o=>{var r,s,a,l;if(!this._config.enableEvents)return;let c=o.currentTarget.className.includes(\"min\")?\"min\":\"max\",u=c===\"min\"?this._config.onMinClick:this._config.onMaxClick;if(u){let d=(s=(r=this._config.extent)===null||r===void 0?void 0:r[c===\"min\"?0:1])!==null&&s!==void 0?s:void 0,h=(l=(a=this._config.extentLabels)===null||a===void 0?void 0:a[c===\"min\"?0:1])!==null&&l!==void 0?l:d;u(d,h,o)}},this._config=n,this._containerNode=e,this._containerNode.classList.add(_r.container),this._createElements()}hide(){this._isHidden||(this._isHidden=!0,this._containerNode.classList.remove(_r.enabled),this._containerNode.classList.add(_r.disabled))}show(){this._isHidden&&(this._isHidden=!1,this._containerNode.classList.remove(_r.disabled),this._containerNode.classList.add(_r.enabled))}setConfig(e){this._config=Kt(Dg,e??{}),this.setDisplayStateConfig(mn.extractConfig(this._config,Dg)),this._updateLegend()}setLoadingState(){super.setLoadingState()}destroy(){this._legend&&(this._legend.removeEventListener(\"click\",this._handleClick),this._legend.removeEventListener(\"mouseover\",this._handleHover),this._sizeElements&&[\"min\",\"max\"].forEach(e=>{let i=this._sizeElements[e];i.removeEventListener(\"click\",this._handleSizeElementClick),i.removeEventListener(\"mouseenter\",this._handleSizeElementHover),i.removeEventListener(\"mouseleave\",this._handleSizeElementHover)}),this._containerNode.removeChild(this._legend),super.destroy())}get sizeElements(){return this._sizeElements}get config(){return this._config}get isHidden(){return this._isHidden}_createElements(){this._legend=this._createLegendElement(),this._containerNode.appendChild(this._legend),this._isHidden||this.show()}_createLegendElement(){let e=document.createElement(\"div\");e.classList.add(_r.legend);let i=document.createElement(\"div\");i.className=\"legend-content\",this._sizeElements={min:this._createSizeElement(\"min\"),max:this._createSizeElement(\"max\")},i.appendChild(this._sizeElements.min),i.appendChild(this._sizeElements.max),e.appendChild(i);let n=document.createElement(\"div\");return n.className=\"name\",e.appendChild(n),e}_createSizeElement(e){let i=document.createElement(\"div\");i.classList.add(e);let n=document.createElement(\"div\");i.appendChild(n);let o=document.createElement(\"div\");return o.className=\"label\",i.appendChild(o),i.addEventListener(\"click\",this._handleSizeElementClick),i.addEventListener(\"mouseenter\",this._handleSizeElementHover),i.addEventListener(\"mouseleave\",this._handleSizeElementHover),i}_updateLegend(){let{extent:e,extentLabels:i}=this._config;if(e!=null&&e.every(Number.isFinite)&&i!=null&&i.every(Number.isFinite)){this.hideState();let n=this._legend.querySelector(\".name\");if(n){let o=this._config.label;n.textContent=typeof o==\"function\"?o():o??\"\"}this._sizeElements&&(i[0]===i[1]?(this._updateSizeElement(\"min\"),this._sizeElements.min.style.display=\"block\",this._sizeElements.max.style.display=\"none\"):(this._updateSizeElement(\"min\"),this._updateSizeElement(\"max\"),this._sizeElements.min.style.display=\"block\",this._sizeElements.max.style.display=\"block\")),this._legend.classList.remove(_r.disabled),this._legend.classList.add(_r.enabled)}else this.showState(),this._legend.classList.remove(_r.enabled),this._legend.classList.add(_r.disabled)}_updateSizeElement(e){var i,n,o,r,s,a;if(!this._sizeElements)return;let l=this._sizeElements[e];l.style.pointerEvents=this._config.enableEvents?\"auto\":\"none\";let c=(n=(i=this._config.extent)===null||i===void 0?void 0:i[e===\"min\"?0:1])!==null&&n!==void 0?n:1,u=(r=(o=this._config.extentLabels)===null||o===void 0?void 0:o[e===\"min\"?0:1])!==null&&r!==void 0?r:c,d=l.querySelector(\"div\");this._config.form===\"point\"?(d.classList.remove(\"line\"),d.classList.add(\"circle\"),d.style.height=d.style.width=`${c*((s=this._config.sizeMultiplier)!==null&&s!==void 0?s:1)}px`):(d.style.width=\"\",d.classList.remove(\"circle\"),d.classList.add(\"line\"),d.style.height=`${c*((a=this._config.sizeMultiplier)!==null&&a!==void 0?a:1)}px`);let h=l.querySelector(\".label\");h.textContent=this._formatLabel(u),this._updateSublabel(l,e)}_updateSublabel(e,i){var n,o;let r=e.querySelector(\".sublabel\");this._config.showSublabels?(r||(r=document.createElement(\"div\"),r.className=\"sublabel\",e.appendChild(r)),r.textContent=i===\"min\"?(n=this._config.minSubLabel)!==null&&n!==void 0?n:\"min\":(o=this._config.maxSubLabel)!==null&&o!==void 0?o:\"max\"):r&&r.remove()}_formatLabel(e){return this._config.labelFormatter?this._config.labelFormatter(e):e.toString()}};var Rg={label:\"\",labelFormatter:ns,extent:void 0,extentLabels:void 0,enableEvents:!0,showSublabels:!1,minSubLabel:\"min\",maxSubLabel:\"max\",discreteColors:!1,onClick:void 0,onHover:void 0,onMaxClick:void 0,onMinClick:void 0,noDataMessage:\"No legend data\",loadingMessage:\"Data loading...\"};var bK=\"style_module_container__05cc807d\",vK=\"style_module_legend__a3e235e4\",xK=\"style_module_enabled__b3120e27\",wK=\"style_module_disabled__c2dc158c\",SK=\"style_module_hovered__dfd7bb2c\",yr={container:bK,legend:vK,enabled:xK,disabled:wK,hovered:SK};(function(){\"use strict\";try{if(typeof document<\"u\"){var t=document.createElement(\"style\");t.appendChild(document.createTextNode('@keyframes style_module_fadeIn__ffac87fd{0%{opacity:0}to{opacity:.2}}.style_module_displayState__6ae19b84{position:absolute;color:var(--cosmograph-ui-text);display:flex;justify-content:center;align-items:center;height:100%;width:100%;min-width:100px;opacity:.2;margin:auto;font-size:calc(var(--cosmograph-ui-font-size) + 1px);letter-spacing:-.02em;font-weight:200;user-select:none;-webkit-user-select:none;animation:style_module_fadeIn__ffac87fd .3s ease-in-out}:root{--cosmograph-timeline-selection-color: var(--cosmograph-ui-selection-control-color);--cosmograph-timeline-selection-opacity: .5;--cosmograph-timeline-bar-color: var(--cosmograph-ui-element-color);--cosmograph-timeline-highlighted-bar-color: var(--cosmograph-ui-highlighted-element-color);--cosmograph-timeline-font-family: var(--cosmograph-ui-font-family);--cosmograph-timeline-font-size: var(--cosmograph-ui-tick-font-size);--cosmograph-timeline-background: var(--cosmograph-ui-background);--cosmograph-timeline-text-color: var(--cosmograph-ui-text);--cosmograph-timeline-axis-color: var(--cosmograph-ui-text)}.style_module_timeline__736434f7{position:relative;display:flex;background:var(--cosmograph-timeline-background);width:100%;min-height:25px;overflow:hidden}.style_module_timelineSvg__b916ad04{position:relative;width:100%;height:100%}.style_module_selection__ebee57f8{fill:var(--cosmograph-timeline-selection-color);fill-opacity:var(--cosmograph-timeline-selection-opacity);stroke:none}.style_module_axisTick__5865631d{color:var(--cosmograph-timeline-axis-color);font:var(--cosmograph-timeline-font-family);font-size:var(--cosmograph-timeline-font-size);user-select:none;-webkit-user-select:none;opacity:1;font-weight:300;text-anchor:initial;font-feature-settings:\"tnum\";alignment-baseline:text-before-edge}.style_module_axisLine__992b502d{opacity:.2;color:var(--cosmograph-timeline-axis-color)}.style_module_bar__114fa79f{fill:var(--cosmograph-timeline-bar-color);transform:scaleY(-1);opacity:0}.style_module_animationControl__ee52cd66{color:var(--cosmograph-timeline-axis-color);width:6%;max-width:30px;min-width:20px;cursor:pointer;display:none;align-items:center;user-select:none;-webkit-user-select:none;opacity:.5;position:relative;justify-content:center}.style_module_animationControl__ee52cd66>svg{width:50%;max-height:20px;padding-right:2px}.style_module_hidden__a73fe81a{display:none}.style_module_disabled__eb988570{opacity:.2;pointer-events:none}.style_module_highlightedBar__c2fc9bdc{fill:var(--cosmograph-timeline-highlighted-bar-color);transform:scaleY(-1);pointer-events:none}:root{--cosmograph-search-font-family: var(--cosmograph-ui-font-family);--cosmograph-search-font-size: 14px;--cosmograph-search-list-font-size: 13.5px;--cosmograph-search-text-color: var(--cosmograph-ui-text);--cosmograph-search-background: transparent;--cosmograph-search-list-background: rgba(0, 0, 0, .2);--cosmograph-search-list-match-background: rgba(255, 255, 255, .2);--cosmograph-search-list-match-color: var(--cosmograph-ui-text)}.style_module_searchInput__d7830601:hover{filter:brightness(1.2) contrast(1)}.style_module_searchInput__d7830601{width:100%;background:transparent;color:var(--cosmograph-search-text-color);border:none;border-bottom:.5px solid var(--cosmograph-search-text-color);padding:4px 20px 5px 2px;font-family:var(--cosmograph-search-font-family);font-size:var(--cosmograph-search-font-size);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;transition:opacity .2s ease-out}.style_module_searchInput__d7830601::selection{background:var(--cosmograph-search-list-match-background)}.style_module_searchInput__d7830601:focus{outline:none}.style_module_searchSuggestions__b0d3f71e{color:#fff;width:100%;padding:0;margin:0;background:transparent;overflow-y:auto;flex:1;min-height:0}.style_module_searchSuggestions__b0d3f71e li{padding:5px 10px;cursor:pointer;-webkit-user-select:none;user-select:none;display:block;font-weight:500;font-size:var(--cosmograph-search-list-font-size);max-width:100%;overflow:hidden}.style_module_searchSuggestions__b0d3f71e li>div{white-space:nowrap;font-weight:200;overflow:hidden;text-overflow:ellipsis;width:100%}.style_module_searchSuggestions__b0d3f71e li:hover{background:#ffffff1a}.style_module_searchSuggestions__b0d3f71e mark{background:var(--cosmograph-search-list-match-background);color:var(--cosmograph-search-list-match-color);border-radius:2px}.style_module_clearButton__5ebb41de{position:absolute;right:0;top:0;height:100%;background:none;border:none;color:var(--cosmograph-search-text-color);font-weight:300;cursor:pointer;font-size:16px;padding:0 4px;opacity:0;display:flex;align-items:center;justify-content:center;transition:opacity .2s ease-out}.style_module_clearButton__5ebb41de.style_module_visible__5be7493d:hover{transition:opacity .1s ease-in-out;opacity:1}.style_module_clearButton__5ebb41de.style_module_visible__5be7493d{opacity:.7}.style_module_placeholderWrapper__72d5eb0e{z-index:1;color:var(--cosmograph-search-text-color);font-family:var(--cosmograph-search-font-family);font-size:var(--cosmograph-search-font-size);position:absolute;top:0;left:0;width:100%;bottom:0;display:flex;line-height:1.25;align-items:center;transition:transform .3s ease-out,opacity .3s ease-out}.style_module_placeholderWrapper__72d5eb0e.style_module_hidden__acfb8431{transform:translate(-30px);pointer-events:none;opacity:0}.style_module_searchInput__d7830601:disabled,.style_module_searchInput__d7830601.style_module_disabled__62c35dc5{opacity:.2;cursor:not-allowed;pointer-events:none}.style_module_disabled__62c35dc5 .style_module_clearButton__5ebb41de{display:none}.style_module_disabled__62c35dc5 .style_module_placeholderWrapper__72d5eb0e{opacity:.3;cursor:not-allowed}.style_module_searchInputWrapper__1edbcb22{position:relative;display:flex;width:100%}.style_module_noResults__363397c3{opacity:.3!important;cursor:default;font-weight:300!important;padding:6px!important;text-align:center;pointer-events:none}.style_module_noResults__363397c3:hover{background:none}.style_module_loading__296e0212{opacity:.7!important;cursor:default;font-weight:300!important;padding:6px!important;text-align:center;pointer-events:none;-webkit-user-select:none;user-select:none}.style_module_dropdownContainer__d98287da{position:absolute;top:100%;left:0;width:100%;background:var(--cosmograph-search-list-background);border-radius:4px;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);opacity:0;transform:translateY(-10px);transition:opacity .2s ease-out,transform .2s ease-out;pointer-events:none;overflow:hidden;z-index:10;display:flex;flex-direction:column;padding-bottom:2px}.style_module_dropdownContainer__d98287da.style_module_upwards__e0b4831b{top:auto;bottom:100%;transform:translateY(10px)}.style_module_dropdownContainer__d98287da.style_module_visible__5be7493d{opacity:1;transform:translateY(0);pointer-events:auto}.style_module_dropdownContainer__d98287da.style_module_upwards__e0b4831b.style_module_visible__5be7493d{opacity:1;transform:translateY(-2px);pointer-events:auto}.style_module_footerContainer__73e7a066{flex-shrink:0}:root{--cosmograph-scrollbar-background: rgba(255, 255, 255, .1);--cosmograph-ui-background: rgb(45, 49, 58);--cosmograph-ui-text: #ffffffc7;--cosmograph-ui-tick-font-size: 11px;--cosmograph-ui-font-size: 12px;--cosmograph-ui-font-family: inherit;--cosmograph-ui-element-color: #5C616A;--cosmograph-ui-highlighted-element-color: white;--cosmograph-ui-selection-control-color: #8d949ea8;-webkit-font-smoothing:antialiased!important;text-rendering:optimizeLegibility!important}.style_module_cosmograph-ui__5acb97f1{background:var(--cosmograph-ui-background);color:var(--cosmograph-ui-text)}.style_module_scrollbar__f1516254 *::-webkit-scrollbar{width:5px;height:5px;border-radius:.3rem}.style_module_scrollbar__f1516254 *::-webkit-scrollbar-track{border-radius:.3rem}.style_module_scrollbar__f1516254 *::-webkit-scrollbar-corner{background:none!important}.style_module_scrollbar__f1516254 *::-webkit-scrollbar-button{display:none!important}.style_module_scrollbar__f1516254 *::-webkit-scrollbar-thumb{background-color:var(--cosmograph-scrollbar-background);transition:background-color .5s;border-radius:20px;border:3px solid var(--cosmograph-scrollbar-background)}@-moz-document url-prefix(){.style_module_scrollbar__f1516254 *{scrollbar-width:thin;scrollbar-color:var(--cosmograph-scrollbar-background) transparent;scrollbar-track-color:transparent;scrollbar-face-color:var(--cosmograph-scrollbar-background)}}:root{--cosmograph-histogram-background: var(--cosmograph-ui-background);--cosmograph-histogram-text-color: var(--cosmograph-ui-text);--cosmograph-histogram-axis-color: var(--cosmograph-ui-text);--cosmograph-histogram-selection-color: var(--cosmograph-ui-selection-control-color);--cosmograph-histogram-selection-opacity: .5;--cosmograph-histogram-bar-color: var(--cosmograph-ui-element-color);--cosmograph-histogram-highlighted-bar-color: var( --cosmograph-ui-highlighted-element-color);--cosmograph-histogram-font-family: var(--cosmograph-ui-font-family);--cosmograph-histogram-font-size: var(--cosmograph-ui-tick-font-size)}.style_module_histogram__9d8a77ea{position:relative;display:flex;min-height:25px;background:var(--cosmograph-histogram-background);width:100%}.style_module_histogramSvg__ccccb628{position:relative;width:100%;height:100%}.style_module_selection__7db96137{fill:var(--cosmograph-histogram-selection-color);fill-opacity:var(--cosmograph-histogram-selection-opacity);stroke:none}.style_module_axisTick__898e1f39{color:var(--cosmograph-histogram-axis-color);font-family:var(--cosmograph-histogram-font-family);font-size:var(--cosmograph-histogram-font-size);user-select:none;-webkit-user-select:none;alignment-baseline:text-before-edge;opacity:1;font-weight:300;text-anchor:initial;font-feature-settings:\"tnum\"}.style_module_bar__3c9ab488{fill:var(--cosmograph-histogram-bar-color);transform:scaleY(-1)}.style_module_highlightedBar__b193a8de{fill:var(--cosmograph-histogram-highlighted-bar-color);transform:scaleY(-1);pointer-events:none}:root{--cosmograph-bars-font-color: var(--cosmograph-ui-text);--cosmograph-bars-font-family: var(--cosmograph-ui-font-family);--cosmograph-bars-font-size: var(--cosmograph-ui-font-size);--cosmograph-bars-ui-font-size: 11.5px;--cosmograph-bars-background: var(--cosmograph-ui-element-color);--cosmograph-bars-bar-height: 20px;--cosmograph-bars-bar-bottom-margin: 2px;--cosmograph-bars-highlighted-color: var( --cosmograph-ui-highlighted-element-color)}.style_module_bars__25497ded{position:relative;width:100%;min-height:100px;user-select:none;flex-direction:column;-webkit-user-select:none}.style_module_bars__25497ded .scroll-container{position:relative;width:100%;overflow-y:hidden;overflow-x:hidden}.style_module_bars__25497ded .bars-container{position:relative;width:calc(100% - 1px);font-family:var(--cosmograph-bars-font-family)}.style_module_bars__25497ded .highlighted-bars-container{position:absolute;top:0;left:0;pointer-events:none}.style_module_bars__25497ded .row{height:var(--cosmograph-bars-bar-height);display:flex;align-items:center;margin-bottom:var(--cosmograph-bars-bar-bottom-margin);width:100%;transition:opacity .1s linear,filter .1s linear}.style_module_bars__25497ded .row:hover{filter:brightness(1.15) contrast(1.05);transition:opacity .1s linear,filter .1s linear}.style_module_bars__25497ded .row.unselected:hover{filter:brightness(.95) contrast(1.15);transition:filter .05s linear}.style_module_bars__25497ded .unselected{opacity:.85;filter:brightness(.8) contrast(1.1)}.style_module_bars__25497ded .selected{filter:brightness(1.05) contrast(1.05)}.style_module_bars__25497ded .selected>.info>.label{font-weight:600;filter:brightness(1.1) contrast(1.05)}.style_module_bars__25497ded .unselected>.info>.label{font-weight:300}.style_module_bars__25497ded .bar{height:100%;background-color:var(--cosmograph-bars-background);opacity:.8;transition:opacity .3s ease,width .3s ease}.style_module_bars__25497ded .bar-highlighted{height:100%;background-color:var(--cosmograph-bars-highlighted-color);opacity:.2;transition:opacity .3s ease,width .3s ease}.style_module_bars__25497ded .info{display:flex;justify-content:space-between;width:100%;padding:0 4px;position:absolute;font-size:var(--cosmograph-bars-font-size);font-feature-settings:\"tnum\";color:var(--cosmograph-bars-font-color);gap:2px}.style_module_bars__25497ded .label{min-width:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;transition:opacity .05s linear}.style_module_bars__25497ded .count{flex-shrink:0;font-weight:300;opacity:.8;transition:opacity .05s linear}.style_module_bars__25497ded .show-more{cursor:pointer;padding-top:2px;display:flex;font-weight:300;color:var(--cosmograph-bars-font-color);font-size:11px;justify-content:space-between;opacity:.6;font-size:var(--cosmograph-bars-ui-font-size);pointer-events:none;transition:opacity .1s linear}.style_module_bars__25497ded .show-more:hover{opacity:1;text-decoration:underline;text-underline-offset:1.5px;text-decoration-thickness:.25px}.style_module_bars__25497ded .show-more>span{pointer-events:all}.style_module_bars__25497ded .show-more-count{padding-right:5px;pointer-events:all;font-feature-settings:\"tnum\"}.style_module_bars__25497ded .unselected>.info>.label,.style_module_bars__25497ded .unselected>.info>.count{opacity:.5}.style_module_bars__25497ded .unselected:hover>.info>.label,.style_module_bars__25497ded .unselected:hover>.info>.count{opacity:1}.style_module_bars__25497ded .search-input{background:transparent;border:none;border-bottom:1px solid rgba(255,255,255,.3);font-size:13px!important;color:var(--cosmograph-bars-font-color);line-height:1.5;padding:2px;width:100%;position:relative;transition:border-bottom-color .2s}.style_module_bars__25497ded .search-input::placeholder{color:var(--cosmograph-bars-font-color)!important;opacity:.4;font-weight:300;font-family:inherit}.style_module_bars__25497ded .search-container{position:relative;width:100%;margin-bottom:4px;display:none;z-index:1}.style_module_bars__25497ded .clear-button{position:absolute;right:0;top:50%;transform:translateY(-50%);background:none;border:none;cursor:pointer;color:var(--cosmograph-bars-font-color);font-weight:300;font-size:16px;padding:0 4px;opacity:0;display:flex;align-items:center;justify-content:center;transition:opacity .2s ease-out}.style_module_bars__25497ded .clear-button.visible:hover{transition:opacity .1s ease-in-out;opacity:1}.style_module_bars__25497ded .clear-button.visible{opacity:.7}.style_module_bars__25497ded .clear-button svg{width:10px;height:10px;fill:currentColor}.style_module_bars__25497ded .sorting-block{visibility:hidden;margin-top:1px;display:flex;justify-content:space-between}.style_module_bars__25497ded .buttons-container{margin-top:4px;font-size:var(--cosmograph-bars-ui-font-size);display:flex;gap:4px;line-height:1.25}.style_module_bars__25497ded .buttons-container>div{transition:opacity .05s linear,filter .05s linear;padding:1px 5px;background:var(--cosmograph-bars-background);border-radius:4px;opacity:.9;display:flex;cursor:pointer;align-items:center}.style_module_bars__25497ded .buttons-container>div:hover{filter:brightness(1.2)}.style_module_bars__25497ded .reset-text{transition:opacity .05s linear,filter .05s linear;display:flex;font-size:var(--cosmograph-bars-ui-font-size);align-items:end;padding-right:4px;cursor:pointer;font-weight:300}.style_module_bars__25497ded .reset-text:hover{text-decoration:underline;text-underline-offset:1.5px;text-decoration-thickness:.25px}.style_module_bars__25497ded .reset-text.unselected{pointer-events:none;cursor:default;opacity:.7}.style_module_bars__25497ded :scope.reset-text:hover:not(.unselected){filter:brightness(1.5);opacity:1}:root{--cosmograph-size-legend-form-color: var(--cosmograph-ui-text);--cosmograph-size-legend-font-color: var(--cosmograph-ui-text);--cosmograph-size-legend-font-family: inherit;--cosmograph-size-legend-font-size: var(--cosmograph-ui-font-size);--cosmograph-size-legend-sublabel-font-size: 10px;--cosmograph-size-legend-hover-color: var(--cosmograph-ui-highlighted-element-color);--cosmograph-size-legend-line-radius: 2px;--cosmograph-size-legend-line-width: 30px;--cosmograph-size-legend-hide-transform: translateY(100%);--cosmograph-size-legend-show-transform: translateX(0)}.style_module_container__d2889234{display:flex;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete;overflow:hidden;min-height:25px}.style_module_legend__75c167f2{width:auto;display:flex;flex-direction:column;position:relative;font-size:var(--cosmograph-size-legend-font-size);font-family:var(--cosmograph-size-legend-font-family);user-select:none;-webkit-user-select:none;cursor:default;text-align:center;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete;font-weight:300;letter-spacing:-.04em;text-rendering:optimizelegibility;-webkit-font-smoothing:antialiased}.style_module_enabled__91eae57a{opacity:1;transform:var(--cosmograph-size-legend-show-transform)}.style_module_disabled__d51f7a10{opacity:0;transform:var(--cosmograph-size-legend-hide-transform);pointer-events:none;display:none!important}@starting-style{.style_module_container__d2889234.style_module_enabled__91eae57a,.style_module_legend__75c167f2.style_module_enabled__91eae57a{opacity:0;transform:var(--cosmograph-size-legend-hide-transform)}}.style_module_legend__75c167f2 .legend-content>div:first-child:not(:only-child){margin-right:.75rem}.style_module_legend__75c167f2 .circle{background-color:var(--cosmograph-size-legend-form-color);border-radius:50%;transition:background-color .15s ease-in-out;display:inline-block}.style_module_legend__75c167f2 .line{background-color:var(--cosmograph-size-legend-form-color);border-radius:var(--cosmograph-size-legend-line-radius);width:var(--cosmograph-size-legend-line-width);transition:background-color .15s ease-in-out;display:inline-block}.style_module_legend__75c167f2.style_module_events__894316a8{pointer-events:auto;cursor:pointer}.style_module_legend__75c167f2 .legend-content{display:flex;align-items:end;justify-content:center}.style_module_legend__75c167f2 .legend-content>div{transition:filter .1s ease-in-out,opacity .1s ease-in-out}.style_module_legend__75c167f2 .labels-wrapper{white-space:nowrap}.style_module_legend__75c167f2 .legend-item{display:flex;align-items:center;margin-top:var(--cosmograph-size-legend-items-margin)}.style_module_legend__75c167f2 .name{align-items:center;text-align:center;justify-content:center;display:flex;color:var(--cosmograph-size-legend-font-color);overflow:hidden;width:100%;margin-top:3px;word-break:break-all;white-space:pre-line;transition:color .15s ease-in-out;letter-spacing:-.02em}.style_module_legend__75c167f2 .label{color:var(--cosmograph-size-legend-font-color);overflow:hidden;transition:color .15s ease-in-out;text-overflow:ellipsis;font-feature-settings:\"tnum\"}.style_module_legend__75c167f2 .sublabel{padding-top:1px;font-size:var(--cosmograph-size-legend-sublabel-font-size);opacity:.5;line-height:1;min-width:10px;transition:color .15s ease-in-out}.style_module_hovered__1206707f .label,.style_module_hovered__1206707f .sublabel{color:var(--cosmograph-size-legend-hover-color);cursor:pointer}.style_module_hovered__1206707f .circle,.style_module_hovered__1206707f .line{background-color:var(--cosmograph-size-legend-hover-color);cursor:pointer}:root{--cosmograph-color-legend-range-font-color: var(--cosmograph-ui-text);--cosmograph-color-legend-range-font-family: var(--cosmograph-ui-font-family);--cosmograph-color-legend-range-font-size: var(--cosmograph-ui-font-size);--cosmograph-color-legend-range-label-font-size: var(--cosmograph-ui-font-size);--cosmograph-color-legend-range-sublabel-font-size: 10px;--cosmograph-color-legend-range-hover-color: var(--cosmograph-ui-highlighted-element-color);--cosmograph-color-legend-range-gradient-height: 6px;--cosmograph-color-legend-range-gradient-radius: 8px;--cosmograph-color-legend-range-gradient-top-margin: 6px;--cosmograph-color-legend-hide-transform: translateY(100%);--cosmograph-color-legend-show-transform: translateX(0)}.style_module_container__05cc807d{display:flex;min-width:150px;min-height:25px;width:100%;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete}.style_module_legend__a3e235e4{width:100%;font-weight:300;letter-spacing:-.04em;display:flex;flex-direction:column;font-size:var(--cosmograph-color-legend-range-font-size);font-family:var(--cosmograph-color-legend-range-font-family);user-select:none;-webkit-user-select:none;pointer-events:none;cursor:default;text-align:center;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete;text-rendering:optimizelegibility;-webkit-font-smoothing:antialiased}.style_module_enabled__b3120e27{opacity:1;transform:var(--cosmograph-color-legend-show-transform);pointer-events:auto}.style_module_disabled__c2dc158c{opacity:0;transform:var(--cosmograph-color-legend-hide-transform);pointer-events:none;display:none}@starting-style{.style_module_container__05cc807d.style_module_enabled__b3120e27,.style_module_legend__a3e235e4.style_module_enabled__b3120e27{opacity:0;transform:var(--cosmograph-color-legend-hide-transform)}}.style_module_legend__a3e235e4 .legend-content{display:flex;align-items:end;justify-content:space-between}.style_module_hovered__dfd7bb2c .label,.style_module_hovered__dfd7bb2c .sublabel{color:var(--cosmograph-size-legend-hover-color)!important;cursor:pointer}.style_module_legend__a3e235e4 .extent{white-space:nowrap;transition:filter .1s ease-in-out,opacity .1s ease-in-out}.style_module_legend__a3e235e4 .gradient{width:100%;margin-top:var(--cosmograph-color-legend-range-gradient-top-margin);height:var(--cosmograph-color-legend-range-gradient-height);border-radius:var(--cosmograph-color-legend-range-gradient-radius)}.style_module_legend__a3e235e4 .legend-item{display:flex;align-items:center;margin-top:var(--cosmograph-color-legend-range-items-margin)}.style_module_legend__a3e235e4 .name{align-items:center;text-align:center;justify-content:space-around;display:flex;color:var(--cosmograph-color-legend-range-font-color);overflow:hidden;width:100%;word-break:break-word;text-wrap:balance;white-space:pre-line;transition:color .15s ease-in-out;margin:0 4px;letter-spacing:-.02em;line-height:1.25}.style_module_legend__a3e235e4 .label{color:var(--cosmograph-color-legend-range-font-color);overflow:hidden;max-width:150px;text-overflow:ellipsis;font-size:var(--cosmograph-color-legend-range-label-font-size);transition:color .15s ease-in-out;line-height:1;font-feature-settings:\"tnum\"}.style_module_legend__a3e235e4 .sublabel{padding-top:1px;color:var(--cosmograph-color-legend-range-font-color);opacity:.55;font-size:var(--cosmograph-color-legend-range-sublabel-font-size);line-height:1;transition:color .15s ease-in-out}:root{--cosmograph-color-legend-type-font-color: var(--cosmograph-ui-text);--cosmograph-color-legend-type-font-family: var(--cosmograph-ui-font-family);--cosmograph-color-legend-type-font-size: 11px;--cosmograph-color-legend-type-hover-color: var(--cosmograph-ui-highlighted-element-color);--cosmograph-color-legend-type-others-color: #bab0ab;--cosmograph-color-legend-type-bullet-size: 8px;--cosmograph-color-legend-type-bullet-radius: 1rem;--cosmograph-color-legend-type-items-margin: 4px;--cosmograph-color-legend-type-hide-transform: translateY(125%);--cosmograph-color-legend-type-show-transform: translateX(0)}.style_module_enabled__277b2403{opacity:1;transform:var(--cosmograph-color-legend-type-show-transform)}.style_module_disabled__7a587f96{opacity:0;transform:var(--cosmograph-color-legend-type-hide-transform);display:none!important}.style_module_wrapper__ea8ca7f4{position:relative;max-width:100%;width:fit-content;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete}.style_module_typeLegend__15bf4b2f{position:relative;width:fit-content;max-width:100%;min-height:25px;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete;font-weight:300;letter-spacing:-.015em;text-rendering:optimizelegibility;-webkit-font-smoothing:antialiased}.style_module_typeLegend__15bf4b2f .reverted{flex-direction:row-reverse}.style_module_typeLegend__15bf4b2f .scroll-container{width:100%;display:flex;flex-direction:column;position:relative;font-size:var(--cosmograph-color-legend-type-font-size);font-family:var(--cosmograph-color-legend-type-font-family);user-select:none;-webkit-user-select:none;line-height:normal;overflow-x:hidden;overflow-y:auto;will-change:transform}@starting-style{.style_module_typeLegend__15bf4b2f.style_module_enabled__277b2403,.style_module_wrapper__ea8ca7f4.style_module_enabled__277b2403{opacity:0;transform:var(--cosmograph-color-legend-type-hide-transform)}}.style_module_typeLegend__15bf4b2f .legend-item{display:flex;align-items:center;position:absolute;margin-bottom:var(--cosmograph-color-legend-type-items-margin);pointer-events:none;width:100%;padding-left:1px;font-weight:300;transition:filter .1s ease-in-out,opacity .1s ease-in-out;min-height:calc(var(--cosmograph-color-legend-type-bullet-size) + 2px + var(--cosmograph-color-legend-type-items-margin));height:calc(var(--cosmograph-color-legend-type-bullet-size) + 2px);box-sizing:border-box}.style_module_typeLegend__15bf4b2f .unknown{background-color:var(--cosmograph-color-legend-type-unknown-color)}.style_module_typeLegend__15bf4b2f .others{background-color:var(--cosmograph-color-legend-type-others-color)}.style_module_typeLegend__15bf4b2f .bullet{height:var(--cosmograph-color-legend-type-bullet-size);width:var(--cosmograph-color-legend-type-bullet-size);min-height:var(--cosmograph-color-legend-type-bullet-size);min-width:var(--cosmograph-color-legend-type-bullet-size);border-radius:var(--cosmograph-color-legend-type-bullet-radius);pointer-events:all;margin-right:5px}.style_module_typeLegend__15bf4b2f .label{color:var(--cosmograph-color-legend-type-font-color);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - var(--cosmograph-color-legend-type-bullet-size) - 5px);pointer-events:all;transition:.05s linear color}.style_module_typeLegend__15bf4b2f .legend-item.reverted>.bullet{margin-right:0}.style_module_typeLegend__15bf4b2f .legend-item.reverted>.label{margin-right:5px}.style_module_typeLegend__15bf4b2f .show-more{cursor:pointer;padding-top:4px;display:none;font-weight:300;color:var(--cosmograph-color-legend-type-font-color);font-size:11px;opacity:.6;pointer-events:all;justify-content:space-between;transition:opacity .1s linear;font-feature-settings:\"tnum\"}.style_module_typeLegend__15bf4b2f .show-more:hover{opacity:1}.style_module_hovered__c0993502 .label,.style_module_hovered__c0993502 .sublabel{color:var(--cosmograph-color-legend-type-hover-color)!important;cursor:pointer}.style_module_selected__36e1dd81{filter:brightness(1)}.style_module_selected__36e1dd81>.style_module_label__afecc7a3{filter:brightness(1.2)}.style_module_unselected__4826cfb7{filter:brightness(.5)}:root{--cosmograph-button-color: var(--cosmograph-ui-text);--cosmograph-button-background: var(--cosmograph-ui-element-color);--cosmograph-button-border-radius: 2px}.style_module_button__e95a1138{background:var(--cosmograph-button-background);color:var(--cosmograph-button-color);border-radius:var(--cosmograph-button-border-radius);display:none;align-items:center;justify-content:center;width:25px;height:25px;margin:3px;padding:5px;cursor:pointer;filter:brightness(.95) contrast(.9);transition:filter .1s}.style_module_button__e95a1138:hover{filter:brightness(1.2) contrast(1)}')),document.head.appendChild(t)}}catch(e){console.error(\"vite-plugin-css-injected-by-js\",e)}})();var Mg=class extends mn{constructor(e,i){let n=Kt(Rg,i??{}),o=mn.extractConfig(n,Rg);super(e,o),this._extentElements=null,this._isHidden=!1,this._handleClick=r=>{var s,a;this._config.enableEvents&&((a=(s=this._config).onClick)===null||a===void 0||a.call(s,r))},this._handleHover=r=>{var s,a;this._config.enableEvents&&((a=(s=this._config).onHover)===null||a===void 0||a.call(s,r))},this._handleColorElementClick=r=>{var s,a;if(!this._config.enableEvents)return;let l=r.currentTarget.className.includes(\"min\")?\"min\":\"max\",c=l===\"min\"?this._config.onMinClick:this._config.onMaxClick;if(c){let u=l===\"min\"?0:1,d=(s=this._config.extent)===null||s===void 0?void 0:s[l===\"min\"?0:this._config.extent.length-1],h=(a=this._config.extentLabels)===null||a===void 0?void 0:a[u];c(d,h,r)}},this._handleColorElementHover=r=>{var s,a,l,c;if(!this._config.enableEvents||!this._config.extent)return;let u=r.currentTarget;if(!u)return;let d=u.classList.contains(\"min\")?\"min\":\"max\",h=r.type===\"mouseenter\",f=d===\"min\"?0:this._config.extent.length-1,v=(s=this._config.extent)===null||s===void 0?void 0:s[f],L=(a=this._config.extentLabels)===null||a===void 0?void 0:a[f];u.classList.toggle(yr.hovered,h),(c=(l=this._config).onHover)===null||c===void 0||c.call(l,{target:u,type:d,color:v,value:L})},this._config=n,this._containerNode=e,this._containerNode.classList.add(yr.container),this._createElements()}get extentElements(){return this._extentElements}get config(){return this._config}hide(){this._isHidden||(this._isHidden=!0,this._containerNode.classList.remove(yr.enabled),this._containerNode.classList.add(yr.disabled))}show(){this._isHidden&&(this._isHidden=!1,this._containerNode.classList.remove(yr.disabled),this._containerNode.classList.add(yr.enabled))}setConfig(e){this._config=Kt(Rg,e??{}),this.setDisplayStateConfig(mn.extractConfig(this._config,Rg)),this._updateLegend()}destroy(){this._legend&&(this._legend.removeEventListener(\"click\",this._handleClick),this._legend.removeEventListener(\"mouseover\",this._handleHover),this._extentElements&&[\"min\",\"max\"].forEach(e=>{let i=this._extentElements[e];i.removeEventListener(\"click\",this._handleColorElementClick),i.removeEventListener(\"mouseenter\",this._handleColorElementHover),i.removeEventListener(\"mouseleave\",this._handleColorElementHover)}),this._containerNode.removeChild(this._legend),super.destroy())}setLoadingState(){super.setLoadingState()}_createElements(){this._legend=document.createElement(\"div\"),this._legend.classList.add(yr.legend),this._legendElements=this._createLegend(),this._gradientElement=this._createGradientElement(),this._legend.appendChild(this._legendElements),this._legend.appendChild(this._gradientElement),this._containerNode.appendChild(this._legend),this._isHidden||this.show()}_createLegend(){let e=document.createElement(\"div\");e.classList.add(\"legend-content\");let i=document.createElement(\"div\");return i.classList.add(\"name\"),this._extentElements={min:this._createLabelExtent(\"min\"),max:this._createLabelExtent(\"max\")},e.appendChild(this._extentElements.min),e.appendChild(i),e.appendChild(this._extentElements.max),e}_createLabelExtent(e){let i=document.createElement(\"div\");i.classList.add(\"extent\"),i.classList.add(e);let n=document.createElement(\"div\");return n.classList.add(\"label\"),i.appendChild(n),i.addEventListener(\"click\",this._handleColorElementClick),i.addEventListener(\"mouseenter\",this._handleColorElementHover),i.addEventListener(\"mouseleave\",this._handleColorElementHover),i}_createGradientElement(){let e=document.createElement(\"div\");return e.classList.add(\"gradient\"),e}_updateLegend(){var e,i,n;if(this._config.extent){this.hideState();let o=this._legendElements.querySelector(\".name\");if(o){let s=this._config.label;o.textContent=typeof s==\"function\"?s():s??\"\"}let r=((e=this._config.extentLabels)===null||e===void 0?void 0:e[0])===((i=this._config.extentLabels)===null||i===void 0?void 0:i[1]);if(this._extentElements)if(r){if(this._extentElements.min.style.display=\"none\",this._extentElements.max.style.display=\"none\",o&&((n=this._config.extentLabels)===null||n===void 0?void 0:n[0])!==void 0){let s=this._formatLabel(this._config.extentLabels[0]),a=o.textContent?`${s}\n${o.textContent}`:s;o.textContent=a}}else this._updateLabelWrapper(\"min\"),this._updateLabelWrapper(\"max\"),this._extentElements.min.style.display=\"block\",this._extentElements.max.style.display=\"block\";this._updateGradient(),this._legend.classList.remove(yr.disabled),this._legend.classList.add(yr.enabled)}else this.showState(),this._legend.classList.remove(yr.enabled),this._legend.classList.add(yr.disabled)}_updateGradient(){if(!this._config.extent)return;let e=this._config.extent.map(i=>this._getColor(i)).filter((i,n,o)=>n===0||i!==o[n-1]);if(e.length===1){this._gradientElement.style.backgroundImage=\"none\",this._gradientElement.style.backgroundColor=e[0];return}if(this._config.discreteColors){let i=100/e.length,n=e.map((o,r)=>`${o} ${r*i}% ${(r+1)*i}%`);this._gradientElement.style.backgroundImage=`linear-gradient(to right, ${n.join(\", \")})`}else{let i=this._config.extent.map((n,o)=>`${this._getColor(n)} ${o/(this._config.extent.length-1)*100}%`).join(\", \");this._gradientElement.style.backgroundImage=`linear-gradient(to right, ${i})`}}_updateLabelWrapper(e){var i;let n=this._legendElements.querySelector(`.extent:${e===\"min\"?\"first-child\":\"last-child\"}`);if(!n)return;let o=e===\"min\"?0:1,r=(i=this._config.extentLabels)===null||i===void 0?void 0:i[o],s=n.querySelector(\".label\");s&&r!==void 0&&(s.textContent=this._formatLabel(r)),this._updateSublabel(n,e)}_updateSublabel(e,i){var n,o;let r=e.querySelector(\".sublabel\");this._config.showSublabels?(r||(r=document.createElement(\"div\"),r.classList.add(\"sublabel\"),e.appendChild(r)),r.textContent=i===\"min\"?(n=this._config.minSubLabel)!==null&&n!==void 0?n:\"min\":(o=this._config.maxSubLabel)!==null&&o!==void 0?o:\"max\"):r&&r.remove()}_formatLabel(e){return typeof e==\"string\"?e:this._config.labelFormatter?this._config.labelFormatter(e):e.toString()}_getColor(e){return Array.isArray(e)?`rgba(${e[0]}, ${e[1]}, ${e[2]}, ${e[3]})`:e}};var zg={items:[],labelFormatter:void 0,enableEvents:!0,expanded:!1,maxDisplayedItems:15,alignRight:!1,onClick:void 0,onHover:void 0,noDataMessage:\"No legend data\",loadingMessage:\"Data loading...\"};var CK=\"style_module_enabled__277b2403\",kK=\"style_module_disabled__7a587f96\",EK=\"style_module_wrapper__ea8ca7f4\",IK=\"style_module_typeLegend__15bf4b2f\",TK=\"style_module_hovered__c0993502\",AK=\"style_module_selected__36e1dd81\",LK=\"style_module_label__afecc7a3\",DK=\"style_module_unselected__4826cfb7\",co={enabled:CK,disabled:kK,wrapper:EK,typeLegend:IK,hovered:TK,selected:AK,label:LK,unselected:DK};(function(){\"use strict\";try{if(typeof document<\"u\"){var t=document.createElement(\"style\");t.appendChild(document.createTextNode('@keyframes style_module_fadeIn__ffac87fd{0%{opacity:0}to{opacity:.2}}.style_module_displayState__6ae19b84{position:absolute;color:var(--cosmograph-ui-text);display:flex;justify-content:center;align-items:center;height:100%;width:100%;min-width:100px;opacity:.2;margin:auto;font-size:calc(var(--cosmograph-ui-font-size) + 1px);letter-spacing:-.02em;font-weight:200;user-select:none;-webkit-user-select:none;animation:style_module_fadeIn__ffac87fd .3s ease-in-out}:root{--cosmograph-timeline-selection-color: var(--cosmograph-ui-selection-control-color);--cosmograph-timeline-selection-opacity: .5;--cosmograph-timeline-bar-color: var(--cosmograph-ui-element-color);--cosmograph-timeline-highlighted-bar-color: var(--cosmograph-ui-highlighted-element-color);--cosmograph-timeline-font-family: var(--cosmograph-ui-font-family);--cosmograph-timeline-font-size: var(--cosmograph-ui-tick-font-size);--cosmograph-timeline-background: var(--cosmograph-ui-background);--cosmograph-timeline-text-color: var(--cosmograph-ui-text);--cosmograph-timeline-axis-color: var(--cosmograph-ui-text)}.style_module_timeline__736434f7{position:relative;display:flex;background:var(--cosmograph-timeline-background);width:100%;min-height:25px;overflow:hidden}.style_module_timelineSvg__b916ad04{position:relative;width:100%;height:100%}.style_module_selection__ebee57f8{fill:var(--cosmograph-timeline-selection-color);fill-opacity:var(--cosmograph-timeline-selection-opacity);stroke:none}.style_module_axisTick__5865631d{color:var(--cosmograph-timeline-axis-color);font:var(--cosmograph-timeline-font-family);font-size:var(--cosmograph-timeline-font-size);user-select:none;-webkit-user-select:none;opacity:1;font-weight:300;text-anchor:initial;font-feature-settings:\"tnum\";alignment-baseline:text-before-edge}.style_module_axisLine__992b502d{opacity:.2;color:var(--cosmograph-timeline-axis-color)}.style_module_bar__114fa79f{fill:var(--cosmograph-timeline-bar-color);transform:scaleY(-1);opacity:0}.style_module_animationControl__ee52cd66{color:var(--cosmograph-timeline-axis-color);width:6%;max-width:30px;min-width:20px;cursor:pointer;display:none;align-items:center;user-select:none;-webkit-user-select:none;opacity:.5;position:relative;justify-content:center}.style_module_animationControl__ee52cd66>svg{width:50%;max-height:20px;padding-right:2px}.style_module_hidden__a73fe81a{display:none}.style_module_disabled__eb988570{opacity:.2;pointer-events:none}.style_module_highlightedBar__c2fc9bdc{fill:var(--cosmograph-timeline-highlighted-bar-color);transform:scaleY(-1);pointer-events:none}:root{--cosmograph-search-font-family: var(--cosmograph-ui-font-family);--cosmograph-search-font-size: 14px;--cosmograph-search-list-font-size: 13.5px;--cosmograph-search-text-color: var(--cosmograph-ui-text);--cosmograph-search-background: transparent;--cosmograph-search-list-background: rgba(0, 0, 0, .2);--cosmograph-search-list-match-background: rgba(255, 255, 255, .2);--cosmograph-search-list-match-color: var(--cosmograph-ui-text)}.style_module_searchInput__d7830601:hover{filter:brightness(1.2) contrast(1)}.style_module_searchInput__d7830601{width:100%;background:transparent;color:var(--cosmograph-search-text-color);border:none;border-bottom:.5px solid var(--cosmograph-search-text-color);padding:4px 20px 5px 2px;font-family:var(--cosmograph-search-font-family);font-size:var(--cosmograph-search-font-size);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;transition:opacity .2s ease-out}.style_module_searchInput__d7830601::selection{background:var(--cosmograph-search-list-match-background)}.style_module_searchInput__d7830601:focus{outline:none}.style_module_searchSuggestions__b0d3f71e{color:#fff;width:100%;padding:0;margin:0;background:transparent;overflow-y:auto;flex:1;min-height:0}.style_module_searchSuggestions__b0d3f71e li{padding:5px 10px;cursor:pointer;-webkit-user-select:none;user-select:none;display:block;font-weight:500;font-size:var(--cosmograph-search-list-font-size);max-width:100%;overflow:hidden}.style_module_searchSuggestions__b0d3f71e li>div{white-space:nowrap;font-weight:200;overflow:hidden;text-overflow:ellipsis;width:100%}.style_module_searchSuggestions__b0d3f71e li:hover{background:#ffffff1a}.style_module_searchSuggestions__b0d3f71e mark{background:var(--cosmograph-search-list-match-background);color:var(--cosmograph-search-list-match-color);border-radius:2px}.style_module_clearButton__5ebb41de{position:absolute;right:0;top:0;height:100%;background:none;border:none;color:var(--cosmograph-search-text-color);font-weight:300;cursor:pointer;font-size:16px;padding:0 4px;opacity:0;display:flex;align-items:center;justify-content:center;transition:opacity .2s ease-out}.style_module_clearButton__5ebb41de.style_module_visible__5be7493d:hover{transition:opacity .1s ease-in-out;opacity:1}.style_module_clearButton__5ebb41de.style_module_visible__5be7493d{opacity:.7}.style_module_placeholderWrapper__72d5eb0e{z-index:1;color:var(--cosmograph-search-text-color);font-family:var(--cosmograph-search-font-family);font-size:var(--cosmograph-search-font-size);position:absolute;top:0;left:0;width:100%;bottom:0;display:flex;line-height:1.25;align-items:center;transition:transform .3s ease-out,opacity .3s ease-out}.style_module_placeholderWrapper__72d5eb0e.style_module_hidden__acfb8431{transform:translate(-30px);pointer-events:none;opacity:0}.style_module_searchInput__d7830601:disabled,.style_module_searchInput__d7830601.style_module_disabled__62c35dc5{opacity:.2;cursor:not-allowed;pointer-events:none}.style_module_disabled__62c35dc5 .style_module_clearButton__5ebb41de{display:none}.style_module_disabled__62c35dc5 .style_module_placeholderWrapper__72d5eb0e{opacity:.3;cursor:not-allowed}.style_module_searchInputWrapper__1edbcb22{position:relative;display:flex;width:100%}.style_module_noResults__363397c3{opacity:.3!important;cursor:default;font-weight:300!important;padding:6px!important;text-align:center;pointer-events:none}.style_module_noResults__363397c3:hover{background:none}.style_module_loading__296e0212{opacity:.7!important;cursor:default;font-weight:300!important;padding:6px!important;text-align:center;pointer-events:none;-webkit-user-select:none;user-select:none}.style_module_dropdownContainer__d98287da{position:absolute;top:100%;left:0;width:100%;background:var(--cosmograph-search-list-background);border-radius:4px;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);opacity:0;transform:translateY(-10px);transition:opacity .2s ease-out,transform .2s ease-out;pointer-events:none;overflow:hidden;z-index:10;display:flex;flex-direction:column;padding-bottom:2px}.style_module_dropdownContainer__d98287da.style_module_upwards__e0b4831b{top:auto;bottom:100%;transform:translateY(10px)}.style_module_dropdownContainer__d98287da.style_module_visible__5be7493d{opacity:1;transform:translateY(0);pointer-events:auto}.style_module_dropdownContainer__d98287da.style_module_upwards__e0b4831b.style_module_visible__5be7493d{opacity:1;transform:translateY(-2px);pointer-events:auto}.style_module_footerContainer__73e7a066{flex-shrink:0}:root{--cosmograph-scrollbar-background: rgba(255, 255, 255, .1);--cosmograph-ui-background: rgb(45, 49, 58);--cosmograph-ui-text: #ffffffc7;--cosmograph-ui-tick-font-size: 11px;--cosmograph-ui-font-size: 12px;--cosmograph-ui-font-family: inherit;--cosmograph-ui-element-color: #5C616A;--cosmograph-ui-highlighted-element-color: white;--cosmograph-ui-selection-control-color: #8d949ea8;-webkit-font-smoothing:antialiased!important;text-rendering:optimizeLegibility!important}.style_module_cosmograph-ui__5acb97f1{background:var(--cosmograph-ui-background);color:var(--cosmograph-ui-text)}.style_module_scrollbar__f1516254 *::-webkit-scrollbar{width:5px;height:5px;border-radius:.3rem}.style_module_scrollbar__f1516254 *::-webkit-scrollbar-track{border-radius:.3rem}.style_module_scrollbar__f1516254 *::-webkit-scrollbar-corner{background:none!important}.style_module_scrollbar__f1516254 *::-webkit-scrollbar-button{display:none!important}.style_module_scrollbar__f1516254 *::-webkit-scrollbar-thumb{background-color:var(--cosmograph-scrollbar-background);transition:background-color .5s;border-radius:20px;border:3px solid var(--cosmograph-scrollbar-background)}@-moz-document url-prefix(){.style_module_scrollbar__f1516254 *{scrollbar-width:thin;scrollbar-color:var(--cosmograph-scrollbar-background) transparent;scrollbar-track-color:transparent;scrollbar-face-color:var(--cosmograph-scrollbar-background)}}:root{--cosmograph-histogram-background: var(--cosmograph-ui-background);--cosmograph-histogram-text-color: var(--cosmograph-ui-text);--cosmograph-histogram-axis-color: var(--cosmograph-ui-text);--cosmograph-histogram-selection-color: var(--cosmograph-ui-selection-control-color);--cosmograph-histogram-selection-opacity: .5;--cosmograph-histogram-bar-color: var(--cosmograph-ui-element-color);--cosmograph-histogram-highlighted-bar-color: var( --cosmograph-ui-highlighted-element-color);--cosmograph-histogram-font-family: var(--cosmograph-ui-font-family);--cosmograph-histogram-font-size: var(--cosmograph-ui-tick-font-size)}.style_module_histogram__9d8a77ea{position:relative;display:flex;min-height:25px;background:var(--cosmograph-histogram-background);width:100%}.style_module_histogramSvg__ccccb628{position:relative;width:100%;height:100%}.style_module_selection__7db96137{fill:var(--cosmograph-histogram-selection-color);fill-opacity:var(--cosmograph-histogram-selection-opacity);stroke:none}.style_module_axisTick__898e1f39{color:var(--cosmograph-histogram-axis-color);font-family:var(--cosmograph-histogram-font-family);font-size:var(--cosmograph-histogram-font-size);user-select:none;-webkit-user-select:none;alignment-baseline:text-before-edge;opacity:1;font-weight:300;text-anchor:initial;font-feature-settings:\"tnum\"}.style_module_bar__3c9ab488{fill:var(--cosmograph-histogram-bar-color);transform:scaleY(-1)}.style_module_highlightedBar__b193a8de{fill:var(--cosmograph-histogram-highlighted-bar-color);transform:scaleY(-1);pointer-events:none}:root{--cosmograph-bars-font-color: var(--cosmograph-ui-text);--cosmograph-bars-font-family: var(--cosmograph-ui-font-family);--cosmograph-bars-font-size: var(--cosmograph-ui-font-size);--cosmograph-bars-ui-font-size: 11.5px;--cosmograph-bars-background: var(--cosmograph-ui-element-color);--cosmograph-bars-bar-height: 20px;--cosmograph-bars-bar-bottom-margin: 2px;--cosmograph-bars-highlighted-color: var( --cosmograph-ui-highlighted-element-color)}.style_module_bars__25497ded{position:relative;width:100%;min-height:100px;user-select:none;flex-direction:column;-webkit-user-select:none}.style_module_bars__25497ded .scroll-container{position:relative;width:100%;overflow-y:hidden;overflow-x:hidden}.style_module_bars__25497ded .bars-container{position:relative;width:calc(100% - 1px);font-family:var(--cosmograph-bars-font-family)}.style_module_bars__25497ded .highlighted-bars-container{position:absolute;top:0;left:0;pointer-events:none}.style_module_bars__25497ded .row{height:var(--cosmograph-bars-bar-height);display:flex;align-items:center;margin-bottom:var(--cosmograph-bars-bar-bottom-margin);width:100%;transition:opacity .1s linear,filter .1s linear}.style_module_bars__25497ded .row:hover{filter:brightness(1.15) contrast(1.05);transition:opacity .1s linear,filter .1s linear}.style_module_bars__25497ded .row.unselected:hover{filter:brightness(.95) contrast(1.15);transition:filter .05s linear}.style_module_bars__25497ded .unselected{opacity:.85;filter:brightness(.8) contrast(1.1)}.style_module_bars__25497ded .selected{filter:brightness(1.05) contrast(1.05)}.style_module_bars__25497ded .selected>.info>.label{font-weight:600;filter:brightness(1.1) contrast(1.05)}.style_module_bars__25497ded .unselected>.info>.label{font-weight:300}.style_module_bars__25497ded .bar{height:100%;background-color:var(--cosmograph-bars-background);opacity:.8;transition:opacity .3s ease,width .3s ease}.style_module_bars__25497ded .bar-highlighted{height:100%;background-color:var(--cosmograph-bars-highlighted-color);opacity:.2;transition:opacity .3s ease,width .3s ease}.style_module_bars__25497ded .info{display:flex;justify-content:space-between;width:100%;padding:0 4px;position:absolute;font-size:var(--cosmograph-bars-font-size);font-feature-settings:\"tnum\";color:var(--cosmograph-bars-font-color);gap:2px}.style_module_bars__25497ded .label{min-width:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;transition:opacity .05s linear}.style_module_bars__25497ded .count{flex-shrink:0;font-weight:300;opacity:.8;transition:opacity .05s linear}.style_module_bars__25497ded .show-more{cursor:pointer;padding-top:2px;display:flex;font-weight:300;color:var(--cosmograph-bars-font-color);font-size:11px;justify-content:space-between;opacity:.6;font-size:var(--cosmograph-bars-ui-font-size);pointer-events:none;transition:opacity .1s linear}.style_module_bars__25497ded .show-more:hover{opacity:1;text-decoration:underline;text-underline-offset:1.5px;text-decoration-thickness:.25px}.style_module_bars__25497ded .show-more>span{pointer-events:all}.style_module_bars__25497ded .show-more-count{padding-right:5px;pointer-events:all;font-feature-settings:\"tnum\"}.style_module_bars__25497ded .unselected>.info>.label,.style_module_bars__25497ded .unselected>.info>.count{opacity:.5}.style_module_bars__25497ded .unselected:hover>.info>.label,.style_module_bars__25497ded .unselected:hover>.info>.count{opacity:1}.style_module_bars__25497ded .search-input{background:transparent;border:none;border-bottom:1px solid rgba(255,255,255,.3);font-size:13px!important;color:var(--cosmograph-bars-font-color);line-height:1.5;padding:2px;width:100%;position:relative;transition:border-bottom-color .2s}.style_module_bars__25497ded .search-input::placeholder{color:var(--cosmograph-bars-font-color)!important;opacity:.4;font-weight:300;font-family:inherit}.style_module_bars__25497ded .search-container{position:relative;width:100%;margin-bottom:4px;display:none;z-index:1}.style_module_bars__25497ded .clear-button{position:absolute;right:0;top:50%;transform:translateY(-50%);background:none;border:none;cursor:pointer;color:var(--cosmograph-bars-font-color);font-weight:300;font-size:16px;padding:0 4px;opacity:0;display:flex;align-items:center;justify-content:center;transition:opacity .2s ease-out}.style_module_bars__25497ded .clear-button.visible:hover{transition:opacity .1s ease-in-out;opacity:1}.style_module_bars__25497ded .clear-button.visible{opacity:.7}.style_module_bars__25497ded .clear-button svg{width:10px;height:10px;fill:currentColor}.style_module_bars__25497ded .sorting-block{visibility:hidden;margin-top:1px;display:flex;justify-content:space-between}.style_module_bars__25497ded .buttons-container{margin-top:4px;font-size:var(--cosmograph-bars-ui-font-size);display:flex;gap:4px;line-height:1.25}.style_module_bars__25497ded .buttons-container>div{transition:opacity .05s linear,filter .05s linear;padding:1px 5px;background:var(--cosmograph-bars-background);border-radius:4px;opacity:.9;display:flex;cursor:pointer;align-items:center}.style_module_bars__25497ded .buttons-container>div:hover{filter:brightness(1.2)}.style_module_bars__25497ded .reset-text{transition:opacity .05s linear,filter .05s linear;display:flex;font-size:var(--cosmograph-bars-ui-font-size);align-items:end;padding-right:4px;cursor:pointer;font-weight:300}.style_module_bars__25497ded .reset-text:hover{text-decoration:underline;text-underline-offset:1.5px;text-decoration-thickness:.25px}.style_module_bars__25497ded .reset-text.unselected{pointer-events:none;cursor:default;opacity:.7}.style_module_bars__25497ded :scope.reset-text:hover:not(.unselected){filter:brightness(1.5);opacity:1}:root{--cosmograph-size-legend-form-color: var(--cosmograph-ui-text);--cosmograph-size-legend-font-color: var(--cosmograph-ui-text);--cosmograph-size-legend-font-family: inherit;--cosmograph-size-legend-font-size: var(--cosmograph-ui-font-size);--cosmograph-size-legend-sublabel-font-size: 10px;--cosmograph-size-legend-hover-color: var(--cosmograph-ui-highlighted-element-color);--cosmograph-size-legend-line-radius: 2px;--cosmograph-size-legend-line-width: 30px;--cosmograph-size-legend-hide-transform: translateY(100%);--cosmograph-size-legend-show-transform: translateX(0)}.style_module_container__d2889234{display:flex;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete;overflow:hidden;min-height:25px}.style_module_legend__75c167f2{width:auto;display:flex;flex-direction:column;position:relative;font-size:var(--cosmograph-size-legend-font-size);font-family:var(--cosmograph-size-legend-font-family);user-select:none;-webkit-user-select:none;cursor:default;text-align:center;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete;font-weight:300;letter-spacing:-.04em;text-rendering:optimizelegibility;-webkit-font-smoothing:antialiased}.style_module_enabled__91eae57a{opacity:1;transform:var(--cosmograph-size-legend-show-transform)}.style_module_disabled__d51f7a10{opacity:0;transform:var(--cosmograph-size-legend-hide-transform);pointer-events:none;display:none!important}@starting-style{.style_module_container__d2889234.style_module_enabled__91eae57a,.style_module_legend__75c167f2.style_module_enabled__91eae57a{opacity:0;transform:var(--cosmograph-size-legend-hide-transform)}}.style_module_legend__75c167f2 .legend-content>div:first-child:not(:only-child){margin-right:.75rem}.style_module_legend__75c167f2 .circle{background-color:var(--cosmograph-size-legend-form-color);border-radius:50%;transition:background-color .15s ease-in-out;display:inline-block}.style_module_legend__75c167f2 .line{background-color:var(--cosmograph-size-legend-form-color);border-radius:var(--cosmograph-size-legend-line-radius);width:var(--cosmograph-size-legend-line-width);transition:background-color .15s ease-in-out;display:inline-block}.style_module_legend__75c167f2.style_module_events__894316a8{pointer-events:auto;cursor:pointer}.style_module_legend__75c167f2 .legend-content{display:flex;align-items:end;justify-content:center}.style_module_legend__75c167f2 .legend-content>div{transition:filter .1s ease-in-out,opacity .1s ease-in-out}.style_module_legend__75c167f2 .labels-wrapper{white-space:nowrap}.style_module_legend__75c167f2 .legend-item{display:flex;align-items:center;margin-top:var(--cosmograph-size-legend-items-margin)}.style_module_legend__75c167f2 .name{align-items:center;text-align:center;justify-content:center;display:flex;color:var(--cosmograph-size-legend-font-color);overflow:hidden;width:100%;margin-top:3px;word-break:break-all;white-space:pre-line;transition:color .15s ease-in-out;letter-spacing:-.02em}.style_module_legend__75c167f2 .label{color:var(--cosmograph-size-legend-font-color);overflow:hidden;transition:color .15s ease-in-out;text-overflow:ellipsis;font-feature-settings:\"tnum\"}.style_module_legend__75c167f2 .sublabel{padding-top:1px;font-size:var(--cosmograph-size-legend-sublabel-font-size);opacity:.5;line-height:1;min-width:10px;transition:color .15s ease-in-out}.style_module_hovered__1206707f .label,.style_module_hovered__1206707f .sublabel{color:var(--cosmograph-size-legend-hover-color);cursor:pointer}.style_module_hovered__1206707f .circle,.style_module_hovered__1206707f .line{background-color:var(--cosmograph-size-legend-hover-color);cursor:pointer}:root{--cosmograph-color-legend-range-font-color: var(--cosmograph-ui-text);--cosmograph-color-legend-range-font-family: var(--cosmograph-ui-font-family);--cosmograph-color-legend-range-font-size: var(--cosmograph-ui-font-size);--cosmograph-color-legend-range-label-font-size: var(--cosmograph-ui-font-size);--cosmograph-color-legend-range-sublabel-font-size: 10px;--cosmograph-color-legend-range-hover-color: var(--cosmograph-ui-highlighted-element-color);--cosmograph-color-legend-range-gradient-height: 6px;--cosmograph-color-legend-range-gradient-radius: 8px;--cosmograph-color-legend-range-gradient-top-margin: 6px;--cosmograph-color-legend-hide-transform: translateY(100%);--cosmograph-color-legend-show-transform: translateX(0)}.style_module_container__05cc807d{display:flex;min-width:150px;min-height:25px;width:100%;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete}.style_module_legend__a3e235e4{width:100%;font-weight:300;letter-spacing:-.04em;display:flex;flex-direction:column;font-size:var(--cosmograph-color-legend-range-font-size);font-family:var(--cosmograph-color-legend-range-font-family);user-select:none;-webkit-user-select:none;pointer-events:none;cursor:default;text-align:center;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete;text-rendering:optimizelegibility;-webkit-font-smoothing:antialiased}.style_module_enabled__b3120e27{opacity:1;transform:var(--cosmograph-color-legend-show-transform);pointer-events:auto}.style_module_disabled__c2dc158c{opacity:0;transform:var(--cosmograph-color-legend-hide-transform);pointer-events:none;display:none}@starting-style{.style_module_container__05cc807d.style_module_enabled__b3120e27,.style_module_legend__a3e235e4.style_module_enabled__b3120e27{opacity:0;transform:var(--cosmograph-color-legend-hide-transform)}}.style_module_legend__a3e235e4 .legend-content{display:flex;align-items:end;justify-content:space-between}.style_module_hovered__dfd7bb2c .label,.style_module_hovered__dfd7bb2c .sublabel{color:var(--cosmograph-size-legend-hover-color)!important;cursor:pointer}.style_module_legend__a3e235e4 .extent{white-space:nowrap;transition:filter .1s ease-in-out,opacity .1s ease-in-out}.style_module_legend__a3e235e4 .gradient{width:100%;margin-top:var(--cosmograph-color-legend-range-gradient-top-margin);height:var(--cosmograph-color-legend-range-gradient-height);border-radius:var(--cosmograph-color-legend-range-gradient-radius)}.style_module_legend__a3e235e4 .legend-item{display:flex;align-items:center;margin-top:var(--cosmograph-color-legend-range-items-margin)}.style_module_legend__a3e235e4 .name{align-items:center;text-align:center;justify-content:space-around;display:flex;color:var(--cosmograph-color-legend-range-font-color);overflow:hidden;width:100%;word-break:break-word;text-wrap:balance;white-space:pre-line;transition:color .15s ease-in-out;margin:0 4px;letter-spacing:-.02em;line-height:1.25}.style_module_legend__a3e235e4 .label{color:var(--cosmograph-color-legend-range-font-color);overflow:hidden;max-width:150px;text-overflow:ellipsis;font-size:var(--cosmograph-color-legend-range-label-font-size);transition:color .15s ease-in-out;line-height:1;font-feature-settings:\"tnum\"}.style_module_legend__a3e235e4 .sublabel{padding-top:1px;color:var(--cosmograph-color-legend-range-font-color);opacity:.55;font-size:var(--cosmograph-color-legend-range-sublabel-font-size);line-height:1;transition:color .15s ease-in-out}:root{--cosmograph-color-legend-type-font-color: var(--cosmograph-ui-text);--cosmograph-color-legend-type-font-family: var(--cosmograph-ui-font-family);--cosmograph-color-legend-type-font-size: 11px;--cosmograph-color-legend-type-hover-color: var(--cosmograph-ui-highlighted-element-color);--cosmograph-color-legend-type-others-color: #bab0ab;--cosmograph-color-legend-type-bullet-size: 8px;--cosmograph-color-legend-type-bullet-radius: 1rem;--cosmograph-color-legend-type-items-margin: 4px;--cosmograph-color-legend-type-hide-transform: translateY(125%);--cosmograph-color-legend-type-show-transform: translateX(0)}.style_module_enabled__277b2403{opacity:1;transform:var(--cosmograph-color-legend-type-show-transform)}.style_module_disabled__7a587f96{opacity:0;transform:var(--cosmograph-color-legend-type-hide-transform);display:none!important}.style_module_wrapper__ea8ca7f4{position:relative;max-width:100%;width:fit-content;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete}.style_module_typeLegend__15bf4b2f{position:relative;width:fit-content;max-width:100%;min-height:25px;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete;font-weight:300;letter-spacing:-.015em;text-rendering:optimizelegibility;-webkit-font-smoothing:antialiased}.style_module_typeLegend__15bf4b2f .reverted{flex-direction:row-reverse}.style_module_typeLegend__15bf4b2f .scroll-container{width:100%;display:flex;flex-direction:column;position:relative;font-size:var(--cosmograph-color-legend-type-font-size);font-family:var(--cosmograph-color-legend-type-font-family);user-select:none;-webkit-user-select:none;line-height:normal;overflow-x:hidden;overflow-y:auto;will-change:transform}@starting-style{.style_module_typeLegend__15bf4b2f.style_module_enabled__277b2403,.style_module_wrapper__ea8ca7f4.style_module_enabled__277b2403{opacity:0;transform:var(--cosmograph-color-legend-type-hide-transform)}}.style_module_typeLegend__15bf4b2f .legend-item{display:flex;align-items:center;position:absolute;margin-bottom:var(--cosmograph-color-legend-type-items-margin);pointer-events:none;width:100%;padding-left:1px;font-weight:300;transition:filter .1s ease-in-out,opacity .1s ease-in-out;min-height:calc(var(--cosmograph-color-legend-type-bullet-size) + 2px + var(--cosmograph-color-legend-type-items-margin));height:calc(var(--cosmograph-color-legend-type-bullet-size) + 2px);box-sizing:border-box}.style_module_typeLegend__15bf4b2f .unknown{background-color:var(--cosmograph-color-legend-type-unknown-color)}.style_module_typeLegend__15bf4b2f .others{background-color:var(--cosmograph-color-legend-type-others-color)}.style_module_typeLegend__15bf4b2f .bullet{height:var(--cosmograph-color-legend-type-bullet-size);width:var(--cosmograph-color-legend-type-bullet-size);min-height:var(--cosmograph-color-legend-type-bullet-size);min-width:var(--cosmograph-color-legend-type-bullet-size);border-radius:var(--cosmograph-color-legend-type-bullet-radius);pointer-events:all;margin-right:5px}.style_module_typeLegend__15bf4b2f .label{color:var(--cosmograph-color-legend-type-font-color);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - var(--cosmograph-color-legend-type-bullet-size) - 5px);pointer-events:all;transition:.05s linear color}.style_module_typeLegend__15bf4b2f .legend-item.reverted>.bullet{margin-right:0}.style_module_typeLegend__15bf4b2f .legend-item.reverted>.label{margin-right:5px}.style_module_typeLegend__15bf4b2f .show-more{cursor:pointer;padding-top:4px;display:none;font-weight:300;color:var(--cosmograph-color-legend-type-font-color);font-size:11px;opacity:.6;pointer-events:all;justify-content:space-between;transition:opacity .1s linear;font-feature-settings:\"tnum\"}.style_module_typeLegend__15bf4b2f .show-more:hover{opacity:1}.style_module_hovered__c0993502 .label,.style_module_hovered__c0993502 .sublabel{color:var(--cosmograph-color-legend-type-hover-color)!important;cursor:pointer}.style_module_selected__36e1dd81{filter:brightness(1)}.style_module_selected__36e1dd81>.style_module_label__afecc7a3{filter:brightness(1.2)}.style_module_unselected__4826cfb7{filter:brightness(.5)}:root{--cosmograph-button-color: var(--cosmograph-ui-text);--cosmograph-button-background: var(--cosmograph-ui-element-color);--cosmograph-button-border-radius: 2px}.style_module_button__e95a1138{background:var(--cosmograph-button-background);color:var(--cosmograph-button-color);border-radius:var(--cosmograph-button-border-radius);display:none;align-items:center;justify-content:center;width:25px;height:25px;margin:3px;padding:5px;cursor:pointer;filter:brightness(.95) contrast(.9);transition:filter .1s}.style_module_button__e95a1138:hover{filter:brightness(1.2) contrast(1)}')),document.head.appendChild(t)}}catch(e){console.error(\"vite-plugin-css-injected-by-js\",e)}})();var Og=class extends mn{constructor(e,i){let n=Kt(zg,i??{});super(e,mn.extractConfig(n,zg)),this._itemHeight=0,this._itemMargin=0,this._visibleItemsCount=0,this._startIndex=0,this._endIndex=0,this._listItems=[],this._isExpanded=!1,this._isHidden=!1,this._calculatedWidth=0,this._maxMeasuredWidth=0,this._maxMeasuredCharLength=0,this._handleShowMore=()=>{var o,r;this._isExpanded=!this._isExpanded,this._isExpanded?(this._containerNode.style.pointerEvents=\"all\",this._scrollContainer.style.overflowY=\"auto\",this._showMoreButton.firstChild.textContent=\"show less\"):(this._containerNode.style.pointerEvents=\"none\",this._scrollContainer.style.overflowY=\"hidden\",this._scrollContainer.scrollTop=0,this._handleShowMoreCount()),(r=(o=this._config).onShowMoreClick)===null||r===void 0||r.call(o,this._isExpanded),this._calculateOptimalWidth(),this._updateVisibleItems()},this._handleShowMoreCount=()=>{let{maxDisplayedItems:o=15}=this._config,r=this._listItems.length-o;this._showMoreButton.firstChild.textContent=`${r} more...`},this._handleScroll=()=>{requestAnimationFrame(()=>{this._updateVisibleItems()})},this._config=n,this._containerNode=e,this._containerNode.classList.add(co.typeLegend),this._containerNode.classList.add(Rx.scrollbar),this._createElements()}get config(){return this._config}get legendItems(){return this._legendItems}get isExpanded(){return this._isExpanded}setConfig(e){var i;let n=this._isExpanded;this._config=Kt(zg,e??{}),this.setDisplayStateConfig(mn.extractConfig(this._config,zg)),this._isExpanded=(i=e?.expanded)!==null&&i!==void 0?i:n,this._updateLegend()}setSelectedItem(e){this._selectedItem=e,this._updateVisibleItems()}resetList(){this._scrollContainer.scrollTop=0,this._selectedItem=void 0,this._updateVisibleItems()}getConfig(){return this._config}show(){this._isHidden&&(this._isHidden=!1,this._containerNode.classList.remove(co.disabled),this._containerNode.classList.add(co.enabled))}hide(){this._isHidden||(this._isHidden=!0,this._containerNode.classList.remove(co.enabled),this._containerNode.classList.add(co.disabled))}destroy(){this._scrollContainer.removeEventListener(\"scroll\",this._handleScroll),this._containerNode.innerHTML=\"\",super.destroy()}setLoadingState(){super.setLoadingState()}_updateLegend(){let{maxDisplayedItems:e=15,items:i}=this._config;if(i!=null&&i.length){this.hideState(),this._wrapper.classList.remove(co.disabled),this._wrapper.classList.add(co.enabled),this._listItems=i;let n=this._listItems.length;this._calculateItemDimensions(),this._calculateOptimalWidth(),this._visibleItemsCount=e>n?n:e;let o=this._itemHeight+this._itemMargin,r=Math.ceil(this._visibleItemsCount*o-this._itemMargin);this._scrollContainer.style.height=`${r}px`,this._legendItems.style.height=`${Math.ceil(this._listItems.length*o)}px`,this._scrollContainer.style.overflowY=this._isExpanded?\"auto\":\"hidden\",this._containerNode.style.pointerEvents=this._isExpanded?\"all\":\"none\",this._updateVisibleItems(),this._showMoreButton.style.display=this._listItems.length>e?\"block\":\"none\"}else this.showState(),this._wrapper.classList.remove(co.enabled),this._wrapper.classList.add(co.disabled)}_updateVisibleItems(){let e=this._itemHeight+this._itemMargin,i=3,n=this._scrollContainer.scrollTop;this._startIndex=Math.max(0,Math.floor(n/e)-i);let o=this._isExpanded?Math.ceil(this._scrollContainer.clientHeight/e+i*2):this._visibleItemsCount;this._endIndex=Math.min(this._startIndex+o,this._listItems.length);let r=document.createDocumentFragment();for(let s=this._startIndex;s<this._endIndex;s++){let a=this._listItems[s];if(a){let l=this._createLegendItem(a);l.style.position=\"absolute\",l.style.top=`${s*e}px`,r.appendChild(l)}}this._legendItems.innerHTML=\"\",this._legendItems.appendChild(r),this._updateShowMoreButton()}_createElements(){this._wrapper=document.createElement(\"div\"),this._wrapper.classList.add(co.wrapper),this._scrollContainer=document.createElement(\"div\"),this._scrollContainer.classList.add(\"scroll-container\"),this._scrollContainer.addEventListener(\"scroll\",this._handleScroll,{passive:!0}),this._legendItems=document.createElement(\"div\"),this._legendItems.className=\"legend-items\",this._scrollContainer.appendChild(this._legendItems),this._showMoreButton=this._createShowMoreButton(),this._wrapper.appendChild(this._scrollContainer),this._wrapper.appendChild(this._showMoreButton),this._containerNode.appendChild(this._wrapper),this._isHidden||this.show()}_createShowMoreButton(){let e=document.createElement(\"div\");e.classList.add(\"show-more\"),e.addEventListener(\"click\",this._handleShowMore);let i=document.createElement(\"span\");return e.appendChild(i),e}_updateShowMoreButton(){this._isExpanded?this._showMoreButton.firstChild.textContent=\"show less\":this._handleShowMoreCount()}_calculateItemDimensions(){let e=this._createLegendItem({label:\"Sample\",color:\"#000000\"});e.style.visibility=\"hidden\",e.style.position=\"absolute\",this._legendItems.appendChild(e);let i=window.getComputedStyle(e);this._itemHeight=e.offsetHeight,this._itemMargin=parseFloat(i.marginTop)+parseFloat(i.marginBottom),this._legendItems.removeChild(e)}_createLegendItem(e){let i=document.createElement(\"div\");i.classList.add(\"legend-item\"),i.title=e.label,this._config.alignRight&&i.classList.add(\"reverted\"),this._selectedItem&&i.classList.add(this._selectedItem.label===e.label?co.selected:co.unselected),this._config.enableEvents&&(this._config.onClick&&(i.style.cursor=\"pointer\",i.addEventListener(\"click\",r=>this._config.onClick(r,e))),this._config.onHover&&(i.addEventListener(\"mouseenter\",r=>{i.classList.add(co.hovered),this._config.onHover(r,e)}),i.addEventListener(\"mouseleave\",r=>{i.classList.remove(co.hovered),this._config.onHover(r,e)})));let n=document.createElement(\"div\");n.className=\"bullet\",n.style.backgroundColor=e.color;let o=document.createElement(\"div\");return o.className=\"label\",o.style.whiteSpace=\"nowrap\",o.textContent=e.label,i.appendChild(n),i.appendChild(o),i}_calculateOptimalWidth(){var e;if(!this._listItems.length)return;let i=0;for(let d of this._listItems)d.label&&d.label.length>i&&(i=d.label.length);if(this._listItems.length>(this._config.maxDisplayedItems||15)){let d=this._listItems.length-(this._config.maxDisplayedItems||15);i=Math.max(i,`${d} more...`.length,9)}if(i<=this._maxMeasuredCharLength){this._maxMeasuredWidth&&this._applyCalculatedWidth(this._maxMeasuredWidth);return}this._maxMeasuredCharLength=i;let n=getComputedStyle(this._containerNode).getPropertyValue(\"--cosmograph-color-legend-type-font-size\")||\"11px\",o=getComputedStyle(this._containerNode).getPropertyValue(\"--cosmograph-color-legend-type-font-family\")||\"inherit\",r=\"300\",s=document.createElement(\"canvas\").getContext(\"2d\");s.font=`${r} ${n} ${o}`;let a=0;if(this._listItems.forEach(d=>{let h=s.measureText(d.label).width;h>a&&(a=h)}),this._listItems.length>(this._config.maxDisplayedItems||15)){let d=this._listItems.length-(this._config.maxDisplayedItems||15);a=Math.max(a,s.measureText(`${d} more...`).width,s.measureText(\"show less\").width)}let l=13+a+10,c=((e=this._containerNode.parentElement)===null||e===void 0?void 0:e.offsetWidth)||0,u=c>0?Math.min(c-20,l):l;this._calculatedWidth=Math.max(100,u),this._maxMeasuredWidth=this._calculatedWidth,this._applyCalculatedWidth(this._calculatedWidth)}_applyCalculatedWidth(e){this._containerNode.style.width=`${e}px`,this._wrapper.style.width=`${e}px`}};var F7={onClick:void 0,iconSvg:void 0,description:void 0};var PK=\"style_module_button__e95a1138\",U7={button:PK};(function(){\"use strict\";try{if(typeof document<\"u\"){var t=document.createElement(\"style\");t.appendChild(document.createTextNode('@keyframes style_module_fadeIn__ffac87fd{0%{opacity:0}to{opacity:.2}}.style_module_displayState__6ae19b84{position:absolute;color:var(--cosmograph-ui-text);display:flex;justify-content:center;align-items:center;height:100%;width:100%;min-width:100px;opacity:.2;margin:auto;font-size:calc(var(--cosmograph-ui-font-size) + 1px);letter-spacing:-.02em;font-weight:200;user-select:none;-webkit-user-select:none;animation:style_module_fadeIn__ffac87fd .3s ease-in-out}:root{--cosmograph-timeline-selection-color: var(--cosmograph-ui-selection-control-color);--cosmograph-timeline-selection-opacity: .5;--cosmograph-timeline-bar-color: var(--cosmograph-ui-element-color);--cosmograph-timeline-highlighted-bar-color: var(--cosmograph-ui-highlighted-element-color);--cosmograph-timeline-font-family: var(--cosmograph-ui-font-family);--cosmograph-timeline-font-size: var(--cosmograph-ui-tick-font-size);--cosmograph-timeline-background: var(--cosmograph-ui-background);--cosmograph-timeline-text-color: var(--cosmograph-ui-text);--cosmograph-timeline-axis-color: var(--cosmograph-ui-text)}.style_module_timeline__736434f7{position:relative;display:flex;background:var(--cosmograph-timeline-background);width:100%;min-height:25px;overflow:hidden}.style_module_timelineSvg__b916ad04{position:relative;width:100%;height:100%}.style_module_selection__ebee57f8{fill:var(--cosmograph-timeline-selection-color);fill-opacity:var(--cosmograph-timeline-selection-opacity);stroke:none}.style_module_axisTick__5865631d{color:var(--cosmograph-timeline-axis-color);font:var(--cosmograph-timeline-font-family);font-size:var(--cosmograph-timeline-font-size);user-select:none;-webkit-user-select:none;opacity:1;font-weight:300;text-anchor:initial;font-feature-settings:\"tnum\";alignment-baseline:text-before-edge}.style_module_axisLine__992b502d{opacity:.2;color:var(--cosmograph-timeline-axis-color)}.style_module_bar__114fa79f{fill:var(--cosmograph-timeline-bar-color);transform:scaleY(-1);opacity:0}.style_module_animationControl__ee52cd66{color:var(--cosmograph-timeline-axis-color);width:6%;max-width:30px;min-width:20px;cursor:pointer;display:none;align-items:center;user-select:none;-webkit-user-select:none;opacity:.5;position:relative;justify-content:center}.style_module_animationControl__ee52cd66>svg{width:50%;max-height:20px;padding-right:2px}.style_module_hidden__a73fe81a{display:none}.style_module_disabled__eb988570{opacity:.2;pointer-events:none}.style_module_highlightedBar__c2fc9bdc{fill:var(--cosmograph-timeline-highlighted-bar-color);transform:scaleY(-1);pointer-events:none}:root{--cosmograph-search-font-family: var(--cosmograph-ui-font-family);--cosmograph-search-font-size: 14px;--cosmograph-search-list-font-size: 13.5px;--cosmograph-search-text-color: var(--cosmograph-ui-text);--cosmograph-search-background: transparent;--cosmograph-search-list-background: rgba(0, 0, 0, .2);--cosmograph-search-list-match-background: rgba(255, 255, 255, .2);--cosmograph-search-list-match-color: var(--cosmograph-ui-text)}.style_module_searchInput__d7830601:hover{filter:brightness(1.2) contrast(1)}.style_module_searchInput__d7830601{width:100%;background:transparent;color:var(--cosmograph-search-text-color);border:none;border-bottom:.5px solid var(--cosmograph-search-text-color);padding:4px 20px 5px 2px;font-family:var(--cosmograph-search-font-family);font-size:var(--cosmograph-search-font-size);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;transition:opacity .2s ease-out}.style_module_searchInput__d7830601::selection{background:var(--cosmograph-search-list-match-background)}.style_module_searchInput__d7830601:focus{outline:none}.style_module_searchSuggestions__b0d3f71e{color:#fff;width:100%;padding:0;margin:0;background:transparent;overflow-y:auto;flex:1;min-height:0}.style_module_searchSuggestions__b0d3f71e li{padding:5px 10px;cursor:pointer;-webkit-user-select:none;user-select:none;display:block;font-weight:500;font-size:var(--cosmograph-search-list-font-size);max-width:100%;overflow:hidden}.style_module_searchSuggestions__b0d3f71e li>div{white-space:nowrap;font-weight:200;overflow:hidden;text-overflow:ellipsis;width:100%}.style_module_searchSuggestions__b0d3f71e li:hover{background:#ffffff1a}.style_module_searchSuggestions__b0d3f71e mark{background:var(--cosmograph-search-list-match-background);color:var(--cosmograph-search-list-match-color);border-radius:2px}.style_module_clearButton__5ebb41de{position:absolute;right:0;top:0;height:100%;background:none;border:none;color:var(--cosmograph-search-text-color);font-weight:300;cursor:pointer;font-size:16px;padding:0 4px;opacity:0;display:flex;align-items:center;justify-content:center;transition:opacity .2s ease-out}.style_module_clearButton__5ebb41de.style_module_visible__5be7493d:hover{transition:opacity .1s ease-in-out;opacity:1}.style_module_clearButton__5ebb41de.style_module_visible__5be7493d{opacity:.7}.style_module_placeholderWrapper__72d5eb0e{z-index:1;color:var(--cosmograph-search-text-color);font-family:var(--cosmograph-search-font-family);font-size:var(--cosmograph-search-font-size);position:absolute;top:0;left:0;width:100%;bottom:0;display:flex;line-height:1.25;align-items:center;transition:transform .3s ease-out,opacity .3s ease-out}.style_module_placeholderWrapper__72d5eb0e.style_module_hidden__acfb8431{transform:translate(-30px);pointer-events:none;opacity:0}.style_module_searchInput__d7830601:disabled,.style_module_searchInput__d7830601.style_module_disabled__62c35dc5{opacity:.2;cursor:not-allowed;pointer-events:none}.style_module_disabled__62c35dc5 .style_module_clearButton__5ebb41de{display:none}.style_module_disabled__62c35dc5 .style_module_placeholderWrapper__72d5eb0e{opacity:.3;cursor:not-allowed}.style_module_searchInputWrapper__1edbcb22{position:relative;display:flex;width:100%}.style_module_noResults__363397c3{opacity:.3!important;cursor:default;font-weight:300!important;padding:6px!important;text-align:center;pointer-events:none}.style_module_noResults__363397c3:hover{background:none}.style_module_loading__296e0212{opacity:.7!important;cursor:default;font-weight:300!important;padding:6px!important;text-align:center;pointer-events:none;-webkit-user-select:none;user-select:none}.style_module_dropdownContainer__d98287da{position:absolute;top:100%;left:0;width:100%;background:var(--cosmograph-search-list-background);border-radius:4px;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);opacity:0;transform:translateY(-10px);transition:opacity .2s ease-out,transform .2s ease-out;pointer-events:none;overflow:hidden;z-index:10;display:flex;flex-direction:column;padding-bottom:2px}.style_module_dropdownContainer__d98287da.style_module_upwards__e0b4831b{top:auto;bottom:100%;transform:translateY(10px)}.style_module_dropdownContainer__d98287da.style_module_visible__5be7493d{opacity:1;transform:translateY(0);pointer-events:auto}.style_module_dropdownContainer__d98287da.style_module_upwards__e0b4831b.style_module_visible__5be7493d{opacity:1;transform:translateY(-2px);pointer-events:auto}.style_module_footerContainer__73e7a066{flex-shrink:0}:root{--cosmograph-scrollbar-background: rgba(255, 255, 255, .1);--cosmograph-ui-background: rgb(45, 49, 58);--cosmograph-ui-text: #ffffffc7;--cosmograph-ui-tick-font-size: 11px;--cosmograph-ui-font-size: 12px;--cosmograph-ui-font-family: inherit;--cosmograph-ui-element-color: #5C616A;--cosmograph-ui-highlighted-element-color: white;--cosmograph-ui-selection-control-color: #8d949ea8;-webkit-font-smoothing:antialiased!important;text-rendering:optimizeLegibility!important}.style_module_cosmograph-ui__5acb97f1{background:var(--cosmograph-ui-background);color:var(--cosmograph-ui-text)}.style_module_scrollbar__f1516254 *::-webkit-scrollbar{width:5px;height:5px;border-radius:.3rem}.style_module_scrollbar__f1516254 *::-webkit-scrollbar-track{border-radius:.3rem}.style_module_scrollbar__f1516254 *::-webkit-scrollbar-corner{background:none!important}.style_module_scrollbar__f1516254 *::-webkit-scrollbar-button{display:none!important}.style_module_scrollbar__f1516254 *::-webkit-scrollbar-thumb{background-color:var(--cosmograph-scrollbar-background);transition:background-color .5s;border-radius:20px;border:3px solid var(--cosmograph-scrollbar-background)}@-moz-document url-prefix(){.style_module_scrollbar__f1516254 *{scrollbar-width:thin;scrollbar-color:var(--cosmograph-scrollbar-background) transparent;scrollbar-track-color:transparent;scrollbar-face-color:var(--cosmograph-scrollbar-background)}}:root{--cosmograph-histogram-background: var(--cosmograph-ui-background);--cosmograph-histogram-text-color: var(--cosmograph-ui-text);--cosmograph-histogram-axis-color: var(--cosmograph-ui-text);--cosmograph-histogram-selection-color: var(--cosmograph-ui-selection-control-color);--cosmograph-histogram-selection-opacity: .5;--cosmograph-histogram-bar-color: var(--cosmograph-ui-element-color);--cosmograph-histogram-highlighted-bar-color: var( --cosmograph-ui-highlighted-element-color);--cosmograph-histogram-font-family: var(--cosmograph-ui-font-family);--cosmograph-histogram-font-size: var(--cosmograph-ui-tick-font-size)}.style_module_histogram__9d8a77ea{position:relative;display:flex;min-height:25px;background:var(--cosmograph-histogram-background);width:100%}.style_module_histogramSvg__ccccb628{position:relative;width:100%;height:100%}.style_module_selection__7db96137{fill:var(--cosmograph-histogram-selection-color);fill-opacity:var(--cosmograph-histogram-selection-opacity);stroke:none}.style_module_axisTick__898e1f39{color:var(--cosmograph-histogram-axis-color);font-family:var(--cosmograph-histogram-font-family);font-size:var(--cosmograph-histogram-font-size);user-select:none;-webkit-user-select:none;alignment-baseline:text-before-edge;opacity:1;font-weight:300;text-anchor:initial;font-feature-settings:\"tnum\"}.style_module_bar__3c9ab488{fill:var(--cosmograph-histogram-bar-color);transform:scaleY(-1)}.style_module_highlightedBar__b193a8de{fill:var(--cosmograph-histogram-highlighted-bar-color);transform:scaleY(-1);pointer-events:none}:root{--cosmograph-bars-font-color: var(--cosmograph-ui-text);--cosmograph-bars-font-family: var(--cosmograph-ui-font-family);--cosmograph-bars-font-size: var(--cosmograph-ui-font-size);--cosmograph-bars-ui-font-size: 11.5px;--cosmograph-bars-background: var(--cosmograph-ui-element-color);--cosmograph-bars-bar-height: 20px;--cosmograph-bars-bar-bottom-margin: 2px;--cosmograph-bars-highlighted-color: var( --cosmograph-ui-highlighted-element-color)}.style_module_bars__25497ded{position:relative;width:100%;min-height:100px;user-select:none;flex-direction:column;-webkit-user-select:none}.style_module_bars__25497ded .scroll-container{position:relative;width:100%;overflow-y:hidden;overflow-x:hidden}.style_module_bars__25497ded .bars-container{position:relative;width:calc(100% - 1px);font-family:var(--cosmograph-bars-font-family)}.style_module_bars__25497ded .highlighted-bars-container{position:absolute;top:0;left:0;pointer-events:none}.style_module_bars__25497ded .row{height:var(--cosmograph-bars-bar-height);display:flex;align-items:center;margin-bottom:var(--cosmograph-bars-bar-bottom-margin);width:100%;transition:opacity .1s linear,filter .1s linear}.style_module_bars__25497ded .row:hover{filter:brightness(1.15) contrast(1.05);transition:opacity .1s linear,filter .1s linear}.style_module_bars__25497ded .row.unselected:hover{filter:brightness(.95) contrast(1.15);transition:filter .05s linear}.style_module_bars__25497ded .unselected{opacity:.85;filter:brightness(.8) contrast(1.1)}.style_module_bars__25497ded .selected{filter:brightness(1.05) contrast(1.05)}.style_module_bars__25497ded .selected>.info>.label{font-weight:600;filter:brightness(1.1) contrast(1.05)}.style_module_bars__25497ded .unselected>.info>.label{font-weight:300}.style_module_bars__25497ded .bar{height:100%;background-color:var(--cosmograph-bars-background);opacity:.8;transition:opacity .3s ease,width .3s ease}.style_module_bars__25497ded .bar-highlighted{height:100%;background-color:var(--cosmograph-bars-highlighted-color);opacity:.2;transition:opacity .3s ease,width .3s ease}.style_module_bars__25497ded .info{display:flex;justify-content:space-between;width:100%;padding:0 4px;position:absolute;font-size:var(--cosmograph-bars-font-size);font-feature-settings:\"tnum\";color:var(--cosmograph-bars-font-color);gap:2px}.style_module_bars__25497ded .label{min-width:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;transition:opacity .05s linear}.style_module_bars__25497ded .count{flex-shrink:0;font-weight:300;opacity:.8;transition:opacity .05s linear}.style_module_bars__25497ded .show-more{cursor:pointer;padding-top:2px;display:flex;font-weight:300;color:var(--cosmograph-bars-font-color);font-size:11px;justify-content:space-between;opacity:.6;font-size:var(--cosmograph-bars-ui-font-size);pointer-events:none;transition:opacity .1s linear}.style_module_bars__25497ded .show-more:hover{opacity:1;text-decoration:underline;text-underline-offset:1.5px;text-decoration-thickness:.25px}.style_module_bars__25497ded .show-more>span{pointer-events:all}.style_module_bars__25497ded .show-more-count{padding-right:5px;pointer-events:all;font-feature-settings:\"tnum\"}.style_module_bars__25497ded .unselected>.info>.label,.style_module_bars__25497ded .unselected>.info>.count{opacity:.5}.style_module_bars__25497ded .unselected:hover>.info>.label,.style_module_bars__25497ded .unselected:hover>.info>.count{opacity:1}.style_module_bars__25497ded .search-input{background:transparent;border:none;border-bottom:1px solid rgba(255,255,255,.3);font-size:13px!important;color:var(--cosmograph-bars-font-color);line-height:1.5;padding:2px;width:100%;position:relative;transition:border-bottom-color .2s}.style_module_bars__25497ded .search-input::placeholder{color:var(--cosmograph-bars-font-color)!important;opacity:.4;font-weight:300;font-family:inherit}.style_module_bars__25497ded .search-container{position:relative;width:100%;margin-bottom:4px;display:none;z-index:1}.style_module_bars__25497ded .clear-button{position:absolute;right:0;top:50%;transform:translateY(-50%);background:none;border:none;cursor:pointer;color:var(--cosmograph-bars-font-color);font-weight:300;font-size:16px;padding:0 4px;opacity:0;display:flex;align-items:center;justify-content:center;transition:opacity .2s ease-out}.style_module_bars__25497ded .clear-button.visible:hover{transition:opacity .1s ease-in-out;opacity:1}.style_module_bars__25497ded .clear-button.visible{opacity:.7}.style_module_bars__25497ded .clear-button svg{width:10px;height:10px;fill:currentColor}.style_module_bars__25497ded .sorting-block{visibility:hidden;margin-top:1px;display:flex;justify-content:space-between}.style_module_bars__25497ded .buttons-container{margin-top:4px;font-size:var(--cosmograph-bars-ui-font-size);display:flex;gap:4px;line-height:1.25}.style_module_bars__25497ded .buttons-container>div{transition:opacity .05s linear,filter .05s linear;padding:1px 5px;background:var(--cosmograph-bars-background);border-radius:4px;opacity:.9;display:flex;cursor:pointer;align-items:center}.style_module_bars__25497ded .buttons-container>div:hover{filter:brightness(1.2)}.style_module_bars__25497ded .reset-text{transition:opacity .05s linear,filter .05s linear;display:flex;font-size:var(--cosmograph-bars-ui-font-size);align-items:end;padding-right:4px;cursor:pointer;font-weight:300}.style_module_bars__25497ded .reset-text:hover{text-decoration:underline;text-underline-offset:1.5px;text-decoration-thickness:.25px}.style_module_bars__25497ded .reset-text.unselected{pointer-events:none;cursor:default;opacity:.7}.style_module_bars__25497ded :scope.reset-text:hover:not(.unselected){filter:brightness(1.5);opacity:1}:root{--cosmograph-size-legend-form-color: var(--cosmograph-ui-text);--cosmograph-size-legend-font-color: var(--cosmograph-ui-text);--cosmograph-size-legend-font-family: inherit;--cosmograph-size-legend-font-size: var(--cosmograph-ui-font-size);--cosmograph-size-legend-sublabel-font-size: 10px;--cosmograph-size-legend-hover-color: var(--cosmograph-ui-highlighted-element-color);--cosmograph-size-legend-line-radius: 2px;--cosmograph-size-legend-line-width: 30px;--cosmograph-size-legend-hide-transform: translateY(100%);--cosmograph-size-legend-show-transform: translateX(0)}.style_module_container__d2889234{display:flex;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete;overflow:hidden;min-height:25px}.style_module_legend__75c167f2{width:auto;display:flex;flex-direction:column;position:relative;font-size:var(--cosmograph-size-legend-font-size);font-family:var(--cosmograph-size-legend-font-family);user-select:none;-webkit-user-select:none;cursor:default;text-align:center;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete;font-weight:300;letter-spacing:-.04em;text-rendering:optimizelegibility;-webkit-font-smoothing:antialiased}.style_module_enabled__91eae57a{opacity:1;transform:var(--cosmograph-size-legend-show-transform)}.style_module_disabled__d51f7a10{opacity:0;transform:var(--cosmograph-size-legend-hide-transform);pointer-events:none;display:none!important}@starting-style{.style_module_container__d2889234.style_module_enabled__91eae57a,.style_module_legend__75c167f2.style_module_enabled__91eae57a{opacity:0;transform:var(--cosmograph-size-legend-hide-transform)}}.style_module_legend__75c167f2 .legend-content>div:first-child:not(:only-child){margin-right:.75rem}.style_module_legend__75c167f2 .circle{background-color:var(--cosmograph-size-legend-form-color);border-radius:50%;transition:background-color .15s ease-in-out;display:inline-block}.style_module_legend__75c167f2 .line{background-color:var(--cosmograph-size-legend-form-color);border-radius:var(--cosmograph-size-legend-line-radius);width:var(--cosmograph-size-legend-line-width);transition:background-color .15s ease-in-out;display:inline-block}.style_module_legend__75c167f2.style_module_events__894316a8{pointer-events:auto;cursor:pointer}.style_module_legend__75c167f2 .legend-content{display:flex;align-items:end;justify-content:center}.style_module_legend__75c167f2 .legend-content>div{transition:filter .1s ease-in-out,opacity .1s ease-in-out}.style_module_legend__75c167f2 .labels-wrapper{white-space:nowrap}.style_module_legend__75c167f2 .legend-item{display:flex;align-items:center;margin-top:var(--cosmograph-size-legend-items-margin)}.style_module_legend__75c167f2 .name{align-items:center;text-align:center;justify-content:center;display:flex;color:var(--cosmograph-size-legend-font-color);overflow:hidden;width:100%;margin-top:3px;word-break:break-all;white-space:pre-line;transition:color .15s ease-in-out;letter-spacing:-.02em}.style_module_legend__75c167f2 .label{color:var(--cosmograph-size-legend-font-color);overflow:hidden;transition:color .15s ease-in-out;text-overflow:ellipsis;font-feature-settings:\"tnum\"}.style_module_legend__75c167f2 .sublabel{padding-top:1px;font-size:var(--cosmograph-size-legend-sublabel-font-size);opacity:.5;line-height:1;min-width:10px;transition:color .15s ease-in-out}.style_module_hovered__1206707f .label,.style_module_hovered__1206707f .sublabel{color:var(--cosmograph-size-legend-hover-color);cursor:pointer}.style_module_hovered__1206707f .circle,.style_module_hovered__1206707f .line{background-color:var(--cosmograph-size-legend-hover-color);cursor:pointer}:root{--cosmograph-color-legend-range-font-color: var(--cosmograph-ui-text);--cosmograph-color-legend-range-font-family: var(--cosmograph-ui-font-family);--cosmograph-color-legend-range-font-size: var(--cosmograph-ui-font-size);--cosmograph-color-legend-range-label-font-size: var(--cosmograph-ui-font-size);--cosmograph-color-legend-range-sublabel-font-size: 10px;--cosmograph-color-legend-range-hover-color: var(--cosmograph-ui-highlighted-element-color);--cosmograph-color-legend-range-gradient-height: 6px;--cosmograph-color-legend-range-gradient-radius: 8px;--cosmograph-color-legend-range-gradient-top-margin: 6px;--cosmograph-color-legend-hide-transform: translateY(100%);--cosmograph-color-legend-show-transform: translateX(0)}.style_module_container__05cc807d{display:flex;min-width:150px;min-height:25px;width:100%;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete}.style_module_legend__a3e235e4{width:100%;font-weight:300;letter-spacing:-.04em;display:flex;flex-direction:column;font-size:var(--cosmograph-color-legend-range-font-size);font-family:var(--cosmograph-color-legend-range-font-family);user-select:none;-webkit-user-select:none;pointer-events:none;cursor:default;text-align:center;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete;text-rendering:optimizelegibility;-webkit-font-smoothing:antialiased}.style_module_enabled__b3120e27{opacity:1;transform:var(--cosmograph-color-legend-show-transform);pointer-events:auto}.style_module_disabled__c2dc158c{opacity:0;transform:var(--cosmograph-color-legend-hide-transform);pointer-events:none;display:none}@starting-style{.style_module_container__05cc807d.style_module_enabled__b3120e27,.style_module_legend__a3e235e4.style_module_enabled__b3120e27{opacity:0;transform:var(--cosmograph-color-legend-hide-transform)}}.style_module_legend__a3e235e4 .legend-content{display:flex;align-items:end;justify-content:space-between}.style_module_hovered__dfd7bb2c .label,.style_module_hovered__dfd7bb2c .sublabel{color:var(--cosmograph-size-legend-hover-color)!important;cursor:pointer}.style_module_legend__a3e235e4 .extent{white-space:nowrap;transition:filter .1s ease-in-out,opacity .1s ease-in-out}.style_module_legend__a3e235e4 .gradient{width:100%;margin-top:var(--cosmograph-color-legend-range-gradient-top-margin);height:var(--cosmograph-color-legend-range-gradient-height);border-radius:var(--cosmograph-color-legend-range-gradient-radius)}.style_module_legend__a3e235e4 .legend-item{display:flex;align-items:center;margin-top:var(--cosmograph-color-legend-range-items-margin)}.style_module_legend__a3e235e4 .name{align-items:center;text-align:center;justify-content:space-around;display:flex;color:var(--cosmograph-color-legend-range-font-color);overflow:hidden;width:100%;word-break:break-word;text-wrap:balance;white-space:pre-line;transition:color .15s ease-in-out;margin:0 4px;letter-spacing:-.02em;line-height:1.25}.style_module_legend__a3e235e4 .label{color:var(--cosmograph-color-legend-range-font-color);overflow:hidden;max-width:150px;text-overflow:ellipsis;font-size:var(--cosmograph-color-legend-range-label-font-size);transition:color .15s ease-in-out;line-height:1;font-feature-settings:\"tnum\"}.style_module_legend__a3e235e4 .sublabel{padding-top:1px;color:var(--cosmograph-color-legend-range-font-color);opacity:.55;font-size:var(--cosmograph-color-legend-range-sublabel-font-size);line-height:1;transition:color .15s ease-in-out}:root{--cosmograph-color-legend-type-font-color: var(--cosmograph-ui-text);--cosmograph-color-legend-type-font-family: var(--cosmograph-ui-font-family);--cosmograph-color-legend-type-font-size: 11px;--cosmograph-color-legend-type-hover-color: var(--cosmograph-ui-highlighted-element-color);--cosmograph-color-legend-type-others-color: #bab0ab;--cosmograph-color-legend-type-bullet-size: 8px;--cosmograph-color-legend-type-bullet-radius: 1rem;--cosmograph-color-legend-type-items-margin: 4px;--cosmograph-color-legend-type-hide-transform: translateY(125%);--cosmograph-color-legend-type-show-transform: translateX(0)}.style_module_enabled__277b2403{opacity:1;transform:var(--cosmograph-color-legend-type-show-transform)}.style_module_disabled__7a587f96{opacity:0;transform:var(--cosmograph-color-legend-type-hide-transform);display:none!important}.style_module_wrapper__ea8ca7f4{position:relative;max-width:100%;width:fit-content;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete}.style_module_typeLegend__15bf4b2f{position:relative;width:fit-content;max-width:100%;min-height:25px;transition:opacity .3s ease-in-out,transform .3s ease-in-out,display .3s allow-discrete;font-weight:300;letter-spacing:-.015em;text-rendering:optimizelegibility;-webkit-font-smoothing:antialiased}.style_module_typeLegend__15bf4b2f .reverted{flex-direction:row-reverse}.style_module_typeLegend__15bf4b2f .scroll-container{width:100%;display:flex;flex-direction:column;position:relative;font-size:var(--cosmograph-color-legend-type-font-size);font-family:var(--cosmograph-color-legend-type-font-family);user-select:none;-webkit-user-select:none;line-height:normal;overflow-x:hidden;overflow-y:auto;will-change:transform}@starting-style{.style_module_typeLegend__15bf4b2f.style_module_enabled__277b2403,.style_module_wrapper__ea8ca7f4.style_module_enabled__277b2403{opacity:0;transform:var(--cosmograph-color-legend-type-hide-transform)}}.style_module_typeLegend__15bf4b2f .legend-item{display:flex;align-items:center;position:absolute;margin-bottom:var(--cosmograph-color-legend-type-items-margin);pointer-events:none;width:100%;padding-left:1px;font-weight:300;transition:filter .1s ease-in-out,opacity .1s ease-in-out;min-height:calc(var(--cosmograph-color-legend-type-bullet-size) + 2px + var(--cosmograph-color-legend-type-items-margin));height:calc(var(--cosmograph-color-legend-type-bullet-size) + 2px);box-sizing:border-box}.style_module_typeLegend__15bf4b2f .unknown{background-color:var(--cosmograph-color-legend-type-unknown-color)}.style_module_typeLegend__15bf4b2f .others{background-color:var(--cosmograph-color-legend-type-others-color)}.style_module_typeLegend__15bf4b2f .bullet{height:var(--cosmograph-color-legend-type-bullet-size);width:var(--cosmograph-color-legend-type-bullet-size);min-height:var(--cosmograph-color-legend-type-bullet-size);min-width:var(--cosmograph-color-legend-type-bullet-size);border-radius:var(--cosmograph-color-legend-type-bullet-radius);pointer-events:all;margin-right:5px}.style_module_typeLegend__15bf4b2f .label{color:var(--cosmograph-color-legend-type-font-color);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - var(--cosmograph-color-legend-type-bullet-size) - 5px);pointer-events:all;transition:.05s linear color}.style_module_typeLegend__15bf4b2f .legend-item.reverted>.bullet{margin-right:0}.style_module_typeLegend__15bf4b2f .legend-item.reverted>.label{margin-right:5px}.style_module_typeLegend__15bf4b2f .show-more{cursor:pointer;padding-top:4px;display:none;font-weight:300;color:var(--cosmograph-color-legend-type-font-color);font-size:11px;opacity:.6;pointer-events:all;justify-content:space-between;transition:opacity .1s linear;font-feature-settings:\"tnum\"}.style_module_typeLegend__15bf4b2f .show-more:hover{opacity:1}.style_module_hovered__c0993502 .label,.style_module_hovered__c0993502 .sublabel{color:var(--cosmograph-color-legend-type-hover-color)!important;cursor:pointer}.style_module_selected__36e1dd81{filter:brightness(1)}.style_module_selected__36e1dd81>.style_module_label__afecc7a3{filter:brightness(1.2)}.style_module_unselected__4826cfb7{filter:brightness(.5)}:root{--cosmograph-button-color: var(--cosmograph-ui-text);--cosmograph-button-background: var(--cosmograph-ui-element-color);--cosmograph-button-border-radius: 2px}.style_module_button__e95a1138{background:var(--cosmograph-button-background);color:var(--cosmograph-button-color);border-radius:var(--cosmograph-button-border-radius);display:none;align-items:center;justify-content:center;width:25px;height:25px;margin:3px;padding:5px;cursor:pointer;filter:brightness(.95) contrast(.9);transition:filter .1s}.style_module_button__e95a1138:hover{filter:brightness(1.2) contrast(1)}')),document.head.appendChild(t)}}catch(e){console.error(\"vite-plugin-css-injected-by-js\",e)}})();var Lo=class{get element(){return this._container}constructor(e,i){this._handleClick=()=>{var n,o;(o=(n=this.config).onClick)===null||o===void 0||o.call(n)},this._container=e,this._container.classList.add(U7.button),this.setConfig(i??{}),this._container.addEventListener(\"click\",this._handleClick)}setConfig(e){var i,n;this.config=Kt(F7,e),this._container.title=(i=this.config.description)!==null&&i!==void 0?i:\"\",this._container.innerHTML=(n=this.config.iconSvg)!==null&&n!==void 0?n:\"\"}show(){this._container.style.display=\"block\"}hide(){this._container.style.display=\"none\"}destroy(){this._container.removeEventListener(\"click\",this._handleClick),this._container.innerHTML=\"\"}};var j7={Points:\"points\",PointId:\"pointIdBy\",PointIndex:\"pointIndexBy\"},qt={PointColor:\"pointColorBy\",PointColorMap:\"pointColorByMap\",PointColorFn:\"pointColorByFn\",PointColorPalette:\"pointColorPalette\",PointColorStrategy:\"pointColorStrategy\",PointSize:\"pointSizeBy\",PointSizeStrategy:\"pointSizeStrategy\",PointSizeRange:\"pointSizeRange\",PointSizeFn:\"pointSizeByFn\",PointLabel:\"pointLabelBy\",PointLabelWeight:\"pointLabelWeightBy\",PointX:\"pointXBy\",PointY:\"pointYBy\",PointCluster:\"pointClusterBy\",PointClusterFn:\"pointClusterByFn\",PointClusterStrength:\"pointClusterStrengthBy\",PointIncludeColumns:\"pointIncludeColumns\"},V7={Links:\"links\",LinkSource:\"linkSourceBy\",LinkSourceIndex:\"linkSourceIndexBy\",LinkTarget:\"linkTargetBy\",LinkTargetIndex:\"linkTargetIndexBy\"},zi={LinkColor:\"linkColorBy\",LinkColorFn:\"linkColorByFn\",LinkWidth:\"linkWidthBy\",LinkWidthRange:\"linkWidthRange\",LinkWidthFn:\"linkWidthByFn\",LinkArrow:\"linkArrowBy\",LinkArrowFn:\"linkArrowByFn\",LinkStrength:\"linkStrengthBy\",LinkStrengthFn:\"linkStrengthByFn\",LinkStrengthRange:\"linkStrengthRange\",LinkIncludeColumns:\"linkIncludeColumns\"},W7={ClusterPositionsMap:\"clusterPositionsMap\"},H7=Object.values(qt),$7=Object.values(zi),Gk=Object.values(W7),Bg=Object.values(j7),Ng=Object.values(V7),Yk=[...$7].filter(t=>t!==zi.LinkIncludeColumns).concat(\"linkColor\",\"linkWidth\"),Qk=[...H7].filter(t=>t!==qt.PointLabel&&t!==qt.PointLabelWeight&&t!==qt.PointIncludeColumns).concat(\"pointColor\",\"pointSize\");var Fg={ShowLabels:\"showLabels\",ShowDynamicLabels:\"showDynamicLabels\",ShowTopLabels:\"showTopLabels\",ShowTopLabelsLimit:\"showTopLabelsLimit\",ShowLabelsFor:\"showLabelsFor\",ShowClusterLabels:\"showClusterLabels\",PointLabelClassName:\"pointLabelClassName\",PointLabelFn:\"pointLabelFn\",PointLabelWeightFn:\"pointLabelWeightFn\",PointLabelColor:\"pointLabelColor\",PointLabelFontSize:\"pointLabelFontSize\",ClusterLabelFontSize:\"clusterLabelFontSize\",ClusterLabelClassName:\"clusterLabelClassName\",ScaleClusterLabels:\"scaleClusterLabels\",UsePointColorStrategyForClusterLabels:\"usePointColorStrategyForClusterLabels\",StaticLabelWeight:\"staticLabelWeight\",DynamicLabelWeight:\"dynamicLabelWeight\",LabelMargin:\"labelMargin\",LabelPadding:\"labelPadding\",CustomLabels:\"customLabels\"},Xk=[...Object.values(Fg),qt.PointLabel,qt.PointLabelWeight];var Ns=.95,Fs=.05,Kk=[2,9],Zk=[1,9],OK=[.2,1],q7=8192,ep=[\"rgba(43, 85, 168, 0.85)\",\"rgba(153, 82, 213, 0.85)\",\"rgba(240, 105, 180, 0.85)\",\"rgba(255, 149, 131, 0.85)\",\"rgba(254, 224, 139, 0.85)\"],Ug=\"rgb(45, 49, 58)\",Mx=\"rgba(240, 105, 180, 0.85)\";var tp=16,G7=\"rgba(95, 116, 194, 0.5)\";var Y7=!1,BK=\"color: white; background: #333841;\",NK=\"background: none; font-weight: 300; opacity: 0.9;\";var jg={showLabels:!0,showTopLabels:!0,showDynamicLabels:!0,showHoveredPointLabel:!1,scaleClusterLabels:!0,usePointColorStrategyForClusterLabels:!1,showTopLabelsLimit:30,staticLabelWeight:.8,dynamicLabelWeight:.7,pointGreyoutOpacity:.3,labelMargin:5,pointSamplingDistance:170,labelPadding:[6.5,4.5,6.5,4.5],preservePointPositionsOnDataUpdate:!1,backgroundColor:Ug,hoveredPointLabelClassName:BK,pointLabelFontSize:13,clusterLabelFontSize:16,clusterLabelClassName:NK,pointSizeRange:Kk,linkWidthRange:Zk,linkStrengthRange:OK,pointColorPalette:ep,pointColor:Mx,linkColor:G7,linkWidth:1,pointSize:4,linkArrows:Y7,simulationRepulsion:.5,simulationFriction:.5,simulationLinkSpring:.4,simulationLinkDistance:20,resetSelectionOnEmptyCanvasClick:!0},ip=t=>t===qt.PointColor?Mx:t===qt.PointSize?4:t===qt.PointLabel?\"\":t===qt.PointLabelWeight||t===qt.PointX||t===qt.PointY||t===qt.PointCluster?0:t===qt.PointClusterStrength?1:t===zi.LinkColor?G7:t===zi.LinkWidth?1:t===zi.LinkStrength?0:t===zi.LinkArrow?Y7:0;var os=async(t,e)=>{let i=await t.query(\"SHOW ALL TABLES\"),n=i?.toArray();if(!n?.length)return!1;let[o,r]=e.includes(\".\")?e.split(\".\"):[\"main\",e];return n.find(s=>s.name===r&&s.schema===o)!==void 0},Jk=async(t,e)=>await os(t,e)?(await t.query(`SUMMARIZE ${e}`)).toArray():[],np=async(t,e)=>{let i=await t.query(`PRAGMA table_info(${e})`);return i?i.toArray().map(n=>n.name):[]},op=async(t,e,i,n)=>{let o=await np(t,e);if(!o.length)return n?.push(...i),!1;let r=new Set(o),s=i.filter(a=>!r.has(a));return n?.push(...s),s.length===0},Vg=(t,e,i=4)=>{if(t.size>=e.length/i)return new Float32Array(0);let n=new Float32Array(e.length-t.size*i),o=0;for(let r=0;r<e.length;r+=i)t.has(r/i)||(n.set(e.subarray(r,r+i),o),o+=i);return n},e3=t=>{let e=new Map;for(let i of t)e.set(i,(e.get(i)||0)+1);return Array.from(e.entries()).sort((i,n)=>n[1]-i[1]).map(i=>i[0])},Q7=async(t,e,i)=>{let n=`SELECT \"${i}\" AS value FROM ${e}`;return await t.query(n)};var Ox=async(t,e,i)=>{var n;return await t.query(`SELECT ${(n=i?.map(o=>`\"${o}\"`).join(\", \"))!==null&&n!==void 0?n:\"*\"} FROM ${e}`)},X7=async(t,e,i,n)=>{let o=n.join(\", \");return await t.query(`SELECT * FROM ${e} WHERE \"${i}\" IN (${o})`)},Du=async(t,e,i,n)=>{var o,r;let s=n.map(c=>typeof c==\"string\"?`${Lh(c)}`:c),a=`SELECT \"${i.pointIndexBy}\" FROM ${e} WHERE \"${i.pointIdBy}\" IN (${s})`,l=await t.query(a);return l?(r=(o=l.getChildAt(0))===null||o===void 0?void 0:o.toArray())!==null&&r!==void 0?r:[]:void 0},Bx=async(t,e,i,n)=>{var o,r;let s=n.join(\", \"),a=`SELECT \"${i.pointIdBy}\" FROM ${e} WHERE \"${i.pointIndexBy}\" IN (${s})`,l=await t.query(a);return l?(r=(o=l.getChildAt(0))===null||o===void 0?void 0:o.toArray())!==null&&r!==void 0?r:[]:void 0},K7=async(t,e,i,n,o)=>{var r,s;let a=o.map(u=>typeof u==\"string\"?`${Lh(u)}`:u),l=`SELECT \"${i.pointIndexBy}\" FROM ${e} WHERE \"${n}\" IN (${a.join(\", \")})`,c=await t.query(l);return c?(s=(r=c.getChildAt(0))===null||r===void 0?void 0:r.toArray())!==null&&s!==void 0?s:[]:void 0},Z7=async(t,e,i,n,o,r)=>{var s,a;let l=r?\">=\":\"<=\",c=`SELECT \"${i.pointIndexBy}\" FROM ${e} WHERE \"${n}\" ${l} ${o}`,u=await t.query(c);if(u)return(a=(s=u.getChildAt(0))===null||s===void 0?void 0:s.toArray())!==null&&a!==void 0?a:[]},J7=async(t,e,i)=>{if(!i?.pointXBy||!i?.pointYBy)return!1;let n=await np(t,e);return n.includes(i.pointXBy)&&n.includes(i.pointYBy)},eR=(t,e)=>{if(!e?.pointXBy||!e?.pointYBy)return[];let i=t.getChild(e.pointXBy),n=t.getChild(e.pointYBy),o=t.numRows,r=new Array(2*o);for(let s=0;s<o;s++)r[2*s]=i?.get(s),r[2*s+1]=n?.get(s);return r},zx=(t,e=q7,i=e/2,n=e/8)=>Array.from({length:2*t},()=>{let o=i+n*Math.sqrt(-2*Math.log(Math.random()))*Math.cos(2*Math.PI*Math.random());return Math.max(1,Math.min(e-1,o))}),tR=(t,e)=>{let i=t?.getPointPositions(),n=t.getScaleX(),o=t.getScaleY();if(i?.length){let r=e-i.length/2,s=zx(r,t.config.spaceSize);return n&&o&&(s=s.map((a,l)=>l%2==0?n(a):o(a))),i.concat(s)}return zx(e,t.config.spaceSize)},iR=(t,e,i)=>{if(!t)return;let n=t?.toArray().map(o=>o);n?.forEach((o,r)=>{let s=i.get(o);s&&(e[2*r]=s[0],e[2*r+1]=s[1])}),i.clear()};var nR=(t,e)=>{var i,n;if(!e.linkSourceIndexBy||!e.linkTargetIndexBy)return new Float32Array(0);let o=t.getChild(e.linkSourceIndexBy),r=t.getChild(e.linkTargetIndexBy),s=t.numRows,a=new Float32Array(2*s);for(let l=0,c=0;l<s;l++,c+=2)a[c]=(i=o?.get(l))!==null&&i!==void 0?i:0,a[c+1]=(n=r?.get(l))!==null&&n!==void 0?n:0;return a},oR=(t,e)=>{if(!e.linkSourceIndexBy||!e.linkTargetIndexBy)return new Set;let i=t.getChild(e.linkSourceIndexBy),n=t.getChild(e.linkTargetIndexBy);if(!i||!n)return new Set;let o=new Set;for(let r=0;r<i.length;r++)o.add(i.get(r)),o.add(n.get(r));return o},rR=async(t,e)=>{var i,n,o,r;let s=await t.query(e);if(!s)return;let a=(n=(i=s.getChildAt(0))===null||i===void 0?void 0:i.toArray())!==null&&n!==void 0?n:[],l=(r=(o=s.getChildAt(1))===null||o===void 0?void 0:o.toArray())!==null&&r!==void 0?r:[];return[...new Set([...a,...l])]},sR=async(t,e,i,n,o)=>{let r=o.map(a=>typeof a==\"string\"?`${Lh(a)}`:a),s=`SELECT \"${i.linkSourceIndexBy}\", \"${i.linkTargetIndexBy}\" FROM ${e} WHERE \"${n}\" IN (${r.join(\", \")})`;return rR(t,s)},aR=async(t,e,i,n,o,r)=>{let s=r?\">=\":\"<=\",a=`SELECT \"${i.linkSourceIndexBy}\", \"${i.linkTargetIndexBy}\" FROM ${e} WHERE \"${n}\" ${s} ${o}`;return rR(t,a)},lR=async(t,e,i,n)=>{let o=n.map(r=>typeof r==\"string\"?`${Lh(r)}`:r);return await t.query(`SELECT * FROM ${e} WHERE \"${i.linkSourceBy}\" IN (${o}) OR \"${i.linkTargetBy}\" IN (${o})`)},cR=async(t,e,i,n)=>{let o=n.join(\", \");return await t.query(`SELECT * FROM ${e} WHERE \"${i.linkSourceIndexBy}\" IN (${o}) OR \"${i.linkTargetIndexBy}\" IN (${o})`)},Nx=async(t,e,i)=>{var n;return await t.query(`SELECT ${(n=i?.map(o=>`\"${o}\"`).join(\", \"))!==null&&n!==void 0?n:\"*\"} FROM ${e}`)};var t3=(t,e=ep)=>bg().domain(Array.from(new Set(t))).range(e),i3=(t,e=ep)=>{let i=Ao(t,Fs),n=Ao(t,Ns),[o,r]=Mn(t),s=i===n?o:i,a=i===n?r:n,l=s===a?[s,a+1e-6]:[s,a];return Tg(hg(Yv.gamma(1.5),e)).domain(l).clamp(!0)},uR=(t,e=ep)=>{let i=Array.from(new Set(t)),n=JC(hg(Yv.gamma(2.2),e),i.length);return t3(i,n.reverse())},n3=(t,e=ep)=>xg().domain(Mn(t)).range(e),dR=(t,e)=>{var i,n,o,r;return t?[(i=t[4*e])!==null&&i!==void 0?i:0,(n=t[4*e+1])!==null&&n!==void 0?n:0,(o=t[4*e+2])!==null&&o!==void 0?o:0,(r=t[4*e+3])!==null&&r!==void 0?r:0]:void 0},hR=t=>{let e=(i=>{let n=/^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(i);return n?{r:parseInt((n[1]||0).toString(),16),g:parseInt((n[2]||0).toString(),16),b:parseInt((n[3]||0).toString(),16)}:{r:0,g:0,b:0}})(t);return(.2126*e.r+.7152*e.g+.0722*e.b)/255},rp=t=>{if(typeof t==\"string\")return t;if(!t)return Mx;let[e,i,n]=t.map(o=>Math.round(255*o));return`rgb(${e}, ${i}, ${n})`},pR=t=>{var e,i;if(!t)return;if(typeof t==\"string\")return(e=To(t))===null||e===void 0?void 0:e.formatHex();let[n,o,r,s]=t;return(i=To(`rgba(${n}, ${o}, ${r}, ${s})`))===null||i===void 0?void 0:i.formatHex()};var sp=(t,e,i=!1)=>{let n;if(i){let o=Ao(t,Fs),r=Ao(t,Ns);n=o===r?Mn(t):[o,r]}else n=Mn(t);return n[0]===n[1]&&(n[1]=n[1]+1e-6),ku().range(e).domain(n).clamp(!0)};var fR=(t,e)=>{let i=[];return e.forEach((n,o)=>{if(t&&n in t){let r=t[n];if(r){let[s,a]=r;i[2*o]=s,i[2*o+1]=a}else i[2*o]=void 0,i[2*o+1]=void 0}else i[2*o]=void 0,i[2*o+1]=void 0}),i};var Fx=class{constructor(){this._colorStore=new Map}getColor(e){if(this._colorStore.has(e))return this._colorStore.get(e);{let i=Kl(e),n=[i.r/255,i.g/255,i.b/255,i.opacity];return this._colorStore.set(e,n),n}}clearCache(){this._colorStore.clear()}};var ap=(t,e,i)=>{let n=new Float32Array(t.length);for(let o=0;o<t.length;o++){let r=t.get(o);n[o]=i?i(r,o):r??e}return n},Wg=(t,e,i)=>{let n=new Float32Array(4*t.length),o=new Fx;for(let r=0;r<t.length;r++){let s=t.get(r),a=i?i(s,r):s??e,[l,c,u,d]=Array.isArray(a)?a:o.getColor(a),h=4*r;n[h]=l,n[h+1]=c,n[h+2]=u,n[h+3]=d}return o.clearCache(),n},mR=(t,e,i)=>{let n=new Array(t.length);for(let o=0;o<t.length;o++){let r=t.get(o);n[o]=i?i(r,o):r??e}return n};var Wt;function gR(t={},e){let{pointColorStrategy:i,pointColorBy:n,pointColorByFn:o,pointColor:r,pointColorByMap:s,linkSourceBy:a,linkTargetBy:l}=t;if(i&&Object.values(Wt).includes(i))return i;if(o||r)return Wt.Direct;if(n){if(s)return Wt.Map;if(Gl(e))return Wt.InterpolatePalette;if(wv(e)||Sv(e))return Wt.Palette}return!r&&!n&&a&&l?Wt.Degree:Wt.Direct}(function(t){t.Palette=\"palette\",t.InterpolatePalette=\"interpolatePalette\",t.Map=\"map\",t.Degree=\"degree\",t.LinkDirection=\"linkDirection\",t.Direct=\"direct\"})(Wt||(Wt={}));var Ux=(t,e,i,n)=>({[Wt.Degree]:()=>i3(i,e.pointColorPalette),[Wt.LinkDirection]:()=>n3(i,e.pointColorPalette),[Wt.Map]:()=>o=>{var r;return e.pointColorByMap&&(r=e.pointColorByMap[o])!==null&&r!==void 0?r:e.pointColor},[Wt.Palette]:()=>{var o;let r;if(Gl(n)&&(r=n3(i,e.pointColorPalette)),wv(n)||Sv(n)){let s=e3(i),a=[...(o=e.pointColorPalette)!==null&&o!==void 0?o:[]].reverse();r=t3(s,a)}return r},[Wt.InterpolatePalette]:()=>{let o;if(Gl(n)&&(o=i3(i,e.pointColorPalette)),wv(n)||Sv(n)){let r=e3(i);o=uR(r,e.pointColorPalette)}return o},[Wt.Direct]:()=>e.pointColorByFn})[t]();var ji;(function(t){t.Degree=\"degree\",t.Auto=\"auto\",t.Direct=\"direct\"})(ji||(ji={}));var o3=(t,e,i)=>({[ji.Degree]:()=>sp(i,e.pointSizeRange),[ji.Auto]:()=>sp(i,e.pointSizeRange,!0),[ji.Direct]:()=>e.pointSizeByFn})[t]();function _R(t,e){let{pointSizeStrategy:i,pointSizeBy:n,pointSize:o,pointSizeByFn:r,linkSourceBy:s,linkTargetBy:a}=t;return i&&Object.values(ji).includes(i)?i:r||o?ji.Direct:n&&Gl(e)?ji.Auto:!o&&!n&&s&&a?ji.Degree:ji.Direct}var jx=class{constructor(e){this._=e,this.config=jg,this._rawConfig={},this._cosmosConfig={},this._configUpdatePromise=null,this._cosmosInitPromise=null,this._cosmosInitResolved=null,this._currentPointColorStrategy=Wt.Direct,this._currentPointSizeStrategy=ji.Direct,this._clusterMapping=new Map,this._clusterIndexToNameMapping=new Map,this._preservedPointPositions=new Map,this.resetCosmographConfig=()=>{this.config=jg},this._checkPointEvents=()=>!(this.config.onClick===void 0&&!this.config.selectPointOnClick&&!this.config.focusPointOnClick),this._cosmosInitPromise=new Promise(i=>{this._cosmosInitResolved=i})}get activePointColorStrategy(){return this._currentPointColorStrategy}get activePointSizeStrategy(){return this._currentPointSizeStrategy}get activePointColorFn(){return this._currentPointColorFn}get activePointSizeFn(){return this._currentPointSizeFn}get activeLinkColorFn(){return this._currentLinkColorFn}get activeLinkWidthFn(){return this._currentLinkWidthFn}get clusterMapping(){return this._clusterMapping}get clusterIndexToNameMapping(){return this._clusterIndexToNameMapping}get cosmosConfig(){return this._cosmosConfig}async configUpdated(){await this._configUpdatePromise}async cosmosInitialized(){await this._cosmosInitPromise}setConfig(e){this._configUpdatePromise=(async()=>{var i,n,o,r;try{await this._.dbReady();let s=this.config;if(s.points&&!e?.points&&!this._.public.stats.pointsCount)return void this._.public.reset();this.config=Kt(jg,e??{}),this._rawConfig=e??{},this._controlBackgroundColor(s,this.config),this._.rectangularSelection.updateSelectionClassName(),window.cosmographDisableLogging=(i=this.config.disableLogging)!==null&&i!==void 0&&i,this._cosmosConfig=this._createCosmosConfig(),(n=this._.cosmos)===null||n===void 0||n.setConfig(this._cosmosConfig),await this._processConfigUpdate(s),this._handleScaleChangeEvents(s,this.config)}finally{this._configUpdatePromise=null,(r=(o=this.config).onConfigUpdated)===null||r===void 0||r.call(o)}})()}async _processConfigUpdate(e){var i,n;let o=this._detectPointsChanged(e),r=this._detectLinksChanged(e),s=this._detectVisualLinkChanges(e),a=this._detectVisualPointChanges(e),l=this._detectClusterChanges(e),c=this._detectLabelChanges(e);if((o||r)&&await this._.dataManager.updateGraphData(o,r))return await this._rebuildGraph(!o&&r,r),void(this._cosmosInitResolved&&(this._cosmosInitResolved(),this._cosmosInitResolved=null));(s||a||l)&&this._.cosmos&&(await this._updateGraphProperties(e,a,this._.public.stats.linksCount>0&&s),this._.cosmos.render(!((i=this._.cosmos)===null||i===void 0)&&i.isSimulationRunning?void 0:0)),c&&((n=this._.labels)===null||n===void 0||n.update()),!this.config.preservePointPositionsOnDataUpdate&&this._preservedPointPositions.size&&this._preservedPointPositions.clear()}async _rebuildGraph(e,i){var n,o,r;try{e?await this._updateGraphProperties(void 0,!1):(this._.dispatchEvent(new CustomEvent(\"reset\")),await this._.initializeCosmos(),this._.initializeLabels(),await this._updateGraphProperties(void 0,!0,i)),this._.updateMessage(null);let s=!this._.public.isSimulationAvailable||!this._.pointsHaveLayout;(n=this._.cosmos)===null||n===void 0||n.render(s?void 0:0),this._.updateStats(),this._.dispatchEvent(new CustomEvent(\"graphRebuilt\")),(r=(o=this.config).onGraphRebuilt)===null||r===void 0||r.call(o,this._.public.stats),this.config.points&&Lt(`Rendered graph with ${this._.public.stats.pointsCount} points and ${this._.public.stats.linksCount} links.`)}catch(s){Lt(s,\"_rebuildGraph\",\"error\"),this._.updateMessage(`\\u{1F6A8} ${s}`)}}async _updateGraphProperties(e,i=!0,n=!0){n&&await this.updateLinkProperties(e),i&&await this.updatePointProperties(e),this._updateClusterProperties(e)}async updatePointProperties(e,i=!1){var n,o,r;let{_:{dbCoordinator:s,config:a,public:{pointsTableName:l}}}=this,c=[a.pointXBy,a.pointYBy,a.pointColorBy,a.pointSizeBy,a.pointClusterBy,a.pointIndexBy].filter(Boolean),u=await Ox(s,l,c),d=!1;u?.numRows?(d=await this._handlePointPositions(e,u,i),d&&((n=this._.cosmos)===null||n===void 0||n.graph.update()),this._handlePointColors(e,u),this._handlePointSizes(e,u),await this._handlePointClusterProps(e,u),d?(o=this._.labels)===null||o===void 0||o.update():(r=this._.labels)===null||r===void 0||r.render()):await this._.public.reset(!1)}async updateLinkProperties(e){let{dbCoordinator:i,cosmos:n,config:o,public:{linksTableName:r,stats:s}}=this._;if(!s.linksCount&&!await os(i,r))return;let a=[o.linkColorBy,o.linkWidthBy,o.linkStrengthBy,o.linkArrowBy,o.linkSourceIndexBy,o.linkTargetIndexBy].filter(Boolean),l=await Nx(i,r,a);if(l){if(l.numRows!==n?.graph.linksNumber){let c=nR(l,this.config);n?.setLinks(c)}this._handleLinkColors(e,l),this._handleLinkWidths(e,l),this._handleLinkStrengths(e,l),this._handleLinkArrows(e,l)}}_updateClusterProperties(e){let{config:i,_:{cosmos:n}}=this;if(!e||e?.clusterPositionsMap!==i.clusterPositionsMap)if(i.clusterPositionsMap&&this._clusterMapping.size>0){let o=fR(i.clusterPositionsMap,Array.from(this._clusterMapping.keys()));n?.setClusterPositions(o)}else n?.setClusterPositions([])}async _handlePointPositions(e,i,n=!1){let{config:o,_:{cosmos:r}}=this;if(r?.graph.pointsNumber&&e&&e.pointXBy===o.pointXBy&&e.pointYBy===o.pointYBy)return!1;let s=[];if(o.pointXBy||o.pointYBy){if(!await this._.dataValidator.validatePointPositions())return!1;s=eR(i,o)}else s=n?tR(r,i.numRows):zx(i.numRows,o.spaceSize);if(o.preservePointPositionsOnDataUpdate&&this._preservedPointPositions.size>0){let a=i.getChild(o.pointIdBy);iR(a,s,this._preservedPointPositions)}return r?.setPointPositions(new Float32Array(s),!n&&void 0),!0}_handlePointColors(e,i){let{config:n,_:{cosmos:o}}=this,r=[qt.PointColor,qt.PointColorStrategy,qt.PointColorPalette,qt.PointColorFn,qt.PointColorMap,\"pointColor\"];if(e&&!this._hasConfigChanged(e,n,r))return;let s=new Float32Array,a=n.pointColorBy?i.getChild(n.pointColorBy):void 0;if(this._currentPointColorStrategy=gR(this._rawConfig,a?.type),this._currentPointColorFn=void 0,this._currentPointColorStrategy===Wt.Degree){let l=this._.public.pointDegrees;l&&(this._currentPointColorFn=Ux(this._currentPointColorStrategy,n,l),s=Wg(fr(l),n.pointColor,this._currentPointColorFn))}else if(this._currentPointColorStrategy===Wt.LinkDirection){let l=this._.public.pointDirections;l&&(this._currentPointColorFn=Ux(this._currentPointColorStrategy,n,l),s=Wg(fr(l),n.pointColor,this._currentPointColorFn))}else a?(this._currentPointColorFn=Ux(this._currentPointColorStrategy,n,a.toArray(),a?.type),s=Wg(a,n.pointColor,this._currentPointColorFn)):n.pointColorBy&&Lt(`Column \"${n.pointColorBy}\" for \\`${qt.PointColor}\\` not found`,\"_handlePointColors\",\"warn\");o?.setPointColors(s),this._.dispatchEvent(new CustomEvent(\"pointColorUpdated\"))}_handlePointSizes(e,i){let{config:n,_:{cosmos:o}}=this,r=[qt.PointSize,qt.PointSizeStrategy,qt.PointSizeRange,qt.PointSizeFn,\"pointSize\"];if(e&&!this._hasConfigChanged(e,n,r))return;let s=new Float32Array,a=n.pointSizeBy?i.getChild(n.pointSizeBy):void 0;if(this._currentPointSizeStrategy=_R(this._rawConfig,a?.type),this._currentPointSizeFn=void 0,this._currentPointSizeStrategy===ji.Degree){let l=o?.graph.degree;l&&(this._currentPointSizeFn=o3(this._currentPointSizeStrategy,n,l),s=ap(fr(l),n.pointSize,this._currentPointSizeFn))}else a?(this._currentPointSizeFn=o3(this._currentPointSizeStrategy,n,a.toArray()),s=ap(a,n.pointSize,this._currentPointSizeFn)):n.pointSizeBy&&Lt(`Column \"${n.pointSizeBy}\" for \\`${qt.PointSize}\\` not found`,\"_handlePointSizes\",\"warn\");o?.setPointSizes(s),this._.dispatchEvent(new CustomEvent(\"pointSizeUpdated\"))}async _handlePointClusterProps(e,i){var n;let{config:o,_:{cosmos:r}}=this;if(!e||e.pointClusterStrengthBy!==o.pointClusterStrengthBy){let l=o.pointClusterStrengthBy?i.getChild(o.pointClusterStrengthBy):void 0,c=new Float32Array;l&&(c=ap(l,ip(qt.PointClusterStrength))),r?.setPointClusterStrength(c)}let s=[qt.PointCluster,qt.PointClusterFn];if(e&&!this._hasConfigChanged(e,o,s))return;let a=o.pointClusterBy?i.getChild(o.pointClusterBy):void 0;if(a){let l=Array.from(a.toArray());o.pointClusterByFn&&(l=l.map(o.pointClusterByFn));let c=new Map;for(let h of l){let f=String(h);c.set(f,((n=c.get(f))!==null&&n!==void 0?n:0)+1)}this._clusterMapping.clear(),this._clusterIndexToNameMapping.clear();let u=0;for(let h of c.keys()){let f=c.get(h);this._clusterMapping.set(h,{index:u,count:f}),this._clusterIndexToNameMapping.set(u,{name:h,count:f}),u++}let d=l.map(h=>{var f;return h===void 0||(f=this._clusterMapping.get(String(h)))===null||f===void 0?void 0:f.index});r?.setPointClusters(d)}else this._clusterMapping.clear(),this._clusterIndexToNameMapping.clear(),r?.setPointClusters([]);this._.dispatchEvent(new CustomEvent(\"clustersUpdated\"))}_handleLinkColors(e,i){let{config:n,_:{cosmos:o}}=this,r=[zi.LinkColor,zi.LinkColorFn,\"linkColor\"];if(e&&!this._hasConfigChanged(e,n,r))return;let s=new Float32Array,a=n.linkColorBy?i.getChild(n.linkColorBy):void 0;this._currentLinkColorFn=void 0,a?(this._currentLinkColorFn=n.linkColorByFn,s=Wg(a,n.linkColor,this._currentLinkColorFn)):n.linkColorBy&&Lt(`Column \"${n.linkColorBy}\" for \\`${zi.LinkColor}\\` not found`,\"_handleLinkColors\",\"warn\"),o?.setLinkColors(s),this._.dispatchEvent(new CustomEvent(\"linkColorUpdated\"))}_handleLinkWidths(e,i){var n;let{config:o,_:{cosmos:r}}=this,s=[zi.LinkWidth,zi.LinkWidthRange,zi.LinkWidthFn,\"linkWidth\"];if(e&&!this._hasConfigChanged(e,o,s))return;let a=new Float32Array,l=o.linkWidthBy?i.getChild(o.linkWidthBy):void 0;this._currentLinkWidthFn=void 0,l?(this._currentLinkWidthFn=(n=o.linkWidthByFn)!==null&&n!==void 0?n:sp(l.toArray(),o.linkWidthRange),a=ap(l,o.linkWidth,this._currentLinkWidthFn)):o.linkWidthBy&&Lt(`Column \"${o.linkWidthBy}\" for \\`${zi.LinkWidth}\\` not found`,\"_handleLinkWidths\",\"warn\"),r?.setLinkWidths(a),this._.dispatchEvent(new CustomEvent(\"linkWidthUpdated\"))}_handleLinkStrengths(e,i){var n;let{config:o,_:{cosmos:r}}=this,s=[zi.LinkStrength,zi.LinkStrengthRange,zi.LinkStrengthFn];if(e&&!this._hasConfigChanged(e,o,s))return;let a=new Float32Array,l=o.linkStrengthBy?i.getChild(o.linkStrengthBy):void 0;if(l){let c=(n=o.linkStrengthByFn)!==null&&n!==void 0?n:sp(l.toArray(),o.linkStrengthRange);a=ap(l,ip(zi.LinkStrength),c)}else o.linkStrengthBy&&Lt(`Column \"${o.linkStrengthBy}\" for \\`${zi.LinkStrength}\\` not found`,\"_handleLinkStrengths\",\"warn\");r?.setLinkStrength(a)}_handleLinkArrows(e,i){let{config:n,_:{cosmos:o}}=this,r=[zi.LinkArrow,zi.LinkArrowFn];if(e&&!this._hasConfigChanged(e,n,r))return;let s=[],a=n.linkArrowBy?i.getChild(n.linkArrowBy):void 0;a?s=mR(a,n.linkArrows,n.linkArrowByFn):n.linkArrowBy&&Lt(`Column \"${n.linkArrowBy}\" for \\`${zi.LinkArrow}\\` not found`,\"_handleLinkArrows\",\"warn\"),o?.setLinkArrows(s)}_handleScaleChangeEvents(e,i){e?.pointSizeScale===i.pointSizeScale&&e?.scalePointsOnZoom===i.scalePointsOnZoom||this._.dispatchEvent(new CustomEvent(\"pointSizeScaleUpdated\")),e?.linkWidthScale===i.linkWidthScale&&e?.scaleLinksOnZoom===i.scaleLinksOnZoom||this._.dispatchEvent(new CustomEvent(\"linkWidthScaleUpdated\"))}_hasConfigChanged(e,i,n){return n.some(o=>!Th(e[o],i[o]))}_detectPointsChanged(e){return this._hasConfigChanged(e,this.config,Bg)}_detectLinksChanged(e){return this._hasConfigChanged(e,this.config,Ng)}_detectLabelChanges(e){return this._hasConfigChanged(e,this.config,Xk)}_detectVisualLinkChanges(e){return this._hasConfigChanged(e,this.config,Yk)}_detectVisualPointChanges(e){return this._hasConfigChanged(e,this.config,Qk)}_detectClusterChanges(e){return this._hasConfigChanged(e,this.config,Gk)}_controlBackgroundColor(e,i){var n,o;if(e?.backgroundColor===i.backgroundColor)return;let r=pR(i.backgroundColor),s=r&&hR(r)>.65?\"#000000\":\"#ffffff\";(n=this._.containerElement)===null||n===void 0||n.style.setProperty(\"--cosmograph-text-color\",s),(o=this._.cosmosElement)===null||o===void 0||o.style.setProperty(\"backgroundColor\",r??Ug)}_createCosmosConfig(){var e,i;let n={...this.config,hoveredPointCursor:this._checkPointEvents()?(i=(e=this.config)===null||e===void 0?void 0:e.hoveredPointCursor)!==null&&i!==void 0?i:\"pointer\":\"auto\"};return delete n.enableSimulation,delete n.attribution,this._.eventManager.attachCosmosEvents(n),n}updatePreservedPointPositions(e){this._preservedPointPositions=e}clearCosmosBuffers(e){let{_:{cosmos:i}}=this;e||(i?.setPointPositions(new Float32Array),i?.setPointColors(new Float32Array),i?.setPointSizes(new Float32Array),i?.setPointClusters([]),i?.setPointClusterStrength(new Float32Array),i?.setClusterPositions([])),i?.setLinks(new Float32Array),i?.setLinkColors(new Float32Array),i?.setLinkWidths(new Float32Array),i?.setLinkStrength(new Float32Array),i?.setLinkArrows([])}};function yR(t,e){let[i,n,o,r]=[t.x,t.y+t.height,t.x+t.width,t.y],[s,a,l,c]=[e.x,e.y+e.height,e.x+e.width,e.y];return!(n<c||a<r||o<s||l<i)}var Vx=\"css-label--label\",r3=\"css-label--hidden\",Hg,bR=()=>{if(Hg)return;Hg=document.createElement(\"style\"),Hg.innerHTML=`\n  :root {\n    --css-label-background-color: #1e2428;\n    --css-label-brightness: brightness(150%);\n  }\n\n  .${Vx} {\n    position: absolute;\n    top: 0;\n    left: 0;\n\n    font-weight: 500;\n    cursor: pointer;\n    \n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n\n    filter: var(--css-label-brightness);\n    pointer-events: none;\n    background-color: var(--css-label-background-color);\n    font-weight: 700;\n    border-radius: 6px;\n    \n    transition: opacity 600ms;\n    opacity: 1;\n  }\n\n  .${r3} {\n    opacity: 0 !important;\n  }\n`;let t=document.head.getElementsByTagName(\"style\")[0];t?document.head.insertBefore(Hg,t):document.head.appendChild(Hg)};var lp=class{constructor(e,i){this.element=document.createElement(\"div\"),this.fontWidthHeightRatio=.6,this._x=0,this._y=0,this._estimatedWidth=0,this._estimatedHeight=0,this._visible=!1,this._prevVisible=!1,this._weight=0,this._needsMeasureUpdate=!0,this._customFontSize=14,this._customColor=void 0,this._customOpacity=void 0,this._shouldBeShown=!1,this._text=\"\",this._customPadding={left:9,top:6,right:9,bottom:6},bR(),this._container=e,this._updateClasses(),i&&this.setText(i),this.resetFontSize(),this.resetPadding()}setText(e){this._text!==e&&(this._text=e,this.element.innerHTML=e,this._needsMeasureUpdate=!0)}setPosition(e,i){this._x=e,this._y=i}setStyle(e){if(this._customStyle!==e&&(this._customStyle=e,this.element.style.cssText=this._customStyle,this._customColor&&(this.element.style.color=this._customColor),this._customOpacity&&(this.element.style.opacity=String(this._customOpacity)),this._customPointerEvents&&(this.element.style.pointerEvents=this._customPointerEvents),this._customFontSize&&(this.element.style.fontSize=`${this._customFontSize}px`),this._customPadding)){let{top:i,right:n,bottom:o,left:r}=this._customPadding;this.element.style.padding=`${i}px ${n}px ${o}px ${r}px`}}setClassName(e){this._customClassName!==e&&(this._customClassName=e,this._updateClasses())}setFontSize(e=14){this._customFontSize!==e&&(this.element.style.fontSize=`${e}px`,this._customFontSize=e,this._needsMeasureUpdate=!0)}resetFontSize(){this._customFontSize!==14&&(this.element.style.fontSize=`${14}px`,this._customFontSize=14,this._needsMeasureUpdate=!0)}setColor(e){this._customColor!==e&&(this.element.style.color=e,this._customColor=e)}resetColor(){this.element.style.removeProperty(\"color\"),this._customColor=void 0}setOpacity(e){this._customOpacity!==e&&(this.element.style.opacity=String(e),this._customOpacity=e)}resetOpacity(){this.element.style.removeProperty(\"opacity\"),this._customOpacity=void 0}setPointerEvents(e){this._customPointerEvents!==e&&(this.element.style.pointerEvents=`${e}`,this._customPointerEvents=e)}resetPointerEvents(){this.element.style.removeProperty(\"pointer-events\"),this._customPointerEvents=void 0}setPadding(e={left:9,top:6,right:9,bottom:6}){(this._customPadding.left!==e.left||this._customPadding.top!==e.top||this._customPadding.right!==e.right||this._customPadding.bottom!==e.bottom)&&(this._customPadding=e,this.element.style.padding=`${e.top}px ${e.right}px ${e.bottom}px ${e.left}px`,this._needsMeasureUpdate=!0)}resetPadding(){if(this._customPadding.left===9&&this._customPadding.top===6&&this._customPadding.right===9&&this._customPadding.bottom===6)return;let e={left:9,top:6,right:9,bottom:6};this.element.style.padding=`${e.top}px ${e.right}px ${e.bottom}px ${e.left}px`,this._customPadding=e,this._needsMeasureUpdate=!0}setForceShow(e){this._shouldBeShown=e}getForceShow(){return this._shouldBeShown}draw(){let e=this.getVisibility();e!==this._prevVisible&&(this._prevVisible===!1?this._container.appendChild(this.element):this._container.removeChild(this.element),this._updateClasses(),this._prevVisible=e),e&&(this.element.style.transform=`\n        translate(-50%, -100%)\n        translate3d(${this._x}px, ${this._y}px, 0)\n      `)}overlaps(e){return this._measureText(),e._measureText(),yR({height:this._estimatedHeight,width:this._estimatedWidth,x:this._x,y:this._y},{height:e._estimatedHeight,width:e._estimatedWidth,x:e._x,y:e._y})}setVisibility(e=!0){this._visible=e}getVisibility(){return this._visible}isOnScreen(){return this._x>0&&this._y>0&&this._x<this._container.offsetWidth&&this._y<this._container.offsetHeight}setWeight(e){this._weight=e}getWeight(){return this._weight}raise(){this._container.appendChild(this.element)}destroy(){this.element.remove()}_updateClasses(){this.getVisibility()?window.requestAnimationFrame(()=>{this.element.className=`${Vx} ${this._customClassName||\"\"}`}):this.element.className=`${Vx} ${this._customClassName||\"\"} ${r3}`}_measureText(){if(this._needsMeasureUpdate){let{left:e,top:i,right:n,bottom:o}=this._customPadding;this._estimatedWidth=this._customFontSize*this.fontWidthHeightRatio*this.element.innerHTML.length+e+n,this._estimatedHeight=this._customFontSize+i+o,this._needsMeasureUpdate=!1}}};var qg=\"css-label--labels-container\",s3=\"css-label--labels-container-hidden\",$g,vR=()=>{if($g)return;$g=document.createElement(\"style\"),$g.innerHTML=`\n  .${qg} {\n    transition: opacity 100ms;\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    top: 0%;\n    pointer-events: none;\n    opacity: 1;\n  }\n  .${s3} {\n    opacity: 0;\n\n    div {\n      pointer-events: none;\n    }\n  }\n`;let t=document.head.getElementsByTagName(\"style\")[0];t?document.head.insertBefore($g,t):document.head.appendChild($g)};var Hx=class{constructor(e,i){this._cssLabels=new Map,this._elementToData=new Map,vR(),this._container=e,e.addEventListener(\"click\",this._onClick.bind(this)),this._container.className=qg,i?.onLabelClick&&(this._onClickCallback=i.onLabelClick),i?.pointerEvents&&(this._pointerEvents=i.pointerEvents),i?.padding&&(this._padding=i.padding),i?.fontSize&&(this._fontSize=i.fontSize),i?.dispatchWheelEventElement&&(this._dispatchWheelEventElement=i.dispatchWheelEventElement,this._container.addEventListener(\"wheel\",this._onWheel.bind(this)))}setLabels(e){let i=new Map(this._cssLabels);e.forEach(n=>{let{x:o,y:r,fontSize:s,color:a,text:l,weight:c,opacity:u,shouldBeShown:d,style:h,className:f,padding:v}=n;if(this._cssLabels.get(n.id))i.delete(n.id);else{let I=new lp(this._container,n.text);this._cssLabels.set(n.id,I),this._elementToData.set(I.element,n)}let A=this._cssLabels.get(n.id);A&&(A.setText(l),A.setPosition(o,r),h!==void 0&&A.setStyle(h),c!==void 0&&A.setWeight(c),a!==void 0&&A.setColor(a),s!==void 0?A.setFontSize(s):this._fontSize!==void 0?A.setFontSize(this._fontSize):A.resetFontSize(),v!==void 0?A.setPadding(v):this._padding!==void 0?A.setPadding(this._padding):A.resetPadding(),this._pointerEvents!==void 0&&A.setPointerEvents(this._pointerEvents),u!==void 0&&A.setOpacity(u),d!==void 0&&A.setForceShow(d),f!==void 0&&A.setClassName(f))});for(let[n]of i){let o=this._cssLabels.get(n);o&&(this._elementToData.delete(o.element),o.destroy()),this._cssLabels.delete(n)}}draw(e=!0){e&&this._intersectLabels(),this._cssLabels.forEach(i=>i.draw())}show(){this._container.className=qg}hide(){this._container.className=`${qg} ${s3}`}destroy(){this._container.removeEventListener(\"click\",this._onClick.bind(this)),this._container.removeEventListener(\"wheel\",this._onWheel.bind(this)),this._cssLabels.forEach(e=>e.destroy())}_onClick(e){var i;let n=this._elementToData.get(e.target);n&&((i=this._onClickCallback)===null||i===void 0||i.call(this,e,n))}_onWheel(e){var i;e.preventDefault();let n=new WheelEvent(\"wheel\",e);(i=this._dispatchWheelEventElement)===null||i===void 0||i.dispatchEvent(n)}_intersectLabels(){let e=Array.from(this._cssLabels.values());e.forEach(i=>i.setVisibility(i.isOnScreen()));for(let i=0;i<e.length;i+=1){let n=e[i];if(n.getVisibility())for(let o=i+1;o<e.length;o+=1){let r=e[o];if(!r.getVisibility())continue;if(n.overlaps(r)){r.getWeight()>n.getWeight()?n.setVisibility(r.getForceShow()?!1:n.getForceShow()):r.setVisibility(n.getForceShow()?!1:r.getForceShow());continue}}}}};var a3=async(t,e,i,n,o)=>{var r,s;if(!i.pointIdBy||!i.pointIndexBy||!i.pointLabelBy)return{indices:null,ids:null,labels:null,weights:null};let a=`SELECT ${[...new Set([i.pointLabelBy,i.pointIndexBy,i.pointIdBy,...o?[o]:[]])].map(I=>`\"${I}\"`).join(\", \")} FROM ${e}`;n&&(a+=` ${n}`),o&&(a+=` ORDER BY \"${o}\" DESC`),a+=` LIMIT ${i.showTopLabelsLimit}`;let l=await t.query(a,{cache:!0});if(!l)return{indices:null,ids:null,labels:null,weights:null};let c=l.getChild(i.pointIdBy),u=l.getChild(i.pointIndexBy),d=l.getChild(i.pointLabelBy),h=null;o&&(h=l.getChild(o));let f=i.pointLabelFn,v=i.pointLabelWeightFn,L=!!d&&typeof f==\"function\",A=!!h&&typeof v==\"function\";if(i.pointLabelFn&&!L&&Lt(`Provided \\`${[Fg.PointLabelFn]}\\` is not a function`,\"executeLabelsQuery\",\"warn\"),i.pointLabelWeightFn&&!A&&Lt(`Provided \\`${[Fg.PointLabelWeightFn]}\\` is not a function`,\"executeLabelsQuery\",\"warn\"),L||A){let I=L?d.toArray():null,B=A?h.toArray():null,F=Math.max((r=I?.length)!==null&&r!==void 0?r:0,(s=B?.length)!==null&&s!==void 0?s:0);for(let k=0;k<F;k++){let N=u?.get(k);L&&I&&f&&(I[k]=f(I[k],N)),A&&B&&v&&(B[k]=v(B[k],N))}I&&(d=fr(I)),B&&(h=fr(B))}return{indices:u,ids:c,labels:d,weights:h}},cp=async(t,e,i,n,o)=>a3(t,e,i,`WHERE ${i.pointIndexBy} IN (${n.join(\", \")})`,o),xR=async(t,e,i)=>a3(t,e,i),wR=async(t,e,i,n)=>{var o;let r=((o=i.showLabelsFor)!==null&&o!==void 0?o:[]).map(s=>`'${s}'`).join(\", \");return a3(t,e,i,`WHERE ${i.pointIdBy} IN (${r})`,n)};var SR=[],Gg=[];function gn(t,e){if(t&&typeof document<\"u\"){var i,n=e.prepend===!0?\"prepend\":\"append\",o=e.singleTag===!0,r=typeof e.container==\"string\"?document.querySelector(e.container):document.getElementsByTagName(\"head\")[0];if(o){var s=SR.indexOf(r);s===-1&&(s=SR.push(r)-1,Gg[s]={}),i=Gg[s]&&Gg[s][n]?Gg[s][n]:Gg[s][n]=a()}else i=a();t.charCodeAt(0)===65279&&(t=t.substring(1)),i.styleSheet?i.styleSheet.cssText+=t:i.appendChild(document.createTextNode(t))}function a(){var l=document.createElement(\"style\");if(l.setAttribute(\"type\",\"text/css\"),e.attributes)for(var c=Object.keys(e.attributes),u=0;u<c.length;u++)l.setAttribute(c[u],e.attributes[c[u]]);var d=n===\"prepend\"?\"afterbegin\":\"beforeend\";return r.insertAdjacentElement(d,l),l}}var jK=\".style_module_cosmographDynamicLabel__2e27a4a3,.style_module_cosmographStaticLabel__2e27a4a3{opacity:1}.style_module_cosmographLabelBase__2e27a4a3{-webkit-font-smoothing:antialiased!important;background-color:#24272fe0;cursor:default;font-weight:400!important;line-height:1!important;max-width:350px;overflow:hidden;text-overflow:ellipsis;text-rendering:optimizeLegibility!important;transition:opacity .25s;white-space:nowrap}.style_module_cosmographLabelHovered__2e27a4a3{z-index:1}.style_module_cosmographLabelInteractive__2e27a4a3{cursor:pointer;pointer-events:all}.style_module_cosmographLabelHidden__2e27a4a3{opacity:.1}.style_module_cosmographClusterLabel__2e27a4a3{background:#3f4562a1;font-weight:500!important;opacity:.9;text-shadow:-1px -1px 0 #3f4562a1,-1px -1px 5px #00000026,1px -1px 0 #3f4562a1,1px -1px 5px #00000026,-1px 1px 0 #3f4562a1,-1px 1px 5px #00000026,1px 1px 0 #3f4562a1,1px 1px 5px #00000026}\",Qo={cosmographStaticLabel:\"style_module_cosmographStaticLabel__2e27a4a3\",cosmographDynamicLabel:\"style_module_cosmographDynamicLabel__2e27a4a3\",cosmographLabelBase:\"style_module_cosmographLabelBase__2e27a4a3\",cosmographLabel:\"style_module_cosmographLabel__2e27a4a3 style_module_cosmographLabelBase__2e27a4a3\",cosmographLabelHovered:\"style_module_cosmographLabelHovered__2e27a4a3 style_module_cosmographLabelBase__2e27a4a3\",cosmographLabelInteractive:\"style_module_cosmographLabelInteractive__2e27a4a3\",cosmographLabelHidden:\"style_module_cosmographLabelHidden__2e27a4a3 style_module_cosmographLabelBase__2e27a4a3\",cosmographCustomLabel:\"style_module_cosmographCustomLabel__2e27a4a3 style_module_cosmographLabelBase__2e27a4a3\",cosmographClusterLabel:\"style_module_cosmographClusterLabel__2e27a4a3 style_module_cosmographLabelBase__2e27a4a3\"};gn(jK,{});var $x=class{get _labelWeightAccessor(){let{pointLabelWeightBy:e,pointSizeBy:i}=this._.config;return e||i}constructor(e,i){var n;this._=e,this._staticLabelsMap=new Map,this._dynamicLabelsMap=new Map,this._validLabelAccessor=!1,this._validLabelWeightAccessor=!1,this._labelDataMap=new Map,this._customLabelsMap=new Map,this._columnNames=\"\",this._lastTrackedPointsQueryTime=0,this._isZooming=!1,this._isManualZooming=!1,this._degreeSummaryCalculated=!1,this.labelsContainer=document.createElement(\"div\"),this._checkLabelEvents=()=>this._hasPointLabelEvents()?\"all\":\"none\";let o=this._.eventManager.getLabelEvents();(n=e.containerElement)===null||n===void 0||n.appendChild(this.labelsContainer),this._cssLabelsRenderer=new Hx(this.labelsContainer,{dispatchWheelEventElement:i,onLabelClick:o.onLabelClick}),this._onHoveredLabelClick=o.onHoveredLabelClick,this._hoveredCssLabel=new lp(this.labelsContainer),this._hoveredCssLabel.setPointerEvents(this._checkLabelEvents()),this._hoveredCssLabel.element.addEventListener(\"click\",this._onHoveredLabelClick,{passive:!0}),this._updateClustersFontScaleHandler=()=>this._updateClustersFontScale(),this._.addEventListener(\"clustersUpdated\",this._updateClustersFontScaleHandler)}async render(){let{customLabels:e,showClusterLabels:i}=this._.config;this._.cosmos&&this._.config&&((this._validLabelAccessor||e||i)&&!this._isZooming?await this._updateLabels():this._isZooming&&this._populateLabelDataMap(this._isManualZooming),this._renderLabels())}async update(){if(this._degreeSummaryCalculated=!1,!this._.cosmos||!this._.dbCoordinator)return;let{config:e,public:{pointsTableName:i}}=this._,{pointLabelBy:n,customLabels:o,showClusterLabels:r}=e;await this._.configManager.configUpdated();let s=this._columnNames;this._columnNames=`${n||\"\"}-${this._labelWeightAccessor||\"\"}`,this.setCustomLabels(o);let a=!1;if(n){if(s!==this._columnNames){let l=[];await op(this._.dbCoordinator,i,[n,this._labelWeightAccessor].filter(Boolean),l),this._validLabelAccessor=!l.includes(n),this._validLabelWeightAccessor=!!this._labelWeightAccessor&&!l.includes(this._labelWeightAccessor),this._validLabelAccessor&&!this._validLabelWeightAccessor&&(a=!0)}this._validLabelAccessor?(a&&this._calculateDegreeSummary(),await this._updateStaticLabels(),await this.render()):(Lt(`Column \"${n}\" for \\`pointLabelBy\\` not found`,\"Labels > update\",\"warn\"),this.clear())}else this._customLabelsMap.size>0||r?await this.render():this.clear()}updatePositions(){var e,i;let n=(e=this._.cosmos)===null||e===void 0?void 0:e.getPointPositions(),o=(i=this._.cosmos)===null||i===void 0?void 0:i.getClusterPositions();n&&this._labelDataMap.forEach(r=>{let s=r.index,a=n[2*s],l=n[2*s+1];a!==void 0&&l!==void 0&&(r.position=[a,l])}),o&&this._labelDataMap.forEach((r,s)=>{var a;if(!((a=s.startsWith)===null||a===void 0)&&a.call(s,\"cluster-\")){let l=r.index,c=o[2*l],u=o[2*l+1];c!==void 0&&u!==void 0&&(r.position=[c,u])}}),this._renderLabels()}async _updateLabels(){var e,i,n,o;let{config:r,cosmosInitialized:s,dbCoordinator:a,public:{pointsTableName:l,focusedPointIndex:c}}=this._,{showDynamicLabels:u,pointLabelBy:d,showLabels:h}=r;if(this._dynamicLabelsMap.clear(),this._validLabelAccessor&&d&&h&&a)if(u&&await this._updateDynamicLabels(),c){if(!this._focusedLabel||this._focusedLabel&&this._focusedLabel[0]!==c){let f=await cp(a,l,r,[c]);if(this._focusedLabel=[(e=f.indices)===null||e===void 0?void 0:e.get(0),(i=f.ids)===null||i===void 0?void 0:i.get(0),(n=f.labels)===null||n===void 0?void 0:n.get(0)],s){let v=Array.from(this._staticLabelsMap.keys()).concat(c);(o=this._.cosmos)===null||o===void 0||o.trackPointPositionsByIndices(v)}}}else this._focusedLabel=void 0;this._populateLabelDataMap()}async _updateDynamicLabels(){let{config:e,dbCoordinator:i,public:{pointsTableName:n}}=this._,o=this._.public.getSampledPointPositionsMap();if(!o?.size)return;let r=Array.from(o.keys()),s=await cp(i,n,e,r);this._setLabels(this._dynamicLabelsMap,s)}async _updateStaticLabels(){var e;let{config:i,dbCoordinator:n,public:{pointsTableName:o,focusedPointIndex:r}}=this._,{pointLabelBy:s,showTopLabels:a,showLabelsFor:l,showLabels:c}=i;if(this._staticLabelsMap.clear(),!c||!n||!s)return;let u=[];l?.length&&u.push(wR(n,o,i,this._validLabelWeightAccessor?this._labelWeightAccessor:void 0).then(h=>this._setLabels(this._staticLabelsMap,h))),a&&u.push(this._getTopLabels().then(h=>this._setLabels(this._staticLabelsMap,h))),u.length&&await Promise.all(u);let d=Array.from(this._staticLabelsMap.keys());r&&d.push(r),d.length&&((e=this._.cosmos)===null||e===void 0||e.trackPointPositionsByIndices(d))}async _getTopLabels(){let{config:e,dbCoordinator:i,public:{pointsTableName:n}}=this._;if(!i)return;let o=this._.public.getSelectedPointIndices();if(o?.length)return await cp(i,n,e,o,this._validLabelWeightAccessor?this._labelWeightAccessor:void 0);if(this._labelWeightAccessor&&this._validLabelWeightAccessor)return await xR(i,n,e);this._labelWeightAccessor&&!this._validLabelWeightAccessor&&Lt(`Column \"${this._labelWeightAccessor}\" for weights not found, getting top labels by degree`,\"Labels > _getTopLabels\",\"warn\");let r=this._findTopIndicesByDegree();return r.length?await cp(i,n,e,r,this._validLabelWeightAccessor?this._labelWeightAccessor:void 0):void 0}_setLabels(e,i){var n;if(!i?.indices||!i.labels||!i.ids)return;let o=i.indices.length;for(let r=0;r<o;r++)e.set(i.indices.get(r),[i.ids.get(r),i.labels.get(r),(n=i.weights)===null||n===void 0?void 0:n.get(r)])}_findTopIndicesByDegree(){var e;let{showTopLabelsLimit:i=100}=this._.config,{pointDegrees:n}=this._.public;if(!n)return[];let o=new Set(this._.public.getSelectedPointIndices()),r=[];if(o.size>0){let s=Array.from(o).sort((a,l)=>(n[l]||0)-(n[a]||0)).slice(0,i);r.push(...s)}if(r.length<i){let s=i-r.length,a=[];for(let l=0;l<n.length;l++)!o.has(l)&&n[l]&&(a.length<s?(a.push({index:l,degree:(e=n[l])!==null&&e!==void 0?e:0}),a.length===s&&a.sort((c,u)=>u.degree-c.degree)):n[l]>a[s-1].degree&&(a[s-1]={index:l,degree:n[l]},a.sort((c,u)=>u.degree-c.degree)));r.push(...a.map(l=>l.index))}return r}_populateLabelDataMap(e=!1){let{showLabels:i,staticLabelWeight:n,dynamicLabelWeight:o,showDynamicLabels:r,showTopLabels:s,showLabelsFor:a,pointLabelBy:l}=this._.config;if(e&&i||this._labelDataMap.clear(),!i)return;let c=this._.crossfilter.isFilteringActive;if(!(this._.config.showClusterLabels&&!c)&&this._validLabelAccessor&&l&&i){let u=this._getTrackedPositions(e);if(u&&((s||a?.length)&&this._addLabelsToDataMap(this._staticLabelsMap,u,Qo.cosmographStaticLabel,n),this._addFocusedLabelToDataMap(u)),!e&&r){let d=this._.public.getSampledPointPositionsMap();d&&this._addLabelsToDataMap(this._dynamicLabelsMap,d,Qo.cosmographDynamicLabel,o)}}this._addClusterLabelsToDataMap(),this._addCustomLabelsToDataMap()}_getTrackedPositions(e){var i;let n=Date.now();if(e&&this._cachedTrackedPointsPositions&&n-this._lastTrackedPointsQueryTime<1e3)return this._cachedTrackedPointsPositions;let o=(i=this._.cosmos)===null||i===void 0?void 0:i.getTrackedPointPositionsMap();return this._cachedTrackedPointsPositions=o,this._lastTrackedPointsQueryTime=n,o}_addLabelsToDataMap(e,i,n,o){e.size&&i.forEach((r,s)=>{let a=e.get(s);if(a){let[l,c,u]=a;this._labelDataMap.set(l,{index:s,text:c,position:r,className:n,weight:u??o})}})}_updateClustersFontScale(){var e;let{config:i}=this._;if(!i.pointClusterBy)return;let n=Array.from(this._.configManager.clusterIndexToNameMapping.values()).map(({count:l})=>l),o=Mn(n),r=(e=i.clusterLabelFontSize)!==null&&e!==void 0?e:tp,s=Math.max(10,Math.floor(.7*r)),a=Math.ceil(1.5*r);this._clustersFontScale=Jl().domain(o).range([s,a]),this._clustersWeightScale=Jl().domain(o).range([1100,1e4])}_addClusterLabelsToDataMap(){var e,i,n,o,r,s,a,l,c;let{config:{showClusterLabels:u,clusterLabelFontSize:d=tp,scaleClusterLabels:h,usePointColorStrategyForClusterLabels:f}}=this._;if(!u||this._.crossfilter.isFilteringActive)return;let v=(e=this._.cosmos)===null||e===void 0?void 0:e.getClusterPositions();if(v)for(let L=0;L<v.length;L+=2){let A=Number(v[L]),I=Number(v[L+1]),B=L/2,F=this._.configManager.clusterIndexToNameMapping.get(B);if(!F)continue;let k=h?(i=this._clustersFontScale)===null||i===void 0?void 0:i.call(this,(n=F?.count)!==null&&n!==void 0?n:0):d,N=f?(r=(o=this._.configManager).activePointColorFn)===null||r===void 0?void 0:r.call(o,F?.name):void 0,Y=N?typeof N==\"string\"?N:rp(N):void 0,{text:z,maxWidth:ce}=this._getClusterLabelText((s=F?.name)!==null&&s!==void 0?s:`Cluster ${B}`,k);this._labelDataMap.set(`cluster-${B}`,{text:z,position:[A,I],className:Qo.cosmographClusterLabel,index:B,fontSize:k,color:f?Y:\"white\",weight:(c=(a=this._clustersWeightScale)===null||a===void 0?void 0:a.call(this,(l=F?.count)!==null&&l!==void 0?l:0))!==null&&c!==void 0?c:5e3,padding:this._getClusterPadding(k),maxWidth:ce})}}_addCustomLabelsToDataMap(){let{staticLabelWeight:e,pointLabelColor:i}=this._.config;this._customLabelsMap.forEach((n,o)=>{var r;this._labelDataMap.set(o,{index:0,text:n.text,position:n.position,className:(r=n.className)!==null&&r!==void 0?r:Qo.cosmographCustomLabel,color:i??(n.className?void 0:\"white\"),weight:e})})}_addFocusedLabelToDataMap(e){if(!this._focusedLabel)return;let[i,n,o]=this._focusedLabel,r=e.get(i);r&&this._labelDataMap.set(n,{index:i,text:o,position:r,className:Qo.cosmographStaticLabel,weight:1e4})}_normalizeWeight(e,i,n){var o,r,s,a,l,c;if(n)return 1e3;if(this._validLabelWeightAccessor&&e!==void 0){let d=(r=(o=this._.summary)===null||o===void 0?void 0:o.pointsSummary)===null||r===void 0?void 0:r.find(h=>h.column_name===this._labelWeightAccessor);if(d){let{min:h,max:f}=d,v=f-h;return v>0?(e-h)/v*100:50}}let u=this._.public.pointDegrees;if(this._degreeSummaryCalculated&&u&&u[i]!==void 0){let d=(a=(s=u[i])!==null&&s!==void 0?s:this._minDegree)!==null&&a!==void 0?a:0;return((l=this._degreeRange)!==null&&l!==void 0?l:0)>0?(d-((c=this._minDegree)!==null&&c!==void 0?c:0))/this._degreeRange*100:50}return 1}_calculateDegreeSummary(){let e=this._.public.pointDegrees;if(e&&!this._degreeSummaryCalculated){this._minDegree=1/0,this._maxDegree=-1/0;for(let i=0;i<e.length;i++){let n=e[i];n!==void 0&&(this._maxDegree=Math.max(this._maxDegree,n),this._minDegree=Math.min(this._minDegree,n))}this._minDegree===1/0&&(this._minDegree=0),this._maxDegree===-1/0&&(this._maxDegree=this._minDegree),this._degreeRange=this._maxDegree-this._minDegree,this._degreeSummaryCalculated=!0}}_renderLabels(){var e,i;let{public:{crossfilter:n}}=this._,{pointLabelClassName:o,clusterLabelClassName:r,labelMargin:s,pointLabelColor:a,pointLabelFontSize:l,clusterLabelFontSize:c=tp,labelPadding:u}=this._.config,d=n.intersection,h=this._.crossfilter.isFilteringActive,f=Qo.cosmographLabelHidden,v=Array.from(this._labelDataMap.entries()).map(([L,A])=>{var I,B;let{index:F,text:k,position:N,className:Y,weight:z,color:ce,fontSize:Fe,padding:$e,maxWidth:K}=A,Xe=L.startsWith(\"custom-\"),Be=L.startsWith(\"cluster-\"),V=Be?Qo.cosmographClusterLabel:Qo.cosmographLabel,[Pe,ie]=this._.public.spaceToScreenPosition(N),ke=this._.public.getPointScreenRadiusByIndex(F),Ge=((I=this._focusedLabel)===null||I===void 0?void 0:I[0])===F,Oe=!!h&&d.has(F),Ye=!h||Oe,Ae=Be?r:o,ct;if(ct=typeof Ae==\"function\"?(B=Ae(k,F,L))!==null&&B!==void 0?B:\"\":Ae??\"\",Be&&K){let ci=`max-width: ${K}px;`;ct=ct.includes(\":\")?`${ct} ${ci}`:ci}let ht=ct.includes(\":\"),ii=ht?`${Ye?V:f} ${Y}`:`${Ye?V:f} ${ct} ${Y}`,Je;return(Be?this._hasClusterLabelEvents():this._hasPointLabelEvents())&&(ii+=` ${Qo.cosmographLabelInteractive}`),Je=Xe?ie:Be?ie+c/2+s:ie-ke/2-s,{id:L,text:k,x:Pe,y:Je,padding:Be?$e:this._getPaddingObject(u),weight:Be?z:this._normalizeWeight(z,F,Oe),shouldBeShown:Ge,fontSize:Fe??l,color:Xe||ce!=null?ce:o!==void 0?void 0:a??this._getLabelColorByIndex(F),style:ht?ct:\"\",className:ii}});(e=this._cssLabelsRenderer)===null||e===void 0||e.setLabels(v),(i=this._cssLabelsRenderer)===null||i===void 0||i.draw(!0)}async renderHoveredLabel(e,i){var n,o,r,s;if(!this._.cosmos)return;let{config:a,dbCoordinator:l,public:{pointsTableName:c}}=this._,{pointLabelBy:u,showHoveredPointLabel:d,hoveredPointLabelClassName:h,labelMargin:f,pointLabelFontSize:v,labelPadding:L}=a;if(this._hoveredCssLabel.setPointerEvents(this._checkLabelEvents()),!(l&&d&&u&&e!==void 0&&i&&this._validLabelAccessor))return this._hoveredCssLabel.setVisibility(!1),void this._hoveredCssLabel.draw();let A=await cp(l,c,a,[e]);if(!A)return;let I=(n=A.ids)===null||n===void 0?void 0:n.get(0),B=(r=(o=A.labels)===null||o===void 0?void 0:o.get(0))!==null&&r!==void 0?r:\"\",[F,k]=this._.public.spaceToScreenPosition(i),N=this._.public.getPointScreenRadiusByIndex(e),Y,z;Y=typeof h==\"function\"?(s=h(B,e,I))!==null&&s!==void 0?s:\"\":h??\"\";let ce=Y.includes(\":\");z=ce?Qo.cosmographLabelHovered:[Qo.cosmographLabelHovered,Y].join(\" \"),this._checkLabelEvents()===\"all\"&&(z+=` ${Qo.cosmographLabelInteractive}`),this._hoveredCssLabel.setText(B),this._hoveredCssLabel.setVisibility(!0),this._hoveredCssLabel.setPosition(F,k-N/2-f),this._hoveredCssLabel.setClassName(z),this._hoveredCssLabel.setStyle(ce?Y:\"\"),this._hoveredCssLabel.setFontSize(v),this._hoveredCssLabel.setPadding(this._getPaddingObject(L)),h||this._hoveredCssLabel.setColor(this._getLabelColorByIndex(e)),this._hoveredCssLabel.draw()}setCustomLabels(e){let{rescaleXFn:i,rescaleYFn:n}=this._.public;this._customLabelsMap.clear(),e&&e.forEach((o,r)=>{let s={...o};i&&n&&s.position[0]!==void 0&&s.position[1]!==void 0&&(s.position=[i(s.position[0]),n(s.position[1])]),this._customLabelsMap.set(`custom-${r}`,s)})}setZooming(e,i=!0){let n=this._isZooming;this._isZooming=e,this._isManualZooming=i,n&&!e&&this.render().catch(console.error)}destroy(){var e,i,n,o;this.clear(),(e=this._hoveredCssLabel)===null||e===void 0||e.element.removeEventListener(\"click\",this._onHoveredLabelClick,{passive:!0}),(i=this._hoveredCssLabel)===null||i===void 0||i.destroy(),(n=this._cssLabelsRenderer)===null||n===void 0||n.destroy(),(o=this._.containerElement)===null||o===void 0||o.removeChild(this.labelsContainer)}clear(){var e,i,n;this._cachedTrackedPointsPositions=void 0,this._lastTrackedPointsQueryTime=0,this._isZooming=!1,this._degreeSummaryCalculated=!1,this._minDegree=void 0,this._maxDegree=void 0,this._degreeRange=void 0,this._labelDataMap.size&&(this._customLabelsMap.clear(),this._staticLabelsMap.clear(),this._dynamicLabelsMap.clear(),this._labelDataMap.clear(),(e=this._cssLabelsRenderer)===null||e===void 0||e.setLabels([]),(i=this._cssLabelsRenderer)===null||i===void 0||i.draw(),(n=this._hoveredCssLabel)===null||n===void 0||n.destroy())}_getLabelColorByIndex(e){var i,n;let o=(i=this._.cosmos)===null||i===void 0?void 0:i.graph.pointColors,r=(n=dR(o,e))!==null&&n!==void 0?n:this._.config.pointColor;return rp(r)}_hasPointLabelEvents(){let{onLabelClick:e,selectPointOnLabelClick:i,focusPointOnLabelClick:n}=this._.config;return e!==void 0||!!i||!!n}_hasClusterLabelEvents(){let{onClusterLabelClick:e,selectClusterOnLabelClick:i}=this._.config;return e!==void 0||!!i}_getPaddingObject(e){var i,n,o,r;if(e&&!(e.length<4))return{left:(i=e[0])!==null&&i!==void 0?i:0,top:(n=e[1])!==null&&n!==void 0?n:0,right:(o=e[2])!==null&&o!==void 0?o:0,bottom:(r=e[3])!==null&&r!==void 0?r:0}}_getClusterPadding(e){let{scaleClusterLabels:i,clusterLabelFontSize:n=tp}=this._.config,o=this._getPaddingObject(this._.config.labelPadding);if(!i||!e)return o;let r=e/n;return{left:o.left*r,top:o.top*r,right:o.right*r,bottom:o.bottom*r}}_getClusterLabelText(e,i){let{scaleClusterLabels:n,clusterLabelFontSize:o=tp}=this._.config;if(!n||!i)return{text:e,maxWidth:350};let r=i/o,s=Math.max(350,Math.min(900,500*r)),a=.6*i,l=Math.floor(s/a);return e.length*a>s?{text:`${e.substring(0,Math.max(3,l-3))}...`,maxWidth:s}:{text:e,maxWidth:s}}};var qx=class{constructor(e){this._=e,this._linksSelection=Gc.crossfilter({empty:!0}),this._pointsSelection=Gc.crossfilter({empty:!0}),this._crossfilter={links:new Set,points:new Set,intersection:new Set},this._onLinksFiltered=i=>this._handleCrossfiltering(i,\"links\"),this._onPointsFiltered=i=>this._handleCrossfiltering(i,\"points\")}get filtered(){return this._crossfilter}get pointsSelection(){return this._pointsSelection}get linksSelection(){return this._linksSelection}get onLinksFiltered(){return this._onLinksFiltered}get onPointsFiltered(){return this._onPointsFiltered}get isFilteringActive(){return this._linksSelection.clauses.length>0||this._pointsSelection.clauses.length>0}_handleCrossfiltering(e,i){var n,o;let{config:r,cosmos:s,labels:a}=this._;this._getSetForCrossfilter(e,i),this._getIntersection(),this.isFilteringActive?s?.selectPointsByIndices(Array.from(this._crossfilter.intersection)):s?.unselectPoints();let l=this._.public.getSelectedLinkIndices(),c=s?.getSelectedIndices();i===\"points\"&&((n=r.onPointsFiltered)===null||n===void 0||n.call(r,e,c,l)),i===\"links\"&&((o=r.onLinksFiltered)===null||o===void 0||o.call(r,e,c,l)),a?.update(),this._.dispatchEvent(new CustomEvent(\"dataFiltered\"))}_getSetForCrossfilter(e,i){var n;let{config:o}=this._,r;if(i===\"links\")r=oR(e,o);else{let s=(n=e.getChild(o.pointIndexBy))===null||n===void 0?void 0:n.toArray();r=new Set(s)}this._crossfilter[i]=r}_getIntersection(){let{links:e,points:i}=this._crossfilter,n=i.values(),o=new Set;if(this._linksSelection.clauses.length&&this._pointsSelection.clauses.length)for(let r of n)e.has(r)&&o.add(r);else o=this._linksSelection.clauses.length?e:i;this._crossfilter.intersection=o}};var Gx=class{constructor(e){this._=e,this._dataUploadPromise=null}get dataUploadPromise(){return this._dataUploadPromise}async dataReady(){var e;!((e=this._.dbCoordinator)===null||e===void 0)&&e.internalDB&&this._dataUploadPromise&&await this._dataUploadPromise}async updateGraphData(e,i){let n=!1;return this._dataUploadPromise&&(Lt(\"Data upload is already in progress, waiting for it to complete.\",\"updateGraphData\",\"info\"),await this._dataUploadPromise),this._dataUploadPromise=(async()=>{var o,r,s,a;!((o=this._.cosmos)===null||o===void 0)&&o.isSimulationRunning&&((r=this._.cosmos)===null||r===void 0||r.pause()),this._.dbCoordinator.clearCache();try{if(e){let{pointsOk:l}=await this._uploadAndValidateGraphData(i);n=l}else if(i){let{linksOk:l}=await this._uploadAndValidateLinksData();n=e?n&&l:l}}finally{this._dataUploadPromise=null,this._.dispatchEvent(new CustomEvent(\"dataUploaded\")),(a=(s=this._.config)===null||s===void 0?void 0:s.onGraphDataUpdated)===null||a===void 0||a.call(s)}})(),await this._dataUploadPromise,n}async _addPreparedData(e,i){var n;let{_:{dbCoordinator:o,public:{linksTableName:r}}}=this;if(o&&o?.internalDB){if(e&&(await this._uploadPoints(e,!0),await this._.configManager.updatePointProperties(void 0,!0)),i){let s=await os(o,r);await this._uploadLinks(i,s),await this._.configManager.updateLinkProperties(void 0)}(n=this._.cosmos)===null||n===void 0||n.render(this._.config.simulationImpulse),this._triggerGraphUpdated()}}async addPoints(e){let{_:{dbCoordinator:i,public:{stats:n}}}=this,{pointIndexBy:o,pointIdBy:r}=this._.config;if(i&&i?.internalDB){let s=n.pointsCount,a=await np(i,Yt.Points),l=[];for(let c of e){if(c.id===void 0)continue;let u={};for(let d of a)if(d===o)u[d]=BigInt(s+l.length);else if(d===r)u[d]=c.id;else if(c[d]!==void 0)u[d]=c[d];else{let h=Object.values(qt).find(f=>this._.config[f]===d);u[d]=h?ip(h):null}l.push(u)}l.length&&await this._addPreparedData(l,void 0)}}async addLinks(e){let{_:{dbCoordinator:i,config:n}}=this;if(!i?.internalDB)return;let{linkSourceBy:o,linkTargetBy:r,linkSourceIndexBy:s,linkTargetIndexBy:a}=n;if(!(o&&r&&s&&a))return;let l=e.filter(v=>v.source!=null&&v.target!=null),c=[...new Set(l.flatMap(v=>[v.source,v.target]).map(String))];if(!c.length)return;let u=await Du(i,Yt.Points,n,c);if(!u)return;let d=new Map(c.map((v,L)=>[v,u[L]])),h=await os(i,Yt.Links)?await np(i,Yt.Links):[];h.length||(h=[o,r,s,a,...n.linkColorBy?[n.linkColorBy]:[],...n.linkWidthBy?[n.linkWidthBy]:[],...n.linkArrowBy?[n.linkArrowBy]:[],...n.linkStrengthBy?[n.linkStrengthBy]:[],...Array.isArray(n.linkIncludeColumns)?n.linkIncludeColumns:[]]);let f=[];for(let v of l){let L=String(v.source),A=String(v.target),I=d.get(L),B=d.get(A);if(I===void 0||B===void 0)continue;let F={};for(let k of h)if(k===o)F[k]=v.source;else if(k===r)F[k]=v.target;else if(k===s)F[k]=BigInt(I);else if(k===a)F[k]=BigInt(B);else{let N=Object.values(zi).find(Y=>n[Y]===k);F[k]=N?ip(N):null}f.push(F)}f.length&&await this._addPreparedData(void 0,f)}async removePointsByIndices(e,i=!0){var n;let{_:{dbCoordinator:o,public:{pointsTableName:r,linksTableName:s,stats:a}}}=this;if(!o||a.pointsCount<=1)return;let l=[...new Set(e)];if(!(l.length>=a.pointsCount)&&o?.internalDB){let c=`${l.join(\", \")}`;await o.internalDB.query(`DELETE FROM ${r} WHERE \"${this._.config.pointIndexBy}\" IN (${c})`),this._removePointsInCosmos(l),i&&a.linksCount&&(await o.internalDB.query(`DELETE FROM ${s} WHERE \"${this._.config.linkSourceIndexBy}\" IN (${c})\n          OR \"${this._.config.linkTargetIndexBy}\" IN (${c})`),await this._.configManager.updateLinkProperties(void 0)),(n=this._.cosmos)===null||n===void 0||n.render(this._.config.simulationImpulse),this._triggerGraphUpdated()}}async removePointsByIds(e){let i=await Du(this._.dbCoordinator,this._.public.pointsTableName,this._.config,e);i&&await this.removePointsByIndices(i)}async removeLinksByPointIdPairs(e){await this._removeLinks(e,!1)}async removeLinksByPointIndicesPairs(e){await this._removeLinks(e,!0)}async _uploadData(e,i){let n={pointsError:!1,linksError:!1};if(!this._.dbCoordinator||!this._.dbCoordinator.internalDB)return n;try{n=await this._executeUpload(e,i)}catch(o){Lt(`Error during data upload: ${o}`,\"_uploadData\",\"error\")}return n}async _uploadPoints(e,i=!1){var n,o;let r=await((o=(n=this._.dbCoordinator)===null||n===void 0?void 0:n.internalDB)===null||o===void 0?void 0:o.uploadData(e,Yt.Points,i));return!!r?.error}async _uploadLinks(e,i=!1){var n,o;let r=await((o=(n=this._.dbCoordinator)===null||n===void 0?void 0:n.internalDB)===null||o===void 0?void 0:o.uploadData(e,Yt.Links,i));return!!r?.error}async _executeUpload(e,i){Lt(\"Data uploading...\",\"uploadData\");let n={pointsError:!1,linksError:!1};return await this._.dbReady(),this._.updateMessage(\"\\u{1F300} Loading data...\"),e&&(n.pointsError=await this._uploadPoints(e)),i&&(n.linksError=await this._uploadLinks(i)),this._.updateMessage(n.pointsError?\"\\u{1F6A8} Points data is empty or invalid.\":null),n}async _uploadAndValidateGraphData(e){var i;let{_:{config:n,dbCoordinator:o,public:{pointsTableName:r,stats:s}}}=this;if(n.pointIdBy&&s.pointsCount&&n.preservePointPositionsOnDataUpdate){let c=(i=this._.cosmos)===null||i===void 0?void 0:i.getPointPositions();if(c&&c.length){let u=await Q7(o,r,n.pointIdBy),d=new Map(u.toArray().map((h,f)=>{let v=c[2*f],L=c[2*f+1];return[String(h.value),[v,L]]}));this._.configManager.updatePreservedPointPositions(d)}}if(!n.points){await this._.public.reset(!1);let c=\"Points source data is not provided in `points`.\";return Lt(c,\"_uploadAndValidateGraphData\",\"error\"),this._.updateMessage(`\\u{1F6A8} ${c}`),{pointsOk:!1,linksOk:!1}}let{pointsError:a,linksError:l}=await this._uploadData(n.points,n.links);if(await this._.updateSummary(),a){let c=\"Failed to upload points data: The data is invalid or empty.\";return Lt(c,\"_uploadAndValidateGraphData\",\"error\"),this._.updateMessage(`\\u{1F6A8} ${c}`),{pointsOk:!1,linksOk:!1}}try{let c=!a&&await this._.dataValidator.validatePoints();if(!c)return{pointsOk:c,linksOk:!1};let u=e&&!l&&await this._.dataValidator.validateLinks();return n.links&&!u&&Lt(\"Provided links data is empty or invalid. Only points will be rendered.\",\"_uploadAndValidateGraphData\",\"warn\"),{pointsOk:c,linksOk:u}}catch(c){return Lt(`Error during data validation: ${c}`,\"_uploadAndValidateGraphData\",\"error\"),{pointsOk:!1,linksOk:!1}}}async _uploadAndValidateLinksData(){let e=!1;if(this._.public.stats.pointsCount===0)return{linksOk:e};if(this._.configManager.clearCosmosBuffers(!0),!this._.config.links)return await this._.dropLocalTables(!0),{linksOk:e};let{linksError:i}=await this._uploadData(void 0,this._.config.links);return await this._.updateSummary(),e=!i&&await this._.dataValidator.validateLinks(),e||await this._.dropLocalTables(!0),{linksOk:e}}_removePointsInCosmos(e){var i,n,o,r,s,a,l,c,u,d,h,f,v,L,A,I,B,F,k,N;if(!e.length)return;let Y=new Set(e);if(!((n=(i=this._.cosmos)===null||i===void 0?void 0:i.graph.pointPositions)===null||n===void 0)&&n.length){let z=Vg(Y,(o=this._.cosmos)===null||o===void 0?void 0:o.graph.pointPositions,2);(r=this._.cosmos)===null||r===void 0||r.setPointPositions(z,!1)}if(!((a=(s=this._.cosmos)===null||s===void 0?void 0:s.graph.pointColors)===null||a===void 0)&&a.length){let z=Vg(Y,(l=this._.cosmos)===null||l===void 0?void 0:l.graph.pointColors,4);(c=this._.cosmos)===null||c===void 0||c.setPointColors(z)}if(!((d=(u=this._.cosmos)===null||u===void 0?void 0:u.graph.pointSizes)===null||d===void 0)&&d.length){let z=Vg(Y,(h=this._.cosmos)===null||h===void 0?void 0:h.graph.pointSizes,1);(f=this._.cosmos)===null||f===void 0||f.setPointSizes(z)}if(!((L=(v=this._.cosmos)===null||v===void 0?void 0:v.graph.pointClusters)===null||L===void 0)&&L.length){let z=(A=this._.cosmos)===null||A===void 0?void 0:A.graph.pointClusters.filter((ce,Fe)=>!Y.has(Fe));(I=this._.cosmos)===null||I===void 0||I.setPointClusters(z)}if(!((F=(B=this._.cosmos)===null||B===void 0?void 0:B.graph.clusterStrength)===null||F===void 0)&&F.length){let z=Vg(Y,(k=this._.cosmos)===null||k===void 0?void 0:k.graph.clusterStrength,1);(N=this._.cosmos)===null||N===void 0||N.setPointClusterStrength(z)}}async _removeLinks(e,i){var n;let{_:{dbCoordinator:o,public:{linksTableName:r,stats:s}}}=this;if(!o?.internalDB||!s.linksCount)return;let a=i?this._.config.linkSourceIndexBy:this._.config.linkSourceBy,l=i?this._.config.linkTargetIndexBy:this._.config.linkTargetBy,c=d=>i?d.toString():`'${d}'`,u=`\n      DELETE FROM ${r}\n      WHERE ${e.map(([d,h])=>`((${a} = ${c(d)} AND ${l} = ${c(h)}) OR\n        (${a} = ${c(h)} AND ${l} = ${c(d)}))`).join(\" OR \")}\n    `;await o.internalDB.query(u),await this._.configManager.updateLinkProperties(void 0),(n=this._.cosmos)===null||n===void 0||n.render(this._.config.simulationImpulse),this._triggerGraphUpdated()}_triggerGraphUpdated(){var e,i;this._.dbCoordinator.clearCache(),this._.updateStats(),(i=(e=this._.config).onGraphRebuilt)===null||i===void 0||i.call(e,this._.public.stats),this._.dispatchEvent(new CustomEvent(\"dataUploaded\")),this._.dispatchEvent(new CustomEvent(\"graphRebuilt\"))}};var Yx=class{constructor(e){this._=e}async validatePoints(){let{config:e,dbCoordinator:i,public:{pointsTableName:n}}=this._,o=Bg.slice(1),r=c=>{throw Lt(c,\"validatePoints\",\"error\"),this._.updateMessage(`\\u{1F6A8} ${c}`),new Error(c)};if(!await os(i,n))return r(`Failed to get points data. Table \"${n}\" does not exist`);let s=this._getMissingProperties(e,o);if(s.length)return r(`Failed to get points data.\n\nMissing required properties: ${this._formatMissingProps(s)}.`);let{exists:a,missingColumns:l}=await this._validateColumns(e,n,o);return!!a||r(`Failed to get points data.\n\nMissing provided columns for required properties: ${this._formatMissingColumns(l,o)}.`)}async validateLinks(){let{config:e,dbCoordinator:i,public:{linksTableName:n}}=this._,o=Ng.slice(1);if(!await os(i,n)){let l=`Failed to get links data. Table \"${n}\" does not exist`;return Lt(l,\"validateLinks\",\"error\"),this._.updateMessage(`\\u{1F6A8} ${l}`),!1}let r=this._getMissingProperties(e,o);if(r.length)return Lt(`Failed to get links data.\n\nMissing required properties: ${this._formatMissingProps(r)}.`,\"validateLinks\",\"warn\"),!1;let{exists:s,missingColumns:a}=await this._validateColumns(e,n,o);return!!s||(Lt(`Failed to get links data.\n\nMissing provided columns for required properties: ${this._formatMissingColumns(a,o)}.`,\"validateLinks\",\"warn\"),!1)}async validatePointPositions(){let{config:e,config:{pointXBy:i,pointYBy:n},public:{pointsTableName:o}}=this._;if(!!i!=!!n){let r=`Couldn't render points: Only one of \\`${qt.PointX}\\` or \\`${qt.PointY}\\` provided.`;throw Lt(r,\"validatePointPositions\",\"error\"),this._.updateMessage(`\\u{1F6A8} ${r}`),new Error(r)}if(i&&n){let{exists:r,missingColumns:s}=await this._validateColumns(e,o,[qt.PointX,qt.PointY]);if(!r){let a=`Couldn't render points: Failed to get provided point positions, missing columns for positions: ${this._formatMissingProps(s)}.`;throw Lt(a,\"validatePointPositions\",\"error\"),this._.updateMessage(`\\u{1F6A8} ${a}`),new Error(a)}}return!0}async _validateColumns(e,i,n){let o=n.map(s=>e[s]),r=[];return{exists:await op(this._.dbCoordinator,i,o,r),missingColumns:r}}_getMissingProperties(e,i){return i.filter(n=>e[n]===void 0)}_formatMissingProps(e){return e.map(i=>`\"${i}\"`).join(\", \")}_formatMissingColumns(e,i){return e.map(n=>`\"${n}\" (${i[e.indexOf(n)]})`).join(\", \")}};var Qx=class{constructor(e){this._=e}attachCosmosEvents(e={}){e.onSimulationStart=this.onSimulationStart.bind(this),e.onSimulationTick=this.onSimulationTick.bind(this),e.onSimulationEnd=this.onSimulationEnd.bind(this),e.onSimulationPause=this.onSimulationPause.bind(this),e.onSimulationRestart=this.onSimulationRestart.bind(this),e.onClick=this.onClick.bind(this),e.onPointMouseOver=this.onPointMouseOver.bind(this),e.onPointMouseOut=this.onPointMouseOut.bind(this),e.onMouseMove=this.onMouseMove.bind(this),e.onZoomStart=this.onZoomStart.bind(this),e.onZoom=this.onZoom.bind(this),e.onZoomEnd=this.onZoomEnd.bind(this),e.onDrag=this.onDrag.bind(this),e.onDragEnd=this.onDragEnd.bind(this)}getLabelEvents(){return{onLabelClick:this.onLabelClick.bind(this),onHoveredLabelClick:this.onHoveredLabelClick.bind(this)}}onClick(...e){var i;let{config:n}=this._;n.selectPointOnClick?this._handlePointClick(e[0],e[2]):e[0]||this._.public.selectPoint(void 0),(i=n.onClick)===null||i===void 0||i.call(n,...e)}async onLabelClick(e,i){var n,o,r,s;let{public:{pointsTableName:a},config:l,dbCoordinator:c,configManager:u}=this._;if(typeof i.id==\"string\"&&i.id.startsWith(\"cluster-\")){let h=i.id.slice(8),f=Number(h);if(!Number.isNaN(f)){let v=(o=(n=u.clusterIndexToNameMapping.get(f))===null||n===void 0?void 0:n.name)!==null&&o!==void 0?o:i.id;l.selectClusterOnLabelClick&&await this._handleClusterClick(v,e),(r=l.onClusterLabelClick)===null||r===void 0||r.call(l,f,v,e)}return}if(!c)return;let d=await Du(c,a,l,[i.id]);d&&d[0]!==void 0&&(l.selectPointOnLabelClick&&this._handlePointClick(d[0],e,l.selectPointOnLabelClick,!0),(s=l.onLabelClick)===null||s===void 0||s.call(l,d[0],i.id,e))}async onHoveredLabelClick(e){var i;let{public:{pointsTableName:n},config:o,dbCoordinator:r}=this._;if(this._hoveredPointIndex===void 0||!r)return;let s=await Bx(r,n,o,[this._hoveredPointIndex]);s&&s[0]&&(o.selectPointOnLabelClick&&this._handlePointClick(this._hoveredPointIndex,e,o.selectPointOnLabelClick,!0),(i=o.onLabelClick)===null||i===void 0||i.call(o,this._hoveredPointIndex,s[0],e))}onRectSelect(e,i=!1,n=!0){var o,r;n?this._.public.unselectPointsInRect(e):this._.public.selectPointsInRect(e,i),(r=(o=this._.config).onRectSelected)===null||r===void 0||r.call(o,e),this._.dispatchEvent(new CustomEvent(\"rectSelected\"))}onPolygonSelect(e,i=!1,n=!0){var o,r;n?this._.public.unselectPointsInPolygon(e):this._.public.selectPointsInPolygon(e,i),(r=(o=this._.config).onPolygonSelected)===null||r===void 0||r.call(o,e),this._.dispatchEvent(new CustomEvent(\"polygonSelected\"))}onPointMouseOver(...e){var i,n;let[o]=e;(n=(i=this._.config).onPointMouseOver)===null||n===void 0||n.call(i,...e),this._hoveredPointIndex=o,this._renderCurrentHoveredLabel()}onPointMouseOut(...e){var i,n;(n=(i=this._.config).onPointMouseOut)===null||n===void 0||n.call(i,...e),this._hoveredPointIndex=void 0,this._renderCurrentHoveredLabel()}onMouseMove(...e){var i,n;(n=(i=this._.config).onMouseMove)===null||n===void 0||n.call(i,...e)}onZoomStart(...e){var i,n,o;(n=(i=this._.config).onZoomStart)===null||n===void 0||n.call(i,...e),(o=this._.labels)===null||o===void 0||o.render()}onDrag(...e){var i,n,o;(n=(i=this._.config).onDrag)===null||n===void 0||n.call(i,...e),(o=this._.labels)===null||o===void 0||o.updatePositions(),this._renderCurrentHoveredLabel(),this._.dispatchEvent(new CustomEvent(\"onDrag\"))}onDragEnd(...e){var i,n,o;(n=(i=this._.config).onDragEnd)===null||n===void 0||n.call(i,...e),(o=this._.labels)===null||o===void 0||o.update(),this._renderCurrentHoveredLabel()}async onZoom(...e){var i,n,o,r;(n=(i=this._.config).onZoom)===null||n===void 0||n.call(i,...e),(o=this._.labels)===null||o===void 0||o.setZooming(!0,!!e[0].sourceEvent),await((r=this._.labels)===null||r===void 0?void 0:r.render()),this._renderCurrentHoveredLabel(),this._.dispatchEvent(new CustomEvent(\"onZoom\")),this._.dispatchEvent(new CustomEvent(\"pointSizeScaleUpdated\")),this._.dispatchEvent(new CustomEvent(\"linkWidthScaleUpdated\"))}onZoomEnd(...e){var i,n,o;(n=(i=this._.config).onZoomEnd)===null||n===void 0||n.call(i,...e),(o=this._.labels)===null||o===void 0||o.setZooming(!1,!!e[0].sourceEvent),this._.dispatchEvent(new CustomEvent(\"zoomEnded\"))}onSimulationStart(...e){var i,n;(n=(i=this._.config).onSimulationStart)===null||n===void 0||n.call(i,...e)}onSimulationTick(...e){var i,n,o;(n=(i=this._.config).onSimulationTick)===null||n===void 0||n.call(i,...e),(o=this._.labels)===null||o===void 0||o.updatePositions(),this._.dispatchEvent(new CustomEvent(\"onSimulationTick\"))}onSimulationEnd(...e){var i,n;(n=(i=this._.config).onSimulationEnd)===null||n===void 0||n.call(i,...e),this._.dispatchEvent(new CustomEvent(\"onSimulationEnd\"))}onSimulationPause(...e){var i,n,o;(n=(i=this._.config).onSimulationPause)===null||n===void 0||n.call(i,...e),(o=this._.labels)===null||o===void 0||o.render()}onSimulationRestart(...e){var i,n;(n=(i=this._.config).onSimulationRestart)===null||n===void 0||n.call(i,...e)}_handlePointClick(e,i,n,o=!1){var r,s;let{config:a}=this._,{shiftKey:l,altKey:c}=i;if(c)this._.public.unselectPoint(e);else{let u=n===!0||n!==\"single\"&&void 0;this._.public.selectPoint(e,l,u)}(o?(r=a.focusPointOnLabelClick)!==null&&r!==void 0?r:a.selectPointOnLabelClick:(s=a.focusPointOnClick)!==null&&s!==void 0?s:a.selectPointOnClick)&&!c&&this._.public.setFocusedPoint(e)}async _handleClusterClick(e,i){let{config:n}=this._,{pointClusterBy:o}=n;if(!o)return;let r=await this._.public.getPointIndicesByExactValues(o,[e]);if(!r||!r.length)return;let{shiftKey:s,altKey:a}=i;a?this._.public.unselectPointsByIndicies(r):this._.public.selectPoints(r,s)}_renderCurrentHoveredLabel(){var e,i,n;if(this._hoveredPointIndex===void 0)return void((e=this._.labels)===null||e===void 0||e.renderHoveredLabel());let o=this._.public.getPointPositionByIndex(this._hoveredPointIndex);o?(i=this._.labels)===null||i===void 0||i.renderHoveredLabel(this._hoveredPointIndex,o):(n=this._.labels)===null||n===void 0||n.renderHoveredLabel()}};var CR='<svg fill=\"currentColor\" height=\"11\" viewBox=\"0 0 163 11\" width=\"163\" xmlns=\"http://www.w3.org/2000/svg\"><g fill=\"currentColor\"><path d=\"m2.45674 8-1.925002-5.379h.924002l1.617 4.73h.154l1.617-4.73h.924l-1.925 5.379z\"/><path d=\"m7.02243 8v-5.379h.869v5.379zm.44-6.215c-.19067 0-.352-.06233-.484-.187-.12467-.12467-.187-.28233-.187-.473 0-.198.06233-.359333.187-.484.132-.124667.29333-.187.484-.187.19066 0 .34833.062333.473.187.12466.124667.187.286.187.484 0 .19067-.06234.34833-.187.473-.12467.12467-.28234.187-.473.187z\"/><path d=\"m11.8857 8.154c-.6673 0-1.232-.154-1.694-.462-.45465-.308-.72965-.79567-.82499-1.463l.82499-.187c.0587.352.1687.63067.33.836.1613.198.3593.341.594.429.242.08067.4987.121.77.121.4033 0 .7223-.08067.957-.242s.352-.37767.352-.649c0-.27867-.1137-.473-.341-.583-.22-.11733-.5243-.21267-.913-.286l-.451-.077c-.3447-.05867-.66-.15033-.946-.275s-.5133-.29333-.68199-.506c-.16866-.21267-.25299-.48033-.25299-.803 0-.484.18699-.86167.56098-1.133.374-.27133.869-.407 1.485-.407.6087 0 1.1.13933 1.474.418.3813.27133.627.65633.737 1.155l-.814.209c-.066-.38867-.2237-.66-.473-.814-.2493-.16133-.5573-.242-.924-.242s-.6563.06967-.869.209c-.2127.132-.319.33-.319.594 0 .25667.099.44733.297.572.2053.11733.4767.20533.814.264l.451.077c.3813.066.7223.15767 1.023.275.308.11.55.27133.726.484.1833.21267.275.49133.275.836 0 .528-.198.935-.594 1.221-.3887.286-.913.429-1.573.429z\"/><path d=\"m17.5765 8.099c-.3887 0-.748-.08433-1.078-.253-.3227-.16867-.5793-.418-.77-.748-.1833-.33733-.275-.74433-.275-1.221v-3.256h.869v3.19c0 .53533.132.924.396 1.166.2713.242.6343.363 1.089.363.5133 0 .935-.16867 1.265-.506s.495-.83967.495-1.507v-2.706h.869v5.379h-.847v-.913h-.154c-.1173.25667-.319.49133-.605.704-.286.20533-.704.308-1.254.308z\"/><path d=\"m23.9048 8.154c-.374 0-.715-.066-1.023-.198s-.55-.32267-.726-.572-.264-.55367-.264-.913c0-.36667.088-.66733.264-.902.176-.242.418-.42167.726-.539.308-.12467.6527-.187 1.034-.187h1.815v-.396c0-.38133-.1136-.682-.341-.902-.22-.22-.55-.33-.99-.33-.4326 0-.77.10633-1.012.319-.242.20533-.407.484-.495.836l-.814-.264c.088-.30067.2274-.572.418-.814.1907-.24933.4437-.44733.759-.594.3227-.154.7077-.231 1.155-.231.6894 0 1.2247.17967 1.606.539.3814.352.572.85067.572 1.496v2.431c0 .22.1027.33.308.33h.495v.737h-.759c-.242 0-.4363-.066-.583-.198-.1466-.13933-.22-.32267-.22-.55v-.055h-.132c-.0806.13933-.1906.286-.33.44-.132.14667-.3153.26767-.55.363-.2346.10267-.539.154-.913.154zm.099-.748c.5134 0 .9277-.15033 1.243-.451.3227-.308.484-.737.484-1.287v-.121h-1.782c-.3446 0-.6306.077-.858.231-.22.14667-.33.37033-.33.671s.1137.53533.341.704c.2347.16867.5354.253.902.253z\"/><path d=\"m28.582 8v-7.7h.869v7.7z\"/><path d=\"m31.2783 8v-5.379h.869v5.379zm.44-6.215c-.1907 0-.352-.06233-.484-.187-.1247-.12467-.187-.28233-.187-.473 0-.198.0623-.359333.187-.484.132-.124667.2933-.187.484-.187s.3483.062333.473.187.187.286.187.484c0 .19067-.0623.34833-.187.473s-.2823.187-.473.187z\"/><path d=\"m33.7326 8v-1.122l3.421-3.377v-.121h-3.311v-.759h4.224v1.122l-3.432 3.377v.132h3.52v.748z\"/><path d=\"m41.9601 8.154c-.5427 0-1.0194-.11367-1.43-.341-.4107-.23467-.7297-.561-.957-.979-.2274-.418-.341-.902-.341-1.452v-.132c0-.55733.1136-1.045.341-1.463.2273-.418.5426-.74067.946-.968.4033-.23467.8653-.352 1.386-.352.506 0 .9533.11 1.342.33.3886.21267.693.52067.913.924s.33.87633.33 1.419v.396h-4.389c.022.57933.209 1.034.561 1.364.352.32267.792.484 1.32.484.462 0 .8176-.10633 1.067-.319.2493-.21267.44-.46567.572-.759l.748.363c-.11.22733-.264.45467-.462.682-.1907.22733-.4437.418-.759.572-.308.154-.704.231-1.188.231zm-1.848-3.333h3.498c-.0294-.49867-.2017-.88733-.517-1.166-.308-.27867-.704-.418-1.188-.418-.4914 0-.8947.13933-1.21.418-.3154.27867-.5097.66733-.583 1.166z\"/><path d=\"m48.2828 8.154c-.462 0-.8873-.11-1.276-.33-.3886-.22-.6966-.539-.924-.957-.2273-.418-.341-.913-.341-1.485v-.143c0-.572.1137-1.06333.341-1.474.2274-.418.5317-.737.913-.957.3887-.22733.8177-.341 1.287-.341.374 0 .6894.05133.946.154.264.09533.4767.22.638.374.1614.14667.286.30433.374.473h.154v-3.168h.869v7.7h-.847v-.891h-.154c-.1466.27133-.374.51333-.682.726s-.7406.319-1.298.319zm.231-.77c.5574 0 1.0084-.176 1.353-.528.352-.35933.528-.858.528-1.496v-.099c0-.638-.176-1.133-.528-1.485-.3446-.35933-.7956-.539-1.353-.539-.55 0-1.0046.17967-1.364.539-.352.352-.528.847-.528 1.485v.099c0 .638.176 1.13667.528 1.496.3594.352.814.528 1.364.528z\"/><path d=\"m58.8911 8.154c-.5573 0-.9936-.10633-1.309-.319-.308-.21267-.5316-.45467-.671-.726h-.154v.891h-.847v-7.7h.869v3.168h.154c.088-.16867.2127-.32633.374-.473.1614-.154.3704-.27867.627-.374.264-.10267.583-.154.957-.154.4694 0 .8947.11367 1.276.341.3887.22.6967.539.924.957.2274.41067.341.902.341 1.474v.143c0 .572-.1173 1.067-.352 1.485-.2273.418-.5353.737-.924.957-.3813.22-.803.33-1.265.33zm-.231-.77c.5574 0 1.0084-.176 1.353-.528.352-.35933.528-.858.528-1.496v-.099c0-.638-.176-1.133-.528-1.485-.3446-.35933-.7956-.539-1.353-.539-.55 0-1.0046.17967-1.364.539-.352.352-.528.847-.528 1.485v.099c0 .638.176 1.13667.528 1.496.3594.352.814.528 1.364.528z\"/><path d=\"m63.6382 10.2v-.77h3.08c.2127 0 .319-.11.319-.33v-1.958h-.154c-.0733.154-.187.308-.341.462-.1466.14667-.341.26767-.583.363-.242.088-.5463.132-.913.132-.3886 0-.748-.08433-1.078-.253-.3226-.16867-.5793-.418-.77-.748-.1833-.33-.275-.73333-.275-1.21v-3.267h.869v3.201c0 .528.132.913.396 1.155.2714.242.6344.363 1.089.363.5134 0 .935-.16867 1.265-.506s.495-.83967.495-1.507v-2.706h.869v6.633c0 .29333-.0843.52433-.253.693-.1613.1687-.3996.253-.715.253z\"/><path d=\"m75.2998 8.154c-.9167 0-1.6464-.264-2.189-.792-.5427-.53533-.814-1.31267-.814-2.332v-1.76c0-1.01933.2713-1.793.814-2.321.5426-.535333 1.2723-.803 2.189-.803.9093 0 1.606.253 2.09.759.4913.506.737 1.199.737 2.079v.055h-.913v-.088c0-.57933-.1577-1.05233-.473-1.419-.308-.374-.7884-.561-1.441-.561-.6527 0-1.1624.20167-1.529.605-.3667.396-.55.95333-.55 1.672v1.804c0 .71867.1833 1.27967.55 1.683.3666.396.8763.594 1.529.594.6526 0 1.133-.18333 1.441-.55.3153-.374.473-.85067.473-1.43v-.176h.913v.143c0 .88-.2457 1.573-.737 2.079-.484.506-1.1807.759-2.09.759z\"/><path d=\"m82.0934 8.154c-.5427 0-1.023-.11367-1.441-.341-.4107-.22733-.7333-.54633-.968-.957-.2273-.418-.341-.90933-.341-1.474v-.143c0-.55733.1137-1.045.341-1.463.2347-.418.5573-.74067.968-.968.418-.22733.8983-.341 1.441-.341s1.0193.11367 1.43.341c.418.22733.7407.55.968.968.2347.418.352.90567.352 1.463v.143c0 .56467-.1173 1.056-.352 1.474-.2273.41067-.55.72967-.968.957-.4107.22733-.8873.341-1.43.341zm0-.781c.572 0 1.0267-.17967 1.364-.539.3447-.36667.517-.858.517-1.474v-.099c0-.616-.1723-1.10367-.517-1.463-.3373-.36667-.792-.55-1.364-.55-.5647 0-1.0193.18333-1.364.55-.3447.35933-.517.847-.517 1.463v.099c0 .616.1723 1.10733.517 1.474.3447.35933.7993.539 1.364.539z\"/><path d=\"m88.5742 8.154c-.6673 0-1.232-.154-1.694-.462-.4547-.308-.7297-.79567-.825-1.463l.825-.187c.0587.352.1687.63067.33.836.1613.198.3593.341.594.429.242.08067.4987.121.77.121.4033 0 .7223-.08067.957-.242s.352-.37767.352-.649c0-.27867-.1137-.473-.341-.583-.22-.11733-.5243-.21267-.913-.286l-.451-.077c-.3447-.05867-.66-.15033-.946-.275s-.5133-.29333-.682-.506-.253-.48033-.253-.803c0-.484.187-.86167.561-1.133s.869-.407 1.485-.407c.6087 0 1.1.13933 1.474.418.3813.27133.627.65633.737 1.155l-.814.209c-.066-.38867-.2237-.66-.473-.814-.2493-.16133-.5573-.242-.924-.242s-.6563.06967-.869.209c-.2127.132-.319.33-.319.594 0 .25667.099.44733.297.572.2053.11733.4767.20533.814.264l.451.077c.3813.066.7223.15767 1.023.275.308.11.55.27133.726.484.1833.21267.275.49133.275.836 0 .528-.198.935-.594 1.221-.3887.286-.913.429-1.573.429z\"/><path d=\"m92.208 8v-5.379h.847v.671h.154c.1026-.19067.2713-.36667.506-.528.2346-.16133.5646-.242.99-.242.418 0 .7553.09167 1.012.275.264.18333.4546.407.572.671h.154c.1246-.264.3116-.48767.561-.671.2566-.18333.6123-.275 1.067-.275.3593 0 .6746.07333.946.22.2713.14667.484.35933.638.638.1613.27133.242.59767.242.979v3.641h-.869v-3.564c0-.35933-.1064-.64167-.319-.847-.2054-.21267-.495-.319-.869-.319-.396 0-.7224.12833-.979.385-.2494.25667-.374.627-.374 1.111v3.234h-.869v-3.564c0-.35933-.1064-.64167-.319-.847-.2054-.21267-.495-.319-.869-.319-.396 0-.7224.12833-.979.385-.2494.25667-.374.627-.374 1.111v3.234z\"/><path d=\"m104.158 8.154c-.543 0-1.023-.11367-1.441-.341-.411-.22733-.733-.54633-.968-.957-.227-.418-.341-.90933-.341-1.474v-.143c0-.55733.114-1.045.341-1.463.235-.418.557-.74067.968-.968.418-.22733.898-.341 1.441-.341s1.019.11367 1.43.341c.418.22733.741.55.968.968.235.418.352.90567.352 1.463v.143c0 .56467-.117 1.056-.352 1.474-.227.41067-.55.72967-.968.957-.411.22733-.887.341-1.43.341zm0-.781c.572 0 1.027-.17967 1.364-.539.345-.36667.517-.858.517-1.474v-.099c0-.616-.172-1.10367-.517-1.463-.337-.36667-.792-.55-1.364-.55-.565 0-1.019.18333-1.364.55-.345.35933-.517.847-.517 1.463v.099c0 .616.172 1.10733.517 1.474.345.35933.799.539 1.364.539z\"/><path d=\"m108.208 5.338v-.154c0-.56467.113-1.04867.341-1.452.227-.40333.535-.715.924-.935.388-.22.814-.33 1.276-.33.564 0 .997.11 1.298.33.308.21267.535.451.682.715h.154v-.891h.825v6.633c0 .29333-.081.52433-.242.693-.162.1687-.396.253-.704.253h-3.652v-.77h3.421c.22 0 .33-.11.33-.33v-2.046h-.154c-.088.16133-.213.319-.374.473-.162.154-.371.28233-.627.385-.257.09533-.576.143-.957.143-.462 0-.888-.11-1.276-.33-.389-.22-.697-.53167-.924-.935-.228-.41067-.341-.89467-.341-1.452zm2.772 1.947c.557 0 1.008-.176 1.353-.528.352-.352.528-.836.528-1.452v-.088c0-.62333-.176-1.10733-.528-1.452-.345-.352-.796-.528-1.353-.528-.55 0-1.005.176-1.364.528-.352.34467-.528.82867-.528 1.452v.088c0 .616.176 1.1.528 1.452.359.352.814.528 1.364.528z\"/><path d=\"m115.529 8v-5.379h.847v.66h.154c.096-.23467.242-.407.44-.517s.459-.165.781-.165h.638v.792h-.693c-.388 0-.704.11-.946.33-.234.21267-.352.54633-.352 1.001v3.278z\"/><path d=\"m121.143 8.154c-.374 0-.715-.066-1.023-.198s-.55-.32267-.726-.572-.264-.55367-.264-.913c0-.36667.088-.66733.264-.902.176-.242.418-.42167.726-.539.308-.12467.653-.187 1.034-.187h1.815v-.396c0-.38133-.114-.682-.341-.902-.22-.22-.55-.33-.99-.33-.433 0-.77.10633-1.012.319-.242.20533-.407.484-.495.836l-.814-.264c.088-.30067.227-.572.418-.814.191-.24933.444-.44733.759-.594.323-.154.708-.231 1.155-.231.689 0 1.225.17967 1.606.539.381.352.572.85067.572 1.496v2.431c0 .22.103.33.308.33h.495v.737h-.759c-.242 0-.436-.066-.583-.198-.147-.13933-.22-.32267-.22-.55v-.055h-.132c-.081.13933-.191.286-.33.44-.132.14667-.315.26767-.55.363-.235.10267-.539.154-.913.154zm.099-.748c.513 0 .928-.15033 1.243-.451.323-.308.484-.737.484-1.287v-.121h-1.782c-.345 0-.631.077-.858.231-.22.14667-.33.37033-.33.671s.114.53533.341.704c.235.16867.535.253.902.253z\"/><path d=\"m125.82 10.2v-7.579h.847v.891h.154c.14-.27133.363-.51333.671-.726.316-.21267.752-.319 1.309-.319.462 0 .884.11367 1.265.341.389.22.697.53533.924.946.235.41067.352.90567.352 1.485v.143c0 .572-.113 1.067-.341 1.485-.227.418-.535.737-.924.957-.381.22-.806.33-1.276.33-.374 0-.693-.05133-.957-.154-.256-.09533-.465-.22-.627-.374-.161-.154-.286-.31167-.374-.473h-.154v3.047zm2.75-2.816c.558 0 1.009-.176 1.353-.528.352-.35933.528-.858.528-1.496v-.099c0-.638-.176-1.133-.528-1.485-.344-.35933-.795-.539-1.353-.539-.55 0-1.004.17967-1.364.539-.352.352-.528.847-.528 1.485v.099c0 .638.176 1.13667.528 1.496.36.352.814.528 1.364.528z\"/><path d=\"m132.899 8v-7.7h.869v3.179h.154c.074-.16133.184-.31167.33-.451.154-.14667.349-.26767.583-.363.242-.09533.547-.143.913-.143.404 0 .763.088 1.078.264.323.16867.58.418.77.748.191.32267.286.726.286 1.21v3.256h-.869v-3.19c0-.53533-.135-.924-.407-1.166-.264-.242-.623-.363-1.078-.363-.52 0-.946.16867-1.276.506-.322.33733-.484.83967-.484 1.507v2.706z\"/><path d=\"m140.118 8.154c-.212 0-.392-.06967-.539-.209-.139-.13933-.209-.319-.209-.539s.07-.39967.209-.539c.147-.13933.327-.209.539-.209.22 0 .4.06967.539.209.14.13933.209.319.209.539s-.069.39967-.209.539c-.139.13933-.319.209-.539.209z\"/><path d=\"m144.078 8.154c-.374 0-.715-.066-1.023-.198s-.55-.32267-.726-.572-.264-.55367-.264-.913c0-.36667.088-.66733.264-.902.176-.242.418-.42167.726-.539.308-.12467.652-.187 1.034-.187h1.815v-.396c0-.38133-.114-.682-.341-.902-.22-.22-.55-.33-.99-.33-.433 0-.77.10633-1.012.319-.242.20533-.407.484-.495.836l-.814-.264c.088-.30067.227-.572.418-.814.19-.24933.443-.44733.759-.594.322-.154.707-.231 1.155-.231.689 0 1.224.17967 1.606.539.381.352.572.85067.572 1.496v2.431c0 .22.102.33.308.33h.495v.737h-.759c-.242 0-.437-.066-.583-.198-.147-.13933-.22-.32267-.22-.55v-.055h-.132c-.081.13933-.191.286-.33.44-.132.14667-.316.26767-.55.363-.235.10267-.539.154-.913.154zm.099-.748c.513 0 .927-.15033 1.243-.451.322-.308.484-.737.484-1.287v-.121h-1.782c-.345 0-.631.077-.858.231-.22.14667-.33.37033-.33.671s.113.53533.341.704c.234.16867.535.253.902.253z\"/><path d=\"m148.755 10.2v-7.579h.847v.891h.154c.139-.27133.363-.51333.671-.726.315-.21267.752-.319 1.309-.319.462 0 .884.11367 1.265.341.389.22.697.53533.924.946.235.41067.352.90567.352 1.485v.143c0 .572-.114 1.067-.341 1.485s-.535.737-.924.957c-.381.22-.807.33-1.276.33-.374 0-.693-.05133-.957-.154-.257-.09533-.466-.22-.627-.374s-.286-.31167-.374-.473h-.154v3.047zm2.75-2.816c.557 0 1.008-.176 1.353-.528.352-.35933.528-.858.528-1.496v-.099c0-.638-.176-1.133-.528-1.485-.345-.35933-.796-.539-1.353-.539-.55 0-1.005.17967-1.364.539-.352.352-.528.847-.528 1.485v.099c0 .638.176 1.13667.528 1.496.359.352.814.528 1.364.528z\"/><path d=\"m155.834 10.2v-7.579h.847v.891h.154c.139-.27133.363-.51333.671-.726.315-.21267.752-.319 1.309-.319.462 0 .884.11367 1.265.341.389.22.697.53533.924.946.235.41067.352.90567.352 1.485v.143c0 .572-.114 1.067-.341 1.485s-.535.737-.924.957c-.381.22-.807.33-1.276.33-.374 0-.693-.05133-.957-.154-.257-.09533-.466-.22-.627-.374s-.286-.31167-.374-.473h-.154v3.047zm2.75-2.816c.557 0 1.008-.176 1.353-.528.352-.35933.528-.858.528-1.496v-.099c0-.638-.176-1.133-.528-1.485-.345-.35933-.796-.539-1.353-.539-.55 0-1.005.17967-1.364.539-.352.352-.528.847-.528 1.485v.099c0 .638.176 1.13667.528 1.496.359.352.814.528 1.364.528z\"/><path d=\"m71.6368 9.375h90.3682v.55h-90.3682z\"/></g></svg>';var VK=\".style_module_rectSelect__6c3b1fe5{height:100%;left:0;position:absolute;top:0;width:100%}\",kR={rectSelect:\"style_module_rectSelect__6c3b1fe5\"};gn(VK,{});var Xx=class{constructor(e){var i;this._=e,this._brush=bk().keyModifiers(!1).on(\"end\",n=>{var o;if(!n.sourceEvent)return;let{shiftKey:r,altKey:s}=n.sourceEvent,a=n.selection;(o=this._onSelectCallback)===null||o===void 0||o.call(this,a,r,s)}),this._svg=document.createElementNS(\"http://www.w3.org/2000/svg\",\"svg\"),this._svg.classList.add(kR.rectSelect),(i=this._.containerElement)===null||i===void 0||i.appendChild(this._svg),this._onSelectCallback=this._.eventManager.onRectSelect,Mi(this._svg).select(\".brush-group\").remove(),this._brush.extent([[0,0],[this._svg.clientWidth,this._svg.clientHeight]]),Mi(this._svg).append(\"g\").attr(\"class\",\"brush-group\").call(this._brush),this.updateSelectionClassName(),Mi(this._svg).style(\"display\",\"none\")}updateSelectionClassName(){var e;let i=`selection ${(e=this._.config.rectangularSelectorClassName)!==null&&e!==void 0?e:\"\"}`;Mi(this._svg).select(\".brush-group\").selectAll(\".selection\").attr(\"class\",i)}enable(){Mi(this._svg).style(\"display\",null),this._brush.extent([[0,0],[this._svg.clientWidth,this._svg.clientHeight]]),Mi(this._svg).select(\".brush-group\").call(this._brush)}disable(){Mi(this._svg).style(\"display\",\"none\"),Mi(this._svg).select(\".brush-group\").call(this._brush.clear)}destroy(){Mi(this._svg).select(\".brush-group\").remove(),this._svg.remove()}};var WK=\".style_module_polygonalSelect__f21ae84d{height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}\",ER={polygonalSelect:\"style_module_polygonalSelect__f21ae84d\"};gn(WK,{});var Kx=class{constructor(e){this._=e,this._isDrawing=!1,this._points=[],this._startDrawing=i=>{this._isDrawing=!0,this._points=[];let n=this._canvas.getBoundingClientRect();this._points.push({x:i.clientX-n.left,y:i.clientY-n.top});let o=window.devicePixelRatio||1;this._ctx.clearRect(0,0,this._canvas.width/o,this._canvas.height/o)},this._draw=i=>{if(!this._isDrawing)return;let n=this._canvas.getBoundingClientRect();this._points.push({x:i.clientX-n.left,y:i.clientY-n.top});let o=window.devicePixelRatio||1;this._ctx.clearRect(0,0,this._canvas.width/o,this._canvas.height/o),this._ctx.beginPath(),this._points.length>0&&this._points[0]&&this._ctx.moveTo(this._points[0].x,this._points[0].y);for(let r=1;r<this._points.length;r++){let s=this._points[r];s&&this._ctx.lineTo(s.x,s.y)}this._ctx.strokeStyle=this._.config.polygonalSelectorStrokeColor||\"#ffffff\",this._ctx.lineWidth=this._.config.polygonalSelectorLineWidth||2,this._ctx.stroke()},this._stopDrawing=i=>{var n;if(!this._isDrawing)return;if(this._isDrawing=!1,this._points.length>2){this._ctx.closePath(),this._ctx.stroke();let r=this._points.map(l=>[l.x,l.y]),s=r[0],a=r[r.length-1];s&&a&&(s[0]!==a[0]||s[1]!==a[1])&&r.push(s),(n=this._onSelectCallback)===null||n===void 0||n.call(this,r,i.shiftKey,i.altKey)}let o=window.devicePixelRatio||1;this._ctx.clearRect(0,0,this._canvas.width/o,this._canvas.height/o)},this._onSelectCallback=this._.eventManager.onPolygonSelect,this._initializeCanvas(),this._resizeObserver=new ResizeObserver(()=>this._resizeCanvas()),this._resizeObserver.observe(this._.containerElement)}_initializeCanvas(){let e=this._.containerElement;if(!e)return void console.error(\"Container element is undefined\");this._canvas=document.createElement(\"canvas\"),this._canvas.classList.add(ER.polygonalSelect),e.appendChild(this._canvas);let i=this._canvas.getContext(\"2d\");if(!i)return void console.error(\"Failed to get canvas context\");this._ctx=i;let n=window.devicePixelRatio||1;this._canvas.width=e.clientWidth*n,this._canvas.height=e.clientHeight*n,this._canvas.style.width=`${e.clientWidth}px`,this._canvas.style.height=`${e.clientHeight}px`,this._ctx.scale(n,n)}enable(){this._canvas.style.display=\"block\",this._canvas.style.pointerEvents=\"auto\",this._canvas.style.cursor=\"crosshair\",this._canvas.addEventListener(\"mousedown\",this._startDrawing),this._canvas.addEventListener(\"mousemove\",this._draw),this._canvas.addEventListener(\"mouseup\",this._stopDrawing)}disable(){if(this._canvas.style.display=\"none\",this._canvas.style.pointerEvents=\"none\",this._canvas.style.cursor=\"default\",this._canvas.removeEventListener(\"mousedown\",this._startDrawing),this._canvas.removeEventListener(\"mousemove\",this._draw),this._canvas.removeEventListener(\"mouseup\",this._stopDrawing),this._ctx){let e=window.devicePixelRatio||1;this._ctx.clearRect(0,0,this._canvas.width/e,this._canvas.height/e)}}destroy(){var e;(e=this._resizeObserver)===null||e===void 0||e.disconnect(),this.disable(),this._canvas.parentNode&&this._canvas.parentNode.removeChild(this._canvas)}_resizeCanvas(){let{width:e,height:i}=this._.containerElement.getBoundingClientRect(),n=window.devicePixelRatio||1;this._canvas.width=e*n,this._canvas.height=i*n,this._canvas.style.width=`${e}px`,this._canvas.style.height=`${i}px`,this._ctx.scale(n,n)}};var IR=new WeakMap;function br(t){return IR.get(t)}function TR(t,e){IR.set(t,e)}var HK=\".style_module_cosmograph__6b1f9ef4{--cosmograph-text-color:#fff;-webkit-font-smoothing:antialiased!important;display:flex;height:100%;overflow:hidden;position:relative;text-rendering:optimizeLegibility!important;width:100%}.style_module_popupContainer__6b1f9ef4{height:100%;pointer-events:none;position:absolute;width:100%;z-index:1}.style_module_attribution__6b1f9ef4{bottom:0;color:var(--cosmograph-text-color);cursor:pointer;line-height:0;margin:0 .6rem .6rem 0;opacity:.7;position:absolute;right:0;user-select:none;-webkit-user-select:none;z-index:1}.style_module_message__6b1f9ef4{color:var(--cosmograph-text-color);font-size:14px;font-weight:300;left:50%;max-width:300px;opacity:.6;position:absolute;text-align:center;top:50%;transform:translate(-50%,-50%);z-index:1000}.style_module_message__6b1f9ef4>br{display:none}@keyframes style_module_spin__6b1f9ef4{to{transform:rotate(1turn)}}@keyframes style_module_fadeIn__6b1f9ef4{0%{opacity:0}to{opacity:1}}.style_module_spinner__6b1f9ef4{animation:style_module_fadeIn__6b1f9ef4 .3s ease forwards,style_module_spin__6b1f9ef4 1s linear infinite;border:4px solid hsla(0,0%,100%,.3);border-radius:50%;border-top:4px solid var(--cosmograph-text-color);display:block;height:30px;margin:0 auto;opacity:0;width:30px}\",Ha={cosmograph:\"style_module_cosmograph__6b1f9ef4\",popupContainer:\"style_module_popupContainer__6b1f9ef4\",attribution:\"style_module_attribution__6b1f9ef4\",message:\"style_module_message__6b1f9ef4\",spinner:\"style_module_spinner__6b1f9ef4\",fadeIn:\"style_module_fadeIn__6b1f9ef4\",spin:\"style_module_spin__6b1f9ef4\"};gn(HK,{});var Mu=class t{constructor(e){this._isActive=!0,this._config=e,this._client=this._createClient();let i=`${this.fieldsToQuery.join(\",\")}-${Cv()}`;this._id=e.id?`${e.id}-${i}`:i}static getOrCreateClient(e){if(e.id){let n=t._clientRegistry.get(e.id);if(n)return n._config=e,n}let i=new t(e);return e.id&&t._clientRegistry.set(e.id,i),i}get selection(){return this._selection}get tableName(){return this._config.getTableName()}get accessor(){return this._config.getAccessor()}get id(){return this._id}get active(){return this._client.enabled}get currentData(){return this._currentData}get fieldsToQuery(){let e=this._config.includeFields?this._config.includeFields():[];return this._isActive?[...new Set([...this.accessor?[ar(this.accessor)]:[],...e].filter(Boolean))]:[\"*\"]}setActive(e){this._isActive=e}async getCurrentData(){let e=await this._config.coordinator.query(Pi.from(this.tableName).select(this.fieldsToQuery));return this._currentData=e,e}applyFilter(e){var i;(i=this.selection)===null||i===void 0||i.update({source:this,predicate:e??null,value:e??null})}applyRangeFilter(e){this.accessor&&this.applyFilter(e?Hc(ar(this.accessor),e):void 0)}applyExactFilter(e){let i=e!==void 0?e===\"null\"?Vd(ar(this.accessor)):a2(ar(this.accessor),Gn(e)):void 0;this.applyFilter(i)}applyInFilter(e){if(this.accessor)if(e&&e.length>0){let i=(Array.isArray(e)?e:Array.from(e)).map(n=>Gn(n));this.applyFilter(Nf(ar(this.accessor),i))}else this.applyFilter(void 0)}applyLessOrEqFilter(e){this.accessor&&this.applyFilter(e!==void 0?Tb(ar(this.accessor),Gn(e)):void 0)}applyGreaterOrEqFilter(e){this.accessor&&this.applyFilter(e!==void 0?l2(ar(this.accessor),Gn(e)):void 0)}resetFilter(){var e,i;this.selection&&((i=(e=this.selection)===null||e===void 0?void 0:e.clauses)===null||i===void 0?void 0:i.filter(n=>n.source.id===this.id).length)>0&&this.selection.update({source:this,predicate:null,value:null})}update(){this._client.update()}destroy(){this.resetFilter(),this._client.destroy(),this._config.id&&t._clientRegistry.delete(this._config.id)}regenerateClient(){this.destroy(),this._client=this._createClient()}_createClient(){return this._selection=this._config.getSelection(),g2({coordinator:this._config.coordinator,selection:this.selection,query:e=>{var i;return this._isActive&&(!((i=this.selection)===null||i===void 0)&&i.clauses.active)?Pi.from(this.tableName).select(this.fieldsToQuery).where(e??[]):null},queryResult:e=>{var i,n;let o=e;this._currentData=o,(n=(i=this._config).onFiltered)===null||n===void 0||n.call(i,o)}})}reset(){this.resetFilter()}};Mu._clientRegistry=new Map;var up=class{constructor(e,i,n){this._isValidAccessor=!1,this._abortController=new AbortController,this._isInitialLoad=!0,this._internalApi=br(e),this._targetElement=i,this._config=this._mergeWithDefaultConfig(n),this._dataUpdatedHandler=async()=>await this.fetchData(),this._dataFilteredHandler=()=>this.onDataFiltered(),this._resetSelectionsHandler=()=>this._onResetSelections(),this._internalApi.addEventListener(\"dataUploaded\",this._dataUpdatedHandler),this._internalApi.addEventListener(\"dataFiltered\",this._dataFilteredHandler),this._internalApi.addEventListener(\"resetSelections\",this._resetSelectionsHandler),this._readyPromise=this._initialize()}onInitialize(){}onResetClientSelections(){}getCurrentData(){return null}async shouldUpdateComponentData(){return!1}get useLinksData(){var e;return(e=this._config.useLinksData)!==null&&e!==void 0&&e}get pointAccessors(){let{pointIdBy:e,pointIndexBy:i}=this._internalApi.config;return e&&i?[e,i]:[]}get linkAccessors(){let{linkSourceIndexBy:e,linkTargetIndexBy:i}=this._internalApi.config;return e&&i?[e,i]:[]}get selection(){return this.useLinksData?this._internalApi.crossfilter.linksSelection:this._internalApi.crossfilter.pointsSelection}get tableName(){return this.useLinksData?this._internalApi.public.linksTableName:this._internalApi.public.pointsTableName}async _initialize(){await o4([async()=>{await this._internalApi.dbReady();let e=await this._getGlobalDisplayStateSettings(this._config);this._config={...this._config,...e}},async()=>{this._uiComponent=this.createUIComponent(this._targetElement),await this._internalApi.configManager.cosmosInitialized()},()=>this._createClient(),()=>this.fetchData(),()=>this.setConfig(this._config),()=>this.onConfigUpdate(),()=>Promise.resolve(this.onInitialize())],this._abortController)}async _getGlobalDisplayStateSettings(e){await this._internalApi.dbReady();let{componentsDisplayStateMode:i}=this._internalApi.config,{disableStateMessages:n,noDataMessage:o}=e;return i===!1?n=!0:i===\"loading\"&&(o=!1),{disableStateMessages:n,noDataMessage:o,loadingMessage:e.loadingMessage}}async setConfig(e){var i;let n=this._config,o=this.accessor;this._config=this._mergeWithDefaultConfig(e),this._config={...this._config,...await this._getGlobalDisplayStateSettings(this._config)};let r=await this.shouldUpdateComponentData();this._config.useLinksData!==n.useLinksData&&((i=this._client)===null||i===void 0||i.regenerateClient()),(r||this._config.useLinksData!==n.useLinksData||this._config.useQuantiles!==n.useQuantiles||this.accessor!==o)&&(await this.fetchData(),this.onResetClientSelections()),await this.onConfigUpdate(n)}async fetchData(){var e,i,n,o,r;let{dbCoordinator:s,dataManager:a}=this._internalApi;if(!s||!this.accessor)return;await a.dataReady(),(i=(e=this._uiComponent)===null||e===void 0?void 0:e.setLoadingState)===null||i===void 0||i.call(e);let l=!this.accessor||await os(s,this.tableName);if(this._isValidAccessor=!this.accessor||l&&await op(s,this.tableName,[this.accessor]),this._isInitialLoad||(n=this._client)===null||n===void 0||n.resetFilter(),(o=this._client)===null||o===void 0||o.setActive(this._isValidAccessor),this._isValidAccessor){let c=await this.getCurrentData();this._currentData=c!==null?c:await((r=this._client)===null||r===void 0?void 0:r.getCurrentData())}else this._currentData=void 0;this._isInitialLoad&&(this._isInitialLoad=!1)}ready(){return this._readyPromise}checkReady(e){return!!this._uiComponent||(this.ready().then(e),!1)}async _createClient(){if(await this._internalApi.dbReady(),!this._internalApi.dbCoordinator)return;let e={coordinator:this._internalApi.dbCoordinator,getTableName:()=>this.tableName,getSelection:()=>this.selection,getAccessor:()=>this.accessor,includeFields:()=>this.useLinksData?this.linkAccessors:this.pointAccessors,onFiltered:this._handleSelectionUpdate.bind(this),id:this._config.id||this.constructor.name+this.accessor+Cv()};this._client=Mu.getOrCreateClient(e)}_handleSelectionUpdate(e){var i,n,o,r;if(!this.accessor)return;let s=this._internalApi.crossfilter;if(this.useLinksData){let a=s.linksSelection.active;((i=a?.source)===null||i===void 0?void 0:i.id)===((n=this._client)===null||n===void 0?void 0:n.id)&&s.onLinksFiltered(e)}else{let a=s.pointsSelection.active;((o=a?.source)===null||o===void 0?void 0:o.id)===((r=this._client)===null||r===void 0?void 0:r.id)&&s.onPointsFiltered(e)}}_onResetSelections(){var e;(e=this._client)===null||e===void 0||e.resetFilter(),this.onResetClientSelections()}_mergeWithDefaultConfig(e){return Kt(this.defaultConfig,e??{})}remove(){var e,i;this._abortController.abort(),(e=this._uiComponent)===null||e===void 0||e.destroy(),this._config.preserveSelectionOnUnmount||(i=this._client)===null||i===void 0||i.resetFilter(),this._internalApi.removeEventListener(\"dataUploaded\",this._dataUpdatedHandler),this._internalApi.removeEventListener(\"dataFiltered\",this._dataFilteredHandler),this._internalApi.removeEventListener(\"resetSelections\",this._resetSelectionsHandler),this._isInitialLoad=!0}};var Us=class t extends up{static isInclusiveComponent(e){return t._inclusiveComponentIds.has(e)}static register(e){t._inclusiveComponentIds.add(e)}static unregister(e){t._inclusiveComponentIds.delete(e)}onInitialize(){var e;!((e=this._client)===null||e===void 0)&&e.id&&t.register(this._client.id)}onDataFiltered(){var e;let{pointsSelection:i,linksSelection:n}=this._internalApi.crossfilter,o=i.active,r=n.active,s=!(o?.predicate||i.clauses.length||r?.predicate||n.clauses.length),a=l=>{var c,u,d;return l?.predicate!==void 0&&((c=l?.source)===null||c===void 0?void 0:c.id)===((u=this._client)===null||u===void 0?void 0:u.id)&&!t.isInclusiveComponent((d=l?.source)===null||d===void 0?void 0:d.id)};(a(o)||a(r)||s)&&((e=this._client)===null||e===void 0||e.resetFilter(),this.onResetClientSelections()),this.updateCrossfilteredData()}updateCrossfilteredData(){var e,i;let{crossfilter:n}=this._internalApi;if(!this._currentData||!this._isValidAccessor||!this.accessor)return;let o=n.filtered.intersection;if(n.isFilteringActive){let r=this._filterByIdx(this._currentData,o);this.updateHighlightedData(r)}else{let r=(i=(e=this._currentData)===null||e===void 0?void 0:e.getChild(this.accessor))===null||i===void 0?void 0:i.toArray();this.updateHighlightedData(r)}}_filterByIdx(e,i){var n,o;let{config:r}=this._internalApi;if(!this.accessor||!i.size)return[];let s=e.getChild(this.accessor);if(!s)return[];let a=this.useLinksData?r.linkSourceIndexBy:r.pointIndexBy,l=(n=e.getChild(a))===null||n===void 0?void 0:n.toArray();if(!l)return[];let c=this.useLinksData?(o=e.getChild(r.linkTargetIndexBy))===null||o===void 0?void 0:o.toArray():void 0,u=s.toArray(),d=i,h=[];for(let f=0,v=u.length;f<v;++f){let L=l[f];(d.has(L)||c!==void 0&&d.has(c[f]))&&h.push(u[f])}return h}remove(){var e;!((e=this._client)===null||e===void 0)&&e.id&&t.unregister(this._client.id),super.remove()}};Us._inclusiveComponentIds=new Set;var Zx=class{constructor(e){this._internalApi=e;let i={coordinator:this._internalApi.dbCoordinator,getSelection:()=>this._internalApi.crossfilter.pointsSelection,getTableName:()=>this._internalApi.public.pointsTableName,getAccessor:()=>this._internalApi.config.pointIndexBy,onFiltered:n=>this._onPointsFiltered(n),id:\"pointsSelectionClient\"};this._pointSelectionClient=new Mu(i),Us.register(this._pointSelectionClient.id)}_onPointsFiltered(e){var i;let n=this._internalApi.crossfilter.pointsSelection.active;((i=n?.source)===null||i===void 0?void 0:i.id)===this._pointSelectionClient.id&&this._internalApi.crossfilter.onPointsFiltered(e)}selectPoints(e){e===void 0?this._pointSelectionClient.resetFilter():this._pointSelectionClient.applyInFilter(e)}get id(){return this._pointSelectionClient.id}destroy(){Us.unregister(this._pointSelectionClient.id)}};var Yg=class{constructor(e,i,n){var o;this._eventTarget=new EventTarget,this._dbReadinessPromise=null,this._cosmosInitialized=!1,this._enableSimulation=!0,this._pointsHaveLayout=!1,this._summary={},this._stats={pointsCount:0,linksCount:0,pointsSummary:void 0,linksSummary:void 0},this._initializeLabels=()=>{this._labels&&this._labels.destroy();let r=this._cosmosElement.querySelector(\"canvas\");r&&(this._labels=new $x(this._internalApi,r))},this._initializeClients=async()=>{await this.dataUploaded(),this._pointSelectionClient=new Zx(this._internalApi)},this._dropLocalTables=async r=>{var s,a;this._dbCoordinator&&(r||await((s=this._dbCoordinator.internalDB)===null||s===void 0?void 0:s.dropTable(Yt.Points)),await((a=this._dbCoordinator.internalDB)===null||a===void 0?void 0:a.dropTable(Yt.Links)))},window.cosmographDisableLogging=(o=i.disableLogging)!==null&&o!==void 0&&o,this._containerElement=e,this._internalApi=this._initializeInternalApi(this),TR(this,this._internalApi),Lt(\"Initialization...\"),this._initializeDB(n),this._dataValidator=new Yx(this._internalApi),this._eventManager=new Qx(this._internalApi),this._configManager=new jx(this._internalApi),this._dataManager=new Gx(this._internalApi),this._crossfilter=new qx(this._internalApi),this._rectangularSelection=new Xx(this._internalApi),this._polygonalSelection=new Kx(this._internalApi),this._initializeHTMLElements(),this.setConfig(i)}_initializeInternalApi(e){return{get public(){return e},get labels(){return e._labels},get cosmos(){return e._cosmos},get summary(){return e._summary},get eventManager(){return e._eventManager},get configManager(){return e._configManager},get dataManager(){return e._dataManager},get dataValidator(){return e._dataValidator},get rectangularSelection(){return e._rectangularSelection},get polygonalSelection(){return e._polygonalSelection},get crossfilter(){return e._crossfilter},get selectionClient(){return e._pointSelectionClient},get dbCoordinator(){return e._dbCoordinator},get containerElement(){return e._containerElement},get cosmosElement(){return e._cosmosElement},get popupElement(){return e._popupElement},get config(){return e._configManager.config},get cosmosInitialized(){return e._cosmosInitialized},get pointsHaveLayout(){return e._pointsHaveLayout},dropLocalTables:async i=>await e._dropLocalTables(i),updateMessage:i=>e._updateMessage(i),initializeLabels:()=>e._initializeLabels(),initializeCosmos:()=>e._initializeCosmos(),updateStats:()=>e._updateStats(),updateSummary:async()=>e._updateSummary(),dbReady:async()=>e._dbReady(),addEventListener:(i,n)=>{e._eventTarget.addEventListener(i,n,{passive:!0})},removeEventListener:(i,n)=>{e._eventTarget.removeEventListener(i,n,{passive:!0})},dispatchEvent:i=>e._eventTarget.dispatchEvent(i)}}_initializeDB(e){this._dbReadinessPromise=Ev.create(e).then(async i=>{if(this._dbCoordinator=i,i)this._updateMessage(\"\\u{1F469}\\u{1F3FB}\\u200D\\u{1F680} Cosmograph is ready, load your data!\",!0),await this._initializeClients();else{let n=e?\"\\u{1F6A8} Couldn't create coordinator for specified DuckDB connection. Please check your external DuckDB instance configuration and try to initialize Cosmograph again.\":\"\\u{1F6A8} Failed to fetch DuckDB-Wasm bundles. Please try to initialize Cosmograph again.\";this._updateMessage(n)}})}_initializeHTMLElements(){var e,i;this._containerElement.classList.add(Ha.cosmograph),(e=this._containerElement)===null||e===void 0||e.style.setProperty(\"--cosmograph-text-color\",\"#ffffff\"),this._popupElement=document.createElement(\"div\"),this._popupElement.classList.add(Ha.popupContainer),this._cosmosElement=document.createElement(\"div\"),this._cosmosElement.style.width=\"100%\",this._cosmosElement.style.height=\"100%\",(i=this._cosmosElement)===null||i===void 0||i.style.setProperty(\"backgroundColor\",Ug),this._containerElement.appendChild(this._cosmosElement),this._containerElement.appendChild(this._popupElement),this._addAttribution(),this._addMessageElement()}_addAttribution(){var e;this._attributionDivElement=document.createElement(\"div\"),this._attributionDivElement.classList.add(Ha.attribution),this._attributionDivElement.onclick=()=>{var n;return(n=window.open(\"https://cosmograph.app/\",\"_blank\"))===null||n===void 0?void 0:n.focus()};let i=new DOMParser().parseFromString(CR,\"image/svg+xml\").firstChild;(e=this._attributionDivElement)===null||e===void 0||e.appendChild(i),this._containerElement.appendChild(this._attributionDivElement)}_addMessageElement(){this._messageDivElement=document.createElement(\"div\"),this._messageDivElement.classList.add(Ha.message),this._containerElement.appendChild(this._messageDivElement),this._updateMessage(\"\\u{1F680} Initializing Cosmograph...\")}async _initializeCosmos(){var e;let{_config:i}=this;this._cosmos&&(this._cosmos.destroy(),this._cosmosInitialized=!1),this._pointsHaveLayout=await J7(this._dbCoordinator,this.pointsTableName,i),this._enableSimulation=(e=i.enableSimulation)!==null&&e!==void 0?e:!!i.links||!this._pointsHaveLayout,this._configManager.cosmosConfig.enableSimulation=this._enableSimulation,this._cosmos=new dy(this._cosmosElement,this._configManager.cosmosConfig),this._cosmosInitialized=!0}_updateMessage(e,i){var n;if(!this._messageDivElement)return;let o=(n=this._configManager.config.statusIndicatorMode)!==null&&n!==void 0?n:\"spinner\";if(o===!1||o===\"spinner\"&&i||e===null)this._messageDivElement.style.display=\"none\";else if(this._messageDivElement.style.display=\"block\",o===\"spinner\"){if(e.startsWith(\"\\u{1F6A8}\"))(this._messageDivElement.textContent!==e||this._messageDivElement.querySelector(`.${Ha.spinner}`))&&(this._messageDivElement.innerHTML=\"\",this._messageDivElement.innerText=e);else if(!this._messageDivElement.querySelector(`.${Ha.spinner}`)){this._messageDivElement.innerHTML=\"\";let r=document.createElement(\"div\");r.classList.add(Ha.spinner),this._messageDivElement.appendChild(r)}}else(this._messageDivElement.textContent!==e||this._messageDivElement.querySelector(`.${Ha.spinner}`))&&(this._messageDivElement.innerHTML=\"\",this._messageDivElement.innerText=e)}async _updateSummary(){this._summary={pointsSummary:await Jk(this._dbCoordinator,this.pointsTableName),linksSummary:this._config.links?await Jk(this._dbCoordinator,this.linksTableName):void 0}}_updateStats(){var e,i,n,o;let{pointsSummary:r,linksSummary:s}=this._summary;this._stats={pointsCount:(i=(e=this._cosmos)===null||e===void 0?void 0:e.graph.pointsNumber)!==null&&i!==void 0?i:0,linksCount:(o=(n=this._cosmos)===null||n===void 0?void 0:n.graph.linksNumber)!==null&&o!==void 0?o:0,pointsSummary:r,linksSummary:s}}async _dbReady(){if(this._dbReadinessPromise)return await this._dbReadinessPromise}async dataUploaded(){return await this._dataManager.dataReady()}get _config(){return this._configManager.config}get stats(){return this._stats}get crossfilter(){return this._crossfilter.filtered}get progress(){var e;return(e=this._cosmos)===null||e===void 0?void 0:e.progress}get isSimulationRunning(){var e;return(e=this._cosmos)===null||e===void 0?void 0:e.isSimulationRunning}get isSimulationAvailable(){return this._enableSimulation}get pointDegrees(){var e;return(e=this._cosmos)===null||e===void 0?void 0:e.graph.degree}get pointDirections(){var e,i;return(i=(e=this._cosmos)===null||e===void 0?void 0:e.graph.inDegree)===null||i===void 0?void 0:i.map((n,o)=>{var r,s;let a=(s=(r=this._cosmos)===null||r===void 0?void 0:r.graph.outDegree)===null||s===void 0?void 0:s[o],l=n!==null&&n!==0,c=a!==null&&a!==0;return l&&c?1:c?0:l?2:3})}get maxPointSize(){var e,i;return(i=(e=this._cosmos)===null||e===void 0?void 0:e.maxPointSize)!==null&&i!==void 0?i:0}get activePointColorStrategy(){return this._configManager.activePointColorStrategy}get activePointSizeStrategy(){return this._configManager.activePointSizeStrategy}get focusedPointIndex(){var e;return(e=this._config.focusedPointIndex)!==null&&e!==void 0?e:this._focusedPointIndex}get clusterMapping(){return this._configManager.clusterMapping}get rescaleXFn(){var e;return(e=this._cosmos)===null||e===void 0?void 0:e.getScaleX()}get rescaleYFn(){var e;return(e=this._cosmos)===null||e===void 0?void 0:e.getScaleY()}get linksTableName(){var e;return!((e=this._dbCoordinator)===null||e===void 0)&&e.internalDB||typeof this._config.links!=\"string\"?Yt.Links:this._config.links}get pointsTableName(){var e;return!((e=this._dbCoordinator)===null||e===void 0)&&e.internalDB||typeof this._config.points!=\"string\"?Yt.Points:this._config.points}async getConfig(){return await this._configManager.configUpdated(),this._configManager.config}async getActivePointColorFn(){return await this._configManager.configUpdated(),this._configManager.activePointColorFn}async getActivePointSizeFn(){return await this._configManager.configUpdated(),this._configManager.activePointSizeFn}async getActiveLinkColorFn(){return await this._configManager.configUpdated(),this._configManager.activeLinkColorFn}async getActiveLinkWidthFn(){return await this._configManager.configUpdated(),this._configManager.activeLinkWidthFn}setConfig(e){return this._configManager.setConfig(e),this._configManager.configUpdated()}captureScreenshot(e=\"cosmograph-screenshot.png\"){var i;let n=(i=this._cosmosElement)===null||i===void 0?void 0:i.querySelector(\"canvas\");if(!n)return;let o=document.createElement(\"a\");o.download=e,o.href=n.toDataURL(\"image/png\"),o.click()}getPointPositions(){var e;return(e=this._cosmos)===null||e===void 0?void 0:e.getPointPositions()}getClusterPositions(){var e;return(e=this._cosmos)===null||e===void 0?void 0:e.getClusterPositions()}getPointColors(){var e,i;return(i=(e=this._cosmos)===null||e===void 0?void 0:e.getPointColors)===null||i===void 0?void 0:i.call(e)}getPointSizes(){var e,i;return(i=(e=this._cosmos)===null||e===void 0?void 0:e.getPointSizes)===null||i===void 0?void 0:i.call(e)}getLinkColors(){var e,i;return(i=(e=this._cosmos)===null||e===void 0?void 0:e.getLinkColors)===null||i===void 0?void 0:i.call(e)}getLinkWidths(){var e,i;return(i=(e=this._cosmos)===null||e===void 0?void 0:e.getLinkWidths)===null||i===void 0?void 0:i.call(e)}setPointShapes(e){var i;(i=this._cosmos)===null||i===void 0||i.setPointShapes(new Float32Array(e))}setPointImageIndices(e){var i;(i=this._cosmos)===null||i===void 0||i.setPointImageIndices(new Float32Array(e))}setPointImageSizes(e){var i;(i=this._cosmos)===null||i===void 0||i.setPointImageSizes(new Float32Array(e))}setImageData(e){var i;(i=this._cosmos)===null||i===void 0||i.setImageData([e])}getPointPositionByIndex(e){var i;let n=(i=this._cosmos)===null||i===void 0?void 0:i.getPointPositions();if(!n||!n.length)return;let o=n[2*e],r=n[2*e+1];return o==null||r==null?void 0:[o,r]}activateRectSelection(){this._rectangularSelection.enable(),this._polygonalSelection.disable()}deactivateRectSelection(){this._rectangularSelection.disable()}activatePolygonalSelection(){this._polygonalSelection.enable(),this._rectangularSelection.disable()}deactivatePolygonalSelection(){this._polygonalSelection.disable()}getSelectedPointIndices(){var e,i;return(i=(e=this._cosmos)===null||e===void 0?void 0:e.getSelectedIndices())!==null&&i!==void 0?i:void 0}getSelectedLinkIndices(){var e,i;let n=(e=this._cosmos)===null||e===void 0?void 0:e.getSelectedIndices();if(!n||n.length===0)return;let o=(i=this._cosmos)===null||i===void 0?void 0:i.graph.sourceIndexToTargetIndices;if(!o)return;let r=new Set(n),s=new Set;for(let a=0;a<n.length;a++){let l=o[n[a]];if(l)for(let c=0;c<l.length;c++){let[u,d]=l[c];r.has(u)&&s.add(d)}}return s.size?Array.from(s):void 0}selectPointsInRect(e,i=!1){if(!this._cosmos||!e)return;let n=this._cosmos.getPointsInRect(e);this.selectPoints(Array.from(n),i)}selectPointsInPolygon(e,i=!1){if(!this._cosmos||!e.length)return;let n=this._cosmos.getPointsInPolygon(e);this.selectPoints(Array.from(n),i)}unselectPointsInRect(e){if(!this._cosmos||!e)return;let i=this._cosmos.getPointsInRect(e);this.unselectPointsByIndicies(Array.from(i))}unselectPointsInPolygon(e){if(!this._cosmos||!e.length)return;let i=this._cosmos.getPointsInPolygon(e);this.unselectPointsByIndicies(Array.from(i))}selectPoints(e,i=!1){var n,o;this._cosmos&&(e?.length?(i&&(e=[...this._cosmos.getSelectedIndices()||[],...e]),(n=this._pointSelectionClient)===null||n===void 0||n.selectPoints(e)):(o=this._pointSelectionClient)===null||o===void 0||o.selectPoints(void 0))}selectPoint(e,i=!1,n=this._config.selectPointOnClick===!0){var o,r;if(this._cosmos&&(e!==void 0||!i))if(e!==void 0){let s=[e];if(i&&(s=[...this._cosmos.getSelectedIndices()||[],e]),n){let a=this._cosmos.getAdjacentIndices(e);s=[...s,...a]}(o=this._pointSelectionClient)===null||o===void 0||o.selectPoints(s)}else this._config.resetSelectionOnEmptyCanvasClick&&((r=this._pointSelectionClient)===null||r===void 0||r.selectPoints(void 0))}unselectPoint(e,i=this._config.selectPointOnClick===!0){var n;if(!this._cosmos||e===void 0)return;let o=this._cosmos.getSelectedIndices()||[];if(o.length===0||!o.includes(e))return;let r=o.filter(s=>s!==e);if(i){let s=this._cosmos.getAdjacentIndices(e);r=r.filter(a=>!s.includes(a))}this._focusedPointIndex&&!r.includes(this._focusedPointIndex)&&this.setFocusedPoint(void 0),(n=this._pointSelectionClient)===null||n===void 0||n.selectPoints(r.length?r:void 0)}unselectPointsByIndicies(e){var i;if(!this._cosmos)return;let n=this._cosmos.getSelectedIndices()||[];if(n.length===0)return;let o=n.filter(r=>!e.includes(r));this._focusedPointIndex&&!o.includes(this._focusedPointIndex)&&this.setFocusedPoint(void 0),(i=this._pointSelectionClient)===null||i===void 0||i.selectPoints(o.length?o:void 0)}unselectAllPoints(){var e;this._cosmos&&(this.focusedPointIndex&&this.setFocusedPoint(void 0),(e=this._pointSelectionClient)===null||e===void 0||e.selectPoints(void 0),this._internalApi.dispatchEvent(new CustomEvent(\"resetSelections\")))}setFocusedPoint(e){var i,n,o;this._focusedPointIndex=(i=this._config.focusedPointIndex)!==null&&i!==void 0?i:e,this._cosmos&&!this._config.focusedPointIndex&&((n=this._cosmos)===null||n===void 0||n.setConfig({focusedPointIndex:this._focusedPointIndex}),(o=this._labels)===null||o===void 0||o.render())}start(e=1){var i;this._enableSimulation!==!1&&this._cosmos&&((i=this._cosmos)===null||i===void 0||i.start(e),this._internalApi.dispatchEvent(new CustomEvent(\"onSimulationStart\")))}pause(){var e;this._enableSimulation!==!1&&this._cosmos&&((e=this._cosmos)===null||e===void 0||e.pause(),this._internalApi.dispatchEvent(new CustomEvent(\"onSimulationPause\")))}restart(){var e;this._enableSimulation!==!1&&this._cosmos&&((e=this._cosmos)===null||e===void 0||e.restart(),this._internalApi.dispatchEvent(new CustomEvent(\"onSimulationStart\")))}step(){var e;(e=this._cosmos)===null||e===void 0||e.step()}setZoomLevel(e,i=0){var n;(n=this._cosmos)===null||n===void 0||n.setZoomLevel(e,i)}getZoomLevel(){var e;return(e=this._cosmos)===null||e===void 0?void 0:e.getZoomLevel()}zoomToPoint(e,i=this._config.fitViewDuration,n,o){var r;(r=this._cosmos)===null||r===void 0||r.zoomToPointByIndex(e,i,n,o)}fitView(e=this._config.fitViewDuration,i=this._config.fitViewPadding){var n;(n=this._cosmos)===null||n===void 0||n.fitView(e,i)}fitViewByIndices(e,i=this._config.fitViewDuration,n=this._config.fitViewPadding){var o;(o=this._cosmos)===null||o===void 0||o.fitViewByPointIndices(e,i,n)}fitViewByCoordinates(e,i=this._config.fitViewDuration,n=this._config.fitViewPadding){var o;(o=this._cosmos)===null||o===void 0||o.fitViewByPointPositions(e,i,n)}getConnectedPointIndices(e){var i;return(i=this._cosmos)===null||i===void 0?void 0:i.getAdjacentIndices(e)}spaceToScreenPosition(e){var i;return(i=this._cosmos)===null||i===void 0?void 0:i.spaceToScreenPosition(e)}screenToSpacePosition(e){var i;return(i=this._cosmos)===null||i===void 0?void 0:i.spaceToScreenPosition(e)}spaceToScreenRadius(e){var i;return(i=this._cosmos)===null||i===void 0?void 0:i.spaceToScreenRadius(e)}getPointRadiusByIndex(e){var i;return(i=this._cosmos)===null||i===void 0?void 0:i.getPointRadiusByIndex(e)}getPointScreenRadiusByIndex(e){var i,n,o;let r=(n=(i=this._cosmos)===null||i===void 0?void 0:i.config.pointSizeScale)!==null&&n!==void 0?n:1,s=(o=this._cosmos)===null||o===void 0?void 0:o.getPointRadiusByIndex(e);if(!s)return 0;let a=s*r,{scalePointsOnZoom:l}=this._config,c=this.getZoomLevel(),u=this.maxPointSize;return l?Math.min(a*c,u):a}trackPointPositionsByIndices(e){var i;(i=this._cosmos)===null||i===void 0||i.trackPointPositionsByIndices(e)}getTrackedPointPositionsArray(){var e,i;return(i=(e=this._cosmos)===null||e===void 0?void 0:e.getTrackedPointPositionsArray)===null||i===void 0?void 0:i.call(e)}getTrackedPointPositionsMap(){var e,i;return(i=(e=this._cosmos)===null||e===void 0?void 0:e.getTrackedPointPositionsMap)===null||i===void 0?void 0:i.call(e)}getSampledPoints(){var e,i;return(i=(e=this._cosmos)===null||e===void 0?void 0:e.getSampledPoints)===null||i===void 0?void 0:i.call(e)}getSampledPointPositionsMap(){var e;if(this._cosmosInitialized)return(e=this._cosmos)===null||e===void 0?void 0:e.getSampledPointPositionsMap()}getActiveSelectionSourceId(){let e=this._crossfilter.pointsSelection.active,i=e?.source;return i?.id}get pointsSelection(){return this._crossfilter.pointsSelection}get linksSelection(){return this._crossfilter.linksSelection}async getPointIndicesByIds(e){if(this._dbCoordinator&&this.stats.pointsCount&&e.length)return await Du(this._dbCoordinator,this.pointsTableName,this._config,e)}async getPointIdsByIndices(e){if(this._dbCoordinator&&this.stats.pointsCount&&e.length)return await Bx(this._dbCoordinator,this.pointsTableName,this._config,e)}async getPointsByIndices(e){if(this._dbCoordinator&&this.stats.pointsCount&&e.length)return await X7(this._dbCoordinator,this.pointsTableName,this._config.pointIndexBy,e)}async getPointIndicesByExactValues(e,i){if(this._dbCoordinator&&this.stats.pointsCount)return i.length?await K7(this._dbCoordinator,this.pointsTableName,this._config,e,i):[]}async getPointIndicesByNumericValue(e,i,n){if(this._dbCoordinator&&this.stats.pointsCount)return i?await Z7(this._dbCoordinator,this.pointsTableName,this._config,e,i,n):[]}async getPointIndicesByLinksExactValues(e,i){if(this._dbCoordinator&&this.stats.linksCount)return i.length?await sR(this._dbCoordinator,this.linksTableName,this._config,e,i):[]}async getPointIndicesByLinksNumericValue(e,i,n){if(this._dbCoordinator&&this.stats.linksCount)return i?await aR(this._dbCoordinator,this.linksTableName,this._config,e,i,n):[]}async getLinksByPointIds(e){if(this._dbCoordinator&&this.stats.linksCount&&e.length)return await lR(this._dbCoordinator,this.pointsTableName,this._config,e)}async getLinksByPointIndices(e){if(this._dbCoordinator&&this.stats.linksCount&&e.length)return await cR(this._dbCoordinator,this.pointsTableName,this._config,e)}async getLinksData(){if(this._dbCoordinator&&this.stats.linksCount)return await Nx(this._dbCoordinator,this.linksTableName)}async getPointsData(){if(this._dbCoordinator&&this.stats.pointsCount)return await Ox(this._dbCoordinator,this.pointsTableName)}convertCosmographDataToObject(e){return xv(e)}flattenPositions(e){var i;return(i=this._cosmos)===null||i===void 0?void 0:i.flatten(e)}pair(e){var i;return(i=this._cosmos)===null||i===void 0?void 0:i.pair(e)}async addPoints(e){await this._dataManager.addPoints(e)}async addLinks(e){await this._dataManager.addLinks(e)}async removePointsByIndices(e,i=!0){await this._dataManager.removePointsByIndices(e,i)}async removePointsByIds(e){await this._dataManager.removePointsByIds(e)}async removeLinksByPointIdPairs(e){await this._dataManager.removeLinksByPointIdPairs(e)}async removeLinksByPointIndicesPairs(e){await this._dataManager.removeLinksByPointIndicesPairs(e)}async reset(e=!0){var i,n,o,r;e&&(this._configManager.resetCosmographConfig(),this._messageDivElement.innerText=\"\\u{1F469}\\u{1F3FB}\\u200D\\u{1F680} Cosmograph is ready, load your data!\",this._messageDivElement.style.display=\"block\"),(i=this._labels)===null||i===void 0||i.clear(),this._configManager.clearCosmosBuffers(),(n=this._cosmos)===null||n===void 0||n.render(),await this._dropLocalTables(),(o=this._dbCoordinator)===null||o===void 0||o.clearCache(),this._stats={pointsCount:0,linksCount:0,pointsSummary:void 0,linksSummary:void 0},(r=this._pointSelectionClient)===null||r===void 0||r.destroy(),this._pointSelectionClient=void 0,this._internalApi.dispatchEvent(new CustomEvent(\"reset\")),this._internalApi.dispatchEvent(new CustomEvent(\"dataUploaded\"))}async destroy(){var e,i,n,o;this._internalApi.dispatchEvent(new CustomEvent(\"reset\")),(e=this._labels)===null||e===void 0||e.destroy(),(i=this._cosmos)===null||i===void 0||i.destroy(),this._cosmos=void 0,await this._dropLocalTables(),await((n=this._dbCoordinator)===null||n===void 0?void 0:n.destroy()),this._dbCoordinator=void 0,this._containerElement.innerHTML=\"\",this._rectangularSelection.destroy(),this._polygonalSelection.destroy(),(o=this._pointSelectionClient)===null||o===void 0||o.destroy(),this._pointSelectionClient=void 0,delete window.cosmographDisableLogging}};var AR=Ah(),LR=async(t,e)=>{var i;let n=await t.query(`DESCRIBE ${e}`);return new Map((i=n?.toArray().map(o=>[o.column_name,o.column_type]))!==null&&i!==void 0?i:[])},Jx=(t,e)=>({existing:[...new Set(t.filter(i=>e.has(i.name)).map(i=>i.name))],missing:t.filter(i=>!e.has(i.name))}),DR=async(t,e)=>{var i,n,o,r;let s=await LR(t,Yt.RawPoints),{missing:a}=Jx((I=>{let{pointIdBy:B,linkSourceBy:F,linkTargetsBy:k}=I;return B?[{prop:\"pointIdBy\",name:B}]:F&&k?[{prop:\"linkSourceBy\",name:F},...k.map(N=>({prop:\"linkTargetBy\",name:N}))]:[{prop:\"pointIdBy\",name:B??\"undefined\"}]})(e),s);if(a.length>0)return{missingRequiredColumns:a,missingOptionalColumns:[],processedFully:!1};let{existing:l,missing:c}=Jx((I=>{let{pointSizeBy:B,pointColorBy:F,pointClusterBy:k,pointClusterStrengthBy:N,pointLabelBy:Y,pointLabelWeightBy:z,pointXBy:ce,pointYBy:Fe,pointIncludeColumns:$e=[]}=I;return[...B?[{prop:\"pointSizeBy\",name:B}]:[],...F?[{prop:\"pointColorBy\",name:F}]:[],...k?[{prop:\"pointClusterBy\",name:k}]:[],...N?[{prop:\"pointClusterStrengthBy\",name:N}]:[],...Y?[{prop:\"pointLabelBy\",name:Y}]:[],...z?[{prop:\"pointLabelWeightBy\",name:z}]:[],...[...new Set($e)].map(K=>({prop:\"pointIncludeColumns\",name:K})),...ce&&Fe?[{prop:\"pointXBy\",name:ce},{prop:\"pointYBy\",name:Fe}]:[]]})(e),s),u=l.filter(I=>I!==Ct.Id);if(await t.exec(`\n    BEGIN;\n    DROP SEQUENCE IF EXISTS ${Ct.Sequence} CASCADE;\n    CREATE SEQUENCE ${Ct.Sequence} MINVALUE 0;\n    CREATE TABLE ${Yt.PreparedPoints} (\n      ${Ct.Id} VARCHAR,\n      ${Ct.Idx} INT DEFAULT nextval('${Ct.Sequence}')\n    );\n    COMMIT;\n  `),u.length>0){let I=u.map(B=>`ALTER TABLE ${Yt.PreparedPoints} ADD COLUMN IF NOT EXISTS \"${B}\" ${s.get(B)};`).join(`\n`);await t.exec(I)}let{pointIdBy:d,linkSourceBy:h,linkTargetsBy:f}=e,v=h&&f?[h,...f]:[d],L=(n=(i=await t.query(`SELECT COUNT(*) as cnt FROM ${Yt.RawPoints}`))===null||i===void 0?void 0:i.getChild(\"cnt\"))===null||n===void 0?void 0:n.get(0),A=!0;if(v.length===1&&L>25e4)try{await(async(I,B,F,k)=>{let Y=0;for(;Y<k;)await I.exec(`\n      CREATE TEMP TABLE chunk_temp AS \n      SELECT \"${B}\" AS ${Ct.Id}, ${F.map(z=>`\"${z}\"`).join(\", \")}\n      FROM ${Yt.RawPoints}\n      WHERE \"${B}\" IS NOT NULL\n      LIMIT 250000\n    `),await I.exec(`INSERT INTO ${Yt.PreparedPoints} (${[`\"${Ct.Id}\"`,...F.map(z=>`\"${z}\"`)].join(\", \")}) SELECT * FROM chunk_temp`),await I.exec(`DELETE FROM ${Yt.RawPoints} WHERE \"${B}\" IN (SELECT ${Ct.Id} FROM chunk_temp)`),await I.exec(\"DROP TABLE chunk_temp\"),Y+=25e4})(t,v[0],u,L),((r=(o=await t.query(`SELECT COUNT(*) as cnt FROM ${Yt.RawPoints}`))===null||o===void 0?void 0:o.getChild(\"cnt\"))===null||r===void 0?void 0:r.get(0))>0&&(A=!1)}catch(I){console.warn(\"processLargeDatasetInChunks failed:\",I),A=!1}else{let I=`\n      INSERT INTO ${Yt.PreparedPoints} (${[Ct.Id,...u].map(B=>`\"${B}\"`).join(\", \")})\n      SELECT DISTINCT ON (${Ct.Id}) combined_points.*\n      FROM (\n        ${v.map(B=>`\n          SELECT \"${B}\" AS ${Ct.Id}${u.length>0?`, ${u.map(F=>`\"${F}\"`).join(\", \")}`:\"\"}\n          FROM ${Yt.RawPoints}\n          WHERE \"${B}\" IS NOT NULL\n        `).join(\" UNION ALL \")}\n      ) AS combined_points\n    `;await t.exec(I)}return AR&&await t.logTable(Yt.PreparedPoints),{missingRequiredColumns:[],missingOptionalColumns:c,processedFully:A}},PR=async(t,e)=>{let{linkSourceBy:i=Ct.Source,linkTargetsBy:n=[Ct.Target],linkIncludeColumns:o=[],linkColorBy:r,linkWidthBy:s,linkArrowBy:a,linkStrengthBy:l}=e;if(!n?.length)return{missingRequiredColumns:[],missingOptionalColumns:[],processedFully:!0};let c=await LR(t,Yt.RawLinks),u=[{prop:\"linkSourceBy\",name:i},...n.map(k=>({prop:\"linkTargetsBy\",name:k}))],{existing:d,missing:h}=Jx(u,c);if(h.length>0)return{missingRequiredColumns:h,missingOptionalColumns:[],processedFully:!1};let f=[...r?[{prop:\"linkColorBy\",name:r}]:[],...s?[{prop:\"linkWidthBy\",name:s}]:[],...a?[{prop:\"linkArrowBy\",name:a}]:[],...l?[{prop:\"linkStrengthBy\",name:l}]:[],...o.map(k=>({prop:\"linkIncludeColumns\",name:k}))],{existing:v,missing:L}=Jx(f,c),A=[Ct.SourceIdx,Ct.TargetIdx,Ct.Source,Ct.Target],I=v.filter(k=>!A.includes(k));if(await t.exec(`\n    CREATE TABLE IF NOT EXISTS ${Yt.PreparedLinks} (\n      ${Ct.SourceIdx} INTEGER,\n      ${Ct.TargetIdx} INTEGER,\n      ${Ct.Source} VARCHAR,\n      ${Ct.Target} VARCHAR\n    );\n  `.trim()),I.length>0){let k=I.map(N=>`ALTER TABLE ${Yt.PreparedLinks} ADD COLUMN IF NOT EXISTS \"${N}\" ${c.get(N)||\"VARCHAR\"};`).join(`\n`);await t.exec(k)}await t.exec(`\n    CREATE TEMP TABLE temp_points AS\n    SELECT ${Ct.Id}, ${Ct.Idx}\n    FROM ${Yt.PreparedPoints}\n  `.trim());let B=[Ct.SourceIdx,Ct.TargetIdx,Ct.Source,Ct.Target,...I],F=n.map(k=>`\n    SELECT\n      LEAST(sp.${Ct.Idx}, tp.${Ct.Idx}) AS ${Ct.SourceIdx},\n      GREATEST(sp.${Ct.Idx}, tp.${Ct.Idx}) AS ${Ct.TargetIdx},\n      d.\"${i}\" AS ${Ct.Source},\n      d.\"${k}\" AS ${Ct.Target}\n      ${I.length>0?`, ${I.map(N=>`d.\"${N}\"`).join(\", \")}`:\"\"}\n    FROM ${Yt.RawLinks} d\n    JOIN temp_points sp ON sp.${Ct.Id} = d.\"${i}\"::text\n    JOIN temp_points tp ON tp.${Ct.Id} = d.\"${k}\"::text\n  `).join(\" UNION ALL \").trim();return await t.exec(`\n    INSERT INTO ${Yt.PreparedLinks} (${B.map(k=>`\"${k}\"`).join(\", \")})\n    ${F}\n  `.trim()),await t.exec(\"DROP TABLE temp_points\"),AR&&await t?.logTable(Yt.PreparedLinks),{missingRequiredColumns:[],missingOptionalColumns:L,processedFully:!0}};var Xo,e1=!1;var RR=async(t,e,i,n,o,r,s,a=!1)=>{let{ok:l,processedFully:c}=await(async(h,f,v,L)=>{try{let A;if(A=Array.isArray(h)?await Xo.uploadObject(h,f):await Xo.uploadData(h,f,!1,L.csvParseTimeFormat,L.csvColumnTypesMap),A?.error)return{ok:!1,processedFully:!1};\"pointIdBy\"in L&&(L.pointIdBy!==void 0||L.linkSourceBy||L.linkTargetsBy||(Lt(\"No `pointIdBy` column or `linkSourceBy` and `linkTargetsBy` columns specified. Automatically generating an indexed `pointIdBy` column\",\"data-kit\",\"warn\"),await Xo.query(`ALTER TABLE ${f} ADD COLUMN ${Ct.Id} INTEGER; UPDATE ${f} SET ${Ct.Id} = rowid;`),await Xo.logTable(f),L.pointIdBy=Ct.Id));let{missingRequiredColumns:I,missingOptionalColumns:B,processedFully:F}=await v(Xo,L);return I.length>0?(Lt(`Data preparing stopped: Required columns are missing from the data source. Please check your data source and configuration.\nMissing columns: ${I.map(k=>`'${k.name}' (\\`${k.prop}\\`)`).join(\", \")}.`,\"data-kit\",\"error\"),{ok:!1,processedFully:F}):B.length>0?(Lt(`Optional columns are missing from the data source. These columns will not be included in the final dataset.\nMissing columns: ${B.map(k=>`'${k.name}' (\\`${k.prop}\\`)`).join(\", \")}.`,\"data-kit\",\"warn\"),{ok:!0,processedFully:F}):{ok:!0,processedFully:F}}catch(A){return console.warn(`loadTable: ${A}`),{ok:!1,processedFully:!1}}})(t,e,n,o);if(!l)return;await Xo.dropTable(e);let u=await(async(h,f,v=!1)=>{var L,A,I,B;switch(h){case Rn.Parquet:return(L=await Xo.exportTableToPq(f))!==null&&L!==void 0?L:new Uint8Array;case Rn.Arrow:return v?(A=await Xo.exportTableToArrow(f))!==null&&A!==void 0?A:new fi:(I=await Xo.exportTableToArrowBuffer(f))!==null&&I!==void 0?I:new Uint8Array;case Rn.CSV:return(B=await Xo.exportTableToCSV(f))!==null&&B!==void 0?B:new Uint8Array;default:throw new Error(`Unsupported format: ${h}`)}})(r,i,a),d=await Xo.query(`SUMMARIZE ${i}`);return u instanceof Uint8Array&&u.length||u instanceof fi&&u.numRows?{data:s(u),summary:d?.toArray(),processedFully:c}:void console.warn(`processData: No ${i} to export found`)},$K=async(t,e,i,n,o,r=!1)=>{let s,a;await(async()=>{Xo=await Ph.getInstance()})();let l=!0,c=!0;try{if(!t.points||t.points.pointIdBy!==void 0&&(t.points.linkSourceBy!==void 0||t.points.linkTargetsBy!==void 0))return void Lt(\"Stopped: points configuration is invalid\",\"data-kit\",\"error\");let u=await RR(e,Yt.RawPoints,Yt.PreparedPoints,DR,t.points,n,o,r);if(!u)return void Lt(\"Failed to process points data source\",\"data-kit\",\"error\");let d=u.data;s=u.summary,l=u.processedFully;let h=t,f;if(i&&t.links)if(t.links.linkSourceBy&&t.links.linkTargetsBy){let L=await RR(i,Yt.RawLinks,Yt.PreparedLinks,PR,t.links,n,o,r);L&&(f=L.data,a=L.summary,c=L.processedFully)}else Lt(\"Links configuration is invalid, only points will be exported.\",\"data-kit\",\"error\");!f&&t.links&&(h.links=void 0,Lt(\"Links configuration is invalid, only points will be exported.\",\"data-kit\",\"warn\"));let v=(L=>{let A={...Object.fromEntries(Object.entries(L.points).filter(([I,B])=>I!==\"outputFilename\"&&I!==\"linkTargetsBy\"&&I!==\"linkSourceBy\"&&B!==void 0)),pointIdBy:Ct.Id,pointIndexBy:Ct.Idx};return L.links?{...A,...Object.fromEntries(Object.entries(L.links).filter(([I,B])=>I!==\"linkTargetsBy\"&&I!==\"outputFilename\"&&B!==void 0)),linkSourceBy:Ct.Source,linkSourceIndexBy:Ct.SourceIdx,linkTargetBy:Ct.Target,linkTargetIndexBy:Ct.TargetIdx}:A})(h);return{points:d,links:f,pointsSummary:s,linksSummary:a,cosmographConfig:v,pointsProcessedFully:l,linksProcessedFully:c}}catch(u){return void console.warn(\"_prepareCosmographData:\",u)}finally{await(async()=>{await Xo.destroy()})()}},qK=async t=>{if(e1)Lt(\"Preparing request denied. Another data preparing is currently in progress. Please wait until it completes.\",\"data-kit\",\"warn\");else{Lt(\"Started data preparing...\",\"data-kit\",\"util\"),e1=!0;try{let e=await t();return e1=!1,e?(Lt(\"Finished data preparing\",\"data-kit\",\"util\"),e):void 0}catch(e){Lt(e,\"data-kit\",\"error\"),e1=!1}}};var l3=async(t,e,i)=>qK(()=>$K(t,e,i,Rn.Arrow,n=>n,!0));var c3={highlightSelectedData:!0,showAnimationControls:!0,useLinksData:!1};var zu=class extends Us{getCurrentSelection(){if(this.checkReady(()=>this.getCurrentSelection()))return this._uiComponent.getCurrentSelection()}getCurrentSelectionInPixels(){if(this.checkReady(()=>this.getCurrentSelectionInPixels()))return this._uiComponent.getCurrentSelectionInPixels()}getBarWidth(){if(this.checkReady(()=>this.getBarWidth()))return this._uiComponent.getBarWidth()}setSelection(e){this.checkReady(()=>this.setSelection(e))&&this._uiComponent.setSelection(e)}getIsAnimationRunning(){return!!this.checkReady(()=>this.getIsAnimationRunning())&&this._uiComponent.getIsAnimationRunning()}playAnimation(){this.checkReady(()=>this.playAnimation())&&this._uiComponent.playAnimation()}pauseAnimation(){this.checkReady(()=>this.pauseAnimation())&&this._uiComponent.pauseAnimation()}stopAnimation(){this.checkReady(()=>this.stopAnimation())&&this._uiComponent.stopAnimation()}get defaultConfig(){return c3}get accessor(){var e;return(e=this._config.accessor)!==null&&e!==void 0?e:c3.accessor}async fetchData(){var e,i;if(await super.fetchData(),this._currentData){let n=(i=(e=this._currentData)===null||e===void 0?void 0:e.getChild(this.accessor))===null||i===void 0?void 0:i.toArray();this._uiComponent.setTimeData(n,this._config.customExtent),this.updateCrossfilteredData()}else this._uiComponent.setTimeData(void 0),this.updateHighlightedData(void 0);this._uiComponent.stopAnimation()}createUIComponent(e){return new Lg(e,this.createComponentConfig(this._config))}createComponentConfig(e){return{...e,onBrush:(i,n)=>{var o,r,s,a;let l=(o=this._currentData)===null||o===void 0?void 0:o.getChild(this.accessor),c=i?Gl(l?.type)?i?.map(u=>+u):i.map(u=>new Date(u)):void 0;(r=this._client)===null||r===void 0||r.applyRangeFilter(c),(a=(s=this._config).onSelection)===null||a===void 0||a.call(s,i,n)},onBarHover:i=>{var n,o;(o=(n=this._config).onBarHover)===null||o===void 0||o.call(n,i)},onAnimationPlay:(i,n)=>{var o,r;(r=(o=this._config).onAnimationPlay)===null||r===void 0||r.call(o,i,n)},onAnimationPause:(i,n)=>{var o,r;(r=(o=this._config).onAnimationPause)===null||r===void 0||r.call(o,i,n)},onAnimationTick:i=>{var n,o;(o=(n=this._config).onAnimationTick)===null||o===void 0||o.call(n,i)}}}onResetClientSelections(){this.setSelection()}updateHighlightedData(e){let{highlightSelectedData:i}=this._config;i&&this._uiComponent.setHighlightedData(e)}async onConfigUpdate(){this._uiComponent.setConfig(this.createComponentConfig(this._config))}};var js=class t extends up{checkCurrentSelection(){this.selected&&this.setSelectedItem(this.selected)}onSelect(e){var i,n,o;this.compareSelectedItem(e)?((i=this._client)===null||i===void 0||i.resetFilter(),this.onResetClientSelections(),t._activeComponentId=null):(t._activeComponentId!==((n=this._client)===null||n===void 0?void 0:n.id)&&(this._internalApi.public.unselectAllPoints(),this._internalApi.dispatchEvent(new CustomEvent(\"resetSelections\"))),t._activeComponentId=((o=this._client)===null||o===void 0?void 0:o.id)||null,this.selected=e,this.setSelectedItem(e),this.accessor&&this.applyFilter(e))}onResetClientSelections(){this.selected=void 0,this.setSelectedItem(void 0)}onDataFiltered(){var e,i;((e=this._client)===null||e===void 0?void 0:e.id)!==t._activeComponentId&&(this.selected=void 0,this.setSelectedItem(void 0),(i=this._client)===null||i===void 0||i.resetFilter())}};js._activeComponentId=null;var GK=\".style_module_searchContainer__a00587d9{display:flex;gap:6px;position:relative;width:100%}.style_module_accessorButton__a00587d9{backdrop-filter:blur(8px);background:var(--cosmograph-search-accessors-background);border-radius:4px;cursor:pointer;display:block;flex-shrink:0;font-size:13px;font-weight:300;line-height:1.1;margin-bottom:5px;max-width:100px;overflow:hidden;padding:2px 5px;text-overflow:ellipsis;white-space:nowrap}.style_module_accessorsMenuPlaceholder__a00587d9{font-size:11.5px;font-weight:600;letter-spacing:.07em;line-height:2;opacity:.9;padding-bottom:0;padding-left:10px;padding-top:4px;pointer-events:none;text-transform:uppercase;user-select:none}.style_module_accessorsMenu__a00587d9{backdrop-filter:blur(8px);background:var(--cosmograph-search-list-background);border-radius:4px;color:#fff;left:0;margin:2px 0 0;min-width:100%;opacity:0;overflow:hidden;padding:0 0 2px;pointer-events:none;position:absolute;right:0;top:100%;transform:translateY(-10px);transition:opacity .2s ease-out,transform .2s ease-out;width:100%}.style_module_accessorsMenu__a00587d9.style_module_upwards__a00587d9{bottom:100%;top:auto;transform:translateY(10px)}.style_module_accessorsMenu__a00587d9.style_module_visible__a00587d9{opacity:1;pointer-events:auto;transform:translateY(0)}.style_module_accessorsMenu__a00587d9.style_module_upwards__a00587d9.style_module_visible__a00587d9{opacity:1;pointer-events:auto;transform:translateY(-7px)}.style_module_accessorsMenu__a00587d9 li{cursor:pointer;display:block;font-size:var(--cosmograph-search-list-font-size,13.5px);font-weight:500;line-height:normal;max-width:100%;opacity:0;padding:5px 10px;transform:translateY(5px);transition:opacity .2s ease-out,transform .2s ease-out;user-select:none}.style_module_accessorsMenu__a00587d9.style_module_visible__a00587d9 li{opacity:1;transform:translateY(0)}.style_module_accessorsMenu__a00587d9 li:hover{background:hsla(0,0%,100%,.1)}.style_module_accessorsMenu__a00587d9 li>div{font-weight:200;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%}.style_module_placeholderInput__a00587d9{align-items:center;cursor:text;display:block;font-weight:300;min-width:0;opacity:.7;width:100%}.style_module_placeholderInput__a00587d9.style_module_disabled__a00587d9{cursor:not-allowed;opacity:.5;pointer-events:none}.style_module_searchResult__a00587d9{align-items:center;display:flex;flex-wrap:wrap}.style_module_searchResultMultiField__a00587d9{text-wrap:initial;align-items:center;color:hsla(0,0%,100%,.8);display:inline-block;font-size:var(--cosmograph-search-list-font-size,13.5px);font-weight:300;line-height:normal;margin-right:8px;max-width:100%;overflow-wrap:anywhere;word-break:normal}.style_module_searchResultMultiField__a00587d9 span{text-wrap:balance;display:inline;font-size:calc(var(--cosmograph-search-list-font-size)*.95);hyphens:auto;line-height:1.25;overflow-wrap:anywhere;white-space:normal;word-break:break-all}.style_module_searchResultMultiField__a00587d9 .style_module_separator__a00587d9{display:inline;opacity:.5}.style_module_searchResultMultiField__a00587d9 b{font-size:calc(var(--cosmograph-search-list-font-size)*.9);font-weight:600;letter-spacing:.015em;opacity:.7;text-transform:uppercase;white-space:pre}.style_module_selectAllContainer__a00587d9{align-items:center;display:flex;gap:4px;justify-content:start;line-height:1;margin:.25rem .5rem .15rem;padding:.2rem 0;width:100%}.style_module_selectAllButton__a00587d9{backdrop-filter:blur(4px);background:var(--cosmograph-search-select-all-background,hsla(0,0%,100%,.1));border:none;border-radius:4px;color:var(--cosmograph-search-select-all-color,hsla(0,0%,100%,.75));cursor:pointer;font-size:var(--cosmograph-search-list-font-size,13.5px);font-weight:300;margin:0!important;padding:2px 8px;text-align:center;transition:background-color .2s ease,border-color .2s ease}.style_module_selectAllButton__a00587d9:hover{background:var(--cosmograph-search-select-all-hover-background,hsla(0,0%,100%,.15))}.style_module_resultsCounter__a00587d9{color:hsla(0,0%,100%,.4);font-size:12px;font-weight:400;user-select:none;white-space:nowrap}.style_module_selectAllContainer__a00587d9 .style_module_separator__a00587d9{color:hsla(0,0%,100%,.4);opacity:.7;user-select:none}\";gn(GK,{});var YK=\":root{--cosmograph-search-accessors-background:#8791a159}\";gn(YK,{});var{entries:VR,setPrototypeOf:MR,isFrozen:QK,getPrototypeOf:XK,getOwnPropertyDescriptor:KK}=Object,{freeze:ho,seal:vr,create:g3}=Object,{apply:_3,construct:y3}=typeof Reflect<\"u\"&&Reflect;ho||(ho=function(e){return e});vr||(vr=function(e){return e});_3||(_3=function(e,i){for(var n=arguments.length,o=new Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];return e.apply(i,o)});y3||(y3=function(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return new e(...n)});var t1=po(Array.prototype.forEach),ZK=po(Array.prototype.lastIndexOf),zR=po(Array.prototype.pop),Qg=po(Array.prototype.push),JK=po(Array.prototype.splice),n1=po(String.prototype.toLowerCase),u3=po(String.prototype.toString),d3=po(String.prototype.match),Xg=po(String.prototype.replace),eZ=po(String.prototype.indexOf),tZ=po(String.prototype.trim),rs=po(Object.prototype.hasOwnProperty),uo=po(RegExp.prototype.test),Kg=iZ(TypeError);function po(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return _3(t,e,n)}}function iZ(t){return function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return y3(t,i)}}function Zt(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n1;MR&&MR(t,null);let n=e.length;for(;n--;){let o=e[n];if(typeof o==\"string\"){let r=i(o);r!==o&&(QK(e)||(e[n]=r),o=r)}t[o]=!0}return t}function nZ(t){for(let e=0;e<t.length;e++)rs(t,e)||(t[e]=null);return t}function $a(t){let e=g3(null);for(let[i,n]of VR(t))rs(t,i)&&(Array.isArray(n)?e[i]=nZ(n):n&&typeof n==\"object\"&&n.constructor===Object?e[i]=$a(n):e[i]=n);return e}function Zg(t,e){for(;t!==null;){let n=KK(t,e);if(n){if(n.get)return po(n.get);if(typeof n.value==\"function\")return po(n.value)}t=XK(t)}function i(){return null}return i}var OR=ho([\"a\",\"abbr\",\"acronym\",\"address\",\"area\",\"article\",\"aside\",\"audio\",\"b\",\"bdi\",\"bdo\",\"big\",\"blink\",\"blockquote\",\"body\",\"br\",\"button\",\"canvas\",\"caption\",\"center\",\"cite\",\"code\",\"col\",\"colgroup\",\"content\",\"data\",\"datalist\",\"dd\",\"decorator\",\"del\",\"details\",\"dfn\",\"dialog\",\"dir\",\"div\",\"dl\",\"dt\",\"element\",\"em\",\"fieldset\",\"figcaption\",\"figure\",\"font\",\"footer\",\"form\",\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\",\"head\",\"header\",\"hgroup\",\"hr\",\"html\",\"i\",\"img\",\"input\",\"ins\",\"kbd\",\"label\",\"legend\",\"li\",\"main\",\"map\",\"mark\",\"marquee\",\"menu\",\"menuitem\",\"meter\",\"nav\",\"nobr\",\"ol\",\"optgroup\",\"option\",\"output\",\"p\",\"picture\",\"pre\",\"progress\",\"q\",\"rp\",\"rt\",\"ruby\",\"s\",\"samp\",\"search\",\"section\",\"select\",\"shadow\",\"slot\",\"small\",\"source\",\"spacer\",\"span\",\"strike\",\"strong\",\"style\",\"sub\",\"summary\",\"sup\",\"table\",\"tbody\",\"td\",\"template\",\"textarea\",\"tfoot\",\"th\",\"thead\",\"time\",\"tr\",\"track\",\"tt\",\"u\",\"ul\",\"var\",\"video\",\"wbr\"]),h3=ho([\"svg\",\"a\",\"altglyph\",\"altglyphdef\",\"altglyphitem\",\"animatecolor\",\"animatemotion\",\"animatetransform\",\"circle\",\"clippath\",\"defs\",\"desc\",\"ellipse\",\"enterkeyhint\",\"exportparts\",\"filter\",\"font\",\"g\",\"glyph\",\"glyphref\",\"hkern\",\"image\",\"inputmode\",\"line\",\"lineargradient\",\"marker\",\"mask\",\"metadata\",\"mpath\",\"part\",\"path\",\"pattern\",\"polygon\",\"polyline\",\"radialgradient\",\"rect\",\"stop\",\"style\",\"switch\",\"symbol\",\"text\",\"textpath\",\"title\",\"tref\",\"tspan\",\"view\",\"vkern\"]),p3=ho([\"feBlend\",\"feColorMatrix\",\"feComponentTransfer\",\"feComposite\",\"feConvolveMatrix\",\"feDiffuseLighting\",\"feDisplacementMap\",\"feDistantLight\",\"feDropShadow\",\"feFlood\",\"feFuncA\",\"feFuncB\",\"feFuncG\",\"feFuncR\",\"feGaussianBlur\",\"feImage\",\"feMerge\",\"feMergeNode\",\"feMorphology\",\"feOffset\",\"fePointLight\",\"feSpecularLighting\",\"feSpotLight\",\"feTile\",\"feTurbulence\"]),oZ=ho([\"animate\",\"color-profile\",\"cursor\",\"discard\",\"font-face\",\"font-face-format\",\"font-face-name\",\"font-face-src\",\"font-face-uri\",\"foreignobject\",\"hatch\",\"hatchpath\",\"mesh\",\"meshgradient\",\"meshpatch\",\"meshrow\",\"missing-glyph\",\"script\",\"set\",\"solidcolor\",\"unknown\",\"use\"]),f3=ho([\"math\",\"menclose\",\"merror\",\"mfenced\",\"mfrac\",\"mglyph\",\"mi\",\"mlabeledtr\",\"mmultiscripts\",\"mn\",\"mo\",\"mover\",\"mpadded\",\"mphantom\",\"mroot\",\"mrow\",\"ms\",\"mspace\",\"msqrt\",\"mstyle\",\"msub\",\"msup\",\"msubsup\",\"mtable\",\"mtd\",\"mtext\",\"mtr\",\"munder\",\"munderover\",\"mprescripts\"]),rZ=ho([\"maction\",\"maligngroup\",\"malignmark\",\"mlongdiv\",\"mscarries\",\"mscarry\",\"msgroup\",\"mstack\",\"msline\",\"msrow\",\"semantics\",\"annotation\",\"annotation-xml\",\"mprescripts\",\"none\"]),BR=ho([\"#text\"]),NR=ho([\"accept\",\"action\",\"align\",\"alt\",\"autocapitalize\",\"autocomplete\",\"autopictureinpicture\",\"autoplay\",\"background\",\"bgcolor\",\"border\",\"capture\",\"cellpadding\",\"cellspacing\",\"checked\",\"cite\",\"class\",\"clear\",\"color\",\"cols\",\"colspan\",\"controls\",\"controlslist\",\"coords\",\"crossorigin\",\"datetime\",\"decoding\",\"default\",\"dir\",\"disabled\",\"disablepictureinpicture\",\"disableremoteplayback\",\"download\",\"draggable\",\"enctype\",\"enterkeyhint\",\"exportparts\",\"face\",\"for\",\"headers\",\"height\",\"hidden\",\"high\",\"href\",\"hreflang\",\"id\",\"inert\",\"inputmode\",\"integrity\",\"ismap\",\"kind\",\"label\",\"lang\",\"list\",\"loading\",\"loop\",\"low\",\"max\",\"maxlength\",\"media\",\"method\",\"min\",\"minlength\",\"multiple\",\"muted\",\"name\",\"nonce\",\"noshade\",\"novalidate\",\"nowrap\",\"open\",\"optimum\",\"part\",\"pattern\",\"placeholder\",\"playsinline\",\"popover\",\"popovertarget\",\"popovertargetaction\",\"poster\",\"preload\",\"pubdate\",\"radiogroup\",\"readonly\",\"rel\",\"required\",\"rev\",\"reversed\",\"role\",\"rows\",\"rowspan\",\"spellcheck\",\"scope\",\"selected\",\"shape\",\"size\",\"sizes\",\"slot\",\"span\",\"srclang\",\"start\",\"src\",\"srcset\",\"step\",\"style\",\"summary\",\"tabindex\",\"title\",\"translate\",\"type\",\"usemap\",\"valign\",\"value\",\"width\",\"wrap\",\"xmlns\",\"slot\"]),m3=ho([\"accent-height\",\"accumulate\",\"additive\",\"alignment-baseline\",\"amplitude\",\"ascent\",\"attributename\",\"attributetype\",\"azimuth\",\"basefrequency\",\"baseline-shift\",\"begin\",\"bias\",\"by\",\"class\",\"clip\",\"clippathunits\",\"clip-path\",\"clip-rule\",\"color\",\"color-interpolation\",\"color-interpolation-filters\",\"color-profile\",\"color-rendering\",\"cx\",\"cy\",\"d\",\"dx\",\"dy\",\"diffuseconstant\",\"direction\",\"display\",\"divisor\",\"dur\",\"edgemode\",\"elevation\",\"end\",\"exponent\",\"fill\",\"fill-opacity\",\"fill-rule\",\"filter\",\"filterunits\",\"flood-color\",\"flood-opacity\",\"font-family\",\"font-size\",\"font-size-adjust\",\"font-stretch\",\"font-style\",\"font-variant\",\"font-weight\",\"fx\",\"fy\",\"g1\",\"g2\",\"glyph-name\",\"glyphref\",\"gradientunits\",\"gradienttransform\",\"height\",\"href\",\"id\",\"image-rendering\",\"in\",\"in2\",\"intercept\",\"k\",\"k1\",\"k2\",\"k3\",\"k4\",\"kerning\",\"keypoints\",\"keysplines\",\"keytimes\",\"lang\",\"lengthadjust\",\"letter-spacing\",\"kernelmatrix\",\"kernelunitlength\",\"lighting-color\",\"local\",\"marker-end\",\"marker-mid\",\"marker-start\",\"markerheight\",\"markerunits\",\"markerwidth\",\"maskcontentunits\",\"maskunits\",\"max\",\"mask\",\"mask-type\",\"media\",\"method\",\"mode\",\"min\",\"name\",\"numoctaves\",\"offset\",\"operator\",\"opacity\",\"order\",\"orient\",\"orientation\",\"origin\",\"overflow\",\"paint-order\",\"path\",\"pathlength\",\"patterncontentunits\",\"patterntransform\",\"patternunits\",\"points\",\"preservealpha\",\"preserveaspectratio\",\"primitiveunits\",\"r\",\"rx\",\"ry\",\"radius\",\"refx\",\"refy\",\"repeatcount\",\"repeatdur\",\"restart\",\"result\",\"rotate\",\"scale\",\"seed\",\"shape-rendering\",\"slope\",\"specularconstant\",\"specularexponent\",\"spreadmethod\",\"startoffset\",\"stddeviation\",\"stitchtiles\",\"stop-color\",\"stop-opacity\",\"stroke-dasharray\",\"stroke-dashoffset\",\"stroke-linecap\",\"stroke-linejoin\",\"stroke-miterlimit\",\"stroke-opacity\",\"stroke\",\"stroke-width\",\"style\",\"surfacescale\",\"systemlanguage\",\"tabindex\",\"tablevalues\",\"targetx\",\"targety\",\"transform\",\"transform-origin\",\"text-anchor\",\"text-decoration\",\"text-rendering\",\"textlength\",\"type\",\"u1\",\"u2\",\"unicode\",\"values\",\"viewbox\",\"visibility\",\"version\",\"vert-adv-y\",\"vert-origin-x\",\"vert-origin-y\",\"width\",\"word-spacing\",\"wrap\",\"writing-mode\",\"xchannelselector\",\"ychannelselector\",\"x\",\"x1\",\"x2\",\"xmlns\",\"y\",\"y1\",\"y2\",\"z\",\"zoomandpan\"]),FR=ho([\"accent\",\"accentunder\",\"align\",\"bevelled\",\"close\",\"columnsalign\",\"columnlines\",\"columnspan\",\"denomalign\",\"depth\",\"dir\",\"display\",\"displaystyle\",\"encoding\",\"fence\",\"frame\",\"height\",\"href\",\"id\",\"largeop\",\"length\",\"linethickness\",\"lspace\",\"lquote\",\"mathbackground\",\"mathcolor\",\"mathsize\",\"mathvariant\",\"maxsize\",\"minsize\",\"movablelimits\",\"notation\",\"numalign\",\"open\",\"rowalign\",\"rowlines\",\"rowspacing\",\"rowspan\",\"rspace\",\"rquote\",\"scriptlevel\",\"scriptminsize\",\"scriptsizemultiplier\",\"selection\",\"separator\",\"separators\",\"stretchy\",\"subscriptshift\",\"supscriptshift\",\"symmetric\",\"voffset\",\"width\",\"xmlns\"]),i1=ho([\"xlink:href\",\"xml:id\",\"xlink:title\",\"xml:space\",\"xmlns:xlink\"]),sZ=vr(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm),aZ=vr(/<%[\\w\\W]*|[\\w\\W]*%>/gm),lZ=vr(/\\$\\{[\\w\\W]*/gm),cZ=vr(/^data-[\\-\\w.\\u00B7-\\uFFFF]+$/),uZ=vr(/^aria-[\\-\\w]+$/),WR=vr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i),dZ=vr(/^(?:\\w+script|data):/i),hZ=vr(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g),HR=vr(/^html$/i),pZ=vr(/^[a-z][.\\w]*(-[.\\w]+)+$/i),UR=Object.freeze({__proto__:null,ARIA_ATTR:uZ,ATTR_WHITESPACE:hZ,CUSTOM_ELEMENT:pZ,DATA_ATTR:cZ,DOCTYPE_NAME:HR,ERB_EXPR:aZ,IS_ALLOWED_URI:WR,IS_SCRIPT_OR_DATA:dZ,MUSTACHE_EXPR:sZ,TMPLIT_EXPR:lZ}),Jg={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},fZ=function(){return typeof window>\"u\"?null:window},mZ=function(e,i){if(typeof e!=\"object\"||typeof e.createPolicy!=\"function\")return null;let n=null,o=\"data-tt-policy-suffix\";i&&i.hasAttribute(o)&&(n=i.getAttribute(o));let r=\"dompurify\"+(n?\"#\"+n:\"\");try{return e.createPolicy(r,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn(\"TrustedTypes policy \"+r+\" could not be created.\"),null}},jR=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function $R(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:fZ(),e=le=>$R(le);if(e.version=\"3.3.0\",e.removed=[],!t||!t.document||t.document.nodeType!==Jg.document||!t.Element)return e.isSupported=!1,e;let{document:i}=t,n=i,o=n.currentScript,{DocumentFragment:r,HTMLTemplateElement:s,Node:a,Element:l,NodeFilter:c,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:d,DOMParser:h,trustedTypes:f}=t,v=l.prototype,L=Zg(v,\"cloneNode\"),A=Zg(v,\"remove\"),I=Zg(v,\"nextSibling\"),B=Zg(v,\"childNodes\"),F=Zg(v,\"parentNode\");if(typeof s==\"function\"){let le=i.createElement(\"template\");le.content&&le.content.ownerDocument&&(i=le.content.ownerDocument)}let k,N=\"\",{implementation:Y,createNodeIterator:z,createDocumentFragment:ce,getElementsByTagName:Fe}=i,{importNode:$e}=n,K=jR();e.isSupported=typeof VR==\"function\"&&typeof F==\"function\"&&Y&&Y.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:Xe,ERB_EXPR:Be,TMPLIT_EXPR:V,DATA_ATTR:Pe,ARIA_ATTR:ie,IS_SCRIPT_OR_DATA:ke,ATTR_WHITESPACE:Ge,CUSTOM_ELEMENT:Oe}=UR,{IS_ALLOWED_URI:Ye}=UR,Ae=null,ct=Zt({},[...OR,...h3,...p3,...f3,...BR]),ht=null,ii=Zt({},[...NR,...m3,...FR,...i1]),Je=Object.seal(g3(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ci=null,Gt=null,_i=Object.seal(g3(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}})),He=!0,wt=!0,Ut=!1,we=!0,Qt=!1,Mt=!0,mi=!1,Ai=!1,it=!1,Dt=!1,kn=!1,on=!1,ic=!0,Ou=!1,_=\"user-content-\",xr=!0,fo=!1,Zn={},wr=null,Do=Zt({},[\"annotation-xml\",\"audio\",\"colgroup\",\"desc\",\"foreignobject\",\"head\",\"iframe\",\"math\",\"mi\",\"mn\",\"mo\",\"ms\",\"mtext\",\"noembed\",\"noframes\",\"noscript\",\"plaintext\",\"script\",\"style\",\"svg\",\"template\",\"thead\",\"title\",\"video\",\"xmp\"]),Ya=null,Ko=Zt({},[\"audio\",\"video\",\"img\",\"source\",\"image\",\"track\"]),Vs=null,Ws=Zt({},[\"alt\",\"class\",\"for\",\"id\",\"label\",\"name\",\"pattern\",\"placeholder\",\"role\",\"summary\",\"title\",\"value\",\"style\",\"xmlns\"]),Sr=\"http://www.w3.org/1998/Math/MathML\",On=\"http://www.w3.org/2000/svg\",gi=\"http://www.w3.org/1999/xhtml\",mo=gi,ss=!1,nc=null,Qa=Zt({},[Sr,On,gi],u3),Cr=Zt({},[\"mi\",\"mo\",\"mn\",\"ms\",\"mtext\"]),Xa=Zt({},[\"annotation-xml\"]),Hs=Zt({},[\"title\",\"style\",\"font\",\"a\",\"script\"]),as=null,Bu=[\"application/xhtml+xml\",\"text/html\"],Xi=\"text/html\",Ei=null,Ki=null,Nu=i.createElement(\"form\"),Ka=function(S){return S instanceof RegExp||S instanceof Function},Za=function(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ki&&Ki===S)){if((!S||typeof S!=\"object\")&&(S={}),S=$a(S),as=Bu.indexOf(S.PARSER_MEDIA_TYPE)===-1?Xi:S.PARSER_MEDIA_TYPE,Ei=as===\"application/xhtml+xml\"?u3:n1,Ae=rs(S,\"ALLOWED_TAGS\")?Zt({},S.ALLOWED_TAGS,Ei):ct,ht=rs(S,\"ALLOWED_ATTR\")?Zt({},S.ALLOWED_ATTR,Ei):ii,nc=rs(S,\"ALLOWED_NAMESPACES\")?Zt({},S.ALLOWED_NAMESPACES,u3):Qa,Vs=rs(S,\"ADD_URI_SAFE_ATTR\")?Zt($a(Ws),S.ADD_URI_SAFE_ATTR,Ei):Ws,Ya=rs(S,\"ADD_DATA_URI_TAGS\")?Zt($a(Ko),S.ADD_DATA_URI_TAGS,Ei):Ko,wr=rs(S,\"FORBID_CONTENTS\")?Zt({},S.FORBID_CONTENTS,Ei):Do,ci=rs(S,\"FORBID_TAGS\")?Zt({},S.FORBID_TAGS,Ei):$a({}),Gt=rs(S,\"FORBID_ATTR\")?Zt({},S.FORBID_ATTR,Ei):$a({}),Zn=rs(S,\"USE_PROFILES\")?S.USE_PROFILES:!1,He=S.ALLOW_ARIA_ATTR!==!1,wt=S.ALLOW_DATA_ATTR!==!1,Ut=S.ALLOW_UNKNOWN_PROTOCOLS||!1,we=S.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Qt=S.SAFE_FOR_TEMPLATES||!1,Mt=S.SAFE_FOR_XML!==!1,mi=S.WHOLE_DOCUMENT||!1,Dt=S.RETURN_DOM||!1,kn=S.RETURN_DOM_FRAGMENT||!1,on=S.RETURN_TRUSTED_TYPE||!1,it=S.FORCE_BODY||!1,ic=S.SANITIZE_DOM!==!1,Ou=S.SANITIZE_NAMED_PROPS||!1,xr=S.KEEP_CONTENT!==!1,fo=S.IN_PLACE||!1,Ye=S.ALLOWED_URI_REGEXP||WR,mo=S.NAMESPACE||gi,Cr=S.MATHML_TEXT_INTEGRATION_POINTS||Cr,Xa=S.HTML_INTEGRATION_POINTS||Xa,Je=S.CUSTOM_ELEMENT_HANDLING||{},S.CUSTOM_ELEMENT_HANDLING&&Ka(S.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Je.tagNameCheck=S.CUSTOM_ELEMENT_HANDLING.tagNameCheck),S.CUSTOM_ELEMENT_HANDLING&&Ka(S.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Je.attributeNameCheck=S.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),S.CUSTOM_ELEMENT_HANDLING&&typeof S.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements==\"boolean\"&&(Je.allowCustomizedBuiltInElements=S.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Qt&&(wt=!1),kn&&(Dt=!0),Zn&&(Ae=Zt({},BR),ht=[],Zn.html===!0&&(Zt(Ae,OR),Zt(ht,NR)),Zn.svg===!0&&(Zt(Ae,h3),Zt(ht,m3),Zt(ht,i1)),Zn.svgFilters===!0&&(Zt(Ae,p3),Zt(ht,m3),Zt(ht,i1)),Zn.mathMl===!0&&(Zt(Ae,f3),Zt(ht,FR),Zt(ht,i1))),S.ADD_TAGS&&(typeof S.ADD_TAGS==\"function\"?_i.tagCheck=S.ADD_TAGS:(Ae===ct&&(Ae=$a(Ae)),Zt(Ae,S.ADD_TAGS,Ei))),S.ADD_ATTR&&(typeof S.ADD_ATTR==\"function\"?_i.attributeCheck=S.ADD_ATTR:(ht===ii&&(ht=$a(ht)),Zt(ht,S.ADD_ATTR,Ei))),S.ADD_URI_SAFE_ATTR&&Zt(Vs,S.ADD_URI_SAFE_ATTR,Ei),S.FORBID_CONTENTS&&(wr===Do&&(wr=$a(wr)),Zt(wr,S.FORBID_CONTENTS,Ei)),xr&&(Ae[\"#text\"]=!0),mi&&Zt(Ae,[\"html\",\"head\",\"body\"]),Ae.table&&(Zt(Ae,[\"tbody\"]),delete ci.tbody),S.TRUSTED_TYPES_POLICY){if(typeof S.TRUSTED_TYPES_POLICY.createHTML!=\"function\")throw Kg('TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.');if(typeof S.TRUSTED_TYPES_POLICY.createScriptURL!=\"function\")throw Kg('TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.');k=S.TRUSTED_TYPES_POLICY,N=k.createHTML(\"\")}else k===void 0&&(k=mZ(f,o)),k!==null&&typeof N==\"string\"&&(N=k.createHTML(\"\"));ho&&ho(S),Ki=S}},oc=Zt({},[...h3,...p3,...oZ]),Fu=Zt({},[...f3,...rZ]),kr=function(S){let de=F(S);(!de||!de.tagName)&&(de={namespaceURI:mo,tagName:\"template\"});let Ve=n1(S.tagName),Tt=n1(de.tagName);return nc[S.namespaceURI]?S.namespaceURI===On?de.namespaceURI===gi?Ve===\"svg\":de.namespaceURI===Sr?Ve===\"svg\"&&(Tt===\"annotation-xml\"||Cr[Tt]):!!oc[Ve]:S.namespaceURI===Sr?de.namespaceURI===gi?Ve===\"math\":de.namespaceURI===On?Ve===\"math\"&&Xa[Tt]:!!Fu[Ve]:S.namespaceURI===gi?de.namespaceURI===On&&!Xa[Tt]||de.namespaceURI===Sr&&!Cr[Tt]?!1:!Fu[Ve]&&(Hs[Ve]||!oc[Ve]):!!(as===\"application/xhtml+xml\"&&nc[S.namespaceURI]):!1},_n=function(S){Qg(e.removed,{element:S});try{F(S).removeChild(S)}catch{A(S)}},Zo=function(S,de){try{Qg(e.removed,{attribute:de.getAttributeNode(S),from:de})}catch{Qg(e.removed,{attribute:null,from:de})}if(de.removeAttribute(S),S===\"is\")if(Dt||kn)try{_n(de)}catch{}else try{de.setAttribute(S,\"\")}catch{}},Ja=function(S){let de=null,Ve=null;if(it)S=\"<remove></remove>\"+S;else{let ri=d3(S,/^[\\r\\n\\t ]+/);Ve=ri&&ri[0]}as===\"application/xhtml+xml\"&&mo===gi&&(S='<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>'+S+\"</body></html>\");let Tt=k?k.createHTML(S):S;if(mo===gi)try{de=new h().parseFromString(Tt,as)}catch{}if(!de||!de.documentElement){de=Y.createDocument(mo,\"template\",null);try{de.documentElement.innerHTML=ss?N:Tt}catch{}}let xi=de.body||de.documentElement;return S&&Ve&&xi.insertBefore(i.createTextNode(Ve),xi.childNodes[0]||null),mo===gi?Fe.call(de,mi?\"html\":\"body\")[0]:mi?de.documentElement:xi},$s=function(S){return z.call(S.ownerDocument||S,S,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},yi=function(S){return S instanceof d&&(typeof S.nodeName!=\"string\"||typeof S.textContent!=\"string\"||typeof S.removeChild!=\"function\"||!(S.attributes instanceof u)||typeof S.removeAttribute!=\"function\"||typeof S.setAttribute!=\"function\"||typeof S.namespaceURI!=\"string\"||typeof S.insertBefore!=\"function\"||typeof S.hasChildNodes!=\"function\")},go=function(S){return typeof a==\"function\"&&S instanceof a};function _o(le,S,de){t1(le,Ve=>{Ve.call(e,S,de,Ki)})}let rc=function(S){let de=null;if(_o(K.beforeSanitizeElements,S,null),yi(S))return _n(S),!0;let Ve=Ei(S.nodeName);if(_o(K.uponSanitizeElement,S,{tagName:Ve,allowedTags:Ae}),Mt&&S.hasChildNodes()&&!go(S.firstElementChild)&&uo(/<[/\\w!]/g,S.innerHTML)&&uo(/<[/\\w!]/g,S.textContent)||S.nodeType===Jg.progressingInstruction||Mt&&S.nodeType===Jg.comment&&uo(/<[/\\w]/g,S.data))return _n(S),!0;if(!(_i.tagCheck instanceof Function&&_i.tagCheck(Ve))&&(!Ae[Ve]||ci[Ve])){if(!ci[Ve]&&ac(Ve)&&(Je.tagNameCheck instanceof RegExp&&uo(Je.tagNameCheck,Ve)||Je.tagNameCheck instanceof Function&&Je.tagNameCheck(Ve)))return!1;if(xr&&!wr[Ve]){let Tt=F(S)||S.parentNode,xi=B(S)||S.childNodes;if(xi&&Tt){let ri=xi.length;for(let Ii=ri-1;Ii>=0;--Ii){let Jn=L(xi[Ii],!0);Jn.__removalCount=(S.__removalCount||0)+1,Tt.insertBefore(Jn,I(S))}}}return _n(S),!0}return S instanceof l&&!kr(S)||(Ve===\"noscript\"||Ve===\"noembed\"||Ve===\"noframes\")&&uo(/<\\/no(script|embed|frames)/i,S.innerHTML)?(_n(S),!0):(Qt&&S.nodeType===Jg.text&&(de=S.textContent,t1([Xe,Be,V],Tt=>{de=Xg(de,Tt,\" \")}),S.textContent!==de&&(Qg(e.removed,{element:S.cloneNode()}),S.textContent=de)),_o(K.afterSanitizeElements,S,null),!1)},sc=function(S,de,Ve){if(ic&&(de===\"id\"||de===\"name\")&&(Ve in i||Ve in Nu))return!1;if(!(wt&&!Gt[de]&&uo(Pe,de))){if(!(He&&uo(ie,de))){if(!(_i.attributeCheck instanceof Function&&_i.attributeCheck(de,S))){if(!ht[de]||Gt[de]){if(!(ac(S)&&(Je.tagNameCheck instanceof RegExp&&uo(Je.tagNameCheck,S)||Je.tagNameCheck instanceof Function&&Je.tagNameCheck(S))&&(Je.attributeNameCheck instanceof RegExp&&uo(Je.attributeNameCheck,de)||Je.attributeNameCheck instanceof Function&&Je.attributeNameCheck(de,S))||de===\"is\"&&Je.allowCustomizedBuiltInElements&&(Je.tagNameCheck instanceof RegExp&&uo(Je.tagNameCheck,Ve)||Je.tagNameCheck instanceof Function&&Je.tagNameCheck(Ve))))return!1}else if(!Vs[de]){if(!uo(Ye,Xg(Ve,Ge,\"\"))){if(!((de===\"src\"||de===\"xlink:href\"||de===\"href\")&&S!==\"script\"&&eZ(Ve,\"data:\")===0&&Ya[S])){if(!(Ut&&!uo(ke,Xg(Ve,Ge,\"\")))){if(Ve)return!1}}}}}}}return!0},ac=function(S){return S!==\"annotation-xml\"&&d3(S,Oe)},Uu=function(S){_o(K.beforeSanitizeAttributes,S,null);let{attributes:de}=S;if(!de||yi(S))return;let Ve={attrName:\"\",attrValue:\"\",keepAttr:!0,allowedAttributes:ht,forceKeepAttr:void 0},Tt=de.length;for(;Tt--;){let xi=de[Tt],{name:ri,namespaceURI:Ii,value:Jn}=xi,Oi=Ei(ri),el=Jn,rn=ri===\"value\"?el:tZ(el);if(Ve.attrName=Oi,Ve.attrValue=rn,Ve.keepAttr=!0,Ve.forceKeepAttr=void 0,_o(K.uponSanitizeAttribute,S,Ve),rn=Ve.attrValue,Ou&&(Oi===\"id\"||Oi===\"name\")&&(Zo(ri,S),rn=_+rn),Mt&&uo(/((--!?|])>)|<\\/(style|title|textarea)/i,rn)){Zo(ri,S);continue}if(Oi===\"attributename\"&&d3(rn,\"href\")){Zo(ri,S);continue}if(Ve.forceKeepAttr)continue;if(!Ve.keepAttr){Zo(ri,S);continue}if(!we&&uo(/\\/>/i,rn)){Zo(ri,S);continue}Qt&&t1([Xe,Be,V],a_=>{rn=Xg(rn,a_,\" \")});let s_=Ei(S.nodeName);if(!sc(s_,Oi,rn)){Zo(ri,S);continue}if(k&&typeof f==\"object\"&&typeof f.getAttributeType==\"function\"&&!Ii)switch(f.getAttributeType(s_,Oi)){case\"TrustedHTML\":{rn=k.createHTML(rn);break}case\"TrustedScriptURL\":{rn=k.createScriptURL(rn);break}}if(rn!==el)try{Ii?S.setAttributeNS(Ii,ri,rn):S.setAttribute(ri,rn),yi(S)?_n(S):zR(e.removed)}catch{Zo(ri,S)}}_o(K.afterSanitizeAttributes,S,null)},M=function le(S){let de=null,Ve=$s(S);for(_o(K.beforeSanitizeShadowDOM,S,null);de=Ve.nextNode();)_o(K.uponSanitizeShadowNode,de,null),rc(de),Uu(de),de.content instanceof r&&le(de.content);_o(K.afterSanitizeShadowDOM,S,null)};return e.sanitize=function(le){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},de=null,Ve=null,Tt=null,xi=null;if(ss=!le,ss&&(le=\"<!-->\"),typeof le!=\"string\"&&!go(le))if(typeof le.toString==\"function\"){if(le=le.toString(),typeof le!=\"string\")throw Kg(\"dirty is not a string, aborting\")}else throw Kg(\"toString is not a function\");if(!e.isSupported)return le;if(Ai||Za(S),e.removed=[],typeof le==\"string\"&&(fo=!1),fo){if(le.nodeName){let Jn=Ei(le.nodeName);if(!Ae[Jn]||ci[Jn])throw Kg(\"root node is forbidden and cannot be sanitized in-place\")}}else if(le instanceof a)de=Ja(\"<!---->\"),Ve=de.ownerDocument.importNode(le,!0),Ve.nodeType===Jg.element&&Ve.nodeName===\"BODY\"||Ve.nodeName===\"HTML\"?de=Ve:de.appendChild(Ve);else{if(!Dt&&!Qt&&!mi&&le.indexOf(\"<\")===-1)return k&&on?k.createHTML(le):le;if(de=Ja(le),!de)return Dt?null:on?N:\"\"}de&&it&&_n(de.firstChild);let ri=$s(fo?le:de);for(;Tt=ri.nextNode();)rc(Tt),Uu(Tt),Tt.content instanceof r&&M(Tt.content);if(fo)return le;if(Dt){if(kn)for(xi=ce.call(de.ownerDocument);de.firstChild;)xi.appendChild(de.firstChild);else xi=de;return(ht.shadowroot||ht.shadowrootmode)&&(xi=$e.call(n,xi,!0)),xi}let Ii=mi?de.outerHTML:de.innerHTML;return mi&&Ae[\"!doctype\"]&&de.ownerDocument&&de.ownerDocument.doctype&&de.ownerDocument.doctype.name&&uo(HR,de.ownerDocument.doctype.name)&&(Ii=\"<!DOCTYPE \"+de.ownerDocument.doctype.name+`>\n`+Ii),Qt&&t1([Xe,Be,V],Jn=>{Ii=Xg(Ii,Jn,\" \")}),k&&on?k.createHTML(Ii):Ii},e.setConfig=function(){let le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Za(le),Ai=!0},e.clearConfig=function(){Ki=null,Ai=!1},e.isValidAttribute=function(le,S,de){Ki||Za({});let Ve=Ei(le),Tt=Ei(S);return sc(Ve,Tt,de)},e.addHook=function(le,S){typeof S==\"function\"&&Qg(K[le],S)},e.removeHook=function(le,S){if(S!==void 0){let de=ZK(K[le],S);return de===-1?void 0:JK(K[le],de,1)[0]}return zR(K[le])},e.removeHooks=function(le){K[le]=[]},e.removeAllHooks=function(){K=jR()},e}var gZ=$R();var _Z=\".style_module_popup__d19738e9{box-shadow:0 2px 8px rgba(0,0,0,.15);opacity:0;pointer-events:auto;position:absolute;transition:opacity .15s ease,visibility .15s ease;visibility:hidden;z-index:1}.style_module_visible__d19738e9{opacity:1;transition:opacity .4s ease,visibility .4s ease;visibility:visible}\";gn(_Z,{});var qR={useLinksData:!1,hideWhenSizeMoreThan:120,selectOnClick:!0,useQuantiles:!0,minSubLabel:\"and less\",maxSubLabel:\"and more\",hidden:!1};var yZ=\".style_module_selected__91af67ac{filter:brightness(1.2)}.style_module_unselected__91af67ac{filter:brightness(.5);opacity:.7}\",qa={selected:\"style_module_selected__91af67ac\",unselected:\"style_module_unselected__91af67ac\"};gn(yZ,{});var dp=class extends js{constructor(){super(...arguments),this._uiComponentConfig={},this._manuallyHidden=!1,this._originalMaxValue=0,this._remapValues=async e=>{let i=await this._getMappingFunction();return i?e.map(n=>+i(n)):e},this._getExtentAndRange=async()=>{let e=await this._calculateExtent();return e?{extent:e,range:await this._calculateRange(e)}:{extent:void 0,range:void 0}},this._onSizeScaleUpdated=async()=>{await this._updateLegend()},this._onSizeUpdated=async()=>{await this._internalApi.configManager.configUpdated(),this._currentSizeAccessor!==this.accessor?await this.fetchData():await this._updateExtents(),await this._updateLegend()}}get domain(){var e;let i=(e=this._currentData)===null||e===void 0?void 0:e.toArray()[0];return this._currentData?[i.min,i.max]:void 0}get defaultConfig(){return qR}get accessor(){let{linkWidthBy:e,pointSizeBy:i}=this._internalApi.config;return this._config.useLinksData?e:i}get hasClickableEvents(){let{onClick:e,onMaxClick:i,onMinClick:n,overrideExtent:o}=this._config;return!o||e!==void 0||i!==void 0||n!==void 0}onInitialize(){this._pointSizeScaleUpdateHandler=async()=>{this._config.useLinksData||await this._onSizeScaleUpdated()},this._linkWidthScaleUpdateHandler=async()=>{this._config.useLinksData&&await this._onSizeScaleUpdated()},this._pointSizeUpdateHandler=async()=>{this._config.useLinksData||await this._onSizeUpdated()},this._linkWidthUpdateHandler=async()=>{this._config.useLinksData&&await this._onSizeUpdated()},this._internalApi.addEventListener(\"pointSizeScaleUpdated\",this._pointSizeScaleUpdateHandler),this._internalApi.addEventListener(\"linkWidthScaleUpdated\",this._linkWidthScaleUpdateHandler),this._internalApi.addEventListener(\"pointSizeUpdated\",this._pointSizeUpdateHandler),this._internalApi.addEventListener(\"linkWidthUpdated\",this._linkWidthUpdateHandler)}createUIComponent(e){return new Pg(e,this.createComponentConfig(this._config))}createComponentConfig(e){return{...e,onClick:i=>{var n,o;(o=(n=this._config).onClick)===null||o===void 0||o.call(n,i)},onHover:i=>{var n,o;(o=(n=this._config).onHover)===null||o===void 0||o.call(n,i)},onMaxClick:(i,n,o)=>{var r,s;(s=(r=this._config).onMaxClick)===null||s===void 0||s.call(r,i,n,o),this.hasClickableEvents&&this.onSelect(\"max\")},onMinClick:(i,n,o)=>{var r,s;(s=(r=this._config).onMinClick)===null||s===void 0||s.call(r,i,n,o),this.hasClickableEvents&&this.onSelect(\"min\")}}}compareSelectedItem(e){return this.selected===e}setSelectedItem(e){var i,n,o,r,s,a;if(e){let l=e,c=e===\"min\"?\"max\":\"min\";(i=this._uiComponent.sizeElements)===null||i===void 0||i[l].classList.remove(qa.unselected),(n=this._uiComponent.sizeElements)===null||n===void 0||n[l].classList.add(qa.selected),(o=this._uiComponent.sizeElements)===null||o===void 0||o[c].classList.remove(qa.selected),(r=this._uiComponent.sizeElements)===null||r===void 0||r[c].classList.add(qa.unselected)}else(s=this._uiComponent.sizeElements)===null||s===void 0||s.min.classList.remove(qa.selected,qa.unselected),(a=this._uiComponent.sizeElements)===null||a===void 0||a.max.classList.remove(qa.selected,qa.unselected)}applyFilter(e){var i,n,o,r;e===\"min\"?(i=this._client)===null||i===void 0||i.applyLessOrEqFilter((n=this._extent)===null||n===void 0?void 0:n[0]):(o=this._client)===null||o===void 0||o.applyGreaterOrEqFilter((r=this._extent)===null||r===void 0?void 0:r[1])}async getCurrentData(){await this._internalApi.configManager.configUpdated();let{summary:{linksSummary:e,pointsSummary:i}}=this._internalApi,n=this._config.useLinksData?e:i,o=n?.find(r=>r.column_name===this.accessor);if(o)return this._config.useQuantiles?await this._getQuantiledExtentData():xh({min:[Number(o.min)],max:[Number(o.max)]})}async fetchData(){this._currentSizeAccessor=this.accessor,await super.fetchData(),await this._updateExtents()}async onConfigUpdate(){this._config.hidden?this.hide():this.show(),await this._updateLegend()}async shouldUpdateComponentData(){return!this._currentSizeAccessor||(await this._internalApi.configManager.configUpdated(),this._currentSizeAccessor!==this.accessor)}_getPointsDegreeExtent(){let e=this._internalApi.public.pointDegrees;if(!e?.length)return[0,0];if(this._config.useQuantiles){let i=Ao(e,Fs),n=Ao(e,Ns);return i===n?Mn(e):[i,n]}return Mn(e)}async _getQuantiledExtentData(){let e=`\n        SELECT \n          quantile(\"${this.accessor}\", ${Fs}) as min,\n          quantile(\"${this.accessor}\", ${Ns}) as max\n        FROM ${this.tableName}\n      `;return await this._internalApi.dbCoordinator.query(e)}_calculateExtent(){let{public:{activePointSizeStrategy:e}}=this._internalApi;return this._config.useLinksData?this.domain:e===ji.Degree||this.domain?e===ji.Degree?this._getPointsDegreeExtent():this.domain:void 0}async _calculateRange(e){let{config:i,public:{activePointSizeStrategy:n}}=this._internalApi;if(this._config.useLinksData){if(!i.linkWidthByFn)return i.linkWidthRange||Zk}else if(!i.pointSizeByFn||n===ji.Auto||n===ji.Degree)return n===ji.Direct?e:i.pointSizeRange||Kk;return await this._remapValues(e)}async _updateExtents(){var e,i;if(this._config.overrideExtent)this._uiComponentConfig.extent=this._config.overrideExtent,this._uiComponentConfig.extentLabels=(e=this._config.extentLabels)!==null&&e!==void 0?e:this._config.overrideExtent;else{let{extent:n,range:o}=await this._getExtentAndRange();n&&o?(this._originalMaxValue=n[1],this._extent=n,this._uiComponentConfig.extent=o[0]<0?[0,o[1]]:o,this._uiComponentConfig.extentLabels=(i=this._config.extentLabels)!==null&&i!==void 0?i:[n[0],n[1]]):this._uiComponentConfig.extent=void 0}}async _updateLegend(){await this._updateSizeMultiplier(),this._updateLegendVisibility(),this._checkEvents(),this._updateLabels(),this._uiComponentConfig.form=this._config.useLinksData?\"line\":\"point\",this._uiComponent.setConfig(this.createComponentConfig({...this._config,...this._uiComponentConfig}))}_updateLabels(){var e;let{public:{activePointSizeStrategy:i}}=this._internalApi,{useLinksData:n,showSublabels:o,useQuantiles:r,overrideExtent:s}=this._config,a=s||n||i!==ji.Degree?this.accessor:\"connections count\";this._uiComponentConfig.label=typeof this._config.label==\"function\"?this._config.label(a):(e=this._config.label)!==null&&e!==void 0?e:a,this._uiComponentConfig.showSublabels=o!==void 0?o:r}_checkEvents(){let{public:{activePointSizeStrategy:e}}=this._internalApi,{enableEvents:i,useLinksData:n,overrideExtent:o,onHover:r}=this._config,s=i==null||i;n||e!==ji.Degree?o&&(s=i??(this.hasClickableEvents||r!==void 0)):s=r!==void 0,this._uiComponentConfig.enableEvents=s}_updateLegendVisibility(){let{extent:e,sizeMultiplier:i}=this._uiComponentConfig,{hideWhenSizeMoreThan:n}=this._config;if(e){let o=i?i*e[1]:e[1];n&&n<o?this._uiComponent.hide():this._manuallyHidden||this._uiComponent.show()}}async _updateSizeMultiplier(){var e,i,n;let{config:o}=this._internalApi,r=(e=this._internalApi.public.getZoomLevel())!==null&&e!==void 0?e:1,s=this._config.useLinksData?o.scaleLinksOnZoom:o.scalePointsOnZoom,a=this._config.useLinksData?(i=o.linkWidthScale)!==null&&i!==void 0?i:1:(n=o.pointSizeScale)!==null&&n!==void 0?n:1;this._uiComponentConfig.sizeMultiplier=s?a*r:a,s&&await this._updateMaxLabel()}async _updateMaxLabel(){let{config:e,public:{maxPointSize:i}}=this._internalApi,{extentLabels:n,sizeMultiplier:o}=this._uiComponentConfig;if(e.pointSizeByFn&&n&&!this._uiComponent.isHidden&&o){let r=await this._calcVisibleMaxLabel(i/o,n[0],this._originalMaxValue);this._uiComponentConfig.extentLabels=[n[0],r]}}async _calcVisibleMaxLabel(e,i,n){let o=await this._getMappingFunction();if(o){let r=e/o(1),s=Math.min(Math.abs(n),Math.max(Math.abs(i),Math.abs(r))),a=Math.sign(n)*s,l=0,c=Math.abs(a);return c>0&&(l=c<.001?6:c<.01?4:c<.1?3:c<1?2:c<10?1:0),Number(a.toFixed(l))}return 0}async _getMappingFunction(){return this._config.useLinksData?await this._internalApi.public.getActiveLinkWidthFn():await this._internalApi.public.getActivePointSizeFn()}hide(){this._manuallyHidden=!0,this.checkReady(()=>this.hide())&&this._uiComponent.hide()}show(){this._manuallyHidden=!1,this.checkReady(()=>this.show())&&this._uiComponent.show()}remove(){this._internalApi.removeEventListener(\"pointSizeScaleUpdated\",this._pointSizeScaleUpdateHandler),this._internalApi.removeEventListener(\"linkWidthScaleUpdated\",this._linkWidthScaleUpdateHandler),this._internalApi.removeEventListener(\"pointSizeUpdated\",this._pointSizeUpdateHandler),this._internalApi.removeEventListener(\"linkWidthUpdated\",this._linkWidthUpdateHandler),super.remove()}};var GR={useLinksData:!1,selectOnClick:!0,steps:10,overrideColors:void 0,useQuantiles:!0,useDiscreteColors:!1,minSubLabel:\"and less\",maxSubLabel:\"and more\",hidden:!1};var bZ=\".style_module_selected__12a865d0{filter:brightness(1.2)}.style_module_unselected__12a865d0{filter:brightness(.5);opacity:.7}\",Ga={selected:\"style_module_selected__12a865d0\",unselected:\"style_module_unselected__12a865d0\"};gn(bZ,{});var hp=class extends js{constructor(){super(...arguments),this._uiComponentConfig={},this._onColorUpdated=async()=>{var e;await this._internalApi.configManager.configUpdated(),this._currentExtent=this._uiComponentConfig.extentLabels,this._currentColorAccessor!==this.accessor?await this.fetchData():await this._updateExtents(),await this._updateLegend(),Th(this._currentExtent,this._uiComponentConfig.extentLabels)||((e=this._client)===null||e===void 0||e.resetFilter(),this.onResetClientSelections())},this._remapValues=async e=>{if(!e)return;let[i,n]=e,o=await this._getMappingFunction();return o?Array.from({length:this._config.steps},(r,s)=>{let a=i+s/(this._config.steps-1)*(n-i);return o(a)}):void 0},this._getExtentAndRange=async()=>{let e=await this._calculateExtent();return e?{extent:e,range:await this._calculateRange(e)}:{extent:void 0,range:void 0}}}get domain(){var e;let i=(e=this._currentData)===null||e===void 0?void 0:e.toArray()[0];return this._currentData?[i.min,i.max]:void 0}get defaultConfig(){return GR}get accessor(){let{linkColorBy:e,pointColorBy:i}=this._internalApi.config;return this._config.useLinksData?e:i}get hasClickableEvents(){let{onClick:e,onMaxClick:i,onMinClick:n,overrideColors:o}=this._config;return!o||e!==void 0||i!==void 0||n!==void 0}onInitialize(){this._linkColorUpdateHandler=async()=>{this._config.useLinksData&&await this._onColorUpdated()},this._pointColorUpdateHandler=async()=>{this._config.useLinksData||await this._onColorUpdated()},this._internalApi.addEventListener(\"pointColorUpdated\",this._pointColorUpdateHandler),this._internalApi.addEventListener(\"linkColorUpdated\",this._linkColorUpdateHandler)}createUIComponent(e){return new Mg(e,this.createComponentConfig(this._config))}createComponentConfig(e){return{...e,onClick:i=>{var n,o;(o=(n=this._config).onClick)===null||o===void 0||o.call(n,i)},onHover:i=>{var n,o;(o=(n=this._config).onHover)===null||o===void 0||o.call(n,i)},onMaxClick:(i,n,o)=>{var r,s;let{public:{activePointColorStrategy:a}}=this._internalApi;(s=(r=this._config).onMaxClick)===null||s===void 0||s.call(r,i,n,o),(this._config.useLinksData||a!==Wt.Degree)&&this.hasClickableEvents&&this.onSelect(\"max\")},onMinClick:(i,n,o)=>{var r,s;let{public:{activePointColorStrategy:a}}=this._internalApi;(s=(r=this._config).onMinClick)===null||s===void 0||s.call(r,i,n,o),(this._config.useLinksData||a!==Wt.Degree)&&this.hasClickableEvents&&this.onSelect(\"min\")}}}compareSelectedItem(e){return this.selected===e}setSelectedItem(e){var i,n,o,r,s,a;if(e){let l=e,c=e===\"min\"?\"max\":\"min\";(i=this._uiComponent.extentElements)===null||i===void 0||i[l].classList.remove(Ga.unselected),(n=this._uiComponent.extentElements)===null||n===void 0||n[l].classList.add(Ga.selected),(o=this._uiComponent.extentElements)===null||o===void 0||o[c].classList.remove(Ga.selected),(r=this._uiComponent.extentElements)===null||r===void 0||r[c].classList.add(Ga.unselected)}else(s=this._uiComponent.extentElements)===null||s===void 0||s.min.classList.remove(Ga.selected,Ga.unselected),(a=this._uiComponent.extentElements)===null||a===void 0||a.max.classList.remove(Ga.selected,Ga.unselected)}applyFilter(e){var i,n,o,r;e===\"min\"?(i=this._client)===null||i===void 0||i.applyLessOrEqFilter((n=this._extent)===null||n===void 0?void 0:n[0]):(o=this._client)===null||o===void 0||o.applyGreaterOrEqFilter((r=this._extent)===null||r===void 0?void 0:r[1])}async getCurrentData(){await this._internalApi.configManager.configUpdated();let{summary:{linksSummary:e,pointsSummary:i}}=this._internalApi,n=this._config.useLinksData?e:i,o=n?.find(r=>r.column_name===this.accessor);if(o)return this._config.useQuantiles?await this._getQuantiledExtentData():xh({min:[Number(o.min)],max:[Number(o.max)]})}async fetchData(){var e;this._currentColorAccessor=(e=this.accessor)===null||e===void 0?void 0:e.toString(),await super.fetchData(),await this._updateExtents()}async onConfigUpdate(){this._config.hidden?this.hide():this.show(),await this._updateLegend()}async shouldUpdateComponentData(){return!this._currentColorAccessor||(await this._internalApi.configManager.configUpdated(),this._currentColorAccessor!==this.accessor)}_getPointsDegreeExtent(){let e=this._internalApi.public.pointDegrees;if(!e?.length)return[0,0];if(this._config.useQuantiles){let i=Ao(e,Fs),n=Ao(e,Ns);return i===n?Mn(e):[i,n]}return Mn(e)}async _getQuantiledExtentData(){let e=`\n        SELECT \n          quantile(\"${this.accessor}\", ${Fs}) as min,\n          quantile(\"${this.accessor}\", ${Ns}) as max\n        FROM ${this.tableName}\n      `;return await this._internalApi.dbCoordinator.query(e)}_calculateExtent(){let{public:{activePointColorStrategy:e}}=this._internalApi;return this._config.useLinksData?this.domain:e===Wt.Degree?this._getPointsDegreeExtent():this.domain}async _calculateRange(e){var i;let{config:n,public:{activePointColorStrategy:o}}=this._internalApi;if(this._config.useLinksData){if(!n.linkColorByFn)return}else if(o===Wt.Map||o!==Wt.Degree&&this.domain&&isNaN((i=this.domain)===null||i===void 0?void 0:i[0]))return;return await this._remapValues(e)}async _getMappingFunction(){return this._config.useLinksData?await this._internalApi.public.getActiveLinkColorFn():await this._internalApi.public.getActivePointColorFn()}async _updateExtents(){var e;if(this._config.overrideColors)this._uiComponentConfig.extent=this._config.overrideColors,this._uiComponentConfig.extentLabels=this._config.extentLabels;else{let{extent:i,range:n}=await this._getExtentAndRange();i?(this._extent=i,this._uiComponentConfig.extent=n,this._uiComponentConfig.extentLabels=(e=this._config.extentLabels)!==null&&e!==void 0?e:[i[0],i[1]]):this._uiComponentConfig.extent=void 0}}_checkEvents(){let{public:{activePointColorStrategy:e}}=this._internalApi,{enableEvents:i,useLinksData:n,overrideColors:o,onHover:r}=this._config,s=i==null||i;n||e!==Wt.Degree?o&&(s=i??(this.hasClickableEvents||r!==void 0)):s=r!==void 0,this._uiComponentConfig.enableEvents=s}_updateLabels(){var e;let{public:{activePointColorStrategy:i}}=this._internalApi,{useLinksData:n,showSublabels:o,useQuantiles:r,overrideColors:s}=this._config,a=s||n||i!==Wt.Degree?this.accessor:\"connections count\";this._uiComponentConfig.label=typeof this._config.label==\"function\"?this._config.label(a):(e=this._config.label)!==null&&e!==void 0?e:a,this._uiComponentConfig.showSublabels=o??r}async _updateLegend(){let{public:{activePointColorStrategy:e}}=this._internalApi,{overrideColors:i,useDiscreteColors:n}=this._config;this._uiComponentConfig.discreteColors=i?n:e===Wt.Palette,this._checkEvents(),this._updateLabels(),this._uiComponent.setConfig(this.createComponentConfig({...this._config,...this._uiComponentConfig}))}hide(){this.checkReady(()=>this.hide())&&this._uiComponent.hide()}show(){this.checkReady(()=>this.show())&&this._uiComponent.show()}remove(){this._internalApi.removeEventListener(\"pointColorUpdated\",this._pointColorUpdateHandler),this._internalApi.removeEventListener(\"linkColorUpdated\",this._linkColorUpdateHandler),super.remove()}};var b3={0:\"source\",1:\"source+target\",2:\"target\",3:\"not linked\"},YR=Object.fromEntries(Object.entries(b3).map(([t,e])=>[e,t]));var QR={useLinksData:!1,selectOnClick:!0,hideUnknown:!0,resetSelectionOnCollapse:!0,hidden:!1};var e_=class extends js{constructor(){super(...arguments),this._uiComponentConfig={},this._fetchDataPromise=null,this._onColorUpdated=async()=>{this._fetchDataPromise&&await this._fetchDataPromise,await this._internalApi.configManager.configUpdated(),this._currentColorAccessor!==this.accessor?await this.fetchData():await this._updateItems(),await this._updateLegend()}}get _summary(){let{summary:{linksSummary:e,pointsSummary:i}}=this._internalApi;return this._config.useLinksData?e:i}get defaultConfig(){return QR}get isLinkDirectionStrategy(){return this._internalApi.public.activePointColorStrategy===Wt.LinkDirection}get accessor(){let{linkColorBy:e,pointColorBy:i,pointIndexBy:n}=this._internalApi.config;return this._config.useLinksData?e:this.isLinkDirectionStrategy?n:i}get hasClickableEvents(){let{onClick:e,overrideItems:i}=this._config;return!i||e!==void 0}onInitialize(){this._linkColorUpdateHandler=async()=>{this._config.useLinksData&&await this._onColorUpdated()},this._pointColorUpdateHandler=async()=>{this._config.useLinksData||await this._onColorUpdated()},this._internalApi.addEventListener(\"pointColorUpdated\",this._pointColorUpdateHandler),this._internalApi.addEventListener(\"linkColorUpdated\",this._linkColorUpdateHandler)}createUIComponent(e){return new Og(e,this.createComponentConfig(this._config))}createComponentConfig(e){return{...e,onClick:(i,n)=>{var o,r;(r=(o=this._config).onClick)===null||r===void 0||r.call(o,i,n),this.hasClickableEvents&&this.onSelect(n)},onHover:(i,n)=>{var o,r;(r=(o=this._config).onHover)===null||r===void 0||r.call(o,i,n)},onShowMoreClick:i=>{var n,o;(o=(n=this._config).onShowMoreClick)===null||o===void 0||o.call(n,i),this._config.resetSelectionOnCollapse&&this.selected&&!i&&this.onSelect(void 0)}}}compareSelectedItem(e){var i;return((i=this.selected)===null||i===void 0?void 0:i.label)===e?.label}setSelectedItem(e){this._uiComponent.setSelectedItem(e)}applyFilter(e){var i,n;if(this.isLinkDirectionStrategy){if(!e)return;let o=Number(YR[e.label]),r=this._internalApi.public.pointDirections;if(!r)return;let s=r.reduce((a,l,c)=>(l===o&&a.push(c),a),[]);(i=this._client)===null||i===void 0||i.applyInFilter(s)}else(n=this._client)===null||n===void 0||n.applyExactFilter(e?.label)}async fetchData(){return this._fetchDataPromise&&await this._fetchDataPromise,this._fetchDataPromise=(async()=>{var e;try{this._currentColorAccessor=(e=this.accessor)===null||e===void 0?void 0:e.toString(),await super.fetchData(),await this._updateItems(),this.onResetClientSelections()}finally{this._fetchDataPromise=null}})(),this._fetchDataPromise}async onConfigUpdate(){this._config.hidden?this.hide():this.show(),await this._updateLegend()}async getCurrentData(){var e;if(await this._internalApi.configManager.configUpdated(),!((e=this._summary)===null||e===void 0)&&e.find(i=>i.column_name===this.accessor)&&this._summary)return await this._getDistinctValues(this._summary)}async shouldUpdateComponentData(){return!this._currentColorAccessor||(await this._internalApi.configManager.configUpdated(),this._currentColorAccessor!==this.accessor)}async _getDistinctValues(e){var i,n,o;let{public:{activePointColorStrategy:r}}=this._internalApi,s=\"DESC\";r!==Wt.InterpolatePalette&&r!==Wt.Palette||(s=(i=this._config.sortOrder)!==null&&i!==void 0?i:\"DESC\");let a=`ORDER BY \"${(n=this._config.sortBy)!==null&&n!==void 0?n:\"count\"}\" ${s}`,l=(o=e.find(c=>c.column_name===this.accessor))===null||o===void 0?void 0:o.column_type;return await this._internalApi.dbCoordinator.query((c=>c===\"VARCHAR\"?`SELECT \"${this.accessor}\", COUNT(*) as count \n                FROM ${this.tableName}\n                GROUP BY \"${this.accessor}\"\n                ${a}`:`SELECT DISTINCT \"${this.accessor}\"\n                FROM ${this.tableName}\n                ORDER BY \"${this.accessor}\" ${this._config.sortOrder||s}`)(l))}_checkEvents(){let{enableEvents:e,overrideItems:i,onHover:n}=this._config,o=e==null||e;i&&(o=e??(this.hasClickableEvents||n!==void 0)),this._uiComponentConfig.enableEvents=o}async _updateLegend(){this._checkEvents(),this._uiComponent.setConfig(this.createComponentConfig({...this._config,...this._uiComponentConfig}))}async _updateItems(){var e,i;let{activePointColorStrategy:n}=this._internalApi.public,{overrideItems:o}=this._config;if(o)this._uiComponentConfig.items=o;else{if(n===Wt.LinkDirection){let r=this._internalApi.public.pointDirections;if(r){let s=Array.from(new Set(r)).map(String);this._uiComponentConfig.items=await this._createLegendItems(s)}return}if(!this.accessor||!this.useLinksData&&n===Wt.Degree)return void(this._uiComponentConfig.items=void 0);if(!((e=this._currentData)===null||e===void 0)&&e.numRows){let r=(i=this._currentData.getChildAt(0))===null||i===void 0?void 0:i.toArray();if(r)return void(this._uiComponentConfig.items=await this._createLegendItems(r))}this._uiComponentConfig.items=void 0}}async _createLegendItems(e){var i;let{public:{activePointColorStrategy:n},config:o}=this._internalApi,r=await this._getMappingFunction();if(r){let s=a=>({color:rp(r(a)),label:String(a)});if(n===Wt.LinkDirection)return Array.from(e,a=>({color:rp(r(a)),label:b3[a]}));if(this.useLinksData||n!==Wt.Map)return Array.from(e,s);{let a=new Set(Object.keys((i=o.pointColorByMap)!==null&&i!==void 0?i:{}));return[...Array.from(e.filter(l=>a.has(l)),s),...this._config.hideUnknown?[]:Array.from(e.filter(l=>!a.has(l)),s)]}}return[]}async _getMappingFunction(){return this._config.useLinksData?await this._internalApi.public.getActiveLinkColorFn():await this._internalApi.public.getActivePointColorFn()}show(){this.checkReady(()=>this.show())&&this._uiComponent.show()}hide(){this.checkReady(()=>this.hide())&&this._uiComponent.hide()}remove(){this._internalApi.removeEventListener(\"pointColorUpdated\",this._pointColorUpdateHandler),this._internalApi.removeEventListener(\"linkColorUpdated\",this._linkColorUpdateHandler),super.remove()}};var XR=`\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n  <path d=\"m21 21-6-6m6 6v-4.8m0 4.8h-4.8\"/>\n  <path d=\"M3 16.2V21m0 0h4.8M3 21l6-6\"/>\n  <path d=\"M21 7.8V3m0 0h-4.8M21 3l-6 6\"/>\n  <path d=\"M3 7.8V3m0 0h4.8M3 3l6 6\"/>\n</svg>\n`;var KR={onClick:void 0,iconSvg:XR,duration:250,padding:.1,description:\"Fit view\"};var t_=class{constructor(e,i,n={}){this._handleClick=()=>{var o,r;(r=(o=this._config).onClick)===null||r===void 0||r.call(o),this._internalApi.public.fitView(this._config.duration,this._config.padding)},this._show=()=>{this._fitViewButton.show()},this._internalApi=br(e),this._fitViewButton=new Lo(i),this._internalApi.addEventListener(\"graphRebuilt\",this._show),this.setConfig(n)}setConfig(e={}){this._config=Kt(KR,e),this._uiButtonConfig={...this._config,onClick:this._handleClick},this._fitViewButton.setConfig(this._uiButtonConfig)}remove(){this._fitViewButton.destroy(),this._internalApi.removeEventListener(\"graphRebuilt\",this._show)}};var i_=`\n<svg width=\"100%\" height=\"100%\" viewBox=\"0 0 15 18\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M15 9L-8.15666e-07 17.6603L-5.85621e-08 0.339745L15 9Z\"/>\n</svg>`,ZR=`\n<svg width=\"100%\" height=\"100%\" viewBox=\"0 0 14 18\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M4.91659 0.666656H0.333252V17.3333H4.91659V0.666656ZM13.6666 0.666656H9.08325V17.3333H13.6666V0.666656Z\"/>\n</svg>\n`;var v3={onClick:void 0,iconSvg:i_,description:\"Play/Pause\"};var n_=class{constructor(e,i,n={}){this._config=v3,this._update=()=>{this._internalApi.cosmos&&(this._internalApi.cosmos.config.enableSimulation===!1?this._playPauseButton.hide():this._playPauseButton.show(),this._config.iconSvg=this._internalApi.public.isSimulationRunning?ZR:i_,this._playPauseButton.setConfig(this._config))},this._internalApi=br(e),this._playPauseButton=new Lo(i,{iconSvg:i_}),this._internalApi.addEventListener(\"onSimulationEnd\",this._update),this._internalApi.addEventListener(\"onSimulationStart\",this._update),this._internalApi.addEventListener(\"onSimulationPause\",this._update),this._internalApi.addEventListener(\"graphRebuilt\",this._update),this.setConfig(n)}setConfig(e={}){this._config=Kt(v3,e),this._config.onClick=()=>{var i;(i=e?.onClick)===null||i===void 0||i.call(e),this._internalApi.public.isSimulationRunning?this._internalApi.public.pause():this._internalApi.public.progress===1?this._internalApi.public.start():this._internalApi.public.restart(),this._update()},this._update()}remove(){this._playPauseButton.destroy(),this._internalApi.removeEventListener(\"onSimulationEnd\",this._update),this._internalApi.removeEventListener(\"onSimulationStart\",this._update),this._internalApi.removeEventListener(\"onSimulationPause\",this._update),this._internalApi.removeEventListener(\"graphRebuilt\",this._update)}};var JR=`\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" transform=\"scale(1.15)\"><path fill=\"currentColor\" fill-rule=\"evenodd\" d=\"M21.72.226a1 1 0 0 1 .587.936l-.336 13.583a1 1 0 0 1-.685.924l-8.893 2.948a2.6 2.6 0 0 1-.028.692a2.93 2.93 0 0 1 1.429 1.495c.342.792.33 1.645.198 2.267a1 1 0 0 1-1.956-.417c.07-.328.06-.739-.078-1.056c-.098-.226-.27-.444-.655-.565l-.064.05c-.667.512-1.545.8-2.475.8s-1.808-.288-2.476-.8c-.668-.511-1.165-1.289-1.165-2.224s.497-1.712 1.165-2.224q.232-.178.495-.318L1.782 5.237a1 1 0 0 1 1.092-1.394l11.694 2.146L20.63.402a1 1 0 0 1 1.09-.176m-1.73 13.766l-8.53 2.828a3 3 0 0 0-.22-.185c-.668-.511-1.546-.799-2.476-.799H8.76L4.39 6.154l10.308 1.892a1 1 0 0 0 .859-.248l4.692-4.326zm-12.485 4.23c-.288.22-.382.455-.382.637s.094.416.382.637c.288.22.73.386 1.259.386s.97-.165 1.259-.386c.288-.22.382-.455.382-.637s-.094-.416-.382-.637c-.289-.22-.73-.386-1.26-.386s-.97.165-1.258.386\" clip-rule=\"evenodd\"/></svg>\n`;var x3={onClick:void 0,iconSvg:JR,description:\"Polygonal selection\"};var o_=class{constructor(e,i,n={}){this._show=()=>{this._selectPolygonButton.show()},this._internalApi=br(e),this._config=Kt(x3,n),this._config.onClick=()=>{var o;(o=n?.onClick)===null||o===void 0||o.call(n),this._internalApi.public.activatePolygonalSelection()},this._selectPolygonButton=new Lo(i,this._config),this._polygonSelectedHandler=()=>{this._internalApi.public.deactivatePolygonalSelection()},this._internalApi.addEventListener(\"graphRebuilt\",this._show),this._internalApi.addEventListener(\"polygonSelected\",this._polygonSelectedHandler)}setConfig(e={}){this._config=Kt(x3,e)}remove(){this._selectPolygonButton.destroy(),this._internalApi.removeEventListener(\"graphRebuilt\",this._show),this._internalApi.removeEventListener(\"polygonSelected\",this._polygonSelectedHandler)}};var eM=`\n<svg width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M4 12H20M12 4V20\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n</svg>\n`,tM=`\n<svg width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M4 12H20\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n</svg>\n`;var o1={onZoomInClick:void 0,onZoomOutClick:void 0,zoomInIconSvg:eM,zoomOutIconSvg:tM,duration:250,zoomIncrement:1.4};var vZ=\".style_module_zoomButtons__738b35dc{height:50px;margin:3px;width:25px}.style_module_zoomButton__738b35dc{height:50%;margin:0;width:100%}.style_module_zoomInButton__738b35dc{border-radius:2px 2px 0 0}.style_module_zoomOutButton__738b35dc{border-radius:0 0 2px 2px}\",pp={zoomButtons:\"style_module_zoomButtons__738b35dc\",zoomButton:\"style_module_zoomButton__738b35dc\",zoomInButton:\"style_module_zoomInButton__738b35dc\",zoomOutButton:\"style_module_zoomOutButton__738b35dc\"};gn(vZ,{});var r_=class{constructor(e,i,n){this._show=()=>{this._zoomInButton.show(),this._zoomOutButton.show()},this._internalApi=br(e),i.classList.add(pp.zoomButtons),this._zoomInButtonDiv=document.createElement(\"div\"),this._zoomInButtonDiv.classList.add(pp.zoomButton,pp.zoomInButton),this._zoomOutButtonDiv=document.createElement(\"div\"),this._zoomOutButtonDiv.classList.add(pp.zoomButton,pp.zoomOutButton),i.appendChild(this._zoomInButtonDiv),i.appendChild(this._zoomOutButtonDiv),this._zoomInButton=new Lo(this._zoomInButtonDiv),this._zoomOutButton=new Lo(this._zoomOutButtonDiv),this._internalApi.addEventListener(\"graphRebuilt\",this._show),this.setConfig(n??{})}setConfig(e){this._config=Kt(o1,e??{}),this._zoomInButtonConfig={onClick:()=>{var i,n,o;let r=this._internalApi.public.getZoomLevel();if(r){let s=(i=this._config.zoomIncrement)!==null&&i!==void 0?i:o1.zoomIncrement;this._internalApi.public.setZoomLevel(r*s,this._config.duration)}(o=(n=this._config).onZoomInClick)===null||o===void 0||o.call(n)},iconSvg:this._config.zoomInIconSvg},this._zoomOutButtonConfig={onClick:()=>{var i,n,o;let r=this._internalApi.public.getZoomLevel();if(r){let s=(i=this._config.zoomIncrement)!==null&&i!==void 0?i:o1.zoomIncrement;this._internalApi.public.setZoomLevel(r/s,this._config.duration)}(o=(n=this._config).onZoomOutClick)===null||o===void 0||o.call(n)},iconSvg:this._config.zoomOutIconSvg},this._zoomInButton.setConfig(this._zoomInButtonConfig),this._zoomOutButton.setConfig(this._zoomOutButtonConfig)}remove(){this._zoomInButton.destroy(),this._zoomOutButton.destroy(),this._internalApi.removeEventListener(\"graphRebuilt\",this._show)}};function iM(t,e,i){return t.on(e,i),()=>t.off(e,i)}var nM=t=>typeof t==\"string\"&&[\"TINYINT\",\"SMALLINT\",\"INTEGER\",\"BIGINT\",\"HUGEINT\",\"UTINYINT\",\"USMALLINT\",\"UINTEGER\",\"UBIGINT\",\"UHUGEINT\",\"FLOAT\",\"DOUBLE\",\"DECIMAL\"].includes(t),oM=t=>typeof t==\"string\"&&[\"VARCHAR\"].includes(t);function rM(t){t.classList.add(\"wrapper\");let e=document.createElement(\"div\");e.classList.add(\"graph\"),t.appendChild(e);let i=document.createElement(\"div\");i.classList.add(\"timeline\"),t.appendChild(i);let n=document.createElement(\"div\");return n.classList.add(\"controls\"),t.appendChild(n),{graphContainer:e,timelineContainer:i,controlsContainer:n}}function sM(t){let e=document.createElement(\"div\");e.classList.add(\"loading-overlay\");let i=document.createElement(\"div\");return i.classList.add(\"loading-spinner\"),e.appendChild(i),t.appendChild(e),e}function aM(t){t.style.display=\"flex\",t.style.opacity=\"1\"}function lM(t){t.style.opacity=\"0\",setTimeout(()=>{t.style.display=\"none\"},300)}function cM(t,e){if(e){if(typeof e==\"string\")t.style.backgroundColor=e;else if(Array.isArray(e)&&e.length>=3){let i=Math.round(e[0]*255),n=Math.round(e[1]*255),o=Math.round(e[2]*255),r=e.length>3?e[3]:1;t.style.backgroundColor=`rgba(${i}, ${n}, ${o}, ${r})`}}}function uM(t){let e=document.createElement(\"div\");e.classList.add(\"bottom\"),t.appendChild(e);let i=document.createElement(\"div\");i.classList.add(\"leftLegends\"),e.appendChild(i);let n=document.createElement(\"div\");n.classList.add(\"pointColorLegend\"),i.appendChild(n);let o=document.createElement(\"div\");o.classList.add(\"pointTypeColorLegend\"),i.appendChild(o);let r=document.createElement(\"div\");r.classList.add(\"linkColorLegend\"),i.appendChild(r);let s=document.createElement(\"div\");s.classList.add(\"rightLegends\"),e.appendChild(s);let a=document.createElement(\"div\");a.classList.add(\"pointSizeLegend\"),s.appendChild(a);let l=document.createElement(\"div\");return l.classList.add(\"linkWidthLegend\"),s.appendChild(l),{pointSizeLegendContainer:a,linkWidthLegendContainer:l,pointColorLegendContainer:n,pointTypeColorLegendContainer:o,linkColorLegendContainer:r}}function dM(t){let e=document.createElement(\"div\");e.classList.add(\"leftControls\"),t.appendChild(e);let i=document.createElement(\"div\");i.classList.add(\"playButton\"),e.appendChild(i);let n=document.createElement(\"div\");n.classList.add(\"selectAreaButton\"),e.appendChild(n);let o=document.createElement(\"div\");o.classList.add(\"rightControls\"),t.appendChild(o);let r=document.createElement(\"div\");r.classList.add(\"fitViewButton\"),o.appendChild(r);let s=document.createElement(\"div\");s.classList.add(\"zoomInOutButton\"),o.appendChild(s);let a=document.createElement(\"div\");return a.classList.add(\"settingsButton\"),o.appendChild(a),{fitViewButtonContainer:r,zoomInOutButtonContainer:s,playButtonContainer:i,selectAreaButtonContainer:n,settingsButtonContainer:a}}async function hM(t){let e=t.links!==void 0&&t.linkSourceBy!==void 0&&t.linkTargetBy!==void 0,i={points:{pointLabelBy:t.pointLabelBy,pointLabelWeightBy:t.pointLabelWeightBy,pointColor:t.pointColor,pointColorBy:t.pointColorBy,pointColorPalette:t.pointColorPalette,pointColorByMap:t.pointColorByMap,pointColorStrategy:t.pointColorStrategy,pointSize:t.pointSize,pointSizeBy:t.pointSizeBy,pointSizeStrategy:t.pointSizeStrategy,pointXBy:t.pointXBy,pointYBy:t.pointYBy,pointClusterBy:t.pointClusterBy,pointClusterStrengthBy:t.pointClusterStrengthBy,pointIncludeColumns:t.pointIncludeColumns}};t.pointTimelineBy&&(i.points.pointIncludeColumns||(i.points.pointIncludeColumns=[]),i.points.pointIncludeColumns.push(t.pointTimelineBy)),t.points!==void 0?i.points.pointIdBy=t.pointIdBy:e&&(i.points.linkSourceBy=t.linkSourceBy,i.points.linkTargetsBy=Array.isArray(t.linkTargetBy)?t.linkTargetBy:[t.linkTargetBy]),e&&(i.links={linkSourceBy:t.linkSourceBy,linkTargetsBy:Array.isArray(t.linkTargetBy)?t.linkTargetBy:[t.linkTargetBy],linkColorBy:t.linkColorBy,linkWidthBy:t.linkWidthBy,linkArrowBy:t.linkArrowBy,linkStrengthBy:t.linkStrengthBy,linkIncludeColumns:t.linkIncludeColumns},t.linkTimelineBy&&(i.links.linkIncludeColumns||(i.links.linkIncludeColumns=[]),i.links.linkIncludeColumns.push(t.linkTimelineBy)));let n=t.points===void 0&&e,o=await l3(i,n?t.links:t.points,t.links);Object.assign(t,o?.cosmographConfig,{points:o?.points,links:o?.links}),o?.points?.numRows!==void 0&&o?.points?.numRows<50&&t.simulationGravity===void 0&&(t.simulationGravity=0),o?.points?.numRows!==void 0&&o?.points?.numRows<50&&t.simulationCenter===void 0&&(t.simulationCenter=1),o?.points?.numRows!==void 0&&o?.points?.numRows<50&&t.simulationDecay===void 0&&(t.simulationDecay=1e3)}function xZ(t,e){let i=t.stats?.pointsSummary,n=e,o=t.activePointColorStrategy;if(o===Wt.Degree)return\"range\";if(o===Wt.LinkDirection)return\"type\";if(o===Wt.Direct)return;let r=i?.find(s=>s.column_name===n);if(r&&nM(r.column_type))return\"range\";if(r&&oM(r.column_type))return\"type\"}var r1=class{constructor(e,i){let{pointSizeLegendContainer:n,linkWidthLegendContainer:o,pointColorLegendContainer:r,pointTypeColorLegendContainer:s,linkColorLegendContainer:a}=uM(e);this.pointSizeLegendContainer=n,this.linkWidthLegendContainer=o,this.pointColorLegendContainer=r,this.pointTypeColorLegendContainer=s,this.linkColorLegendContainer=a,this.model=i}setCosmograph(e){this.cosmograph=e,this._pointSizeLegend=new dp(this.cosmograph,this.pointSizeLegendContainer,{label:i=>`points \\xB7 ${i}`,noDataMessage:!1,loadingMessage:!1}),this._pointRangeColorLegend=new hp(this.cosmograph,this.pointColorLegendContainer,{label:i=>`points \\xB7 ${i}`,noDataMessage:!1,loadingMessage:!1}),this._pointTypeColorLegend=new e_(this.cosmograph,this.pointTypeColorLegendContainer,{noDataMessage:!1,loadingMessage:!1,maxDisplayedItems:8}),this._linkWidthLegend=new dp(this.cosmograph,this.linkWidthLegendContainer,{useLinksData:!0,label:i=>`links \\xB7 ${i}`,noDataMessage:!1,loadingMessage:!1}),this._linkRangeColorLegend=new hp(this.cosmograph,this.linkColorLegendContainer,{useLinksData:!0,label:i=>`links \\xB7 ${i}`,noDataMessage:!1,loadingMessage:!1})}async update(e,i){if(!this.cosmograph)return;let n=this.model.get(`${e}_${i}_by`),r=this.model.get(`disable_${e}_${i}_legend`)===!0;switch(`${e}_${i}`){case\"point_size\":{let s=this.cosmograph.activePointSizeStrategy;this._updateVisibility(this._pointSizeLegend,this.pointSizeLegendContainer,r||(s===ji.Auto||s===ji.Direct)&&!n);break}case\"point_color\":{let s=xZ(this.cosmograph,n);this._updateVisibility(this._pointRangeColorLegend,this.pointColorLegendContainer,r||s!==\"range\"),this._updateVisibility(this._pointTypeColorLegend,this.pointTypeColorLegendContainer,r||s!==\"type\");break}case\"link_width\":{this._updateVisibility(this._linkWidthLegend,this.linkWidthLegendContainer,r||!n);break}case\"link_color\":{this._updateVisibility(this._linkRangeColorLegend,this.linkColorLegendContainer,r||!n);break}}}_safeHideLegend(e){if(e)try{e.hide()}catch(i){console.warn(\"Legend hide failed (cosmograph lib bug):\",i)}}_safeShowLegend(e){if(e)try{e.show()}catch(i){console.warn(\"Legend show failed (cosmograph lib bug):\",i)}}_updateVisibility(e,i,n){e&&(n?(this._safeHideLegend(e),i.style.display=\"none\"):(this._safeShowLegend(e),i.style.display=\"\"))}};var s1=class{constructor(e,i,n){this.defaultConfig={showAnimationControls:!0};this.config=this.defaultConfig;this.cosmograph=e,this.element=i,n.accessor&&this._init(n)}setConfig(e){this.config=Kt(this.defaultConfig,e),this.timeline?this.timeline.setConfig(this.config):this._init(this.config),this.config.accessor?this.show():this.hide()}show(){this.element.style.display=\"flex\"}hide(){this.element.style.display=\"none\"}_init(e){this.timeline=new zu(this.cosmograph,this.element,e)}};var a1=class{constructor(e,i,n){this.defaultConfig={showAnimationControls:!0,useLinksData:!0};this.config=this.defaultConfig;this.cosmograph=e,this.element=i,n.accessor&&this._init(n)}setConfig(e){this.config=Kt(this.defaultConfig,e),this.timeline?this.timeline.setConfig(this.config):this._init(this.config),this.config.accessor?this.show():this.hide()}show(){this.element.style.display=\"flex\"}hide(){this.element.style.display=\"none\"}_init(e){this.timeline=new zu(this.cosmograph,this.element,e)}};var l1=class{constructor(e,i){this.cosmograph=e,this.element=i;let{fitViewButtonContainer:n,zoomInOutButtonContainer:o,playButtonContainer:r,selectAreaButtonContainer:s,settingsButtonContainer:a}=dM(i);this.fitViewButton=new t_(e,n),this.zoomInOutButton=new r_(e,o),this.playButton=new n_(e,r),this.selectAreaButton=new o_(e,s,{}),this.settingsButtonContainer=a}};var c1=class{constructor(e,i,n,o){this.isExpanded=!1;this.controls=new Map;this.simulationSection=null;this.showLabelsContainer=null;this.panelContainer=i,this.buttonContainer=n,this.model=o,this.cosmograph=e,this.panel=this.createPanel(),this.panelContainer.appendChild(this.panel),this.setupModelListeners(),this.syncFromCosmograph(),this.updateSimulationVisibility(),this.updateLabelsCheckboxState()}createPanel(){let e=document.createElement(\"div\");e.className=\"settings-panel\";let i=document.createElement(\"button\");i.className=\"settings-panel-toggle\",i.innerHTML=\"\\u2699\\uFE0F\",i.title=\"Settings\",i.onclick=()=>this.togglePanel(),this.buttonContainer.appendChild(i);let n=document.createElement(\"div\");n.className=\"settings-panel-content\",n.appendChild(this.createSlider(\"Point Size Scale\",\"pointSizeScale\",.1,5,.1,this.model.get(\"point_size_scale\")||1));let o=this.model.get(\"show_labels\");this.showLabelsContainer=this.createToggle(\"Show Labels\",\"showLabels\",o??!1),n.appendChild(this.showLabelsContainer);let r=document.createElement(\"div\");r.className=\"settings-section\";let s=document.createElement(\"div\");return s.className=\"settings-section-title\",s.textContent=\"Simulation\",r.appendChild(s),r.appendChild(this.createSlider(\"Gravity\",\"simulationGravity\",0,.5,.01,this.model.get(\"simulation_gravity\")||0)),r.appendChild(this.createSlider(\"Repulsion\",\"simulationRepulsion\",0,2,.01,this.model.get(\"simulation_repulsion\")||.1)),r.appendChild(this.createSlider(\"Link Strength\",\"simulationLinkSpring\",0,2,.01,this.model.get(\"simulation_link_spring\")||1)),r.appendChild(this.createSlider(\"Link Distance\",\"simulationLinkDistance\",1,20,1,this.model.get(\"simulation_link_distance\")||2)),r.appendChild(this.createSlider(\"Friction\",\"simulationFriction\",0,1,.01,this.model.get(\"simulation_friction\")||.85)),this.simulationSection=r,n.appendChild(r),e.appendChild(n),e}createSlider(e,i,n,o,r,s){let a=document.createElement(\"div\");a.className=\"settings-control\";let l=document.createElement(\"div\");l.className=\"settings-label\";let c=document.createElement(\"span\");c.textContent=e;let u=document.createElement(\"span\");u.className=\"settings-value\",u.textContent=s.toString(),l.appendChild(c),l.appendChild(u);let d=document.createElement(\"input\");return d.type=\"range\",d.min=n.toString(),d.max=o.toString(),d.step=r.toString(),d.value=s.toString(),d.className=\"settings-slider\",d.oninput=()=>{let h=parseFloat(d.value);u.textContent=h.toFixed(r<1?2:0),this.updateModelProperty(i,h)},this.controls.set(i,d),this.controls.set(`${i}_display`,u),a.appendChild(l),a.appendChild(d),a}createToggle(e,i,n){let o=document.createElement(\"div\");o.className=\"settings-control\";let r=document.createElement(\"label\");r.className=\"settings-toggle-label\";let s=document.createElement(\"input\");s.type=\"checkbox\",s.checked=n,s.className=\"settings-checkbox\",s.onchange=()=>{this.updateModelProperty(i,s.checked)};let a=document.createElement(\"span\");return a.textContent=e,r.appendChild(s),r.appendChild(a),o.appendChild(r),this.controls.set(i,s),o}updateModelProperty(e,i){let n=e.replace(/[A-Z]/g,o=>`_${o.toLowerCase()}`);this.model.set(n,i),this.model.save_changes()}async syncFromCosmograph(){let e=await this.cosmograph.getConfig(),i=this.controls.get(\"showLabels\");i&&e.showLabels!==void 0&&(i.checked=e.showLabels);let n=this.controls.get(\"pointSizeScale\");if(n&&e.pointSizeScale!==void 0){n.value=e.pointSizeScale.toString();let r=this.controls.get(\"pointSizeScale_display\");r&&(r.textContent=e.pointSizeScale.toFixed(1))}[{key:\"simulationGravity\",decimals:2},{key:\"simulationRepulsion\",decimals:2},{key:\"simulationLinkSpring\",decimals:2},{key:\"simulationLinkDistance\",decimals:0},{key:\"simulationFriction\",decimals:2}].forEach(({key:r,decimals:s})=>{let a=e[r];if(a!==void 0){let l=this.controls.get(r);if(l){l.value=a.toString();let c=this.controls.get(`${r}_display`);c&&(c.textContent=a.toFixed(s))}}})}updateSimulationVisibility(){let e=this.model.get(\"point_x_by\")||this.model.get(\"point_y_by\");this.simulationSection&&(this.simulationSection.style.display=e?\"none\":\"block\")}updateLabelsCheckboxState(){let e=this.model.get(\"point_label_by\"),i=e!=null&&e!==\"\",n=this.controls.get(\"showLabels\");n&&this.showLabelsContainer&&(n.disabled=!i,i?(this.showLabelsContainer.style.opacity=\"1\",this.showLabelsContainer.title=\"\"):(this.showLabelsContainer.style.opacity=\"0.5\",this.showLabelsContainer.title=\"Set point_label_by to enable labels\"))}setupModelListeners(){[\"point_size_scale\",\"show_labels\",\"simulation_gravity\",\"simulation_repulsion\",\"simulation_link_spring\",\"simulation_link_distance\",\"simulation_friction\",\"point_x_by\",\"point_y_by\",\"point_label_by\"].forEach(i=>{this.model.on(`change:${i}`,()=>{if(i===\"point_x_by\"||i===\"point_y_by\"){this.updateSimulationVisibility();return}if(i===\"point_label_by\"){this.updateLabelsCheckboxState();return}let n=i.replace(/_([a-z])/g,(s,a)=>a.toUpperCase()),o=this.model.get(i),r=this.controls.get(n);if(r){if(r.type===\"checkbox\")r.checked=o??!1;else if(r.type===\"range\"){let s=o??parseFloat(r.min);r.value=s.toString();let a=this.controls.get(`${n}_display`);if(a){let l=parseFloat(r.step);a.textContent=s.toFixed(l<1?2:0)}}}})})}togglePanel(){this.isExpanded=!this.isExpanded,this.panel.style.display=this.isExpanded?\"block\":\"none\"}destroy(){this.panel.remove()}};var u1=class{constructor(e,i){this.isVisible=!1;this.cosmograph=e,this.container=i,this.panel=this.createPanel(),this.container.appendChild(this.panel)}createPanel(){let e=document.createElement(\"div\");return e.className=\"point-info-panel\",e.style.display=\"none\",e}async showPointInfo(e){if(e==null){this.hide();return}try{let i=await this.cosmograph.getPointsByIndices([e]);if(!i||i.numRows===0){this.hide();return}let n={};i.schema.fields.map(r=>r.name).forEach(r=>{let s=i.getChild(r);s&&s.length>0&&(n[r]=s.get(0))}),this.renderInfo(n,e),this.show()}catch(i){console.error(\"Error fetching point data:\",i),this.hide()}}renderInfo(e,i){this.panel.innerHTML=\"\";let n=document.createElement(\"div\");n.className=\"point-info-content\";let o=document.createElement(\"div\");o.className=\"point-info-header\",o.textContent=`Point #${i}`,n.appendChild(o),this.panel.appendChild(n);let r=document.createElement(\"div\");r.className=\"point-info-items\";let s=Object.entries(e).filter(([l,c])=>!(l.startsWith(\"_\")||l.startsWith(\"__\")||typeof c==\"object\"&&c!==null)).slice(0,8);if(s.length===0){let l=document.createElement(\"div\");l.className=\"point-info-item\",l.textContent=\"No displayable data\",r.appendChild(l)}else s.forEach(([l,c])=>{let u=document.createElement(\"div\");u.className=\"point-info-item\";let d=document.createElement(\"div\");d.className=\"point-info-label\",d.textContent=l;let h=document.createElement(\"div\");h.className=\"point-info-value\",typeof c==\"number\"?h.textContent=Number.isInteger(c)?c.toString():c.toFixed(3):c==null?(h.textContent=\"null\",h.style.opacity=\"0.5\"):h.textContent=String(c),u.appendChild(d),u.appendChild(h),r.appendChild(u)});this.panel.appendChild(r);let a=document.createElement(\"button\");a.className=\"point-info-close\",a.innerHTML=\"\\xD7\",a.onclick=()=>this.hide(),this.panel.appendChild(a)}show(){this.isVisible=!0,this.panel.style.display=\"flex\"}hide(){this.isVisible=!1,this.panel.style.display=\"none\"}destroy(){this.panel.remove()}};var d1={disable_simulation:\"disableSimulation\",select_point_on_click:\"selectPointOnClick\",select_point_on_label_click:\"selectPointOnLabelClick\",reset_selection_on_empty_canvas_click:\"resetSelectionOnEmptyCanvasClick\",focus_point_on_click:\"focusPointOnClick\",focus_point_on_label_click:\"focusPointOnLabelClick\",components_display_state_mode:\"componentsDisplayStateMode\",simulation_decay:\"simulationDecay\",simulation_gravity:\"simulationGravity\",simulation_center:\"simulationCenter\",simulation_repulsion:\"simulationRepulsion\",simulation_repulsion_theta:\"simulationRepulsionTheta\",simulation_repulsion_quadtree_levels:\"simulationRepulsionQuadtreeLevels\",simulation_link_spring:\"simulationLinkSpring\",simulation_link_distance:\"simulationLinkDistance\",simulation_link_dist_random_variation_range:\"simulationLinkDistRandomVariationRange\",simulation_repulsion_from_mouse:\"simulationRepulsionFromMouse\",simulation_friction:\"simulationFriction\",simulation_cluster:\"simulationCluster\",background_color:\"backgroundColor\",space_size:\"spaceSize\",point_color:\"pointColor\",point_greyout_opacity:\"pointGreyoutOpacity\",point_size:\"pointSize\",point_size_scale:\"pointSizeScale\",hovered_point_cursor:\"hoveredPointCursor\",render_hovered_point_ring:\"renderHoveredPointRing\",hovered_point_ring_color:\"hoveredPointRingColor\",focused_point_ring_color:\"focusedPointRingColor\",focused_point_index:\"focusedPointIndex\",render_links:\"renderLinks\",link_color:\"linkColor\",link_greyout_opacity:\"linkGreyoutOpacity\",link_width:\"linkWidth\",link_width_scale:\"linkWidthScale\",curved_links:\"curvedLinks\",curved_link_segments:\"curvedLinkSegments\",curved_link_weight:\"curvedLinkWeight\",curved_link_control_point_distance:\"curvedLinkControlPointDistance\",link_arrows:\"linkArrows\",link_arrows_size_scale:\"linkArrowsSizeScale\",link_visibility_distance_range:\"linkVisibilityDistanceRange\",link_visibility_min_transparency:\"linkVisibilityMinTransparency\",use_quadtree:\"useQuadtree\",show_fps_monitor:\"showFPSMonitor\",pixel_ratio:\"pixelRatio\",scale_points_on_zoom:\"scalePointsOnZoom\",scale_links_on_zoom:\"scaleLinksOnZoom\",initial_zoom_level:\"initialZoomLevel\",disable_zoom:\"disableZoom\",enable_drag:\"enableDrag\",fit_view_on_init:\"fitViewOnInit\",fit_view_delay:\"fitViewDelay\",fit_view_padding:\"fitViewPadding\",fit_view_duration:\"fitViewDuration\",fit_view_by_points_in_rect:\"fitViewByPointsInRect\",random_seed:\"randomSeed\",point_sampling_distance:\"pointSamplingDistance\",polygonal_selector_stroke_color:\"polygonalSelectorStrokeColor\",polygonal_selector_line_width:\"polygonalSelectorLineWidth\",point_id_by:\"pointIdBy\",point_index_by:\"pointIndexBy\",point_color_by:\"pointColorBy\",point_color_by_map:\"pointColorByMap\",point_color_palette:\"pointColorPalette\",point_color_strategy:\"pointColorStrategy\",point_size_by:\"pointSizeBy\",point_size_strategy:\"pointSizeStrategy\",point_size_range:\"pointSizeRange\",point_label_by:\"pointLabelBy\",point_label_weight_by:\"pointLabelWeightBy\",point_x_by:\"pointXBy\",point_y_by:\"pointYBy\",point_cluster_by:\"pointClusterBy\",point_cluster_strength_by:\"pointClusterStrengthBy\",point_include_columns:\"pointIncludeColumns\",point_timeline_by:\"pointTimelineBy\",link_source_by:\"linkSourceBy\",link_source_index_by:\"linkSourceIndexBy\",link_target_by:\"linkTargetBy\",link_target_index_by:\"linkTargetIndexBy\",link_color_by:\"linkColorBy\",link_width_by:\"linkWidthBy\",link_arrow_by:\"linkArrowBy\",link_strength_by:\"linkStrengthBy\",link_strength_range:\"linkStrengthRange\",link_include_columns:\"linkIncludeColumns\",link_timeline_by:\"linkTimelineBy\",cluster_positions_map:\"clusterPositionsMap\",show_labels:\"showLabels\",show_dynamic_labels:\"showDynamicLabels\",show_labels_for:\"showLabelsFor\",show_top_labels:\"showTopLabels\",show_top_labels_limit:\"showTopLabelsLimit\",show_cluster_labels:\"showClusterLabels\",point_label_color:\"pointLabelColor\",point_label_font_size:\"pointLabelFontSize\",cluster_label_font_size:\"clusterLabelFontSize\",scale_cluster_labels:\"scaleClusterLabels\",static_label_weight:\"staticLabelWeight\",dynamic_label_weight:\"dynamicLabelWeight\",label_margin:\"labelMargin\",label_padding:\"labelPadding\",show_hovered_point_label:\"showHoveredPointLabel\",use_point_color_strategy_for_cluster_labels:\"usePointColorStrategyForClusterLabels\",select_cluster_on_label_click:\"selectClusterOnLabelClick\",status_indicator_mode:\"statusIndicatorMode\",preserve_point_positions_on_data_update:\"preservePointPositionsOnDataUpdate\"};async function SZ({model:t,el:e}){let{graphContainer:i,timelineContainer:n,controlsContainer:o}=rM(e),r=sM(e);aM(r);let s=!0,a=t.get(\"background_color\");a&&cM(r,a);let l,c,u,d,h,f=new r1(i,t);t.on(\"msg:custom\",async z=>{if(z.type===\"select_point_by_index\"&&l?.selectPoint(z.index,!0),z.type===\"select_point_by_id\"){let ce=(await l?.getPointIndicesByIds([z.id]))?.[0];l?.selectPoint(ce,!0)}if(z.type===\"select_points_by_indices\"&&l?.selectPoints(z.indices),z.type===\"select_points_by_ids\"){let ce=await l?.getPointIndicesByIds(z.ids);l?.selectPoints(ce??null)}if(z.type===\"activate_rect_selection\"&&l?.activateRectSelection(),z.type===\"deactivate_rect_selection\"&&l?.deactivateRectSelection(),z.type===\"activate_polygonal_selection\"&&l?.activatePolygonalSelection(),z.type===\"deactivate_polygonal_selection\"&&l?.deactivatePolygonalSelection(),z.type===\"select_points_in_polygon\"&&l?.selectPointsInPolygon(z.polygon),z.type===\"unselect_points_by_indices\"&&l?.unselectPointsByIndicies(z.indices),z.type===\"fit_view\"&&l?.fitView(),z.type===\"fit_view_by_indices\"&&l?.fitViewByIndices(z.indices,z.duration,z.padding),z.type===\"fit_view_by_ids\"){let ce=await l?.getPointIndicesByIds(z.ids);ce&&l?.fitViewByIndices(ce,z.duration,z.padding)}if(z.type===\"fit_view_by_coordinates\"&&l?.fitViewByCoordinates(z.coordinates,z.duration,z.padding),z.type===\"focus_point_by_index\"&&l?.setFocusedPoint(z.index??void 0),z.type===\"focus_point\"){let ce=(await l?.getPointIndicesByIds([z.id]))?.[0];l?.setFocusedPoint(ce)}z.type===\"start\"&&l?.start(z.alpha??void 0),z.type===\"pause\"&&l?.pause(),z.type===\"restart\"&&l?.restart(),z.type===\"step\"&&l?.step(),z.type===\"capture_screenshot\"&&l?.captureScreenshot()});let v=async(z,ce)=>{let Fe=z??l?.getSelectedPointIndices(),$e=ce??l?.getSelectedLinkIndices();t.set(\"selected_point_indices\",Fe??[]),t.set(\"selected_point_ids\",Fe&&Fe.length>0?await l?.getPointIdsByIndices(Fe):[]),t.set(\"selected_link_indices\",$e??[]),t.save_changes()},L={onClick:async z=>{t.set(\"clicked_point_index\",z??null),t.save_changes(),h?.showPointInfo(z??null)},onPointsFiltered:async(z,ce,Fe)=>{await v(ce,Fe)},onLinksFiltered:async(z,ce,Fe)=>{await v(ce,Fe)},onClusterLabelClick:async z=>{t.set(\"clicked_cluster\",z),t.save_changes()}},A=()=>{let z=new Set(Object.values(d1)),ce=Object.fromEntries(Object.entries(L).filter(([Fe,$e])=>z.has(Fe)&&$e!==void 0));t.set(\"cosmograph_config\",ce),t.save_changes()},I={_ipc_points:()=>{let z=t.get(\"_ipc_points\");L.points=z?z.buffer:void 0},_ipc_links:()=>{let z=t.get(\"_ipc_links\");L.links=z?z.buffer:void 0},disable_point_size_legend:()=>{f.update(\"point\",\"size\")},disable_link_width_legend:()=>{f.update(\"link\",\"width\")},disable_point_color_legend:()=>{f.update(\"point\",\"color\")},disable_link_color_legend:()=>{f.update(\"link\",\"color\")}};Object.entries(d1).forEach(([z,ce])=>{I[z]=async()=>{let Fe=t.get(z);Fe==null?delete L[ce]:L[ce]=Fe}});let B=Object.entries(I).map(([z,ce])=>iM(t,`change:${z}`,async()=>{ce(),d1[z]&&(l?.setConfig(L),await l?.getConfig(),A()),(z===\"point_color_by\"||z===\"point_color_strategy\")&&f.update(\"point\",\"color\"),z===\"point_size_by\"&&f.update(\"point\",\"size\"),z===\"link_color_by\"&&f.update(\"link\",\"color\"),z===\"link_width_by\"&&f.update(\"link\",\"width\"),z===\"point_timeline_by\"&&c?.setConfig({accessor:t.get(\"point_timeline_by\")}),z===\"link_timeline_by\"&&u?.setConfig({accessor:t.get(\"link_timeline_by\")})}));Object.values(I).forEach(z=>z()),await hM(L),L.onGraphRebuilt=()=>{if(!l)return;f.update(\"point\",\"size\"),f.update(\"point\",\"color\"),f.update(\"link\",\"width\"),f.update(\"link\",\"color\");let z=t.get(\"point_timeline_by\"),ce=t.get(\"link_timeline_by\");z&&c&&c.setConfig({accessor:z}),ce&&u&&u.setConfig({accessor:ce})},L.onGraphDataUpdated=()=>{s&&lM(r),s=!1},A(),Object.keys(L).forEach(z=>{L[z]===void 0&&delete L[z]}),l=new Yg(i,L),f.setCosmograph(l),h=new u1(l,i);let F=t.get(\"point_timeline_by\"),k=t.get(\"link_timeline_by\");F&&(c=new s1(l,n,{accessor:F})),k&&(u=new a1(l,n,{accessor:k}));let Y=new l1(l,o).settingsButtonContainer;return d=new c1(l,i,Y,t),()=>{B.forEach(z=>z()),l?.destroy(),d?.destroy(),h?.destroy()}}var jze={render:SZ};export{jze as default};\n/*! Bundled license information:\n\n@cosmos.gl/graph/dist/index.js:\n  (*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE *)\n\ndompurify/dist/purify.es.mjs:\n  (*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE *)\n*/\n", "_model_module": "anywidget", "_model_module_version": "~0.9.*", "_model_name": "AnyModel", "_view_count": null, "_view_module": "anywidget", "_view_module_version": "~0.9.*", "_view_name": "AnyView", "background_color": null, "clicked_cluster": null, "clicked_point_id": null, "clicked_point_index": null, "cluster_label_font_size": null, "cluster_positions_map": null, "components_display_state_mode": null, "cosmograph_config": {}, "curved_link_control_point_distance": null, "curved_link_segments": null, "curved_link_weight": null, "curved_links": null, "disable_link_color_legend": null, "disable_link_width_legend": null, "disable_point_color_legend": null, "disable_point_size_legend": null, "disable_simulation": null, "disable_zoom": null, "dynamic_label_weight": null, "enable_drag": null, "fit_view_by_points_in_rect": null, "fit_view_delay": null, "fit_view_duration": null, "fit_view_on_init": null, "fit_view_padding": null, "focus_point_on_click": null, "focus_point_on_label_click": null, "focused_point_index": null, "focused_point_ring_color": null, "hovered_point_cursor": null, "hovered_point_ring_color": null, "initial_zoom_level": null, "label_margin": null, "label_padding": null, "layout": "IPY_MODEL_a28c43a752f04f7b8f3424a52ed65de6", "link_arrow_by": null, "link_arrows": null, "link_arrows_size_scale": null, "link_color": null, "link_color_by": null, "link_greyout_opacity": null, "link_include_columns": null, "link_source_by": "source", "link_source_index_by": null, "link_strength_by": null, "link_strength_range": null, "link_target_by": "target", "link_target_index_by": null, "link_timeline_by": null, "link_visibility_distance_range": null, "link_visibility_min_transparency": null, "link_width": null, "link_width_by": null, "link_width_scale": null, "pixel_ratio": null, "point_cluster_by": null, "point_cluster_strength_by": null, "point_color": null, "point_color_by": null, "point_color_by_map": null, "point_color_palette": null, "point_color_strategy": null, "point_greyout_opacity": null, "point_id_by": "id", "point_include_columns": ["label", "type", "name", "numeric_value", "unit", "condition", "role", "metric_type", "trend", "method", "category", "chemical_formula", "step_type", "title", "objective", "experiment_id", "conclusion", "hypothesis", "limitations", "slurry_id", "properties", "key_findings", "text_value", "comparison_baseline"], "point_index_by": null, "point_label_by": "id", "point_label_color": null, "point_label_font_size": null, "point_label_weight_by": null, "point_sampling_distance": null, "point_size": null, "point_size_by": null, "point_size_range": null, "point_size_scale": null, "point_size_strategy": null, "point_timeline_by": null, "point_x_by": null, "point_y_by": null, "polygonal_selector_line_width": null, "polygonal_selector_stroke_color": null, "preserve_point_positions_on_data_update": null, "random_seed": null, "render_hovered_point_ring": null, "render_links": null, "reset_selection_on_empty_canvas_click": null, "scale_cluster_labels": null, "scale_links_on_zoom": null, "scale_points_on_zoom": true, "select_cluster_on_label_click": null, "select_point_on_click": null, "select_point_on_label_click": null, "selected_link_indices": [], "selected_point_ids": [], "selected_point_indices": [], "show_FPS_monitor": null, "show_cluster_labels": null, "show_dynamic_labels": null, "show_hovered_point_label": true, "show_labels": null, "show_labels_for": null, "show_top_labels": null, "show_top_labels_limit": null, "simulation_center": null, "simulation_cluster": null, "simulation_decay": null, "simulation_friction": 1.0, "simulation_gravity": null, "simulation_link_dist_random_variation_range": null, "simulation_link_distance": null, "simulation_link_spring": null, "simulation_repulsion": 2.0, "simulation_repulsion_from_mouse": null, "simulation_repulsion_quadtree_levels": null, "simulation_repulsion_theta": null, "space_size": null, "static_label_weight": null, "status_indicator_mode": null, "tabbable": null, "tooltip": null, "use_point_color_strategy_for_cluster_labels": null, "use_quadtree": null}, "buffers": [{"encoding": "base64", "path": ["_ipc_links"], "data": "/////6gDAAAQAAAAAAAKAA4ABgAFAAgACgAAAAABBAAQAAAAAAAKAAwAAAAEAAgACgAAANwCAAAEAAAAAQAAAAwAAAAIAAwABAAIAAgAAAC0AgAABAAAAKQCAAB7ImluZGV4X2NvbHVtbnMiOiBbeyJraW5kIjogInJhbmdlIiwgIm5hbWUiOiBudWxsLCAic3RhcnQiOiAwLCAic3RvcCI6IDUwLCAic3RlcCI6IDF9XSwgImNvbHVtbl9pbmRleGVzIjogW3sibmFtZSI6IG51bGwsICJmaWVsZF9uYW1lIjogbnVsbCwgInBhbmRhc190eXBlIjogInVuaWNvZGUiLCAibnVtcHlfdHlwZSI6ICJvYmplY3QiLCAibWV0YWRhdGEiOiB7ImVuY29kaW5nIjogIlVURi04In19XSwgImNvbHVtbnMiOiBbeyJuYW1lIjogInNvdXJjZSIsICJmaWVsZF9uYW1lIjogInNvdXJjZSIsICJwYW5kYXNfdHlwZSI6ICJ1bmljb2RlIiwgIm51bXB5X3R5cGUiOiAib2JqZWN0IiwgIm1ldGFkYXRhIjogbnVsbH0sIHsibmFtZSI6ICJ0YXJnZXQiLCAiZmllbGRfbmFtZSI6ICJ0YXJnZXQiLCAicGFuZGFzX3R5cGUiOiAidW5pY29kZSIsICJudW1weV90eXBlIjogIm9iamVjdCIsICJtZXRhZGF0YSI6IG51bGx9LCB7Im5hbWUiOiAibGFiZWwiLCAiZmllbGRfbmFtZSI6ICJsYWJlbCIsICJwYW5kYXNfdHlwZSI6ICJ1bmljb2RlIiwgIm51bXB5X3R5cGUiOiAib2JqZWN0IiwgIm1ldGFkYXRhIjogbnVsbH1dLCAiYXR0cmlidXRlcyI6IHt9LCAiY3JlYXRvciI6IHsibGlicmFyeSI6ICJweWFycm93IiwgInZlcnNpb24iOiAiMjIuMC4wIn0sICJwYW5kYXNfdmVyc2lvbiI6ICIyLjMuMyJ9AAAAAAYAAABwYW5kYXMAAAMAAABsAAAAMAAAAAQAAACw////AAABBRAAAAAYAAAABAAAAAAAAAAFAAAAbGFiZWwAAACg////2P///wAAAQUQAAAAGAAAAAQAAAAAAAAABgAAAHRhcmdldAAAyP///xAAFAAIAAYABwAMAAAAEAAQAAAAAAABBRAAAAAcAAAABAAAAAAAAAAGAAAAc291cmNlAAAEAAQABAAAAAAAAAD/////GAEAABQAAAAAAAAADAAWAAYABQAIAAwADAAAAAADBAAYAAAA0A0AAAAAAAAAAAoAGAAMAAQACAAKAAAArAAAABAAAAAyAAAAAAAAAAAAAAAJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAzAAAAAAAAADQAAAAAAAAAFQEAAAAAAAAKAUAAAAAAAAAAAAAAAAAACgFAAAAAAAAzAAAAAAAAAD4BQAAAAAAAPwEAAAAAAAA+AoAAAAAAAAAAAAAAAAAAPgKAAAAAAAAzAAAAAAAAADICwAAAAAAAAQCAAAAAAAAAAAAAAMAAAAyAAAAAAAAAAAAAAAAAAAAMgAAAAAAAAAAAAAAAAAAADIAAAAAAAAAAAAAAAAAAAAAAAAAFQAAACwAAABDAAAAWgAAAHEAAACIAAAAnwAAALYAAADNAAAA4AAAAPMAAAAGAQAAGQEAACwBAAA/AQAAUgEAAGUBAAB4AQAAiwEAAKEBAAC3AQAAzAEAAOEBAAD2AQAADAIAACICAAA3AgAATAIAAGECAAB3AgAAjQIAAKICAAC3AgAAzAIAAOECAAD3AgAADQMAACIDAAA3AwAATQMAAGMDAAB7AwAAkwMAAKsDAADDAwAA4AMAAP0DAAAaBAAANwQAAFQEAAAAAAAAUmVzZWFyY2hfYTUxZTBkOTRmNmZkRXh0cmFjdGlvbl9kMTljNjcxMTU2NTFFeHRyYWN0aW9uX2QxOWM2NzExNTY1MUV4dHJhY3Rpb25fZDE5YzY3MTE1NjUxRXh0cmFjdGlvbl9kMTljNjcxMTU2NTFFeHRyYWN0aW9uX2QxOWM2NzExNTY1MUV4dHJhY3Rpb25fZDE5YzY3MTE1NjUxRXh0cmFjdGlvbl9kMTljNjcxMTU2NTFFeHRyYWN0aW9uX2QxOWM2NzExNTY1MVNsdXJyeV9iZGQwNzkwMjhjZThTbHVycnlfYmRkMDc5MDI4Y2U4U2x1cnJ5X2JkZDA3OTAyOGNlOFNsdXJyeV9iZGQwNzkwMjhjZThTbHVycnlfYmRkMDc5MDI4Y2U4U2x1cnJ5X2JkZDA3OTAyOGNlOFNsdXJyeV9iZGQwNzkwMjhjZThTbHVycnlfYmRkMDc5MDI4Y2U4U2x1cnJ5X2JkZDA3OTAyOGNlOFNsdXJyeV9iZGQwNzkwMjhjZThDb21wb25lbnRfMTA1M2RlMTJlNjk5Q29tcG9uZW50XzEwNTNkZTEyZTY5OU1hdGVyaWFsXzU0YWNlMGE0NWZjME1hdGVyaWFsXzU0YWNlMGE0NWZjME1hdGVyaWFsXzU0YWNlMGE0NWZjMENvbXBvbmVudF9mMGJkODc3ZTlmZDdDb21wb25lbnRfZjBiZDg3N2U5ZmQ3TWF0ZXJpYWxfZWRlZTFjODZlYjc5TWF0ZXJpYWxfZWRlZTFjODZlYjc5TWF0ZXJpYWxfZWRlZTFjODZlYjc5Q29tcG9uZW50XzkzZWJjNzZiMzAzN0NvbXBvbmVudF85M2ViYzc2YjMwMzdNYXRlcmlhbF9iYWZmNjJmMzM2NjFNYXRlcmlhbF9iYWZmNjJmMzM2NjFNYXRlcmlhbF9iYWZmNjJmMzM2NjFNYXRlcmlhbF9iYWZmNjJmMzM2NjFDb21wb25lbnRfMzYxZjY4MGM1ZjI5Q29tcG9uZW50XzM2MWY2ODBjNWYyOU1hdGVyaWFsX2NiY2M5ZGI4NjI0Y01hdGVyaWFsX2NiY2M5ZGI4NjI0Y0NvbXBvbmVudF9jZGRhNTBiNDYxYThDb21wb25lbnRfY2RkYTUwYjQ2MWE4UHJvY2Vzc1N0ZXBfODBiN2I0NTlhZDRiUHJvY2Vzc1N0ZXBfODBiN2I0NTlhZDRiUHJvY2Vzc1N0ZXBfOTYyOWI2NWU4NWQzUHJvY2Vzc1N0ZXBfOTYyOWI2NWU4NWQzRXZhbHVhdGlvblJlc3VsdF81YTMxYzVmOGVkMTNFdmFsdWF0aW9uUmVzdWx0X2YxMDRmM2VhNmNkOUV2YWx1YXRpb25SZXN1bHRfNmFlZjQ5MDMwNDQyRXZhbHVhdGlvblJlc3VsdF83NjkzOWRjMWZkYWVFdmFsdWF0aW9uUmVzdWx0X2E3MzY1NzRlMzU2MwAAAAAAAAAAFwAAACoAAABCAAAAWgAAAHcAAACUAAAAsQAAAM4AAADrAAAAAQEAABcBAAAtAQAAQwEAAFkBAABuAQAAgwEAAJgBAACtAQAAwgEAANcBAADzAQAAEAIAAC0CAABKAgAAXwIAAHsCAACYAgAAtQIAANICAADnAgAAAwMAACADAAA9AwAAWgMAAHcDAACMAwAAqAMAAMUDAADiAwAA9wMAABMEAAApBAAAPwQAAFUEAABrBAAAiAQAAKUEAADCBAAA3wQAAPwEAAAAAAAARXh0cmFjdGlvbl9kMTljNjcxMTU2NTFTbHVycnlfYmRkMDc5MDI4Y2U4UHJvY2Vzc1N0ZXBfODBiN2I0NTlhZDRiUHJvY2Vzc1N0ZXBfOTYyOWI2NWU4NWQzRXZhbHVhdGlvblJlc3VsdF81YTMxYzVmOGVkMTNFdmFsdWF0aW9uUmVzdWx0X2YxMDRmM2VhNmNkOUV2YWx1YXRpb25SZXN1bHRfNmFlZjQ5MDMwNDQyRXZhbHVhdGlvblJlc3VsdF83NjkzOWRjMWZkYWVFdmFsdWF0aW9uUmVzdWx0X2E3MzY1NzRlMzU2M0NvbXBvbmVudF8xMDUzZGUxMmU2OTlDb21wb25lbnRfZjBiZDg3N2U5ZmQ3Q29tcG9uZW50XzkzZWJjNzZiMzAzN0NvbXBvbmVudF8zNjFmNjgwYzVmMjlDb21wb25lbnRfY2RkYTUwYjQ2MWE4UHJvcGVydHlfYzdmYzU5MzVlN2MxUHJvcGVydHlfZDg4Mzg2YTA0ODBlUHJvcGVydHlfZGFmMDUzMWU4OGQ1UHJvcGVydHlfOTQ3YzA2YTZkODZjUHJvcGVydHlfMWU4ZjZkMDc2YjZlTWF0ZXJpYWxfNTRhY2UwYTQ1ZmMwQ29tcG9uZW50QW1vdW50X2RmMDVhYWI2YTA1MU1hdGVyaWFsUHJvcGVydHlfZWY4YmIzMmRmOTliTWF0ZXJpYWxQcm9wZXJ0eV9jYTE2ZGUxMWRmZWFNYXRlcmlhbFByb3BlcnR5X2EzN2FhNTU3YzBmYU1hdGVyaWFsX2VkZWUxYzg2ZWI3OUNvbXBvbmVudEFtb3VudF9kZjA1YWFiNmEwNTFNYXRlcmlhbFByb3BlcnR5X2ZlOTgwYzM5NjI5ZU1hdGVyaWFsUHJvcGVydHlfYjVhYTAwOTlmZDRlTWF0ZXJpYWxQcm9wZXJ0eV9hODFkNWEzNDU0YjFNYXRlcmlhbF9iYWZmNjJmMzM2NjFDb21wb25lbnRBbW91bnRfODM2OWJmN2NjMmQxTWF0ZXJpYWxQcm9wZXJ0eV83MzEzYmRiMWQ5YmNNYXRlcmlhbFByb3BlcnR5X2E5MTg0MWM2YWFkNU1hdGVyaWFsUHJvcGVydHlfM2NmMWYzZDE1YzZjTWF0ZXJpYWxQcm9wZXJ0eV84ZmM1OTcyYjkxYjRNYXRlcmlhbF9jYmNjOWRiODYyNGNDb21wb25lbnRBbW91bnRfOTI1YzZhN2UzMTQ1TWF0ZXJpYWxQcm9wZXJ0eV85ZTEzNDA5ZDQ3NzBNYXRlcmlhbFByb3BlcnR5XzMyOWMwNDM3OWQ1ZE1hdGVyaWFsX2ZlMDcwY2Y3ZGEzMENvbXBvbmVudEFtb3VudF9jNDMxYjI2ZGVhODNQYXJhbWV0ZXJfMWEzYzNmMGFlN2EyUGFyYW1ldGVyXzlhNzY5ZGYwZmYwZVBhcmFtZXRlcl9hMTQ0MGQ5ODg5YzhQYXJhbWV0ZXJfNDRhMjZjZDEwNmM2RXZhbHVhdGlvbk1ldHJpY19jN2ZjNTkzNWU3YzFFdmFsdWF0aW9uTWV0cmljX2Q4ODM4NmEwNDgwZUV2YWx1YXRpb25NZXRyaWNfZGFmMDUzMWU4OGQ1RXZhbHVhdGlvbk1ldHJpY185NDdjMDZhNmQ4NmNFdmFsdWF0aW9uTWV0cmljXzFlOGY2ZDA3NmI2ZQAAAAAAAAAACwAAABwAAAAvAAAAQgAAAFQAAABmAAAAeAAAAIoAAACcAAAApgAAALAAAAC6AAAAxAAAAM4AAADYAAAA4gAAAOwAAAD2AAAAAAEAAAgBAAAOAQAAGAEAACIBAAAsAQAANAEAADoBAABEAQAATgEAAFgBAABgAQAAZgEAAHABAAB6AQAAhAEAAI4BAACWAQAAnAEAAKYBAACwAQAAuAEAAL4BAADIAQAA0gEAANwBAADmAQAA7AEAAPIBAAD4AQAA/gEAAAQCAAAAAAAAZXhwZXJpbWVudHNzbHVycnlfdW5kZXJfdGVzdGZhYnJpY2F0aW9uX3Byb2Nlc3NmYWJyaWNhdGlvbl9wcm9jZXNzZXZhbHVhdGlvbl9yZXN1bHRzZXZhbHVhdGlvbl9yZXN1bHRzZXZhbHVhdGlvbl9yZXN1bHRzZXZhbHVhdGlvbl9yZXN1bHRzZXZhbHVhdGlvbl9yZXN1bHRzY29tcG9uZW50c2NvbXBvbmVudHNjb21wb25lbnRzY29tcG9uZW50c2NvbXBvbmVudHNwcm9wZXJ0aWVzcHJvcGVydGllc3Byb3BlcnRpZXNwcm9wZXJ0aWVzcHJvcGVydGllc21hdGVyaWFsYW1vdW50cHJvcGVydGllc3Byb3BlcnRpZXNwcm9wZXJ0aWVzbWF0ZXJpYWxhbW91bnRwcm9wZXJ0aWVzcHJvcGVydGllc3Byb3BlcnRpZXNtYXRlcmlhbGFtb3VudHByb3BlcnRpZXNwcm9wZXJ0aWVzcHJvcGVydGllc3Byb3BlcnRpZXNtYXRlcmlhbGFtb3VudHByb3BlcnRpZXNwcm9wZXJ0aWVzbWF0ZXJpYWxhbW91bnRwYXJhbWV0ZXJzcGFyYW1ldGVyc3BhcmFtZXRlcnNwYXJhbWV0ZXJzbWV0cmljbWV0cmljbWV0cmljbWV0cmljbWV0cmljAAAAAP////8AAAAA"}, {"encoding": "base64", "path": ["_ipc_points"], "data": "/////wASAAAQAAAAAAAKAA4ABgAFAAgACgAAAAABBAAQAAAAAAAKAAwAAAAEAAgACgAAAAgNAAAEAAAAAQAAAAwAAAAIAAwABAAIAAgAAADgDAAABAAAANEMAAB7ImluZGV4X2NvbHVtbnMiOiBbeyJraW5kIjogInJhbmdlIiwgIm5hbWUiOiBudWxsLCAic3RhcnQiOiAwLCAic3RvcCI6IDUwLCAic3RlcCI6IDF9XSwgImNvbHVtbl9pbmRleGVzIjogW3sibmFtZSI6IG51bGwsICJmaWVsZF9uYW1lIjogbnVsbCwgInBhbmRhc190eXBlIjogInVuaWNvZGUiLCAibnVtcHlfdHlwZSI6ICJvYmplY3QiLCAibWV0YWRhdGEiOiB7ImVuY29kaW5nIjogIlVURi04In19XSwgImNvbHVtbnMiOiBbeyJuYW1lIjogImlkIiwgImZpZWxkX25hbWUiOiAiaWQiLCAicGFuZGFzX3R5cGUiOiAidW5pY29kZSIsICJudW1weV90eXBlIjogIm9iamVjdCIsICJtZXRhZGF0YSI6IG51bGx9LCB7Im5hbWUiOiAibGFiZWwiLCAiZmllbGRfbmFtZSI6ICJsYWJlbCIsICJwYW5kYXNfdHlwZSI6ICJ1bmljb2RlIiwgIm51bXB5X3R5cGUiOiAib2JqZWN0IiwgIm1ldGFkYXRhIjogbnVsbH0sIHsibmFtZSI6ICJ0eXBlIiwgImZpZWxkX25hbWUiOiAidHlwZSIsICJwYW5kYXNfdHlwZSI6ICJ1bmljb2RlIiwgIm51bXB5X3R5cGUiOiAib2JqZWN0IiwgIm1ldGFkYXRhIjogbnVsbH0sIHsibmFtZSI6ICJuYW1lIiwgImZpZWxkX25hbWUiOiAibmFtZSIsICJwYW5kYXNfdHlwZSI6ICJ1bmljb2RlIiwgIm51bXB5X3R5cGUiOiAib2JqZWN0IiwgIm1ldGFkYXRhIjogbnVsbH0sIHsibmFtZSI6ICJudW1lcmljX3ZhbHVlIiwgImZpZWxkX25hbWUiOiAibnVtZXJpY192YWx1ZSIsICJwYW5kYXNfdHlwZSI6ICJmbG9hdDY0IiwgIm51bXB5X3R5cGUiOiAiZmxvYXQ2NCIsICJtZXRhZGF0YSI6IG51bGx9LCB7Im5hbWUiOiAidW5pdCIsICJmaWVsZF9uYW1lIjogInVuaXQiLCAicGFuZGFzX3R5cGUiOiAidW5pY29kZSIsICJudW1weV90eXBlIjogIm9iamVjdCIsICJtZXRhZGF0YSI6IG51bGx9LCB7Im5hbWUiOiAiY29uZGl0aW9uIiwgImZpZWxkX25hbWUiOiAiY29uZGl0aW9uIiwgInBhbmRhc190eXBlIjogInVuaWNvZGUiLCAibnVtcHlfdHlwZSI6ICJvYmplY3QiLCAibWV0YWRhdGEiOiBudWxsfSwgeyJuYW1lIjogInJvbGUiLCAiZmllbGRfbmFtZSI6ICJyb2xlIiwgInBhbmRhc190eXBlIjogInVuaWNvZGUiLCAibnVtcHlfdHlwZSI6ICJvYmplY3QiLCAibWV0YWRhdGEiOiBudWxsfSwgeyJuYW1lIjogIm1ldHJpY190eXBlIiwgImZpZWxkX25hbWUiOiAibWV0cmljX3R5cGUiLCAicGFuZGFzX3R5cGUiOiAidW5pY29kZSIsICJudW1weV90eXBlIjogIm9iamVjdCIsICJtZXRhZGF0YSI6IG51bGx9LCB7Im5hbWUiOiAidHJlbmQiLCAiZmllbGRfbmFtZSI6ICJ0cmVuZCIsICJwYW5kYXNfdHlwZSI6ICJ1bmljb2RlIiwgIm51bXB5X3R5cGUiOiAib2JqZWN0IiwgIm1ldGFkYXRhIjogbnVsbH0sIHsibmFtZSI6ICJtZXRob2QiLCAiZmllbGRfbmFtZSI6ICJtZXRob2QiLCAicGFuZGFzX3R5cGUiOiAidW5pY29kZSIsICJudW1weV90eXBlIjogIm9iamVjdCIsICJtZXRhZGF0YSI6IG51bGx9LCB7Im5hbWUiOiAiY2F0ZWdvcnkiLCAiZmllbGRfbmFtZSI6ICJjYXRlZ29yeSIsICJwYW5kYXNfdHlwZSI6ICJ1bmljb2RlIiwgIm51bXB5X3R5cGUiOiAib2JqZWN0IiwgIm1ldGFkYXRhIjogbnVsbH0sIHsibmFtZSI6ICJjaGVtaWNhbF9mb3JtdWxhIiwgImZpZWxkX25hbWUiOiAiY2hlbWljYWxfZm9ybXVsYSIsICJwYW5kYXNfdHlwZSI6ICJ1bmljb2RlIiwgIm51bXB5X3R5cGUiOiAib2JqZWN0IiwgIm1ldGFkYXRhIjogbnVsbH0sIHsibmFtZSI6ICJzdGVwX3R5cGUiLCAiZmllbGRfbmFtZSI6ICJzdGVwX3R5cGUiLCAicGFuZGFzX3R5cGUiOiAidW5pY29kZSIsICJudW1weV90eXBlIjogIm9iamVjdCIsICJtZXRhZGF0YSI6IG51bGx9LCB7Im5hbWUiOiAidGl0bGUiLCAiZmllbGRfbmFtZSI6ICJ0aXRsZSIsICJwYW5kYXNfdHlwZSI6ICJ1bmljb2RlIiwgIm51bXB5X3R5cGUiOiAib2JqZWN0IiwgIm1ldGFkYXRhIjogbnVsbH0sIHsibmFtZSI6ICJvYmplY3RpdmUiLCAiZmllbGRfbmFtZSI6ICJvYmplY3RpdmUiLCAicGFuZGFzX3R5cGUiOiAidW5pY29kZSIsICJudW1weV90eXBlIjogIm9iamVjdCIsICJtZXRhZGF0YSI6IG51bGx9LCB7Im5hbWUiOiAiZXhwZXJpbWVudF9pZCIsICJmaWVsZF9uYW1lIjogImV4cGVyaW1lbnRfaWQiLCAicGFuZGFzX3R5cGUiOiAidW5pY29kZSIsICJudW1weV90eXBlIjogIm9iamVjdCIsICJtZXRhZGF0YSI6IG51bGx9LCB7Im5hbWUiOiAiY29uY2x1c2lvbiIsICJmaWVsZF9uYW1lIjogImNvbmNsdXNpb24iLCAicGFuZGFzX3R5cGUiOiAidW5pY29kZSIsICJudW1weV90eXBlIjogIm9iamVjdCIsICJtZXRhZGF0YSI6IG51bGx9LCB7Im5hbWUiOiAiaHlwb3RoZXNpcyIsICJmaWVsZF9uYW1lIjogImh5cG90aGVzaXMiLCAicGFuZGFzX3R5cGUiOiAidW5pY29kZSIsICJudW1weV90eXBlIjogIm9iamVjdCIsICJtZXRhZGF0YSI6IG51bGx9LCB7Im5hbWUiOiAibGltaXRhdGlvbnMiLCAiZmllbGRfbmFtZSI6ICJsaW1pdGF0aW9ucyIsICJwYW5kYXNfdHlwZSI6ICJ1bmljb2RlIiwgIm51bXB5X3R5cGUiOiAib2JqZWN0IiwgIm1ldGFkYXRhIjogbnVsbH0sIHsibmFtZSI6ICJzbHVycnlfaWQiLCAiZmllbGRfbmFtZSI6ICJzbHVycnlfaWQiLCAicGFuZGFzX3R5cGUiOiAidW5pY29kZSIsICJudW1weV90eXBlIjogIm9iamVjdCIsICJtZXRhZGF0YSI6IG51bGx9LCB7Im5hbWUiOiAicHJvcGVydGllcyIsICJmaWVsZF9uYW1lIjogInByb3BlcnRpZXMiLCAicGFuZGFzX3R5cGUiOiAidW5pY29kZSIsICJudW1weV90eXBlIjogIm9iamVjdCIsICJtZXRhZGF0YSI6IG51bGx9LCB7Im5hbWUiOiAia2V5X2ZpbmRpbmdzIiwgImZpZWxkX25hbWUiOiAia2V5X2ZpbmRpbmdzIiwgInBhbmRhc190eXBlIjogInVuaWNvZGUiLCAibnVtcHlfdHlwZSI6ICJvYmplY3QiLCAibWV0YWRhdGEiOiBudWxsfSwgeyJuYW1lIjogInRleHRfdmFsdWUiLCAiZmllbGRfbmFtZSI6ICJ0ZXh0X3ZhbHVlIiwgInBhbmRhc190eXBlIjogImZsb2F0NjQiLCAibnVtcHlfdHlwZSI6ICJmbG9hdDY0IiwgIm1ldGFkYXRhIjogbnVsbH0sIHsibmFtZSI6ICJjb21wYXJpc29uX2Jhc2VsaW5lIiwgImZpZWxkX25hbWUiOiAiY29tcGFyaXNvbl9iYXNlbGluZSIsICJwYW5kYXNfdHlwZSI6ICJmbG9hdDY0IiwgIm51bXB5X3R5cGUiOiAiZmxvYXQ2NCIsICJtZXRhZGF0YSI6IG51bGx9XSwgImF0dHJpYnV0ZXMiOiB7fSwgImNyZWF0b3IiOiB7ImxpYnJhcnkiOiAicHlhcnJvdyIsICJ2ZXJzaW9uIjogIjIyLjAuMCJ9LCAicGFuZGFzX3ZlcnNpb24iOiAiMi4zLjMifQAAAAYAAABwYW5kYXMAABkAAACgBAAAZAQAADgEAAAMBAAA0AMAAKQDAAB0AwAASAMAABgDAADsAgAAwAIAAJACAABYAgAAKAIAAPwBAADMAQAAmAEAAGgBAAA4AQAACAEAANgAAACoAAAAdAAAAEAAAAAEAAAA1Pv//wAAAQMQAAAAJAAAAAQAAAAAAAAAEwAAAGNvbXBhcmlzb25fYmFzZWxpbmUAivz//wAAAgAM/P//AAABAxAAAAAcAAAABAAAAAAAAAAKAAAAdGV4dF92YWx1ZQAAuvz//wAAAgA8/P//AAABBRAAAAAgAAAABAAAAAAAAAAMAAAAa2V5X2ZpbmRpbmdzAAAAADj8//9s/P//AAABBRAAAAAcAAAABAAAAAAAAAAKAAAAcHJvcGVydGllcwAAZPz//5j8//8AAAEFEAAAABwAAAAEAAAAAAAAAAkAAABzbHVycnlfaWQAAACQ/P//xPz//wAAAQUQAAAAHAAAAAQAAAAAAAAACwAAAGxpbWl0YXRpb25zALz8///w/P//AAABBRAAAAAcAAAABAAAAAAAAAAKAAAAaHlwb3RoZXNpcwAA6Pz//xz9//8AAAEFEAAAABwAAAAEAAAAAAAAAAoAAABjb25jbHVzaW9uAAAU/f//SP3//wAAAQUQAAAAIAAAAAQAAAAAAAAADQAAAGV4cGVyaW1lbnRfaWQAAABE/f//eP3//wAAAQUQAAAAHAAAAAQAAAAAAAAACQAAAG9iamVjdGl2ZQAAAHD9//+k/f//AAABBRAAAAAYAAAABAAAAAAAAAAFAAAAdGl0bGUAAACY/f//zP3//wAAAQUQAAAAHAAAAAQAAAAAAAAACQAAAHN0ZXBfdHlwZQAAAMT9///4/f//AAABBRAAAAAkAAAABAAAAAAAAAAQAAAAY2hlbWljYWxfZm9ybXVsYQAAAAD4/f//LP7//wAAAQUQAAAAHAAAAAQAAAAAAAAACAAAAGNhdGVnb3J5AAAAACT+//9Y/v//AAABBRAAAAAYAAAABAAAAAAAAAAGAAAAbWV0aG9kAABM/v//gP7//wAAAQUQAAAAGAAAAAQAAAAAAAAABQAAAHRyZW5kAAAAdP7//6j+//8AAAEFEAAAABwAAAAEAAAAAAAAAAsAAABtZXRyaWNfdHlwZQCg/v//1P7//wAAAQUQAAAAGAAAAAQAAAAAAAAABAAAAHJvbGUAAAAAyP7///z+//8AAAEFEAAAABwAAAAEAAAAAAAAAAkAAABjb25kaXRpb24AAAD0/v//KP///wAAAQUQAAAAGAAAAAQAAAAAAAAABAAAAHVuaXQAAAAAHP///1D///8AAAEDEAAAACQAAAAEAAAAAAAAAA0AAABudW1lcmljX3ZhbHVlAAYACAAGAAYAAAAAAAIAiP///wAAAQUQAAAAGAAAAAQAAAAAAAAABAAAAG5hbWUAAAAAfP///7D///8AAAEFEAAAABgAAAAEAAAAAAAAAAQAAAB0eXBlAAAAAKT////Y////AAABBRAAAAAYAAAABAAAAAAAAAAFAAAAbGFiZWwAAADM////EAAUAAgABgAHAAwAAAAQABAAAAAAAAEFEAAAABgAAAAEAAAAAAAAAAIAAABpZAAABAAEAAQAAAD/////aAYAABQAAAAAAAAADAAWAAYABQAIAAwADAAAAAADBAAYAAAAoCwAAAAAAAAAAAoAGAAMAAQACAAKAAAAnAQAABAAAAAyAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAzAAAAAAAAADQAAAAAAAAAPUEAAAAAAAAyAUAAAAAAAAAAAAAAAAAAMgFAAAAAAAAzAAAAAAAAACYBgAAAAAAAGsCAAAAAAAACAkAAAAAAAAAAAAAAAAAAAgJAAAAAAAAzAAAAAAAAADYCQAAAAAAACwBAAAAAAAACAsAAAAAAAAHAAAAAAAAABALAAAAAAAAzAAAAAAAAADgCwAAAAAAAP8BAAAAAAAA4A0AAAAAAAAHAAAAAAAAAOgNAAAAAAAAkAEAAAAAAAB4DwAAAAAAAAcAAAAAAAAAgA8AAAAAAADMAAAAAAAAAFAQAAAAAAAAeAAAAAAAAADIEAAAAAAAAAcAAAAAAAAA0BAAAAAAAADMAAAAAAAAAKARAAAAAAAAyAAAAAAAAABoEgAAAAAAAAcAAAAAAAAAcBIAAAAAAADMAAAAAAAAAEATAAAAAAAAPgAAAAAAAACAEwAAAAAAAAcAAAAAAAAAiBMAAAAAAADMAAAAAAAAAFgUAAAAAAAALQAAAAAAAACIFAAAAAAAAAcAAAAAAAAAkBQAAAAAAADMAAAAAAAAAGAVAAAAAAAAMgAAAAAAAACYFQAAAAAAAAcAAAAAAAAAoBUAAAAAAADMAAAAAAAAAHAWAAAAAAAANQIAAAAAAACoGAAAAAAAAAcAAAAAAAAAsBgAAAAAAADMAAAAAAAAAIAZAAAAAAAAUgAAAAAAAADYGQAAAAAAAAcAAAAAAAAA4BkAAAAAAADMAAAAAAAAALAaAAAAAAAALAAAAAAAAADgGgAAAAAAAAcAAAAAAAAA6BoAAAAAAADMAAAAAAAAALgbAAAAAAAADAAAAAAAAADIGwAAAAAAAAcAAAAAAAAA0BsAAAAAAADMAAAAAAAAAKAcAAAAAAAAXAAAAAAAAAAAHQAAAAAAAAcAAAAAAAAACB0AAAAAAADMAAAAAAAAANgdAAAAAAAAZgAAAAAAAABAHgAAAAAAAAcAAAAAAAAASB4AAAAAAADMAAAAAAAAABgfAAAAAAAACwAAAAAAAAAoHwAAAAAAAAcAAAAAAAAAMB8AAAAAAADMAAAAAAAAAAAgAAAAAAAAQwEAAAAAAABIIQAAAAAAAAcAAAAAAAAAUCEAAAAAAADMAAAAAAAAACAiAAAAAAAAoQAAAAAAAADIIgAAAAAAAAcAAAAAAAAA0CIAAAAAAADMAAAAAAAAAKAjAAAAAAAAkwAAAAAAAAA4JAAAAAAAAAcAAAAAAAAAQCQAAAAAAADMAAAAAAAAABAlAAAAAAAADgAAAAAAAAAgJQAAAAAAAAcAAAAAAAAAKCUAAAAAAADMAAAAAAAAAPglAAAAAAAAAgAAAAAAAAAAJgAAAAAAAAcAAAAAAAAACCYAAAAAAADMAAAAAAAAANgmAAAAAAAAkQIAAAAAAABwKQAAAAAAAAcAAAAAAAAAeCkAAAAAAACQAQAAAAAAAAgrAAAAAAAABwAAAAAAAAAQKwAAAAAAAJABAAAAAAAAAAAAABkAAAAyAAAAAAAAAAAAAAAAAAAAMgAAAAAAAAAAAAAAAAAAADIAAAAAAAAAAAAAAAAAAAAyAAAAAAAAAA0AAAAAAAAAMgAAAAAAAAAUAAAAAAAAADIAAAAAAAAAFAAAAAAAAAAyAAAAAAAAACgAAAAAAAAAMgAAAAAAAAAtAAAAAAAAADIAAAAAAAAALQAAAAAAAAAyAAAAAAAAAC0AAAAAAAAAMgAAAAAAAAAtAAAAAAAAADIAAAAAAAAALQAAAAAAAAAyAAAAAAAAAC0AAAAAAAAAMgAAAAAAAAAwAAAAAAAAADIAAAAAAAAAMQAAAAAAAAAyAAAAAAAAADEAAAAAAAAAMgAAAAAAAAAxAAAAAAAAADIAAAAAAAAAMQAAAAAAAAAyAAAAAAAAADEAAAAAAAAAMgAAAAAAAAAxAAAAAAAAADIAAAAAAAAAMQAAAAAAAAAyAAAAAAAAADEAAAAAAAAAMgAAAAAAAAAxAAAAAAAAADIAAAAAAAAAMgAAAAAAAAAyAAAAAAAAADIAAAAAAAAAAAAAABUAAAAsAAAAPwAAAFUAAABqAAAAhwAAAKQAAADBAAAA3QAAAPMAAAAIAQAAJQEAAEIBAABfAQAAdQEAAIoBAACnAQAAxAEAAOEBAAD+AQAAGgIAADACAABFAgAAYgIAAH8CAACbAgAAsQIAAMYCAADiAgAA9wIAAAwDAAAhAwAANgMAAEsDAABjAwAAeQMAAI8DAACnAwAAvQMAANMDAADwAwAADQQAACoEAABHBAAAZAQAAIEEAACeBAAAuwQAANgEAAD1BAAAAAAAAFJlc2VhcmNoX2E1MWUwZDk0ZjZmZEV4dHJhY3Rpb25fZDE5YzY3MTE1NjUxU2x1cnJ5X2JkZDA3OTAyOGNlOENvbXBvbmVudF8xMDUzZGUxMmU2OTlNYXRlcmlhbF81NGFjZTBhNDVmYzBNYXRlcmlhbFByb3BlcnR5X2VmOGJiMzJkZjk5Yk1hdGVyaWFsUHJvcGVydHlfY2ExNmRlMTFkZmVhTWF0ZXJpYWxQcm9wZXJ0eV9hMzdhYTU1N2MwZmFDb21wb25lbnRBbW91bnRfZGYwNWFhYjZhMDUxQ29tcG9uZW50X2YwYmQ4NzdlOWZkN01hdGVyaWFsX2VkZWUxYzg2ZWI3OU1hdGVyaWFsUHJvcGVydHlfZmU5ODBjMzk2MjllTWF0ZXJpYWxQcm9wZXJ0eV9iNWFhMDA5OWZkNGVNYXRlcmlhbFByb3BlcnR5X2E4MWQ1YTM0NTRiMUNvbXBvbmVudF85M2ViYzc2YjMwMzdNYXRlcmlhbF9iYWZmNjJmMzM2NjFNYXRlcmlhbFByb3BlcnR5XzczMTNiZGIxZDliY01hdGVyaWFsUHJvcGVydHlfYTkxODQxYzZhYWQ1TWF0ZXJpYWxQcm9wZXJ0eV8zY2YxZjNkMTVjNmNNYXRlcmlhbFByb3BlcnR5XzhmYzU5NzJiOTFiNENvbXBvbmVudEFtb3VudF84MzY5YmY3Y2MyZDFDb21wb25lbnRfMzYxZjY4MGM1ZjI5TWF0ZXJpYWxfY2JjYzlkYjg2MjRjTWF0ZXJpYWxQcm9wZXJ0eV85ZTEzNDA5ZDQ3NzBNYXRlcmlhbFByb3BlcnR5XzMyOWMwNDM3OWQ1ZENvbXBvbmVudEFtb3VudF85MjVjNmE3ZTMxNDVDb21wb25lbnRfY2RkYTUwYjQ2MWE4TWF0ZXJpYWxfZmUwNzBjZjdkYTMwQ29tcG9uZW50QW1vdW50X2M0MzFiMjZkZWE4M1Byb3BlcnR5X2M3ZmM1OTM1ZTdjMVByb3BlcnR5X2Q4ODM4NmEwNDgwZVByb3BlcnR5X2RhZjA1MzFlODhkNVByb3BlcnR5Xzk0N2MwNmE2ZDg2Y1Byb3BlcnR5XzFlOGY2ZDA3NmI2ZVByb2Nlc3NTdGVwXzgwYjdiNDU5YWQ0YlBhcmFtZXRlcl8xYTNjM2YwYWU3YTJQYXJhbWV0ZXJfOWE3NjlkZjBmZjBlUHJvY2Vzc1N0ZXBfOTYyOWI2NWU4NWQzUGFyYW1ldGVyX2ExNDQwZDk4ODljOFBhcmFtZXRlcl80NGEyNmNkMTA2YzZFdmFsdWF0aW9uUmVzdWx0XzVhMzFjNWY4ZWQxM0V2YWx1YXRpb25NZXRyaWNfYzdmYzU5MzVlN2MxRXZhbHVhdGlvblJlc3VsdF9mMTA0ZjNlYTZjZDlFdmFsdWF0aW9uTWV0cmljX2Q4ODM4NmEwNDgwZUV2YWx1YXRpb25SZXN1bHRfNmFlZjQ5MDMwNDQyRXZhbHVhdGlvbk1ldHJpY19kYWYwNTMxZTg4ZDVFdmFsdWF0aW9uUmVzdWx0Xzc2OTM5ZGMxZmRhZUV2YWx1YXRpb25NZXRyaWNfOTQ3YzA2YTZkODZjRXZhbHVhdGlvblJlc3VsdF9hNzM2NTc0ZTM1NjNFdmFsdWF0aW9uTWV0cmljXzFlOGY2ZDA3NmI2ZQAAAAAAAAAIAAAAEgAAABgAAAAhAAAAKQAAADkAAABJAAAAWQAAAGgAAABxAAAAeQAAAIkAAACZAAAAqQAAALIAAAC6AAAAygAAANoAAADqAAAA+gAAAAkBAAASAQAAGgEAACoBAAA6AQAASQEAAFIBAABaAQAAaQEAAHEBAAB5AQAAgQEAAIkBAACRAQAAnAEAAKUBAACuAQAAuQEAAMIBAADLAQAA2wEAAOsBAAD7AQAACwIAABsCAAArAgAAOwIAAEsCAABbAgAAawIAAAAAAABSZXNlYXJjaEV4dHJhY3Rpb25TbHVycnlDb21wb25lbnRNYXRlcmlhbE1hdGVyaWFsUHJvcGVydHlNYXRlcmlhbFByb3BlcnR5TWF0ZXJpYWxQcm9wZXJ0eUNvbXBvbmVudEFtb3VudENvbXBvbmVudE1hdGVyaWFsTWF0ZXJpYWxQcm9wZXJ0eU1hdGVyaWFsUHJvcGVydHlNYXRlcmlhbFByb3BlcnR5Q29tcG9uZW50TWF0ZXJpYWxNYXRlcmlhbFByb3BlcnR5TWF0ZXJpYWxQcm9wZXJ0eU1hdGVyaWFsUHJvcGVydHlNYXRlcmlhbFByb3BlcnR5Q29tcG9uZW50QW1vdW50Q29tcG9uZW50TWF0ZXJpYWxNYXRlcmlhbFByb3BlcnR5TWF0ZXJpYWxQcm9wZXJ0eUNvbXBvbmVudEFtb3VudENvbXBvbmVudE1hdGVyaWFsQ29tcG9uZW50QW1vdW50UHJvcGVydHlQcm9wZXJ0eVByb3BlcnR5UHJvcGVydHlQcm9wZXJ0eVByb2Nlc3NTdGVwUGFyYW1ldGVyUGFyYW1ldGVyUHJvY2Vzc1N0ZXBQYXJhbWV0ZXJQYXJhbWV0ZXJFdmFsdWF0aW9uUmVzdWx0RXZhbHVhdGlvbk1ldHJpY0V2YWx1YXRpb25SZXN1bHRFdmFsdWF0aW9uTWV0cmljRXZhbHVhdGlvblJlc3VsdEV2YWx1YXRpb25NZXRyaWNFdmFsdWF0aW9uUmVzdWx0RXZhbHVhdGlvbk1ldHJpY0V2YWx1YXRpb25SZXN1bHRFdmFsdWF0aW9uTWV0cmljAAAAAAAAAAAABgAAAAwAAAASAAAAGAAAAB4AAAAkAAAAKgAAADAAAAA2AAAAPAAAAEIAAABIAAAATgAAAFQAAABaAAAAYAAAAGYAAABsAAAAcgAAAHgAAAB+AAAAhAAAAIoAAACQAAAAlgAAAJwAAACiAAAAqAAAAK4AAAC0AAAAugAAAMAAAADGAAAAzAAAANIAAADYAAAA3gAAAOQAAADqAAAA8AAAAPYAAAD8AAAAAgEAAAgBAAAOAQAAFAEAABoBAAAgAQAAJgEAACwBAAAAAAAAZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5ZW50aXR5AAAAAPC93/v/qgIAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAGwAAADAAAAA3AAAARgAAAEYAAABbAAAAbQAAAIIAAACJAAAAiQAAAKAAAACwAAAAwAAAANAAAADgAAAA7wAAAO8AAAD7AAAAEAEAACIBAAAxAQAAMQEAAEcBAABWAQAAXwEAAGgBAABxAQAAegEAAIMBAACYAQAAnQEAAKUBAADFAQAAygEAANIBAADSAQAA2wEAANsBAADkAQAA5AEAAO0BAADtAQAA9gEAAPYBAAD/AQAAAAAAAExpRmVQTzRNZWRpYW4gUGFydGljbGUgU2l6ZVNwZWNpZmljIFN1cmZhY2UgQXJlYURlbnNpdHlWb2x1bWUgRnJhY3Rpb25MaShOaTEvM01uMS8zQ28xLzMpTzJNZWFuIFBhcnRpY2xlIFNpemVTcGVjaWZpYyBTdXJmYWNlIEFyZWFEZW5zaXR5UG9seXZpbnlsaWRlbmUgRmx1b3JpZGVNb2xlY3VsYXIgV2VpZ2h0TW9sZWN1bGFyIFdlaWdodE1vbGVjdWxhciBXZWlnaHRNb2xlY3VsYXIgV2VpZ2h0V2VpZ2h0IEZyYWN0aW9uQ2FyYm9uIEJsYWNrU3BlY2lmaWMgU3VyZmFjZSBBcmVhTWVhbiBQYXJ0aWNsZSBTaXplV2VpZ2h0IEZyYWN0aW9uTi1NZXRoeWwtMi1weXJyb2xpZG9uZVZvbHVtZSBGcmFjdGlvblZpc2Nvc2l0eVZpc2Nvc2l0eVZpc2Nvc2l0eVZpc2Nvc2l0eVZpc2Nvc2l0eUhpZ2gtc3BlZWQgZHJ5IG1peGluZ1NwZWVkRHVyYXRpb25WYWN1dW0gZXF1aXBwZWQgZGlzc29sdmVyIG1peGluZ1NwZWVkRHVyYXRpb25WaXNjb3NpdHlWaXNjb3NpdHlWaXNjb3NpdHlWaXNjb3NpdHlWaXNjb3NpdHkA4Dmf89uqAgAAAAAAAAD4fwAAAAAAAPh/AAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh/AAAAAABAYEAAAAAAAAAwQK5H4XoUrgtAAAAAAAAANEAAAAAAAAD4fwAAAAAAAPh/zczMzMzMIUCamZmZmZnZP4XrUbgehRJAAAAAAAAA+H8AAAAAAAD4fwAAAABAlRZBAAAAAEB3G0EAAAAAQHcrQQAAAAAg1jNBAAAAAAAAFEAAAAAAAAD4fwAAAAAAAPh/AAAAAAAAT0AAAAAAAIBBQAAAAAAAABBAAAAAAAAA+H8AAAAAAAD4fwAAAAAAAFRAAAAAAAAA8D+amZmZmZklQM3MzMzMzAxAZmZmZmZm/j/NzMzMzMwYQAAAAAAAAPh/AAAAAADgpUAAAAAAAAAkQAAAAAAAAPh/AAAAAABAn0AAAAAAAAA+QAAAAAAAAPh/AAAAAAAA8D8AAAAAAAD4f5qZmZmZmSVAAAAAAAAA+H/NzMzMzMwMQAAAAAAAAPh/ZmZmZmZm/j8AAAAAAAD4f83MzMzMzBhA4Dmf89uqAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAABwAAAA0AAAARAAAAEQAAABEAAAAUAAAAGQAAAB8AAAAfAAAAHwAAACQAAAApAAAALgAAADMAAAA2AAAANgAAADYAAAA7AAAAPQAAAEAAAABAAAAAQAAAAEQAAABIAAAATAAAAFAAAABUAAAAWAAAAFgAAABbAAAAXgAAAF4AAABhAAAAZAAAAGQAAABoAAAAaAAAAGwAAABsAAAAcAAAAHAAAAB0AAAAdAAAAHgAAAAAAAAAbm1twrIvZ2cvY23Cs3ZvbCXCtW1twrIvZ2cvY23Cs2cvbW9sZy9tb2xnL21vbGcvbW9sd3QlbcKyL2dubXd0JXZvbCVQYS5zUGEuc1BhLnNQYS5zUGEuc1JQTW1pblJQTW1pblBhLnNQYS5zUGEuc1BhLnNQYS5zAAAA4AOqAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAKAAAADwAAABQAAAAZAAAAGQAAABkAAAAZAAAAGQAAABkAAAAZAAAAGQAAAB4AAAAeAAAAIwAAACMAAAAoAAAAKAAAAC0AAAAtAAAAMgAAAAAAAAAYXQgNTAgMS9zIHNoZWFyIHJhdGVhdCA1MCAxL3Mgc2hlYXIgcmF0ZWF0IDUwIDEvcyBzaGVhciByYXRlYXQgNTAgMS9zIHNoZWFyIHJhdGVhdCA1MCAxL3Mgc2hlYXIgcmF0ZWF0IDUwIDEvcyBzaGVhciByYXRlYXQgNTAgMS9zIHNoZWFyIHJhdGVhdCA1MCAxL3Mgc2hlYXIgcmF0ZWF0IDUwIDEvcyBzaGVhciByYXRlYXQgNTAgMS9zIHNoZWFyIHJhdGUIQiAEAAAAAAAAAAAAAAAAAAAAAAAAAAAPAAAADwAAAA8AAAAPAAAADwAAAA8AAAAeAAAAHgAAAB4AAAAeAAAAHgAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAA3AAAANwAAADcAAAA3AAAANwAAAD4AAAA+AAAAPgAAAD4AAAA+AAAAPgAAAD4AAAA+AAAAPgAAAD4AAAA+AAAAPgAAAD4AAAA+AAAAPgAAAD4AAAA+AAAAPgAAAD4AAAA+AAAAPgAAAD4AAAA+AAAAPgAAAAAAAABBY3RpdmUgTWF0ZXJpYWxBY3RpdmUgTWF0ZXJpYWxCaW5kZXJDb25kdWN0aXZlIEFkZGl0aXZlU29sdmVudAAAAAAAAABVAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAAJAAAAEgAAABIAAAAbAAAAGwAAACQAAAAkAAAALQAAAC0AAAAAAAAAVmlzY29zaXR5VmlzY29zaXR5VmlzY29zaXR5VmlzY29zaXR5VmlzY29zaXR5AAAAAAAAAABVAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAKAAAAFAAAABQAAAAeAAAAHgAAACgAAAAoAAAAMgAAADIAAAAAAAAASW5jcmVhc2luZ0luY3JlYXNpbmdJbmNyZWFzaW5nSW5jcmVhc2luZ0luY3JlYXNpbmcAAAAAAAAAAAAAAFUBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcQAAAHEAAADiAAAA4gAAAFMBAABTAQAAxAEAAMQBAAA1AgAANQIAAAAAAABSaGVvbWV0ZXIgKE1DUiAzMDAsIFBhYXIgUGh5c2ljYSwgQXVzdHJpYSkgd2l0aCBhIHBsYXRlLXBsYXRlIGdlb21ldHJ5IChQUDUwLCBnYXAgMSBtbSkgYXQgYSB0ZW1wZXJhdHVyZSBvZiAyNcKwQ1JoZW9tZXRlciAoTUNSIDMwMCwgUGFhciBQaHlzaWNhLCBBdXN0cmlhKSB3aXRoIGEgcGxhdGUtcGxhdGUgZ2VvbWV0cnkgKFBQNTAsIGdhcCAxIG1tKSBhdCBhIHRlbXBlcmF0dXJlIG9mIDI1wrBDUmhlb21ldGVyIChNQ1IgMzAwLCBQYWFyIFBoeXNpY2EsIEF1c3RyaWEpIHdpdGggYSBwbGF0ZS1wbGF0ZSBnZW9tZXRyeSAoUFA1MCwgZ2FwIDEgbW0pIGF0IGEgdGVtcGVyYXR1cmUgb2YgMjXCsENSaGVvbWV0ZXIgKE1DUiAzMDAsIFBhYXIgUGh5c2ljYSwgQXVzdHJpYSkgd2l0aCBhIHBsYXRlLXBsYXRlIGdlb21ldHJ5IChQUDUwLCBnYXAgMSBtbSkgYXQgYSB0ZW1wZXJhdHVyZSBvZiAyNcKwQ1JoZW9tZXRlciAoTUNSIDMwMCwgUGFhciBQaHlzaWNhLCBBdXN0cmlhKSB3aXRoIGEgcGxhdGUtcGxhdGUgZ2VvbWV0cnkgKFBQNTAsIGdhcCAxIG1tKSBhdCBhIHRlbXBlcmF0dXJlIG9mIDI1wrBDAAAAEIRACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEAAAARAAAAEQAAABEAAAARAAAAEQAAADYAAAA2AAAANgAAADYAAAA2AAAAQwAAAEMAAABDAAAAQwAAAEMAAABDAAAAQwAAAEsAAABLAAAASwAAAEsAAABLAAAAUgAAAFIAAABSAAAAUgAAAFIAAABSAAAAUgAAAFIAAABSAAAAUgAAAFIAAABSAAAAUgAAAFIAAABSAAAAUgAAAFIAAABSAAAAUgAAAFIAAABSAAAAUgAAAFIAAAAAAAAAT2xpdmluZSBQaG9zcGhhdGVMaXRoaXVtIE5pY2tlbCBNYW5nYW5lc2UgQ29iYWx0IE94aWRlRmx1b3JvcG9seW1lckFkZGl0aXZlU29sdmVudAAAAAAAABCEQAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAcAAAAHAAAABwAAAAcAAAAHAAAACUAAAAlAAAAJQAAACUAAAAlAAAAJQAAACUAAAAmAAAAJgAAACYAAAAmAAAAJgAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAAAAAAAExpRmVQTzRMaShOaTEvM01uMS8zQ28xLzMpTzIoQzJIMkYyKW5DQzVIOU5PAAAAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGAAAABgAAAAYAAAAMAAAADAAAAAwAAAAMAAAADAAAAAwAAAAMAAAADAAAAAwAAAAMAAAADAAAAAwAAAAMAAAAAAAAAE1peGluZ01peGluZwAAAAABAAAAAAAAAAAAAABcAAAAXAAAAFwAAABcAAAAXAAAAFwAAABcAAAAXAAAAFwAAABcAAAAXAAAAFwAAABcAAAAXAAAAFwAAABcAAAAXAAAAFwAAABcAAAAXAAAAFwAAABcAAAAXAAAAFwAAABcAAAAXAAAAFwAAABcAAAAXAAAAFwAAABcAAAAXAAAAFwAAABcAAAAXAAAAFwAAABcAAAAXAAAAFwAAABcAAAAXAAAAFwAAABcAAAAXAAAAFwAAABcAAAAXAAAAFwAAABcAAAAXAAAAAAAAABSaGVvbG9naWNhbCBwcm9wZXJ0aWVzIGFuZCBzdGFiaWxpdHkgb2YgTk1QIGJhc2VkIGNhdGhvZGUgc2x1cnJpZXMgZm9yIGxpdGhpdW0gaW9uIGJhdHRlcmllcwAAAAACAAAAAAAAAAAAAAAAAAAAZgAAAGYAAABmAAAAZgAAAGYAAABmAAAAZgAAAGYAAABmAAAAZgAAAGYAAABmAAAAZgAAAGYAAABmAAAAZgAAAGYAAABmAAAAZgAAAGYAAABmAAAAZgAAAGYAAABmAAAAZgAAAGYAAABmAAAAZgAAAGYAAABmAAAAZgAAAGYAAABmAAAAZgAAAGYAAABmAAAAZgAAAGYAAABmAAAAZgAAAGYAAABmAAAAZgAAAGYAAABmAAAAZgAAAGYAAABmAAAAZgAAAAAAAABDb21wYXJlIHRoZSBjb2xsb2lkYWwgc3RhYmlsaXR5IG9mIHZhcmlvdXMgTk1QIGJhc2VkIGNhdGhvZGUgc2x1cnJpZXMgYnkgbWVhbnMgb2Ygcmhlb2xvZ2ljYWwgdGVzdGluZy4AAAIAAAAAAAAAAAAAAAAAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAACwAAAAsAAAALAAAAAAAAAEVYUDIwMTMtMDAxAAAAAAACAAAAAAAAAAAAAAAAAAAAQwEAAEMBAABDAQAAQwEAAEMBAABDAQAAQwEAAEMBAABDAQAAQwEAAEMBAABDAQAAQwEAAEMBAABDAQAAQwEAAEMBAABDAQAAQwEAAEMBAABDAQAAQwEAAEMBAABDAQAAQwEAAEMBAABDAQAAQwEAAEMBAABDAQAAQwEAAEMBAABDAQAAQwEAAEMBAABDAQAAQwEAAEMBAABDAQAAQwEAAEMBAABDAQAAQwEAAEMBAABDAQAAQwEAAEMBAABDAQAAQwEAAAAAAABUaGUgYWRkaXRpb24gb2YgYSBQVkRGIGJpbmRlciB3aXRoIHN1ZmZpY2llbnQgbG9uZyBjaGFpbiBsZW5ndGggd2FzIGZvdW5kIHRvIGNhdXNlIGdlbCBmb3JtYXRpb24gaW4gTk1QIGJ5IGJyaWRnaW5nIGZsb2NjdWxhdGlvbiBmb3IgbmFub3NjYWxlZCBMRlAgcG93ZGVyLiBGb3IgbWljcm9uLXNpemVkIE5NQyBwYXJ0aWNsZXMsIHRoZSBhZGRpdGlvbiBvZiBuYW5vc2l6ZWQgY2FyYm9uIGJsYWNrIHdhcyBuZWNlc3NhcnkgdG8gcHJvdmlkZSBhdHRyYWN0aW9uIGJldHdlZW4gdGhlIE5NQyBwYXJ0aWNsZXMgYnkgZm9ybWF0aW9uIG9mIGEgcGFydGljdWxhdGUgZ2VsLgAAAAAAAgAAAAAAAAAAAAAAAAAAAKEAAAChAAAAoQAAAKEAAAChAAAAoQAAAKEAAAChAAAAoQAAAKEAAAChAAAAoQAAAKEAAAChAAAAoQAAAKEAAAChAAAAoQAAAKEAAAChAAAAoQAAAKEAAAChAAAAoQAAAKEAAAChAAAAoQAAAKEAAAChAAAAoQAAAKEAAAChAAAAoQAAAKEAAAChAAAAoQAAAKEAAAChAAAAoQAAAKEAAAChAAAAoQAAAKEAAAChAAAAoQAAAKEAAAChAAAAoQAAAKEAAAAAAAAAVGhlIGFkZGl0aW9uIG9mIGEgaGlnaCBtb2xlY3VsYXIgd2VpZ2h0IFBWREYgYmluZGVyIGlzIHN1ZmZpY2llbnQgdG8gZXN0YWJsaXNoIGdlbCBmb3JtYXRpb24gYnkgYnJpZGdpbmcgZmxvY2N1bGF0aW9uIGluIGNhc2Ugb2YgdGhlIG5hbm9zY2FsZWQgY2F0aG9kZSBtYXRlcmlhbC4AAAAAAAAAAgAAAAAAAAAAAAAAAAAAAJMAAACTAAAAkwAAAJMAAACTAAAAkwAAAJMAAACTAAAAkwAAAJMAAACTAAAAkwAAAJMAAACTAAAAkwAAAJMAAACTAAAAkwAAAJMAAACTAAAAkwAAAJMAAACTAAAAkwAAAJMAAACTAAAAkwAAAJMAAACTAAAAkwAAAJMAAACTAAAAkwAAAJMAAACTAAAAkwAAAJMAAACTAAAAkwAAAJMAAACTAAAAkwAAAJMAAACTAAAAkwAAAJMAAACTAAAAkwAAAJMAAAAAAAAAQWRkaXRpdmVzLCBsaWtlIGJpbmRlciBvciBjYXJib24gYmxhY2ssIGFyZSBjaG9zZW4gYW5kIG9wdGltaXplZCBwcmVkb21pbmFudGx5IGZvciB0aGVpciBpbXBhY3Qgb24gdGhlIGVsZWN0cm9jaGVtaWNhbCBwcm9wZXJ0aWVzIG9mIHRoZSBlbGVjdHJvZGUuAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAOAAAADgAAAA4AAAAOAAAADgAAAA4AAAAOAAAADgAAAA4AAAAOAAAADgAAAA4AAAAOAAAADgAAAA4AAAAOAAAADgAAAA4AAAAOAAAADgAAAA4AAAAOAAAADgAAAA4AAAAOAAAADgAAAA4AAAAOAAAADgAAAA4AAAAOAAAADgAAAA4AAAAOAAAADgAAAA4AAAAOAAAADgAAAA4AAAAOAAAADgAAAA4AAAAOAAAADgAAAA4AAAAOAAAADgAAAAAAAABTTFVSUlkyMDEzLTAwMQAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAIAAAACAAAAAgAAAAIAAAACAAAAAgAAAAIAAAACAAAAAgAAAAIAAAACAAAAAgAAAAIAAAACAAAAAgAAAAIAAAACAAAAAgAAAAIAAAACAAAAAgAAAAIAAAAAAAAAW10AAAAAAAACAAAAAAAAAAAAAAAAAAAAkQIAAJECAACRAgAAkQIAAJECAACRAgAAkQIAAJECAACRAgAAkQIAAJECAACRAgAAkQIAAJECAACRAgAAkQIAAJECAACRAgAAkQIAAJECAACRAgAAkQIAAJECAACRAgAAkQIAAJECAACRAgAAkQIAAJECAACRAgAAkQIAAJECAACRAgAAkQIAAJECAACRAgAAkQIAAJECAACRAgAAkQIAAJECAACRAgAAkQIAAJECAACRAgAAkQIAAJECAACRAgAAkQIAAAAAAABbJ1RoZSBhZGRpdGlvbiBvZiBhIGhpZ2ggbW9sZWN1bGFyIHdlaWdodCBQVkRGIGJpbmRlciBpcyBzdWZmaWNpZW50IHRvIGVzdGFibGlzaCBnZWwgZm9ybWF0aW9uIGJ5IGJyaWRnaW5nIGZsb2NjdWxhdGlvbiBpbiBjYXNlIG9mIHRoZSBuYW5vc2NhbGVkIGNhdGhvZGUgbWF0ZXJpYWwuJywgJ0ZvciB0aGUgbGFyZ2VyIG1pY3Jvbi1zY2FsZWQgcGFydGljbGVzLCB0aGUgZm9ybWF0aW9uIG9mIGEgc3RhYmxlIGNvYWd1bGF0ZWQgc3RhdGUgaXMgYWxzbyBmZWFzaWJsZSBidXQgaXQgcmVxdWlyZXMgdGhlIGNvbWJpbmF0aW9uIG9mIGEgcGFydGljdWxhdGUgQ0IgZ2VsIGFuZCBhIHN0cmVuZ3RoZW5pbmcgUFZERiBwb2x5bWVyIG5ldHdvcmsuJywgJ1RoZSBtaWNyb24tc2l6ZWQgTk1DIHBhcnRpY2xlcyBpbiBhc3NvY2lhdGlvbiB3aXRoIHRoZSBjb21wYXJhYmx5IHNtYWxsIGJpbmRlciBtb2xlY3VsZXMgZGlkIG5vdCBhbGxvdyBhIGNyZWF0aW9uIG9mIGEgc3RhYmxlIHBvbHltZXIgZ2VsIHN0cnVjdHVyZS4nLCAnVGhlIGFkZGl0aW9uIG9mIG5hbm9zaXplZCBjYXJib24gYmxhY2sgd2FzIG5lY2Vzc2FyeSB0byBwcm92aWRlIGF0dHJhY3Rpb24gYmV0d2VlbiB0aGUgTk1DIHBhcnRpY2xlcyBieSBmb3JtYXRpb24gb2YgYSBwYXJ0aWN1bGF0ZSBnZWwuJ10AAAAAAAAAAAAAAAAAAAAAAAAAAAD4fwAAAAAAAPh/AAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh/AAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh/AAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh/AAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh/AAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh/AAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh/AAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh/AAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh/AAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh/AAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh/AAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh/AAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh/AAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh/AAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh/AAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh/AAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh/AAAAAAAAAAAAAAAAAAD4fwAAAAAAAPh/AAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh/AAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh/AAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh/AAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh/AAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh/AAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh/AAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh/AAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh/AAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh/AAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh/AAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh/AAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh/AAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh/AAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh/AAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh/AAAAAAAA+H8AAAAAAAD4fwAAAAAAAPh//////wAAAAA="}]}}}
            </script>
            </head>
            <body>
            <div id="root">
                <div id="widget-host">
                <!-- This script tag will be replaced by the widget's DOM -->
                <script type="application/vnd.jupyter.widget-view+json">
                {"version_major": 2, "version_minor": 0, "model_id": "2364cf42712a4495adfe7f6d81de13bb"}
                </script>
                </div>
            </div>
            </body>
            </html>
            